!function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}var i=n(95),a=o(i),s=n(1),u=o(s),l=n(13),c=n(179),p=o(c),f=n(23),h=r(f),d=n(161),m=o(d);n(317);var y=n(184),g=o(y),v=(0,m["default"])();v.dispatch(h.initializeProjectList(g["default"])),v.dispatch(h.initializeCategories(g["default"])),a["default"].render(u["default"].createElement("div",null,u["default"].createElement(l.Provider,{store:v},p["default"])),document.getElementById("app"))},function(e,t,n){"use strict";e.exports=n(113)},function(e,t,n){"use strict";function r(e,t,n,r,o,i,a,s){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,o,i,a,s],c=0;u=new Error(t.replace(/%s/g,function(){return l[c++]})),u.name="Invariant Violation"}throw u.framesToPop=1,u}}e.exports=r},function(e,t){"use strict";function n(e){for(var t=arguments.length-1,n="Minified React error #"+e+"; visit http://facebook.github.io/react/docs/error-decoder.html?invariant="+e,r=0;t>r;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);n+=" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.";var o=new Error(n);throw o.name="Invariant Violation",o.framesToPop=1,o}e.exports=n},function(e,t,n){"use strict";var r=n(10),o=r;e.exports=o},function(e,t){"use strict";function n(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function r(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;10>n;n++)t["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(t).map(function(e){return t[e]});if("0123456789"!==r.join(""))return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach(function(e){o[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},o)).join("")}catch(i){return!1}}var o=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;e.exports=r()?Object.assign:function(e,t){for(var r,a,s=n(e),u=1;u<arguments.length;u++){r=Object(arguments[u]);for(var l in r)o.call(r,l)&&(s[l]=r[l]);if(Object.getOwnPropertySymbols){a=Object.getOwnPropertySymbols(r);for(var c=0;c<a.length;c++)i.call(r,a[c])&&(s[a[c]]=r[a[c]])}}return s}},function(e,t,n){"use strict";function r(e){for(var t;t=e._renderedComponent;)e=t;return e}function o(e,t){var n=r(e);n._hostNode=t,t[m]=n}function i(e){var t=e._hostNode;t&&(delete t[m],e._hostNode=null)}function a(e,t){if(!(e._flags&d.hasCachedChildNodes)){var n=e._renderedChildren,i=t.firstChild;e:for(var a in n)if(n.hasOwnProperty(a)){var s=n[a],u=r(s)._domID;if(0!==u){for(;null!==i;i=i.nextSibling)if(1===i.nodeType&&i.getAttribute(h)===String(u)||8===i.nodeType&&i.nodeValue===" react-text: "+u+" "||8===i.nodeType&&i.nodeValue===" react-empty: "+u+" "){o(s,i);continue e}c("32",u)}}e._flags|=d.hasCachedChildNodes}}function s(e){if(e[m])return e[m];for(var t=[];!e[m];){if(t.push(e),!e.parentNode)return null;e=e.parentNode}for(var n,r;e&&(r=e[m]);e=t.pop())n=r,t.length&&a(r,e);return n}function u(e){var t=s(e);return null!=t&&t._hostNode===e?t:null}function l(e){if(void 0===e._hostNode?c("33"):void 0,e._hostNode)return e._hostNode;for(var t=[];!e._hostNode;)t.push(e),e._hostParent?void 0:c("34"),e=e._hostParent;for(;t.length;e=t.pop())a(e,e._hostNode);return e._hostNode}var c=n(3),p=n(30),f=n(116),h=(n(2),p.ID_ATTRIBUTE_NAME),d=f,m="__reactInternalInstance$"+Math.random().toString(36).slice(2),y={getClosestInstanceFromNode:s,getInstanceFromNode:u,getNodeFromInstance:l,precacheChildNodes:a,precacheNode:o,uncacheNode:i};e.exports=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(-1!==t.indexOf("deprecated")){if(u[t])return;u[t]=!0}t="[react-router] "+t;for(var n=arguments.length,r=Array(n>2?n-2:0),o=2;n>o;o++)r[o-2]=arguments[o];s["default"].apply(void 0,[e,t].concat(r))}function i(){u={}}t.__esModule=!0,t["default"]=o,t._resetWarned=i;var a=n(247),s=r(a),u={}},function(e,t,n){"use strict";var r=function(e,t,n,r,o,i,a,s){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,o,i,a,s],c=0;u=new Error(t.replace(/%s/g,function(){return l[c++]})),u.name="Invariant Violation"}throw u.framesToPop=1,u}};e.exports=r},function(e,t){"use strict";var n=!("undefined"==typeof window||!window.document||!window.document.createElement),r={canUseDOM:n,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:n&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:n&&!!window.screen,isInWorker:!n};e.exports=r},function(e,t){"use strict";function n(e){return function(){return e}}var r=function(){};r.thatReturns=n,r.thatReturnsFalse=n(!1),r.thatReturnsTrue=n(!0),r.thatReturnsNull=n(null),r.thatReturnsThis=function(){return this},r.thatReturnsArgument=function(e){return e},e.exports=r},function(e,t,n){"use strict";var r=null;e.exports={debugTool:r}},function(e,t){"use strict";function n(e){return"[object Array]"===_.call(e)}function r(e){return"[object ArrayBuffer]"===_.call(e)}function o(e){return"undefined"!=typeof FormData&&e instanceof FormData}function i(e){var t;return t="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer}function a(e){return"string"==typeof e}function s(e){return"number"==typeof e}function u(e){return"undefined"==typeof e}function l(e){return null!==e&&"object"==typeof e}function c(e){return"[object Date]"===_.call(e)}function p(e){return"[object File]"===_.call(e)}function f(e){return"[object Blob]"===_.call(e)}function h(e){return"[object Function]"===_.call(e)}function d(e){return l(e)&&h(e.pipe)}function m(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams}function y(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}function g(){return"undefined"!=typeof window&&"undefined"!=typeof document&&"function"==typeof document.createElement}function v(e,t){if(null!==e&&"undefined"!=typeof e)if("object"==typeof e||n(e)||(e=[e]),n(e))for(var r=0,o=e.length;o>r;r++)t.call(null,e[r],r,e);else for(var i in e)e.hasOwnProperty(i)&&t.call(null,e[i],i,e)}function b(){function e(e,n){"object"==typeof t[n]&&"object"==typeof e?t[n]=b(t[n],e):t[n]=e}for(var t={},n=0,r=arguments.length;r>n;n++)v(arguments[n],e);return t}var _=Object.prototype.toString;e.exports={isArray:n,isArrayBuffer:r,isFormData:o,isArrayBufferView:i,isString:a,isNumber:s,isObject:l,isUndefined:u,isDate:c,isFile:p,isBlob:f,isFunction:h,isStream:d,isURLSearchParams:m,isStandardBrowserEnv:g,forEach:v,merge:b,trim:y}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t.connect=t.Provider=void 0;var o=n(212),i=r(o),a=n(213),s=r(a);t.Provider=i["default"],t.connect=s["default"]},function(e,t,n){"use strict";var r=function(){};e.exports=r},function(e,t,n){"use strict";function r(e){return void 0!==e.ref}function o(e){return void 0!==e.key}var i=n(5),a=n(22),s=(n(4),n(129),Object.prototype.hasOwnProperty),u="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103,l={key:!0,ref:!0,__self:!0,__source:!0},c=function(e,t,n,r,o,i,a){var s={$$typeof:u,type:e,key:t,ref:n,props:a,_owner:i};return s};c.createElement=function(e,t,n){var i,u={},p=null,f=null,h=null,d=null;if(null!=t){r(t)&&(f=t.ref),o(t)&&(p=""+t.key),h=void 0===t.__self?null:t.__self,d=void 0===t.__source?null:t.__source;for(i in t)s.call(t,i)&&!l.hasOwnProperty(i)&&(u[i]=t[i])}var m=arguments.length-2;if(1===m)u.children=n;else if(m>1){for(var y=Array(m),g=0;m>g;g++)y[g]=arguments[g+2];u.children=y}if(e&&e.defaultProps){var v=e.defaultProps;for(i in v)void 0===u[i]&&(u[i]=v[i])}return c(e,p,f,h,d,a.current,u)},c.createFactory=function(e){var t=c.createElement.bind(null,e);return t.type=e,t},c.cloneAndReplaceKey=function(e,t){var n=c(e.type,t,e.ref,e._self,e._source,e._owner,e.props);return n},c.cloneElement=function(e,t,n){var u,p=i({},e.props),f=e.key,h=e.ref,d=e._self,m=e._source,y=e._owner;if(null!=t){r(t)&&(h=t.ref,y=a.current),o(t)&&(f=""+t.key);var g;e.type&&e.type.defaultProps&&(g=e.type.defaultProps);for(u in t)s.call(t,u)&&!l.hasOwnProperty(u)&&(void 0===t[u]&&void 0!==g?p[u]=g[u]:p[u]=t[u])}var v=arguments.length-2;if(1===v)p.children=n;else if(v>1){for(var b=Array(v),_=0;v>_;_++)b[_]=arguments[_+2];p.children=b}return c(e.type,f,h,d,m,y,p)},c.isValidElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===u},c.REACT_ELEMENT_TYPE=u,e.exports=c},function(e,t,n){"use strict";function r(){C.ReactReconcileTransaction&&w?void 0:c("123")}function o(){this.reinitializeTransaction(),this.dirtyComponentsLength=null,this.callbackQueue=f.getPooled(),this.reconcileTransaction=C.ReactReconcileTransaction.getPooled(!0)}function i(e,t,n,o,i,a){r(),w.batchedUpdates(e,t,n,o,i,a)}function a(e,t){return e._mountOrder-t._mountOrder}function s(e){var t=e.dirtyComponentsLength;t!==g.length?c("124",t,g.length):void 0,g.sort(a),v++;for(var n=0;t>n;n++){var r=g[n],o=r._pendingCallbacks;r._pendingCallbacks=null;var i;if(d.logTopLevelRenders){var s=r;r._currentElement.props===r._renderedComponent._currentElement&&(s=r._renderedComponent),i="React update: "+s.getName(),console.time(i)}if(m.performUpdateIfNecessary(r,e.reconcileTransaction,v),i&&console.timeEnd(i),o)for(var u=0;u<o.length;u++)e.callbackQueue.enqueue(o[u],r.getPublicInstance())}}function u(e){return r(),w.isBatchingUpdates?(g.push(e),void(null==e._updateBatchNumber&&(e._updateBatchNumber=v+1))):void w.batchedUpdates(u,e)}function l(e,t){w.isBatchingUpdates?void 0:c("125"),b.enqueue(e,t),_=!0}var c=n(3),p=n(5),f=n(111),h=n(21),d=n(119),m=n(32),y=n(37),g=(n(2),[]),v=0,b=f.getPooled(),_=!1,w=null,x={initialize:function(){this.dirtyComponentsLength=g.length},close:function(){this.dirtyComponentsLength!==g.length?(g.splice(0,this.dirtyComponentsLength),T()):g.length=0}},k={initialize:function(){this.callbackQueue.reset()},close:function(){this.callbackQueue.notifyAll()}},E=[x,k];p(o.prototype,y.Mixin,{getTransactionWrappers:function(){return E},destructor:function(){this.dirtyComponentsLength=null,f.release(this.callbackQueue),this.callbackQueue=null,C.ReactReconcileTransaction.release(this.reconcileTransaction),this.reconcileTransaction=null},perform:function(e,t,n){return y.Mixin.perform.call(this,this.reconcileTransaction.perform,this.reconcileTransaction,e,t,n)}}),h.addPoolingTo(o);var T=function(){for(;g.length||_;){if(g.length){var e=o.getPooled();e.perform(s,null,e),o.release(e)}if(_){_=!1;var t=b;b=f.getPooled(),t.notifyAll(),f.release(t)}}},S={injectReconcileTransaction:function(e){e?void 0:c("126"),C.ReactReconcileTransaction=e},injectBatchingStrategy:function(e){e?void 0:c("127"),"function"!=typeof e.batchedUpdates?c("128"):void 0,"boolean"!=typeof e.isBatchingUpdates?c("129"):void 0,w=e}},C={ReactReconcileTransaction:null,batchedUpdates:i,enqueueUpdate:u,flushBatchedUpdates:T,injection:S,asap:l};e.exports=C},function(e,t,n){"use strict";var r=n(39),o=r({bubbled:null,captured:null}),i=r({topAbort:null,topAnimationEnd:null,topAnimationIteration:null,topAnimationStart:null,topBlur:null,topCanPlay:null,topCanPlayThrough:null,topChange:null,topClick:null,topCompositionEnd:null,topCompositionStart:null,topCompositionUpdate:null,topContextMenu:null,topCopy:null,topCut:null,topDoubleClick:null,topDrag:null,topDragEnd:null,topDragEnter:null,topDragExit:null,topDragLeave:null,topDragOver:null,topDragStart:null,topDrop:null,topDurationChange:null,topEmptied:null,topEncrypted:null,topEnded:null,topError:null,topFocus:null,topInput:null,topInvalid:null,topKeyDown:null,topKeyPress:null,topKeyUp:null,topLoad:null,topLoadedData:null,topLoadedMetadata:null,topLoadStart:null,topMouseDown:null,topMouseMove:null,topMouseOut:null,topMouseOver:null,topMouseUp:null,topPaste:null,topPause:null,topPlay:null,topPlaying:null,topProgress:null,topRateChange:null,topReset:null,topScroll:null,topSeeked:null,topSeeking:null,topSelectionChange:null,topStalled:null,topSubmit:null,topSuspend:null,topTextInput:null,topTimeUpdate:null,topTouchCancel:null,topTouchEnd:null,topTouchMove:null,topTouchStart:null,topTransitionEnd:null,topVolumeChange:null,topWaiting:null,topWheel:null}),a={topLevelTypes:i,PropagationPhases:o};e.exports=a},function(e,t,n){"use strict";function r(e,t,n,r){this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n;var o=this.constructor.Interface;for(var i in o)if(o.hasOwnProperty(i)){var s=o[i];s?this[i]=s(n):"target"===i?this.target=r:this[i]=n[i]}var u=null!=n.defaultPrevented?n.defaultPrevented:n.returnValue===!1;return u?this.isDefaultPrevented=a.thatReturnsTrue:this.isDefaultPrevented=a.thatReturnsFalse,this.isPropagationStopped=a.thatReturnsFalse,this}var o=n(5),i=n(21),a=n(10),s=(n(4),"function"==typeof Proxy,["dispatchConfig","_targetInst","nativeEvent","isDefaultPrevented","isPropagationStopped","_dispatchListeners","_dispatchInstances"]),u={type:null,target:null,currentTarget:a.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};o(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=a.thatReturnsTrue)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=a.thatReturnsTrue)},persist:function(){this.isPersistent=a.thatReturnsTrue},isPersistent:a.thatReturnsFalse,destructor:function(){var e=this.constructor.Interface;for(var t in e)this[t]=null;for(var n=0;n<s.length;n++)this[s[n]]=null}}),r.Interface=u,r.augmentClass=function(e,t){var n=this,r=function(){};r.prototype=n.prototype;var a=new r;o(a,e.prototype),e.prototype=a,e.prototype.constructor=e,e.Interface=o({},n.Interface,t),e.augmentClass=n.augmentClass,i.addPoolingTo(e,i.fourArgumentPooler)},i.addPoolingTo(r,i.fourArgumentPooler),e.exports=r},function(e,t){"use strict";var n=function(e){var t;for(t in e)if(e.hasOwnProperty(t))return t;return null};e.exports=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){return null==e||f["default"].isValidElement(e)}function i(e){return o(e)||Array.isArray(e)&&e.every(o)}function a(e,t){return c({},e,t)}function s(e){var t=e.type,n=a(t.defaultProps,e.props);if(n.children){var r=u(n.children,n);r.length&&(n.childRoutes=r),delete n.children}return n}function u(e,t){var n=[];return f["default"].Children.forEach(e,function(e){if(f["default"].isValidElement(e))if(e.type.createRouteFromReactElement){var r=e.type.createRouteFromReactElement(e,t);r&&n.push(r)}else n.push(s(e))}),n}function l(e){return i(e)?e=u(e):e&&!Array.isArray(e)&&(e=[e]),e}t.__esModule=!0;var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.isReactChildren=i,t.createRouteFromReactElement=s,t.createRoutesFromReactChildren=u,t.createRoutes=l;var p=n(1),f=r(p)},function(e,t,n){"use strict";var r=n(3),o=(n(2),function(e){var t=this;if(t.instancePool.length){var n=t.instancePool.pop();return t.call(n,e),n}return new t(e)}),i=function(e,t){var n=this;if(n.instancePool.length){var r=n.instancePool.pop();return n.call(r,e,t),r}return new n(e,t)},a=function(e,t,n){var r=this;if(r.instancePool.length){var o=r.instancePool.pop();return r.call(o,e,t,n),o}return new r(e,t,n)},s=function(e,t,n,r){var o=this;if(o.instancePool.length){var i=o.instancePool.pop();return o.call(i,e,t,n,r),i}return new o(e,t,n,r)},u=function(e,t,n,r,o){var i=this;if(i.instancePool.length){var a=i.instancePool.pop();return i.call(a,e,t,n,r,o),a}return new i(e,t,n,r,o)},l=function(e){var t=this;e instanceof t?void 0:r("25"),e.destructor(),t.instancePool.length<t.poolSize&&t.instancePool.push(e)},c=10,p=o,f=function(e,t){var n=e;return n.instancePool=[],n.getPooled=t||p,n.poolSize||(n.poolSize=c),n.release=l,n},h={addPoolingTo:f,oneArgumentPooler:o,twoArgumentPooler:i,threeArgumentPooler:a,fourArgumentPooler:s,fiveArgumentPooler:u};e.exports=h},function(e,t){"use strict";var n={current:null};e.exports=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.clearBottomNavContent=t.setBottomNavContent=t.updateProject=t.startUpdateProject=t.startAddItem=t.closeImpact=t.toggleImpact=t.toggleMenu=t.toggleMapDisplay=t.moveToProject=t.toggleMapLines=t.toggleMapLabels=t.clearSelectedProject=t.setSelectedProject=t.hidePopup=t.hideCaseStudyPopup=t.showCaseStudyPopupWithContent=t.showPopupWithProject=t.removeHoverProject=t.setHoverProject=t.setCurrentCategory=t.hideAllCategories=t.toggleCategory=t.initializeProjectListFromDB=t.initializeCategories=t.initializeProjectList=t.dataIsLoading=t.setMapCenterOnProject=t.setMapBounds=t.setMapCenter=t.stopLoading=t.startLoading=void 0;var o=n(143),i=r(o),a=n(183),s=r(a),u=t.startLoading=function(){return{type:"START_LOADING"}},l=t.stopLoading=function(){return{type:"STOP_LOADING"}},c=t.setMapCenter=function(e){return{type:"SET_MAP_CENTER",center:e}},p=t.setMapBounds=function(e){return{type:"SET_MAP_BOUNDS",bounds:e}},f=(t.setMapCenterOnProject=function(e){return function(t,n){var r=n().projects[e];switch(r.pointType){case"points":var o=JSON.parse(r.locations),i={type:"geojson",data:{type:"FeatureCollection",features:o.map(function(e){return{type:"Feature",geometry:{type:"Point",coordinates:[e.lon,e.lat]}}})}},a=s["default"].geo.bounds(i.data);t(p(a));break;case"point":var u=[r.longitude,r.latitude];t(c(u))}}},t.dataIsLoading=function(e){return{type:"LOADING_DATA",isLoading:e}}),h=t.initializeProjectList=function(e){return{type:"INITIALIZE_PROJECT_LIST",projects:e}},d=t.initializeCategories=function(e){return function(t){var n={},r=["#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"];e.forEach(function(e,t){n[e.category]?-1===n[e.category].projects.indexOf(e.id)&&n[e.category].projects.push(e.id):n[e.category]={visible:!1,projects:[e.id],color:r[t%r.length]}}),t(m(n))}},m=function(e){return{type:"ADD_CATEGORIES",categories:e}},y=(t.initializeProjectListFromDB=function(){return function(e){e(f(!0)),i["default"].get("/api/mapitems").then(function(t){console.log("project list",t.data),e(h(t.data)),e(d(t.data)),e(f(!1))})}},t.toggleCategory=function(e){return{type:"TOGGLE_CATEGORY",category:e}},t.hideAllCategories=function(){return{type:"HIDE_ALL_CATEGORIES"}},t.setCurrentCategory=function(e){return{type:"SET_CURRENT_CATEGORY",cat:e}},t.setHoverProject=function(e){return{type:"SET_HOVERED_PROJECT",id:e}},t.removeHoverProject=function(){return{type:"REMOVE_HOVERED_PROJECT"}},t.showPopupWithProject=function(e,t){return{type:"SHOW_POPUP_WITH_PROJECT",id:e,point:t}},t.showCaseStudyPopupWithContent=function(e,t){return{type:"SHOW_CASE_STUDY_POPUP_WITH_CONTENT",content:e,point:t}},t.hideCaseStudyPopup=function(){return{type:"HIDE_CASE_STUDY_POPUP"}},t.hidePopup=function(){return{type:"HIDE_POPUP"}},t.setSelectedProject=function(e){return{type:"SET_SELECTED_PROJECT",id:e}},t.clearSelectedProject=function(){return{type:"CLEAR_SELECTED_PROJECT"}},t.toggleMapLabels=function(){return{type:"TOGGLE_MAP_LABELS"}},t.toggleMapLines=function(){return{type:"TOGGLE_MAP_LINES"}},t.moveToProject=function(e){return{type:"MOVE_TO_PROJECT",id:e}},t.toggleMapDisplay=function(e){return{type:"TOGGLE_MAP_DISPLAY",labelName:e}},t.toggleMenu=function(){return{type:"TOGGLE_MENU"}},t.toggleImpact=function(){return{type:"TOGGLE_IMPACT"}},t.closeImpact=function(){return{type:"CLOSE_IMPACT"}},t.startAddItem=function(e){return function(t){t(u()),i["default"].post("/api/mapitem",e).then(function(e){console.log(e.data),t(l())})}},t.startUpdateProject=function(e,t){return function(n){console.log(t),i["default"].post("/api/mapitem/"+e+"/update",t).then(function(r){console.log(r),n(y(e,t)),n(l())})}},t.updateProject=function(e,t){return{type:"UPDATE_PROJECT",id:e,updates:t}});t.setBottomNavContent=function(e){return{type:"SET_BOTTOM_NAV_CONTENT",id:e}},t.clearBottomNavContent=function(){return{type:"SET_BOTTOM_NAV_CONTENT",id:""}}},function(e,t,n){"use strict";function r(e,t,n){return e[t]?new Error("<"+n+'> should not have a "'+t+'" prop'):void 0}t.__esModule=!0,t.routes=t.route=t.components=t.component=t.history=void 0,t.falsy=r;var o=n(1),i=o.PropTypes.func,a=o.PropTypes.object,s=o.PropTypes.arrayOf,u=o.PropTypes.oneOfType,l=o.PropTypes.element,c=o.PropTypes.shape,p=o.PropTypes.string,f=(t.history=c({listen:i.isRequired,push:i.isRequired,replace:i.isRequired,go:i.isRequired,goBack:i.isRequired,goForward:i.isRequired}),t.component=u([i,p])),h=(t.components=u([f,a]),t.route=u([a,l]));t.routes=u([h,s(h)])},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){var t=e.match(/^https?:\/\/[^\/]*/);return null==t?e:e.substring(t[0].length)}function i(e){var t=o(e),n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substring(i),t=t.substring(0,i));var a=t.indexOf("?");return-1!==a&&(n=t.substring(a),t=t.substring(0,a)),""===t&&(t="/"),{pathname:t,search:n,hash:r}}t.__esModule=!0,t.extractPath=o,t.parsePath=i;var a=n(14);r(a)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function i(e){for(var t="",n=[],r=[],i=void 0,a=0,s=/:([a-zA-Z_$][a-zA-Z0-9_$]*)|\*\*|\*|\(|\)/g;i=s.exec(e);)i.index!==a&&(r.push(e.slice(a,i.index)),t+=o(e.slice(a,i.index))),i[1]?(t+="([^/]+)",n.push(i[1])):"**"===i[0]?(t+="(.*)",n.push("splat")):"*"===i[0]?(t+="(.*?)",n.push("splat")):"("===i[0]?t+="(?:":")"===i[0]&&(t+=")?"),r.push(i[0]),a=s.lastIndex;return a!==e.length&&(r.push(e.slice(a,e.length)),t+=o(e.slice(a,e.length))),{pattern:e,regexpSource:t,paramNames:n,tokens:r}}function a(e){return h[e]||(h[e]=i(e)),h[e]}function s(e,t){"/"!==e.charAt(0)&&(e="/"+e);var n=a(e),r=n.regexpSource,o=n.paramNames,i=n.tokens;"/"!==e.charAt(e.length-1)&&(r+="/?"),"*"===i[i.length-1]&&(r+="$");var s=t.match(new RegExp("^"+r,"i"));if(null==s)return null;var u=s[0],l=t.substr(u.length);if(l){if("/"!==u.charAt(u.length-1))return null;l="/"+l}return{remainingPathname:l,paramNames:o,paramValues:s.slice(1).map(function(e){return e&&decodeURIComponent(e)})}}function u(e){return a(e).paramNames}function l(e,t){var n=s(e,t);if(!n)return null;var r=n.paramNames,o=n.paramValues,i={};return r.forEach(function(e,t){i[e]=o[t]}),i}function c(e,t){t=t||{};for(var n=a(e),r=n.tokens,o=0,i="",s=0,u=void 0,l=void 0,c=void 0,p=0,h=r.length;h>p;++p)u=r[p],"*"===u||"**"===u?(c=Array.isArray(t.splat)?t.splat[s++]:t.splat,null!=c||o>0?void 0:(0,f["default"])(!1),null!=c&&(i+=encodeURI(c))):"("===u?o+=1:")"===u?o-=1:":"===u.charAt(0)?(l=u.substring(1),c=t[l],null!=c||o>0?void 0:(0,f["default"])(!1),null!=c&&(i+=encodeURIComponent(c))):i+=u;return i.replace(/\/+/g,"/")}t.__esModule=!0,t.compilePattern=a,t.matchPattern=s,t.getParamNames=u,t.getParams=l,t.formatPattern=c;var p=n(8),f=r(p),h=Object.create(null)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t.createMemoryHistory=t.hashHistory=t.browserHistory=t.applyRouterMiddleware=t.formatPattern=t.useRouterHistory=t.match=t.routerShape=t.locationShape=t.PropTypes=t.RoutingContext=t.RouterContext=t.createRoutes=t.useRoutes=t.RouteContext=t.Lifecycle=t.History=t.Route=t.Redirect=t.IndexRoute=t.IndexRedirect=t.withRouter=t.IndexLink=t.Link=t.Router=void 0;var o=n(20);Object.defineProperty(t,"createRoutes",{enumerable:!0,get:function(){return o.createRoutes}});var i=n(54);Object.defineProperty(t,"locationShape",{enumerable:!0,get:function(){return i.locationShape}}),Object.defineProperty(t,"routerShape",{enumerable:!0,get:function(){return i.routerShape}});var a=n(26);Object.defineProperty(t,"formatPattern",{enumerable:!0,get:function(){return a.formatPattern}});var s=n(223),u=r(s),l=n(98),c=r(l),p=n(217),f=r(p),h=n(236),d=r(h),m=n(218),y=r(m),g=n(219),v=r(g),b=n(99),_=r(b),w=n(221),x=r(w),k=n(216),E=r(k),T=n(220),S=r(T),C=n(222),M=r(C),P=n(235),A=r(P),z=n(41),R=r(z),O=n(224),L=r(O),D=r(i),j=n(233),N=r(j),I=n(104),F=r(I),B=n(226),U=r(B),V=n(227),Y=r(V),q=n(231),W=r(q),H=n(101),G=r(H);t.Router=u["default"],t.Link=c["default"],t.IndexLink=f["default"],t.withRouter=d["default"],t.IndexRedirect=y["default"],t.IndexRoute=v["default"],t.Redirect=_["default"],t.Route=x["default"],t.History=E["default"],t.Lifecycle=S["default"],t.RouteContext=M["default"],t.useRoutes=A["default"],t.RouterContext=R["default"],t.RoutingContext=L["default"],t.PropTypes=D["default"],t.match=N["default"],t.useRouterHistory=F["default"],t.applyRouterMiddleware=U["default"],t.browserHistory=Y["default"],t.hashHistory=W["default"],t.createMemoryHistory=G["default"]},function(e,t){"use strict";t.__esModule=!0;var n="PUSH";t.PUSH=n;var r="REPLACE";t.REPLACE=r;var o="POP";t.POP=o,t["default"]={PUSH:n,REPLACE:r,POP:o}},function(e,t,n){"use strict";function r(e){if(y){var t=e.node,n=e.children;if(n.length)for(var r=0;r<n.length;r++)g(t,n[r],null);else null!=e.html?p(t,e.html):null!=e.text&&h(t,e.text)}}function o(e,t){e.parentNode.replaceChild(t.node,e),r(t)}function i(e,t){y?e.children.push(t):e.node.appendChild(t.node)}function a(e,t){y?e.html=t:p(e.node,t)}function s(e,t){y?e.text=t:h(e.node,t)}function u(){return this.node.nodeName}function l(e){return{node:e,children:[],html:null,text:null,toString:u}}var c=n(60),p=n(49),f=n(74),h=n(137),d=1,m=11,y="undefined"!=typeof document&&"number"==typeof document.documentMode||"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent&&/\bEdge\/\d/.test(navigator.userAgent),g=f(function(e,t,n){t.node.nodeType===m||t.node.nodeType===d&&"object"===t.node.nodeName.toLowerCase()&&(null==t.node.namespaceURI||t.node.namespaceURI===c.html)?(r(t),e.insertBefore(t.node,n)):(e.insertBefore(t.node,n),r(t))});l.insertTreeBefore=g,l.replaceChildWithTree=o,l.queueChild=i,l.queueHTML=a,l.queueText=s,e.exports=l},function(e,t,n){"use strict";function r(e,t){return(e&t)===t}var o=n(3),i=(n(2),{MUST_USE_PROPERTY:1,HAS_BOOLEAN_VALUE:4,HAS_NUMERIC_VALUE:8,HAS_POSITIVE_NUMERIC_VALUE:24,HAS_OVERLOADED_BOOLEAN_VALUE:32,injectDOMPropertyConfig:function(e){var t=i,n=e.Properties||{},a=e.DOMAttributeNamespaces||{},u=e.DOMAttributeNames||{},l=e.DOMPropertyNames||{},c=e.DOMMutationMethods||{};e.isCustomAttribute&&s._isCustomAttributeFunctions.push(e.isCustomAttribute);for(var p in n){s.properties.hasOwnProperty(p)?o("48",p):void 0;var f=p.toLowerCase(),h=n[p],d={attributeName:f,attributeNamespace:null,propertyName:p,mutationMethod:null,mustUseProperty:r(h,t.MUST_USE_PROPERTY),hasBooleanValue:r(h,t.HAS_BOOLEAN_VALUE),hasNumericValue:r(h,t.HAS_NUMERIC_VALUE),hasPositiveNumericValue:r(h,t.HAS_POSITIVE_NUMERIC_VALUE),hasOverloadedBooleanValue:r(h,t.HAS_OVERLOADED_BOOLEAN_VALUE)};if(d.hasBooleanValue+d.hasNumericValue+d.hasOverloadedBooleanValue<=1?void 0:o("50",p),u.hasOwnProperty(p)){var m=u[p];d.attributeName=m}a.hasOwnProperty(p)&&(d.attributeNamespace=a[p]),l.hasOwnProperty(p)&&(d.propertyName=l[p]),c.hasOwnProperty(p)&&(d.mutationMethod=c[p]),s.properties[p]=d}}}),a=":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",s={ID_ATTRIBUTE_NAME:"data-reactid",ROOT_ATTRIBUTE_NAME:"data-reactroot",ATTRIBUTE_NAME_START_CHAR:a,ATTRIBUTE_NAME_CHAR:a+"\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",properties:{},getPossibleStandardName:null,_isCustomAttributeFunctions:[],isCustomAttribute:function(e){for(var t=0;t<s._isCustomAttributeFunctions.length;t++){var n=s._isCustomAttributeFunctions[t];if(n(e))return!0}return!1},injection:i};e.exports=s},function(e,t){"use strict";var n={remove:function(e){e._reactInternalInstance=void 0},get:function(e){return e._reactInternalInstance},has:function(e){return void 0!==e._reactInternalInstance},set:function(e,t){e._reactInternalInstance=t}};e.exports=n},function(e,t,n){"use strict";function r(){o.attachRefs(this,this._currentElement)}var o=n(284),i=(n(11),n(4),{mountComponent:function(e,t,n,o,i,a){var s=e.mountComponent(t,n,o,i,a);return e._currentElement&&null!=e._currentElement.ref&&t.getReactMountReady().enqueue(r,e),s},getHostNode:function(e){return e.getHostNode()},unmountComponent:function(e,t){o.detachRefs(e,e._currentElement),e.unmountComponent(t)},receiveComponent:function(e,t,n,i){var a=e._currentElement;if(t!==a||i!==e._context){var s=o.shouldUpdateRefs(a,t);s&&o.detachRefs(e,a),e.receiveComponent(t,n,i),s&&e._currentElement&&null!=e._currentElement.ref&&n.getReactMountReady().enqueue(r,e)}},performUpdateIfNecessary:function(e,t,n){e._updateBatchNumber===n&&e.performUpdateIfNecessary(t)}});e.exports=i},function(e,t,n){"use strict";var r={};e.exports=r},function(e,t,n){"use strict";var r=n(3),o=n(61),i=n(62),a=n(68),s=n(128),u=n(131),l=(n(2),{}),c=null,p=function(e,t){e&&(i.executeDispatchesInOrder(e,t),e.isPersistent()||e.constructor.release(e))},f=function(e){return p(e,!0)},h=function(e){return p(e,!1)},d=function(e){return"."+e._rootNodeID},m={injection:{injectEventPluginOrder:o.injectEventPluginOrder,injectEventPluginsByName:o.injectEventPluginsByName},putListener:function(e,t,n){"function"!=typeof n?r("94",t,typeof n):void 0;var i=d(e),a=l[t]||(l[t]={});a[i]=n;var s=o.registrationNameModules[t];s&&s.didPutListener&&s.didPutListener(e,t,n)},getListener:function(e,t){var n=l[t],r=d(e);return n&&n[r]},deleteListener:function(e,t){var n=o.registrationNameModules[t];n&&n.willDeleteListener&&n.willDeleteListener(e,t);var r=l[t];if(r){var i=d(e);delete r[i]}},deleteAllListeners:function(e){var t=d(e);for(var n in l)if(l.hasOwnProperty(n)&&l[n][t]){var r=o.registrationNameModules[n];r&&r.willDeleteListener&&r.willDeleteListener(e,n),delete l[n][t]}},extractEvents:function(e,t,n,r){for(var i,a=o.plugins,u=0;u<a.length;u++){var l=a[u];if(l){var c=l.extractEvents(e,t,n,r);c&&(i=s(i,c))}}return i},enqueueEvents:function(e){e&&(c=s(c,e))},processEventQueue:function(e){var t=c;c=null,e?u(t,f):u(t,h),c?r("95"):void 0,a.rethrowCaughtError()},__purge:function(){l={}},__getListenerBank:function(){return l}};e.exports=m},function(e,t,n){"use strict";function r(e,t,n){var r=t.dispatchConfig.phasedRegistrationNames[n];return b(e,r)}function o(e,t,n){var o=t?v.bubbled:v.captured,i=r(e,n,o);i&&(n._dispatchListeners=y(n._dispatchListeners,i),n._dispatchInstances=y(n._dispatchInstances,e))}function i(e){e&&e.dispatchConfig.phasedRegistrationNames&&m.traverseTwoPhase(e._targetInst,o,e)}function a(e){if(e&&e.dispatchConfig.phasedRegistrationNames){var t=e._targetInst,n=t?m.getParentInstance(t):null;m.traverseTwoPhase(n,o,e)}}function s(e,t,n){if(n&&n.dispatchConfig.registrationName){var r=n.dispatchConfig.registrationName,o=b(e,r);o&&(n._dispatchListeners=y(n._dispatchListeners,o),n._dispatchInstances=y(n._dispatchInstances,e))}}function u(e){e&&e.dispatchConfig.registrationName&&s(e._targetInst,null,e)}function l(e){g(e,i)}function c(e){g(e,a)}function p(e,t,n,r){m.traverseEnterLeave(n,r,s,e,t)}function f(e){g(e,u)}var h=n(17),d=n(34),m=n(62),y=n(128),g=n(131),v=(n(4),h.PropagationPhases),b=d.getListener,_={accumulateTwoPhaseDispatches:l,accumulateTwoPhaseDispatchesSkipTarget:c,accumulateDirectDispatches:f,
accumulateEnterLeaveDispatches:p};e.exports=_},function(e,t,n){"use strict";function r(e,t,n,r){return o.call(this,e,t,n,r)}var o=n(18),i=n(77),a={view:function(e){if(e.view)return e.view;var t=i(e);if(t.window===t)return t;var n=t.ownerDocument;return n?n.defaultView||n.parentWindow:window},detail:function(e){return e.detail||0}};o.augmentClass(r,a),e.exports=r},function(e,t,n){"use strict";var r=n(3),o=(n(2),{reinitializeTransaction:function(){this.transactionWrappers=this.getTransactionWrappers(),this.wrapperInitData?this.wrapperInitData.length=0:this.wrapperInitData=[],this._isInTransaction=!1},_isInTransaction:!1,getTransactionWrappers:null,isInTransaction:function(){return!!this._isInTransaction},perform:function(e,t,n,o,i,a,s,u){this.isInTransaction()?r("27"):void 0;var l,c;try{this._isInTransaction=!0,l=!0,this.initializeAll(0),c=e.call(t,n,o,i,a,s,u),l=!1}finally{try{if(l)try{this.closeAll(0)}catch(p){}else this.closeAll(0)}finally{this._isInTransaction=!1}}return c},initializeAll:function(e){for(var t=this.transactionWrappers,n=e;n<t.length;n++){var r=t[n];try{this.wrapperInitData[n]=i.OBSERVED_ERROR,this.wrapperInitData[n]=r.initialize?r.initialize.call(this):null}finally{if(this.wrapperInitData[n]===i.OBSERVED_ERROR)try{this.initializeAll(n+1)}catch(o){}}}},closeAll:function(e){this.isInTransaction()?void 0:r("28");for(var t=this.transactionWrappers,n=e;n<t.length;n++){var o,a=t[n],s=this.wrapperInitData[n];try{o=!0,s!==i.OBSERVED_ERROR&&a.close&&a.close.call(this,s),o=!1}finally{if(o)try{this.closeAll(n+1)}catch(u){}}}this.wrapperInitData.length=0}}),i={Mixin:o,OBSERVED_ERROR:{}};e.exports=i},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ROUTER_PATHS={HOME:"/",EXPLORE:"/explore",LEARN:"/learn",GETINVOLVED:"/get-involved"},t.COLORS={LIGHT_GREEN:"#074c00",DARK_GREEN:"#021700",PRIMARY_COLOR:"#074c00",SECONDARY_COLOR:"#a1d99b",TERTIARY_COLOR:"#dd3497"}},function(e,t,n){"use strict";var r=n(2),o=function(e){var t,n={};e instanceof Object&&!Array.isArray(e)?void 0:r(!1);for(t in e)e.hasOwnProperty(t)&&(n[t]=t);return n};e.exports=o},function(e,t){function n(){p&&a&&(p=!1,a.length?c=a.concat(c):f=-1,c.length&&r())}function r(){if(!p){var e=u(n);p=!0;for(var t=c.length;t;){for(a=c,c=[];++f<t;)a&&a[f].run();f=-1,t=c.length}a=null,p=!1,l(e)}}function o(e,t){this.fun=e,this.array=t}function i(){}var a,s=e.exports={},u=setTimeout,l=clearTimeout,c=[],p=!1,f=-1;s.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new o(e,t)),1!==c.length||p||u(r,0)},o.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=i,s.addListener=i,s.once=i,s.off=i,s.removeListener=i,s.removeAllListeners=i,s.emit=i,s.binding=function(e){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(e){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(8),s=r(a),u=n(1),l=r(u),c=n(42),p=(r(c),n(230)),f=r(p),h=n(20),d=n(7),m=(r(d),l["default"].PropTypes),y=m.array,g=m.func,v=m.object,b=l["default"].createClass({displayName:"RouterContext",propTypes:{history:v,router:v.isRequired,location:v.isRequired,routes:y.isRequired,params:v.isRequired,components:y.isRequired,createElement:g.isRequired},getDefaultProps:function(){return{createElement:l["default"].createElement}},childContextTypes:{history:v,location:v.isRequired,router:v.isRequired},getChildContext:function(){var e=this.props,t=e.router,n=e.history,r=e.location;return t||(t=i({},n,{setRouteLeaveHook:n.listenBeforeLeavingRoute}),delete t.listenBeforeLeavingRoute),{history:n,location:r,router:t}},createElement:function(e,t){return null==e?null:this.props.createElement(e,t)},render:function(){var e=this,t=this.props,n=t.history,r=t.location,a=t.routes,u=t.params,c=t.components,p=null;return c&&(p=c.reduceRight(function(t,s,l){if(null==s)return t;var c=a[l],p=(0,f["default"])(c,u),d={history:n,location:r,params:u,route:c,routeParams:p,routes:a};if((0,h.isReactChildren)(t))d.children=t;else if(t)for(var m in t)Object.prototype.hasOwnProperty.call(t,m)&&(d[m]=t[m]);if("object"===("undefined"==typeof s?"undefined":o(s))){var y={};for(var g in s)Object.prototype.hasOwnProperty.call(s,g)&&(y[g]=e.createElement(s[g],i({key:g},d)));return y}return e.createElement(s,d)},p)),null===p||p===!1||l["default"].isValidElement(p)?void 0:(0,s["default"])(!1),p}});t["default"]=b,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t.canUseMembrane=void 0;var o=n(7),i=(r(o),t.canUseMembrane=!1,function(e){return e});t["default"]=i},function(e,t){"use strict";t.__esModule=!0;var n=!("undefined"==typeof window||!window.document||!window.document.createElement);t.canUseDOM=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){return u.stringify(e).replace(/%20/g,"+")}function i(e){return function(){function t(e){if(null==e.query){var t=e.search;e.query=x(t.substring(1)),e[d]={search:t,searchBase:""}}return e}function n(e,t){var n,r=e[d],o=t?w(t):"";if(!r&&!o)return e;"string"==typeof e&&(e=p.parsePath(e));var i=void 0;i=r&&e.search===r.search?r.searchBase:e.search||"";var s=i;return o&&(s+=(s?"&":"?")+o),a({},e,(n={search:s},n[d]={search:s,searchBase:i},n))}function r(e){return _.listenBefore(function(n,r){c["default"](e,t(n),r)})}function i(e){return _.listen(function(n){e(t(n))})}function s(e){_.push(n(e,e.query))}function u(e){_.replace(n(e,e.query))}function l(e,t){return _.createPath(n(e,t||e.query))}function f(e,t){return _.createHref(n(e,t||e.query))}function y(e){for(var r=arguments.length,o=Array(r>1?r-1:0),i=1;r>i;i++)o[i-1]=arguments[i];var a=_.createLocation.apply(_,[n(e,e.query)].concat(o));return e.query&&(a.query=e.query),t(a)}function g(e,t,n){"string"==typeof t&&(t=p.parsePath(t)),s(a({state:e},t,{query:n}))}function v(e,t,n){"string"==typeof t&&(t=p.parsePath(t)),u(a({state:e},t,{query:n}))}var b=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],_=e(b),w=b.stringifyQuery,x=b.parseQueryString;return"function"!=typeof w&&(w=o),"function"!=typeof x&&(x=m),a({},_,{listenBefore:r,listen:i,push:s,replace:u,createPath:l,createHref:f,createLocation:y,pushState:h["default"](g,"pushState is deprecated; use push instead"),replaceState:h["default"](v,"replaceState is deprecated; use replace instead")})}}t.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=n(14),u=(r(s),n(245)),l=n(58),c=r(l),p=n(25),f=n(57),h=r(f),d="$searchBase",m=u.parse;t["default"]=i,e.exports=t["default"]},function(e,t){"use strict";var n={onClick:!0,onDoubleClick:!0,onMouseDown:!0,onMouseMove:!0,onMouseUp:!0,onClickCapture:!0,onDoubleClickCapture:!0,onMouseDownCapture:!0,onMouseMoveCapture:!0,onMouseUpCapture:!0},r={getHostProps:function(e,t){if(!t.disabled)return t;var r={};for(var o in t)!n[o]&&t.hasOwnProperty(o)&&(r[o]=t[o]);return r}};e.exports=r},function(e,t,n){"use strict";function r(e){return Object.prototype.hasOwnProperty.call(e,y)||(e[y]=d++,f[e[y]]={}),f[e[y]]}var o,i=n(5),a=n(17),s=n(61),u=n(276),l=n(127),c=n(308),p=n(78),f={},h=!1,d=0,m={topAbort:"abort",topAnimationEnd:c("animationend")||"animationend",topAnimationIteration:c("animationiteration")||"animationiteration",topAnimationStart:c("animationstart")||"animationstart",topBlur:"blur",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topChange:"change",topClick:"click",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topScroll:"scroll",topSeeked:"seeked",topSeeking:"seeking",topSelectionChange:"selectionchange",topStalled:"stalled",topSuspend:"suspend",topTextInput:"textInput",topTimeUpdate:"timeupdate",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topTransitionEnd:c("transitionend")||"transitionend",topVolumeChange:"volumechange",topWaiting:"waiting",topWheel:"wheel"},y="_reactListenersID"+String(Math.random()).slice(2),g=i({},u,{ReactEventListener:null,injection:{injectReactEventListener:function(e){e.setHandleTopLevel(g.handleTopLevel),g.ReactEventListener=e}},setEnabled:function(e){g.ReactEventListener&&g.ReactEventListener.setEnabled(e)},isEnabled:function(){return!(!g.ReactEventListener||!g.ReactEventListener.isEnabled())},listenTo:function(e,t){for(var n=t,o=r(n),i=s.registrationNameDependencies[e],u=a.topLevelTypes,l=0;l<i.length;l++){var c=i[l];o.hasOwnProperty(c)&&o[c]||(c===u.topWheel?p("wheel")?g.ReactEventListener.trapBubbledEvent(u.topWheel,"wheel",n):p("mousewheel")?g.ReactEventListener.trapBubbledEvent(u.topWheel,"mousewheel",n):g.ReactEventListener.trapBubbledEvent(u.topWheel,"DOMMouseScroll",n):c===u.topScroll?p("scroll",!0)?g.ReactEventListener.trapCapturedEvent(u.topScroll,"scroll",n):g.ReactEventListener.trapBubbledEvent(u.topScroll,"scroll",g.ReactEventListener.WINDOW_HANDLE):c===u.topFocus||c===u.topBlur?(p("focus",!0)?(g.ReactEventListener.trapCapturedEvent(u.topFocus,"focus",n),g.ReactEventListener.trapCapturedEvent(u.topBlur,"blur",n)):p("focusin")&&(g.ReactEventListener.trapBubbledEvent(u.topFocus,"focusin",n),g.ReactEventListener.trapBubbledEvent(u.topBlur,"focusout",n)),o[u.topBlur]=!0,o[u.topFocus]=!0):m.hasOwnProperty(c)&&g.ReactEventListener.trapBubbledEvent(c,m[c],n),o[c]=!0)}},trapBubbledEvent:function(e,t,n){return g.ReactEventListener.trapBubbledEvent(e,t,n)},trapCapturedEvent:function(e,t,n){return g.ReactEventListener.trapCapturedEvent(e,t,n)},supportsEventPageXY:function(){if(!document.createEvent)return!1;var e=document.createEvent("MouseEvent");return null!=e&&"pageX"in e},ensureScrollValueMonitoring:function(){if(void 0===o&&(o=g.supportsEventPageXY()),!o&&!h){var e=l.refreshScrollValues;g.ReactEventListener.monitorScrollValue(e),h=!0}}});e.exports=g},function(e,t,n){"use strict";function r(e,t,n,r){return o.call(this,e,t,n,r)}var o=n(36),i=n(127),a=n(76),s={screenX:null,screenY:null,clientX:null,clientY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:a,button:function(e){var t=e.button;return"which"in e?t:2===t?2:4===t?1:0},buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},pageX:function(e){return"pageX"in e?e.pageX:e.clientX+i.currentScrollLeft},pageY:function(e){return"pageY"in e?e.pageY:e.clientY+i.currentScrollTop}};o.augmentClass(r,s),e.exports=r},function(e,t){"use strict";function n(e){var t=""+e,n=o.exec(t);if(!n)return t;var r,i="",a=0,s=0;for(a=n.index;a<t.length;a++){switch(t.charCodeAt(a)){case 34:r="&quot;";break;case 38:r="&amp;";break;case 39:r="&#x27;";break;case 60:r="&lt;";break;case 62:r="&gt;";break;default:continue}s!==a&&(i+=t.substring(s,a)),s=a+1,i+=r}return s!==a?i+t.substring(s,a):i}function r(e){return"boolean"==typeof e||"number"==typeof e?""+e:n(e)}var o=/["'&<>]/;e.exports=r},function(e,t,n){"use strict";var r,o=n(9),i=n(60),a=/^[ \r\n\t\f]/,s=/<(!--|link|noscript|meta|script|style)[ \r\n\t\f\/>]/,u=n(74),l=u(function(e,t){if(e.namespaceURI!==i.svg||"innerHTML"in e)e.innerHTML=t;else{r=r||document.createElement("div"),r.innerHTML="<svg>"+t+"</svg>";for(var n=r.firstChild;n.firstChild;)e.appendChild(n.firstChild)}});if(o.canUseDOM){var c=document.createElement("div");c.innerHTML=" ",""===c.innerHTML&&(l=function(e,t){if(e.parentNode&&e.parentNode.replaceChild(e,e),a.test(t)||"<"===t[0]&&s.test(t)){e.innerHTML=String.fromCharCode(65279)+t;var n=e.firstChild;1===n.data.length?e.removeChild(n):n.deleteData(0,1)}else e.innerHTML=t}),c=null}e.exports=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=r(o),a=n(27),s=n(38),u=n(178),l=(r(u),function(e){function t(t){return-1!==e.activePath.indexOf(t)?"nav-item active":"nav-item"}return i["default"].createElement("div",{className:"nav"},i["default"].createElement(a.Link,{to:s.ROUTER_PATHS.HOME},i["default"].createElement("h1",null,"NO FREE LUNCH")),i["default"].createElement("div",{className:"nav-items"},i["default"].createElement(a.Link,{className:t(s.ROUTER_PATHS.LEARN),to:s.ROUTER_PATHS.LEARN},"Learn"),i["default"].createElement(a.Link,{className:t(s.ROUTER_PATHS.EXPLORE),to:s.ROUTER_PATHS.EXPLORE},"Explore"),i["default"].createElement(a.Link,{className:t(s.ROUTER_PATHS.GETINVOLVED),to:s.ROUTER_PATHS.GETINVOLVED},"Get Involved")))});l.defaultProps={activePath:"/"},l.propTypes={activePath:i["default"].PropTypes.string},t["default"]=l},function(e,t){"use strict";function n(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}function r(e,t){if(n(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;for(var a=0;a<r.length;a++)if(!o.call(t,r[a])||!n(e[r[a]],t[r[a]]))return!1;return!0}var o=Object.prototype.hasOwnProperty;e.exports=r},function(e,t,n){function r(e){if(!a(e)||o(e)!=s)return!1;var t=i(e);if(null===t)return!0;var n=p.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&c.call(n)==f}var o=n(203),i=n(205),a=n(210),s="[object Object]",u=Function.prototype,l=Object.prototype,c=u.toString,p=l.hasOwnProperty,f=c.call(Object);e.exports=r},function(e,t){"use strict";function n(e,t,n){function r(){return a=!0,s?void(l=[].concat(Array.prototype.slice.call(arguments))):void n.apply(this,arguments)}function o(){if(!a&&(u=!0,!s)){for(s=!0;!a&&e>i&&u;)u=!1,t.call(this,i++,o,r);return s=!1,a?void n.apply(this,l):void(i>=e&&u&&(a=!0,n()))}}var i=0,a=!1,s=!1,u=!1,l=void 0;o()}function r(e,t,n){function r(e,t,r){a||(t?(a=!0,n(t)):(i[e]=r,a=++s===o,a&&n(null,i)))}var o=e.length,i=[];if(0===o)return n(null,i);var a=!1,s=0;e.forEach(function(e,n){t(e,n,function(e,t){r(n,e,t)})})}t.__esModule=!0,t.loopAsync=n,t.mapAsync=r},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t.router=t.routes=t.route=t.components=t.component=t.location=t.history=t.falsy=t.locationShape=t.routerShape=void 0;var i=n(1),a=n(42),s=(o(a),n(24)),u=r(s),l=n(7),c=(o(l),i.PropTypes.func),p=i.PropTypes.object,f=i.PropTypes.shape,h=i.PropTypes.string,d=t.routerShape=f({push:c.isRequired,replace:c.isRequired,go:c.isRequired,goBack:c.isRequired,goForward:c.isRequired,setRouteLeaveHook:c.isRequired,isActive:c.isRequired}),m=t.locationShape=f({pathname:h.isRequired,search:h.isRequired,state:p,action:h.isRequired,key:h}),y=t.falsy=u.falsy,g=t.history=u.history,v=t.location=m,b=t.component=u.component,_=t.components=u.components,w=t.route=u.route,x=(t.routes=u.routes,t.router=d),k={falsy:y,history:g,location:v,component:b,components:_,route:w,router:x};t["default"]=k},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!0;return!1}function i(e,t){function n(t){var n=arguments.length<=1||void 0===arguments[1]?!1:arguments[1],r=arguments.length<=2||void 0===arguments[2]?null:arguments[2],o=void 0;return n&&n!==!0||null!==r?(t={pathname:t,query:n},o=r||!1):(t=e.createLocation(t),o=n),(0,f["default"])(t,o,b.location,b.routes,b.params)}function r(e,n){_&&_.location===e?i(_,n):(0,y["default"])(t,e,function(t,r){t?n(t):r?i(a({},r,{location:e}),n):n()})}function i(e,t){function n(n,o){return n||o?r(n,o):void(0,d["default"])(e,function(n,r){n?t(n):t(null,null,b=a({},e,{components:r}))})}function r(e,n){e?t(e):t(null,n)}var o=(0,l["default"])(b,e),i=o.leaveRoutes,s=o.changeRoutes,u=o.enterRoutes;(0,c.runLeaveHooks)(i,b),i.filter(function(e){return-1===u.indexOf(e)}).forEach(m),(0,c.runChangeHooks)(s,b,e,function(t,o){return t||o?r(t,o):void(0,c.runEnterHooks)(u,e,n)})}function s(e){var t=arguments.length<=1||void 0===arguments[1]?!0:arguments[1];return e.__id__||t&&(e.__id__=w++)}function u(e){return e.reduce(function(e,t){return e.push.apply(e,x[s(t)]),e},[])}function p(e,n){(0,y["default"])(t,e,function(t,r){if(null==r)return void n();_=a({},r,{location:e});for(var o=u((0,l["default"])(b,_).leaveRoutes),i=void 0,s=0,c=o.length;null==i&&c>s;++s)i=o[s](e);n(i)})}function h(){if(b.routes){for(var e=u(b.routes),t=void 0,n=0,r=e.length;"string"!=typeof t&&r>n;++n)t=e[n]();return t}}function m(e){var t=s(e,!1);t&&(delete x[t],o(x)||(k&&(k(),k=null),E&&(E(),E=null)))}function g(t,n){var r=s(t),i=x[r];if(i)-1===i.indexOf(n)&&i.push(n);else{var a=!o(x);x[r]=[n],a&&(k=e.listenBefore(p),e.listenBeforeUnload&&(E=e.listenBeforeUnload(h)))}return function(){var e=x[r];if(e){var o=e.filter(function(e){return e!==n});0===o.length?m(t):x[r]=o}}}function v(t){return e.listen(function(n){b.location===n?t(null,b):r(n,function(n,r,o){n?t(n):r?e.replace(r):o&&t(null,o)})})}var b={},_=void 0,w=1,x=Object.create(null),k=void 0,E=void 0;return{isActive:n,match:r,listenBeforeLeavingRoute:g,listen:v}}t.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t["default"]=i;var s=n(7),u=(r(s),n(228)),l=r(u),c=n(225),p=n(232),f=r(p),h=n(229),d=r(h),m=n(234),y=r(m);e.exports=t["default"]},function(e,t){"use strict";function n(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)}function r(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent("on"+t,n)}function o(){return window.location.href.split("#")[1]||""}function i(e){window.location.replace(window.location.pathname+window.location.search+"#"+e)}function a(){return window.location.pathname+window.location.search+window.location.hash}function s(e){e&&window.history.go(e)}function u(e,t){t(window.confirm(e))}function l(){var e=navigator.userAgent;return-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone")?window.history&&"pushState"in window.history:!1}function c(){var e=navigator.userAgent;return-1===e.indexOf("Firefox")}t.__esModule=!0,t.addEventListener=n,t.removeEventListener=r,t.getHashPath=o,t.replaceHashPath=i,t.getWindowPath=a,t.go=s,t.getUserConfirmation=u,t.supportsHistory=l,t.supportsGoWithoutReloadUsingHash=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){return function(){return e.apply(this,arguments)}}t.__esModule=!0;var i=n(14);r(i);t["default"]=o,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t,n){var r=e(t,n);e.length<2&&n(r)}t.__esModule=!0;var i=n(14);r(i);t["default"]=o,e.exports=t["default"]},function(e,t,n){"use strict";function r(e,t){return Array.isArray(t)&&(t=t[1]),t?t.nextSibling:e.firstChild}function o(e,t,n){c.insertTreeBefore(e,t,n)}function i(e,t,n){Array.isArray(t)?s(e,t[0],t[1],n):y(e,t,n)}function a(e,t){if(Array.isArray(t)){var n=t[1];t=t[0],u(e,t,n),e.removeChild(n)}e.removeChild(t)}function s(e,t,n,r){for(var o=t;;){var i=o.nextSibling;if(y(e,o,r),o===n)break;o=i}}function u(e,t,n){for(;;){var r=t.nextSibling;if(r===n)break;e.removeChild(r)}}function l(e,t,n){var r=e.parentNode,o=e.nextSibling;o===t?n&&y(r,document.createTextNode(n),o):n?(m(o,n),u(r,o,t)):u(r,e,t)}var c=n(29),p=n(252),f=n(123),h=(n(6),n(11),n(74)),d=n(49),m=n(137),y=h(function(e,t,n){e.insertBefore(t,n)}),g=p.dangerouslyReplaceNodeWithMarkup,v={dangerouslyReplaceNodeWithMarkup:g,replaceDelimitedText:l,processUpdates:function(e,t){for(var n=0;n<t.length;n++){var s=t[n];switch(s.type){case f.INSERT_MARKUP:o(e,s.content,r(e,s.afterNode));break;case f.MOVE_EXISTING:i(e,s.fromNode,r(e,s.afterNode));break;case f.SET_MARKUP:d(e,s.content);break;case f.TEXT_CONTENT:m(e,s.content);break;case f.REMOVE_NODE:a(e,s.fromNode)}}}};e.exports=v},function(e,t){"use strict";var n={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};e.exports=n},function(e,t,n){"use strict";function r(){if(s)for(var e in u){var t=u[e],n=s.indexOf(e);if(n>-1?void 0:a("96",e),!l.plugins[n]){t.extractEvents?void 0:a("97",e),l.plugins[n]=t;var r=t.eventTypes;for(var i in r)o(r[i],t,i)?void 0:a("98",i,e)}}}function o(e,t,n){l.eventNameDispatchConfigs.hasOwnProperty(n)?a("99",n):void 0,l.eventNameDispatchConfigs[n]=e;var r=e.phasedRegistrationNames;if(r){for(var o in r)if(r.hasOwnProperty(o)){var s=r[o];i(s,t,n)}return!0}return e.registrationName?(i(e.registrationName,t,n),!0):!1}function i(e,t,n){l.registrationNameModules[e]?a("100",e):void 0,l.registrationNameModules[e]=t,l.registrationNameDependencies[e]=t.eventTypes[n].dependencies}var a=n(3),s=(n(2),null),u={},l={plugins:[],eventNameDispatchConfigs:{},registrationNameModules:{},registrationNameDependencies:{},possibleRegistrationNames:null,injectEventPluginOrder:function(e){s?a("101"):void 0,s=Array.prototype.slice.call(e),r()},injectEventPluginsByName:function(e){var t=!1;for(var n in e)if(e.hasOwnProperty(n)){var o=e[n];u.hasOwnProperty(n)&&u[n]===o||(u[n]?a("102",n):void 0,u[n]=o,t=!0)}t&&r()},getPluginModuleForEvent:function(e){var t=e.dispatchConfig;if(t.registrationName)return l.registrationNameModules[t.registrationName]||null;for(var n in t.phasedRegistrationNames)if(t.phasedRegistrationNames.hasOwnProperty(n)){var r=l.registrationNameModules[t.phasedRegistrationNames[n]];if(r)return r}return null},_resetEventPlugins:function(){s=null;for(var e in u)u.hasOwnProperty(e)&&delete u[e];l.plugins.length=0;var t=l.eventNameDispatchConfigs;for(var n in t)t.hasOwnProperty(n)&&delete t[n];var r=l.registrationNameModules;for(var o in r)r.hasOwnProperty(o)&&delete r[o]}};e.exports=l},function(e,t,n){"use strict";function r(e){return e===v.topMouseUp||e===v.topTouchEnd||e===v.topTouchCancel}function o(e){return e===v.topMouseMove||e===v.topTouchMove}function i(e){return e===v.topMouseDown||e===v.topTouchStart}function a(e,t,n,r){var o=e.type||"unknown-event";e.currentTarget=b.getNodeFromInstance(r),t?y.invokeGuardedCallbackWithCatch(o,n,e):y.invokeGuardedCallback(o,n,e),e.currentTarget=null}function s(e,t){var n=e._dispatchListeners,r=e._dispatchInstances;if(Array.isArray(n))for(var o=0;o<n.length&&!e.isPropagationStopped();o++)a(e,t,n[o],r[o]);else n&&a(e,t,n,r);e._dispatchListeners=null,e._dispatchInstances=null}function u(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t)){for(var r=0;r<t.length&&!e.isPropagationStopped();r++)if(t[r](e,n[r]))return n[r]}else if(t&&t(e,n))return n;return null}function l(e){var t=u(e);return e._dispatchInstances=null,e._dispatchListeners=null,t}function c(e){var t=e._dispatchListeners,n=e._dispatchInstances;Array.isArray(t)?d("103"):void 0,e.currentTarget=t?b.getNodeFromInstance(n):null;var r=t?t(e):null;return e.currentTarget=null,e._dispatchListeners=null,e._dispatchInstances=null,r}function p(e){return!!e._dispatchListeners}var f,h,d=n(3),m=n(17),y=n(68),g=(n(2),n(4),{injectComponentTree:function(e){f=e},injectTreeTraversal:function(e){h=e}}),v=m.topLevelTypes,b={isEndish:r,isMoveish:o,isStartish:i,executeDirectDispatch:c,executeDispatchesInOrder:s,executeDispatchesInOrderStopAtTrue:l,hasDispatches:p,getInstanceFromNode:function(e){return f.getInstanceFromNode(e)},getNodeFromInstance:function(e){return f.getNodeFromInstance(e)},isAncestor:function(e,t){return h.isAncestor(e,t)},getLowestCommonAncestor:function(e,t){return h.getLowestCommonAncestor(e,t)},getParentInstance:function(e){return h.getParentInstance(e)},traverseTwoPhase:function(e,t,n){return h.traverseTwoPhase(e,t,n)},traverseEnterLeave:function(e,t,n,r,o){return h.traverseEnterLeave(e,t,n,r,o)},injection:g};e.exports=b},function(e,t){"use strict";function n(e){var t=/[=:]/g,n={"=":"=0",":":"=2"},r=(""+e).replace(t,function(e){return n[e]});return"$"+r}function r(e){var t=/(=0|=2)/g,n={"=0":"=","=2":":"},r="."===e[0]&&"$"===e[1]?e.substring(2):e.substring(1);return(""+r).replace(t,function(e){return n[e]})}var o={escape:n,unescape:r};e.exports=o},function(e,t,n){"use strict";function r(e){null!=e.checkedLink&&null!=e.valueLink?s("87"):void 0}function o(e){r(e),null!=e.value||null!=e.onChange?s("88"):void 0}function i(e){r(e),null!=e.checked||null!=e.onChange?s("89"):void 0}function a(e){if(e){var t=e.getName();if(t)return" Check the render method of `"+t+"`."}return""}var s=n(3),u=n(125),l=n(71),c=n(72),p=(n(2),n(4),{button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0}),f={value:function(e,t,n){return!e[t]||p[e.type]||e.onChange||e.readOnly||e.disabled?null:new Error("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`.")},checked:function(e,t,n){return!e[t]||e.onChange||e.readOnly||e.disabled?null:new Error("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")},onChange:u.func},h={},d={checkPropTypes:function(e,t,n){for(var r in f){if(f.hasOwnProperty(r))var o=f[r](t,r,e,l.prop,null,c);if(o instanceof Error&&!(o.message in h)){h[o.message]=!0;a(n)}}},getValue:function(e){return e.valueLink?(o(e),e.valueLink.value):e.value},getChecked:function(e){return e.checkedLink?(i(e),e.checkedLink.value):e.checked},executeOnChange:function(e,t){return e.valueLink?(o(e),e.valueLink.requestChange(t.target.value)):e.checkedLink?(i(e),e.checkedLink.requestChange(t.target.checked)):e.onChange?e.onChange.call(void 0,t):void 0}};e.exports=d},function(e,t,n){"use strict";function r(e,t,n){this.props=e,this.context=t,this.refs=a,this.updater=n||i}var o=n(3),i=n(69),a=(n(129),n(33));n(2),n(4);r.prototype.isReactComponent={},r.prototype.setState=function(e,t){"object"!=typeof e&&"function"!=typeof e&&null!=e?o("85"):void 0,this.updater.enqueueSetState(this,e),t&&this.updater.enqueueCallback(this,t,"setState")},r.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this),e&&this.updater.enqueueCallback(this,e,"forceUpdate")};e.exports=r},function(e,t,n){"use strict";var r=n(3),o=(n(2),!1),i={replaceNodeWithMarkup:null,processChildrenUpdates:null,injection:{injectEnvironment:function(e){o?r("104"):void 0,i.replaceNodeWithMarkup=e.replaceNodeWithMarkup,i.processChildrenUpdates=e.processChildrenUpdates,o=!0}}};e.exports=i},function(e,t,n){"use strict";function r(e){var t=Function.prototype.toString,n=Object.prototype.hasOwnProperty,r=RegExp("^"+t.call(n).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");try{var o=t.call(e);return r.test(o)}catch(i){return!1}}function o(e){return"."+e}function i(e){return parseInt(e.substr(1),10)}function a(e){if(k)return g.get(e);var t=o(e);return b[t]}function s(e){if(k)g["delete"](e);else{var t=o(e);delete b[t]}}function u(e,t,n){var r={element:t,parentID:n,text:null,childIDs:[],isMounted:!1,updateCount:0};if(k)g.set(e,r);else{var i=o(e);b[i]=r}}function l(e){if(k)v.add(e);else{var t=o(e);_[t]=!0}}function c(e){if(k)v["delete"](e);else{var t=o(e);delete _[t]}}function p(){return k?Array.from(g.keys()):Object.keys(b).map(i)}function f(){return k?Array.from(v.keys()):Object.keys(_).map(i)}function h(e){var t=a(e);if(t){var n=t.childIDs;s(e),n.forEach(h)}}function d(e,t,n){return"\n    in "+e+(t?" (at "+t.fileName.replace(/^.*[\\\/]/,"")+":"+t.lineNumber+")":n?" (created by "+n+")":"")}function m(e){return null==e?"#empty":"string"==typeof e||"number"==typeof e?"#text":"string"==typeof e.type?e.type:e.type.displayName||e.type.name||"Unknown"}function y(e){var t,n=T.getDisplayName(e),r=T.getElement(e),o=T.getOwnerID(e);return o&&(t=T.getDisplayName(o)),d(n,r&&r._source,t)}var g,v,b,_,w=n(3),x=n(22),k=(n(2),n(4),"function"==typeof Array.from&&"function"==typeof Map&&r(Map)&&null!=Map.prototype&&"function"==typeof Map.prototype.keys&&r(Map.prototype.keys)&&"function"==typeof Set&&r(Set)&&null!=Set.prototype&&"function"==typeof Set.prototype.keys&&r(Set.prototype.keys));k?(g=new Map,v=new Set):(b={},_={});var E=[],T={onSetChildren:function(e,t){var n=a(e);n.childIDs=t;for(var r=0;r<t.length;r++){var o=t[r],i=a(o);i?void 0:w("140"),null==i.childIDs&&"object"==typeof i.element&&null!=i.element?w("141"):void 0,i.isMounted?void 0:w("71"),null==i.parentID&&(i.parentID=e),i.parentID!==e?w("142",o,i.parentID,e):void 0}},onBeforeMountComponent:function(e,t,n){u(e,t,n)},onBeforeUpdateComponent:function(e,t){var n=a(e);n&&n.isMounted&&(n.element=t)},onMountComponent:function(e){var t=a(e);t.isMounted=!0;var n=0===t.parentID;n&&l(e)},onUpdateComponent:function(e){var t=a(e);t&&t.isMounted&&t.updateCount++},onUnmountComponent:function(e){var t=a(e);if(t){t.isMounted=!1;var n=0===t.parentID;n&&c(e)}E.push(e)},purgeUnmountedComponents:function(){if(!T._preventPurging){for(var e=0;e<E.length;e++){var t=E[e];h(t)}E.length=0}},isMounted:function(e){var t=a(e);return t?t.isMounted:!1},getCurrentStackAddendum:function(e){var t="";if(e){var n=e.type,r="function"==typeof n?n.displayName||n.name:n,o=e._owner;t+=d(r||"Unknown",e._source,o&&o.getName())}var i=x.current,a=i&&i._debugID;return t+=T.getStackAddendumByID(a)},getStackAddendumByID:function(e){for(var t="";e;)t+=y(e),e=T.getParentID(e);return t},getChildIDs:function(e){var t=a(e);return t?t.childIDs:[]},getDisplayName:function(e){var t=T.getElement(e);return t?m(t):null},getElement:function(e){var t=a(e);return t?t.element:null},getOwnerID:function(e){var t=T.getElement(e);return t&&t._owner?t._owner._debugID:null},getParentID:function(e){var t=a(e);return t?t.parentID:null},getSource:function(e){var t=a(e),n=t?t.element:null,r=null!=n?n._source:null;return r},getText:function(e){var t=T.getElement(e);return"string"==typeof t?t:"number"==typeof t?""+t:null},getUpdateCount:function(e){var t=a(e);return t?t.updateCount:0},getRegisteredIDs:p,getRootIDs:f};e.exports=T},function(e,t,n){"use strict";function r(e,t,n,r){try{return t(n,r)}catch(i){return void(null===o&&(o=i))}}var o=null,i={invokeGuardedCallback:r,invokeGuardedCallbackWithCatch:r,rethrowCaughtError:function(){if(o){var e=o;throw o=null,e}}};e.exports=i},function(e,t,n){"use strict";function r(e,t){}var o=(n(4),{isMounted:function(e){return!1},enqueueCallback:function(e,t){},enqueueForceUpdate:function(e){
r(e,"forceUpdate")},enqueueReplaceState:function(e,t){r(e,"replaceState")},enqueueSetState:function(e,t){r(e,"setState")}});e.exports=o},function(e,t,n){"use strict";var r={};e.exports=r},function(e,t,n){"use strict";var r=n(39),o=r({prop:null,context:null,childContext:null});e.exports=o},function(e,t){"use strict";var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";e.exports=n},function(e,t,n){"use strict";function r(e){u.enqueueUpdate(e)}function o(e){var t=typeof e;if("object"!==t)return t;var n=e.constructor&&e.constructor.name||t,r=Object.keys(e);return r.length>0&&r.length<20?n+" (keys: "+r.join(", ")+")":n}function i(e,t){var n=s.get(e);if(!n){return null}return n}var a=n(3),s=(n(22),n(31)),u=(n(11),n(16)),l=(n(2),n(4),{isMounted:function(e){var t=s.get(e);return t?!!t._renderedComponent:!1},enqueueCallback:function(e,t,n){l.validateCallback(t,n);var o=i(e);return o?(o._pendingCallbacks?o._pendingCallbacks.push(t):o._pendingCallbacks=[t],void r(o)):null},enqueueCallbackInternal:function(e,t){e._pendingCallbacks?e._pendingCallbacks.push(t):e._pendingCallbacks=[t],r(e)},enqueueForceUpdate:function(e){var t=i(e,"forceUpdate");t&&(t._pendingForceUpdate=!0,r(t))},enqueueReplaceState:function(e,t){var n=i(e,"replaceState");n&&(n._pendingStateQueue=[t],n._pendingReplaceState=!0,r(n))},enqueueSetState:function(e,t){var n=i(e,"setState");if(n){var o=n._pendingStateQueue||(n._pendingStateQueue=[]);o.push(t),r(n)}},enqueueElementInternal:function(e,t,n){e._pendingElement=t,e._context=n,r(e)},validateCallback:function(e,t){e&&"function"!=typeof e?a("122",t,o(e)):void 0}});e.exports=l},function(e,t){"use strict";var n=function(e){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e};e.exports=n},function(e,t){"use strict";function n(e){var t,n=e.keyCode;return"charCode"in e?(t=e.charCode,0===t&&13===n&&(t=13)):t=n,t>=32||13===t?t:0}e.exports=n},function(e,t){"use strict";function n(e){var t=this,n=t.nativeEvent;if(n.getModifierState)return n.getModifierState(e);var r=o[e];return r?!!n[r]:!1}function r(e){return n}var o={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};e.exports=r},function(e,t){"use strict";function n(e){var t=e.target||e.srcElement||window;return t.correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}e.exports=n},function(e,t,n){"use strict";/**
	 * Checks if an event is supported in the current execution environment.
	 *
	 * NOTE: This will not work correctly for non-generic events such as `change`,
	 * `reset`, `load`, `error`, and `select`.
	 *
	 * Borrows from Modernizr.
	 *
	 * @param {string} eventNameSuffix Event name, e.g. "click".
	 * @param {?boolean} capture Check if the capture phase is supported.
	 * @return {boolean} True if the event is supported.
	 * @internal
	 * @license Modernizr 3.0.0pre (Custom Build) | MIT
	 */
function r(e,t){if(!i.canUseDOM||t&&!("addEventListener"in document))return!1;var n="on"+e,r=n in document;if(!r){var a=document.createElement("div");a.setAttribute(n,"return;"),r="function"==typeof a[n]}return!r&&o&&"wheel"===e&&(r=document.implementation.hasFeature("Events.wheel","3.0")),r}var o,i=n(9);i.canUseDOM&&(o=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0),e.exports=r},function(e,t){"use strict";function n(e,t){var n=null===e||e===!1,r=null===t||t===!1;if(n||r)return n===r;var o=typeof e,i=typeof t;return"string"===o||"number"===o?"string"===i||"number"===i:"object"===i&&e.type===t.type&&e.key===t.key}e.exports=n},function(e,t,n){"use strict";function r(e,t){return e&&"object"==typeof e&&null!=e.key?l.escape(e.key):t.toString(36)}function o(e,t,n,i){var f=typeof e;if("undefined"!==f&&"boolean"!==f||(e=null),null===e||"string"===f||"number"===f||s.isValidElement(e))return n(i,e,""===t?c+r(e,0):t),1;var h,d,m=0,y=""===t?c:t+p;if(Array.isArray(e))for(var g=0;g<e.length;g++)h=e[g],d=y+r(h,g),m+=o(h,d,n,i);else{var v=u(e);if(v){var b,_=v.call(e);if(v!==e.entries)for(var w=0;!(b=_.next()).done;)h=b.value,d=y+r(h,w++),m+=o(h,d,n,i);else for(;!(b=_.next()).done;){var x=b.value;x&&(h=x[1],d=y+l.escape(x[0])+p+r(h,0),m+=o(h,d,n,i))}}else if("object"===f){var k="",E=String(e);a("31","[object Object]"===E?"object with keys {"+Object.keys(e).join(", ")+"}":E,k)}}return m}function i(e,t,n){return null==e?0:o(e,"",t,n)}var a=n(3),s=(n(22),n(15)),u=n(133),l=(n(2),n(63)),c=(n(4),"."),p=":";e.exports=i},function(e,t,n){"use strict";var r=(n(5),n(10)),o=(n(4),r);e.exports=o},function(e,t,n){"use strict";var r=n(12),o=n(150),i=n(156),a=n(83),s=n(154),u="undefined"!=typeof window&&window.btoa||n(149),l=n(157);e.exports=function(e,t,c){var p=c.data,f=c.headers;r.isFormData(p)&&delete f["Content-Type"];var h=new XMLHttpRequest,d="onreadystatechange",m=!1;if("undefined"==typeof window||!window.XDomainRequest||"withCredentials"in h||s(c.url)||(h=new window.XDomainRequest,d="onload",m=!0,h.onprogress=function(){},h.ontimeout=function(){}),c.auth){var y=c.auth.username||"",g=c.auth.password||"";f.Authorization="Basic "+u(y+":"+g)}if(h.open(c.method.toUpperCase(),o(c.url,c.params,c.paramsSerializer),!0),h.timeout=c.timeout,h[d]=function(){if(h&&(4===h.readyState||m)&&0!==h.status){var n="getAllResponseHeaders"in h?i(h.getAllResponseHeaders()):null,r=c.responseType&&"text"!==c.responseType?h.response:h.responseText,o={data:a(r,n,c.transformResponse),status:1223===h.status?204:h.status,statusText:1223===h.status?"No Content":h.statusText,headers:n,config:c,request:h};l(e,t,o),h=null}},h.onerror=function(){t(new Error("Network Error")),h=null},h.ontimeout=function(){var e=new Error("timeout of "+c.timeout+"ms exceeded");e.timeout=c.timeout,e.code="ECONNABORTED",t(e),h=null},r.isStandardBrowserEnv()){var v=n(152),b=c.withCredentials||s(c.url)?v.read(c.xsrfCookieName):void 0;b&&(f[c.xsrfHeaderName]=b)}if("setRequestHeader"in h&&r.forEach(f,function(e,t){"undefined"==typeof p&&"content-type"===t.toLowerCase()?delete f[t]:h.setRequestHeader(t,e)}),c.withCredentials&&(h.withCredentials=!0),c.responseType)try{h.responseType=c.responseType}catch(_){if("json"!==h.responseType)throw _}c.progress&&("post"===c.method||"put"===c.method?h.upload.addEventListener("progress",c.progress):"get"===c.method&&h.addEventListener("progress",c.progress)),void 0===p&&(p=null),h.send(p)}},function(e,t,n){"use strict";var r=n(12);e.exports=function(e,t,n){return r.forEach(n,function(n){e=n(e,t)}),e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nodes=t.caseStudies=t.storyPages=t.CASE_STUDY_TYPES=t.STORY_IDS=void 0;var r=n(38),o=t.STORY_IDS={LIGHTHOUSE:{WASTE:{id:"waste",display:"WASTE",activeImg:"/images/waste-active.png",inactiveImg:"/images/waste-inactive.png"},SOURCING:{id:"sourcingAndAg",display:"SOURCING & AGRICULTURE",activeImg:"/images/sourcing-active.png",inactiveImg:"/images/sourcing-inactive.png"}}},i=t.CASE_STUDY_TYPES={REGULAR:"regular",SLIDESHOW:"slideshow"},a=t.storyPages=[{id:"lighthouse",story:"waste",storyDisplay:"WASTE",pageNumber:1,next:2,floatingText:{title:"Landfills in NY State",text:"New York City has a long history of trash. We used to dump it in the rivers. Then came landfills like Fresh Kills. Now we ship it all over the country (and sometimes the world).",position:"top-left"},content:{header:"Introduction",text:"Businesses in NYC produce about 5.5 million tons of waste per year* (not including demolition and construction). That's roughtly 350,000 garbe truck loads worth. Meanwhile, New York City spends hundreds of millions in contracts with waste haulers and landfill companies to take all of this waste out of sight and out of mind."},mapData:{center:{latitude:40.710818,longitude:-73.953722},zoom:8,data:[{type:"geojson",featureType:"circle",id:"landfills",data:"https://s3.amazonaws.com/nfl-map-data/landfills.geo.json",circleColor:r.COLORS.PRIMARY_COLOR},{type:"geojson",featureType:"circle",id:"fresh-kills-landfill",data:"https://s3.amazonaws.com/nfl-map-data/fresh-kills-landfill.geo.json",circleColor:r.COLORS.TERTIARY_COLOR}]}},{id:"lighthouse",story:"waste",storyDisplay:"WASTE",pageNumber:2,next:3,last:1,floatingText:{title:"Privately Owned Waste Carters",text:"Of the 77 that responded to an NYC survey, only 12 list food waste recycling as a service.",position:"top-center"},content:{header:"Trash As Business",text:"Businesses in NYC are required to contract with privately owned Waste Carters distributed around the city.  This data was voluntary, so it does not fully represent all carters in NYC.  Disposal can cost a business $X per year, so there's an incentive to go with the cheap guy who just throws everything in the trash. Notice how these companies tend to be concentrated in certain neighborhoods."},mapData:{data:{id:"nyc-carters",featureType:"circle",type:"geojson",data:"https://s3.amazonaws.com/nfl-map-data/NYC-Carter.geo.json"},center:{latitude:40.610818,longitude:-73.953722},zoom:7}},{id:"lighthouse",story:"waste",storyDisplay:"WASTE",pageNumber:3,next:4,last:2,floatingText:{title:"Transfer Stations",text:"NYC is home to over 130 transfer stations. They often are clustered in low income, or industrial neighborhoods like the South Bronx and along Newtown Creek, leading to concerns over air quality from both the trash and the trucks.",position:"top-left"},content:{header:"Transfer Away",text:'Collected waste is distributed to transfer stations throughout the city. The nature of privately owned waste management companies produces significant inefficiencies, often with multiple carting companies traveling along the same streets and routes, then driving back to the same neighborhoods.  It’s been calle the "Wild West" by some New York City officials.'},mapData:{data:{id:"transfer-stations",featureType:"circle",type:"geojson",data:"https://s3.amazonaws.com/nfl-map-data/Transfer-Stations.geo.json"},center:{latitude:40.610818,longitude:-73.953722},zoom:5}},{id:"lighthouse",story:"waste",storyDisplay:"WASTE",pageNumber:4,next:5,last:3,floatingText:{title:"How much do we recycle?",text:"As of 2010, Most community districts hover between 10 and 20% recylcing rates (amount waste recycled / total waste).",position:"top-left",image:n(325)},content:{header:"What's Collected?",text:'"The recycling rate for this giant waste stream is only about 25%, significantlyworse than the 40% commercial recycling rate published in Mayor Bloomberg’ 2011 PlaNYC update. Moreover, annual reports filed by private waste companies with the state suggest that recycling by major haulers may be much lower – only 9-13% in 201" Organic Waste makes up over 25% of the commercial waste stream.  Very little of it actually recycled.'},mapData:{data:{id:"recyling-rates",type:"geojson",featureType:"fill",data:"	https://s3.amazonaws.com/nfl-map-data/recycling_diversion_rates.geo.json",fillColor:{property:"Diversion Rate-Total (Total Recycling / Total Waste)",type:"interval",stops:[[10,"#fa9fb5"],[15,"#f768a1"],[20,"#dd3497"],[25,"#ae017e"],[50,"#7a0177"]],"default":"blue"}},center:{latitude:40.710818,longitude:-73.953722},zoom:11}},{id:"lighthouse",story:"waste",storyDisplay:"WASTE",pageNumber:5,next:6,last:4,content:{header:"Lighthouse",text:"Which brings us to Lighthouse.  Lighthouse attempts to show that there’s a better way to handle our waste"},mapData:{type:"symbol",data:{id:"lighthouse",icon:"/images/lighthouselogo_30px.png",label:"Lighthouse Restaurant",type:"symbol",latitude:40.710883,longitude:-73.953847},center:{latitude:40.7108827,longitude:-73.9560362},zoom:12}},{id:"lighthouse",story:"waste",storyDisplay:"WASTE",pageNumber:6,next:7,last:5,floatingText:{title:"Why did we choose Lighthouse?",text:"Recycled oyster shells, recycled corks, composting all organic waste, recycling all cans, bottles, and paper materials, and constructed largely out of found or second hand materials, Lighthouse exemplefies what it means to be a sustainable restaurant.",position:"top-left"},content:{header:"Diverting Waste",text:"Restaurants have to contract with a privately owned waste carter, which, as we saw, typically throw everything into the trash, destined for a landfill. It's the cheapest, easiest short term solution. Lighthouse is trying their best to beat the pretty dismal recycling rates throughout the city."},mapData:{data:{id:"diverting-waste",type:"geojson",featureType:"circle",data:"https://s3.amazonaws.com/nfl-map-data/lighthouse-waste-story-diverting-waste.geo.json"},center:{latitude:40.710818,longitude:-73.953722},zoom:11}},{id:"lighthouse",story:"waste",storyDisplay:"WASTE",pageNumber:7,next:8,last:6,floatingText:{title:"Getting involved in the community",text:"To educate restauranteurs, and businesses at large, about how to handle waste both responsibly and affordably is a big undertaking. Community organizations like NAG are fundamental in these efforts.",position:"top-left"},content:{header:"Waste Activism",text:"Lighthouse is working with NAG (Neighbor’s Allied for Good Growth) to put on workshops aimed to educate small business owners about how to handle their waste more sustainably."},mapData:{data:{id:"waste-activism",type:"geojson",featureType:"circle",data:"https://s3.amazonaws.com/nfl-map-data/nag.geo.json"},center:{longitude:-73.9636534,latitude:40.7208871},zoom:13}},{id:"lighthouse",story:"waste",storyDisplay:"WASTE",pageNumber:8,next:9,last:7,floatingText:{title:"Composting Facilities",text:"Composting facilities exist throughout NY State. So why are we still doing so poorly when it comes to composting? One potential answer lies in the sheer volume of food waste produced by NYC on a daily basis. 8 Million people produce quite a lot of food scraps.",position:"top-left"},content:{header:"What's Next?",text:"NYC doesn’t have the capacity to handle the amount of commercial organic waste produced, so to truly fix this issue, vast investments must be made into compost processing and anaerobic digesters (which turn food scraps into electricity).  Without larger systemic change, small business like Lighthouse are left to figure it all out themselves."},mapData:{data:{id:"composting",type:"geojson",featureType:"circle",data:"https://s3.amazonaws.com/nfl-map-data/composting_facilities.geo.json"},center:{longitude:-73.9636534,latitude:40.7208871},zoom:8}},{id:"lighthouse",story:"waste",storyDisplay:"WASTE",pageNumber:9,last:8,title:"Wrap Up",text:"We know there's a better way.  Seattle, for instance, recycles more than 60% of their waste stream.  Lighthouse provides a model for small businesses who want to take control of their waste.  Imagine all NYC restaurants diverting all their organic waste.  That's a big number.",content:{header:"Wrap Up",text:"We know there's a better way.  Seattle, for instance, recycles more than 60% of their waste stream.  Lighthouse provides a model for small businesses who want to take control of their waste.  Imagine all NYC restaurants diverting all their organic waste.  That's a big number."},mapData:{type:"symbol",data:{id:"lighthouse-wrapup",icon:"/images/lighthouselogo_30px.png",label:"Lighthouse Restaurant",type:"symbol",latitude:40.710883,longitude:-73.953847},center:{latitude:40.7108827,longitude:-73.9560362},zoom:12}},{id:"lighthouse",story:"sourcingAndAg",storyDisplay:"SOURCING & AGRICULTURE",pageNumber:1,floatingText:{title:"Population",text:"The sheer size of New York City makes it pretty remarkable that we can supply enough food for everyone. Whether everyone has access to that food is a different story, but there's no doubt there's enough to go around.",position:"top-left"},content:{header:"Introduction",text:"New York City houses over 8.5 million people. An estimated 5.7 million tons of food, both domestic and international, flow into New York City every year. That’s a lot So where does it all come from?  The answer, both over simplistically and quite accurately, is everywhere."},mapData:{data:{id:"nyc-population",type:"geojson",featureType:"fill",data:"https://s3.amazonaws.com/nfl-map-data/nyc-population-census-2010.geo.json",fillColor:{property:"Population",type:"interval",stops:[[1700,"#feebe2"],[3400,"#fcc5c0"],[5100,"#fa9fb5"],[6800,"#f768a1"],[8500,"#dd3497"],[10200,"#ae017e"],[11900,"#7a0177"]],"default":"blue"}},center:{latitude:40.710818,longitude:-73.953722},zoom:11}},{id:"lighthouse",story:"sourcingAndAg",storyDisplay:"SOURCING & AGRICULTURE",pageNumber:2,floatingText:{title:"National Wholesalers",text:"Much of the food that comes into the City is purchased by large National Wholesalers and Distributors - Sysco, White Rose, General Trading, C&S. These distributors purchase bulk from farms and other large food producers, then repack and distribute to businesses and consumers throughout the city.",position:"top-left"},content:{header:"A Countrywide Endeavor",text:"Much of the food that comes into the City is purchased by large National Wholesalers and Distributors - Sysco, White Rose, General Trading, C&S. These distributors purchase bulk from farms and other large food producers, then repack and distribute to businesses and consumers throughout the city. But they're not the only game i town..."},mapData:{data:{id:"wholesalers",type:"geojson",featureType:"circle",data:"https://s3.amazonaws.com/nfl-map-data/wholesalers.geo.json"},center:{latitude:36.1738691,longitude:-80.4458514},zoom:4}},{id:"lighthouse",story:"sourcingAndAg",storyDisplay:"SOURCING & AGRICULTURE",pageNumber:3,floatingText:{title:"Hunt's Point",text:"",position:"top-left"},content:{header:"Local Distribution",text:"You may have heard of Hunt's Point. It's a common name in the world of food in NYC. The neighborhood is home to a Distribution Center responsible for \"60 percent of the cit's produce and about half of the city's meat and fish\" While larger retailers like supermarkets might work with Sysco, or White Rose, the rest of the city's small businesses - bodegas, restaurants, small markets, specialty food shops - are likely to be found buying their goods from the Hunt's Point Market. Smaller distribution center’s exist throughout the city - often focusing on specific items or specialty goods - but none can touch the scale of Hunt's Point."},mapData:{data:{id:"hunts-point",type:"geojson",featureType:"fill",data:"https://s3.amazonaws.com/nfl-map-data/hunts-point.geo.json",fillColor:r.COLORS.PRIMARY_COLOR,fillOutlineColor:"red",opacity:.4},center:{latitude:40.810951,longitude:-73.8869236},zoom:13.5}},{id:"lighthouse",story:"sourcingAndAg",storyDisplay:"SOURCING & AGRICULTURE",pageNumber:4,floatingText:{title:"",text:"",position:"top-left"},content:{header:"Back to the Source",text:"Lighthouse believes in transparency, thus makes an effort to source their ingredients personally. What this means is that rather than purchase all their goods from Hunt's Point Market, or through a regional distributor, they often buy straight from the farm when they can. When they can’t buy direct, they work with distributors they can trust, that have a face and name, and value transparency. Check the map to see the distributors and farms that Lighthouse purchases from."},mapData:{data:{id:"lighthouse-sourcing",type:"geojson",featureType:"circle",data:"	https://s3.amazonaws.com/nfl-map-data/lighthouse-sourcing.geo.json",circleColor:{property:"type",type:"categorical",stops:[["farm","#66c2a5"],["producer","#fc8d62"],["products","#8da0cb"],["distributor","#e78ac3"],["shop","#a6d854"],["greenmarket","#ffd92f"]]}},center:{latitude:40.810951,longitude:-73.8869236},zoom:9}},{id:"lighthouse",story:"sourcingAndAg",storyDisplay:"SOURCING & AGRICULTURE",pageNumber:5,floatingText:{title:"NY Agricultural Districts",text:"Counties in New York State have the power to designate land as an Agricultural District, which provides legal protection from regulation or development that may impede the production of any farm that works the land within the district, unless there is a public health risk or concern.",position:"top-left"},content:{header:"Buying Local",text:'Many of the farms and distributors lighthouse works with try to stay local - so what\'s the deal with buying local "As of 2012, New York was home to more than 35,500 farms", contributing towards an estimated $5.4 billion in agricultural commodity sales in New York. Despite this, over 50% of farmers reported making less than $10,000 from sales. NYC itself has over 700 farms and gardens that grow food, but the overall contribution of urban agriculture remains small.'},mapData:{data:{id:"lighthouse-sourcing",type:"geojson",featureType:"fill",data:"https://s3.amazonaws.com/nfl-map-data/ny_ag_districts.geojson",fillColor:"blue"},center:{latitude:40.810951,longitude:-73.8869236},zoom:5}},{id:"lighthouse",story:"sourcingAndAg",storyDisplay:"SOURCING & AGRICULTURE",pageNumber:6,floatingText:{title:"",text:"",position:"top-left"},content:{header:"We Love Dairy",text:"As for what we farm, dairy production represents 44% of the New York’s total sales, totaling roughly $2.4 billion, the third highest in the country.*  Grains and beans come in 2nd, totaling 15% of sales, and Cattle and Calves in 3rd, grabbing 8% of sales.  Produce is quite low, fruits and vegetables combined only represents 11% of the market.  Lighthouse buys from Dairyland…Not sure how to finish this copy, tie it back to lighthouse"},mapData:{type:"symbol",data:{id:"lighthouse",icon:"/images/lighthouselogo_30px.png",label:"Lighthouse Restaurant",type:"symbol",latitude:40.710883,longitude:-73.953847},center:{latitude:40.7108827,longitude:-73.9560362},zoom:12}},{id:"lighthouse",story:"sourcingAndAg",storyDisplay:"SOURCING & AGRICULTURE",pageNumber:7,floatingText:{title:"",text:"",position:"top-left"},content:{header:"The Future of Food",text:"When thinking about local food, you might be tempted to say “can local farms really feed all of New York City?”  Probably not, but does that mean that the answer is an industrial scale production effort like what we have now?  Definitely not. Restaurants in New York often fall into the mold of our current system - strive for efficiency and cost effectiveness, which leads them to Hunt’s Point, or to a Wholesaler like White Rose But Lighthouse follows a different mentality - foster our communities by contributing to them. Be transparent. Know where your food comes from and how it gets to you. Only then can we start moving towards a more localized system that can feed our city."},mapData:{type:"symbol",data:{id:"lighthouse",icon:"/images/lighthouselogo_30px.png",label:"Lighthouse Restaurant",type:"symbol",latitude:40.710883,longitude:-73.953847},center:{latitude:40.7108827,longitude:-73.9560362},zoom:12}}];t.caseStudies={lighthouse:{name:"Lighthouse",headers:{sectionOne:"LIGHTHOUSE RESTAURANT",sectionTwo:"MEET LIGHTHOUSE"},type:i.REGULAR,videoSrc:"https://player.vimeo.com/video/143381669",id:"lighthouse",initialStory:o.LIGHTHOUSE.WASTE,stories:[o.LIGHTHOUSE.WASTE,o.LIGHTHOUSE.SOURCING],storySubHeader:"Lighthouse touches a wide swathe of the food system. Explore the various ways in which they intervene.",pages:a.filter(function(e){return"lighthouse"===e.id}),introText:"Of all the restaurants in New York City, why have we chosen this little Williamsburg spot to single out?  Lighthouse exemplifies what it means to participate in your food system.  Each leg of the tangled web that is the food system is carefully considered, from sourcing local ingredients, to recycling oyster shells, Lighthouse models what a sustainable restaurant can be.",mapData:{type:"symbol",data:{id:"lighthouse",icon:"/images/lighthouselogo_30px.png",label:"Lighthouse Restaurant",type:"symbol",latitude:40.710883,longitude:-73.953847},center:{latitude:40.7108827,longitude:-73.9560362},zoom:12}},wheat:{type:i.SLIDESHOW}},t.nodes={lighthouse:{waste:[{id:"introduction",to:"/learn/lighthouse/waste/1",pageNumber:1,title:"Introduction",next:"business"},{id:"business",to:"/learn/lighthouse/waste/2",pageNumber:2,title:"Trash as business",next:"transfer",last:"business"},{id:"transfer",to:"/learn/lighthouse/waste/3",pageNumber:3,title:"Transfer Away",next:"collection",last:"business"},{id:"collection",to:"/learn/lighthouse/waste/4",pageNumber:4,title:"What's Collected",next:"lighthouse",last:"transfer"},{id:"lighthouse",to:"/learn/lighthouse/waste/5",pageNumber:5,title:"Lighthouse",next:"diverting",last:"collection"},{id:"diverting",to:"/learn/lighthouse/waste/6",pageNumber:6,title:"Diverting Waste",next:"activism",last:"lighthouse"},{id:"activism",to:"/learn/lighthouse/waste/7",pageNumber:7,title:"Waste Activism",next:"next",last:"diverting"},{id:"next",to:"/learn/lighthouse/waste/8",title:"What's Next?",pageNumber:8,next:"wrapup",last:"activism"},{id:"wrapup",to:"/learn/lighthouse/waste/9",title:"Wrap Up",last:"next",pageNumber:9}],sourcingAndAg:[{id:"introduction",title:"Introduction",pageNumber:1},{id:"wholesalers",title:"National Wholesalers",pageNumber:2},{id:"hunts-point",title:"Hunt's Point",pageNumber:3},{id:"source",title:"Back to the Source",pageNumber:4},{id:"local",title:"Buying Local",pageNumber:5},{id:"dairy",title:"We Love Dairy",pageNumber:6},{id:"future",title:"The Future of Food",pageNumber:7}]}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=r(o);n(27);t["default"]=function(e){var t=e.nodes,n=e.activeId;return i["default"].createElement("div",{className:"node-list"},t.map(function(t){var r="node";return t.id===n&&(r+=" active"),i["default"].createElement("div",{key:t.id,className:r,onClick:function(){return e.handleClick(t)}},i["default"].createElement("div",{className:"node-inner"}))}))}},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),c=o(l),p=n(211),f=(o(p),n(13)),h=n(172),d=o(h),m=n(171),y=o(m),g=n(23),v=r(g),b=function(e){function t(e){i(this,t);var n=a(this,Object.getPrototypeOf(t).call(this,e));return n.state={showForm:!1,bannerExpanded:!1,impactOpen:!1},n.handleCloseMenu=n.handleCloseMenu.bind(n),n.handleOpenForm=n.handleOpenForm.bind(n),n.handleCloseForm=n.handleCloseForm.bind(n),n.toggleImpact=n.toggleImpact.bind(n),n.handleBack=n.handleBack.bind(n),n}return s(t,e),u(t,[{key:"componentDidMount",value:function(){var e=this.props.dispatch;e(v.startLoading())}},{key:"handleCloseMenu",value:function(){var e=this.props.dispatch;e(v.toggleMenu()),this.setState({showForm:!1})}},{key:"handleOpenForm",value:function(e){e.preventDefault(),this.setState({showForm:!0})}},{key:"handleCloseForm",value:function(e){e.preventDefault(),this.setState({showForm:!1})}},{key:"toggleImpact",value:function(){this.setState({impactOpen:!this.state.impactOpen})}},{key:"handleBack",value:function(){var e=this.props.dispatch;e(v.setSelectedProject(""))}},{key:"render",value:function(){var e=this.props,t=e.dataIsLoading,n=e.isLoading,r=(e.menu,e.popup,e.selectedProject),o=e.categories,i=e.projects,a=this.state.impactOpen;console.log(a);return c["default"].createElement("div",{className:"map-container"},c["default"].createElement(d["default"],{categories:o,selectedProject:r,containerId:"explore-map",projects:i}),c["default"].createElement(y["default"],{waitFor:[n,t]}))}}]),t}(c["default"].Component);b.propTypes={dispatch:c["default"].PropTypes.func.isRequired,categories:c["default"].PropTypes.object.isRequired,menu:c["default"].PropTypes.bool.isRequired,isLoading:c["default"].PropTypes.bool,popup:c["default"].PropTypes.object.isRequired,selectedProject:c["default"].PropTypes.string,projects:c["default"].PropTypes.object.isRequired,dataIsLoading:c["default"].PropTypes.bool.isRequired},t["default"]=(0,f.connect)(function(e){return{isLoading:e.isLoading,projects:e.projects,selectedProject:e.selectedProject,categories:e.categories,menu:e.menu,popup:e.popup,dataIsLoading:e.dataIsLoading}})(b)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),l=r(u),c=n(94),p=r(c),f=n(142),h=r(f),d=n(38),m=function(e){function t(e){o(this,t);var n=i(this,Object.getPrototypeOf(t).call(this,e));return n.state={center:n.props.center||[-74.0193459,40.6809955],zoom:n.props.zoom||10,pitch:n.props.pitch||0,bearing:n.props.bearing||0,loading:!0},n.renderPoint=n.renderPoint.bind(n),n.renderPoints=n.renderPoints.bind(n),n.renderData=n.renderData.bind(n),n.renderGeojson=n.renderGeojson.bind(n),n.initializeMouseHandlers=n.initializeMouseHandlers.bind(n),n.clearSourcesAndLayers=n.clearSourcesAndLayers.bind(n),n.removeLayer=n.removeLayer.bind(n),n.removeSource=n.removeSource.bind(n),n.flyTo=n.flyTo.bind(n),n.layers=[],n.sources=[],n}return a(t,e),s(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.mapId;p["default"].accessToken="pk.eyJ1IjoiamNoYXJyeSIsImEiOiJjaXE4OG1jMmEwMHZrZm5ra29sOXYxbXp1In0.BQMZZ9aI39WOAzLgdYZF3A",this.map=new p["default"].Map({container:t,style:"mapbox://styles/mapbox/light-v9",center:this.state.center,zoom:this.state.zoom,pitch:this.state.pitch}),this.map.on("load",function(){e.setState({loading:!1}),e.props.mapData&&(e.renderData(e.props.mapData.data),e.props.mapData.center&&e.flyTo(e.props.mapData.center,e.props.mapData.zoom,e.props.mapData.pitch,e.props.mapData.bearing)),e.initializeMouseHandlers()})}},{key:"componentDidUpdate",value:function(e){if(!h["default"].isEqual(this.props,e)){var t=this.props.mapData;this.renderData(t.data),t.center&&this.flyTo(t.center,t.zoom,t.pitch,t.bearing)}}},{key:"initializeMouseHandlers",value:function(){var e=this,t=this.props.onMouseMove;this.map.on("mousemove",function(n){var r=e.map.queryRenderedFeatures(n.point,{layers:e.layers});t(n,r)})}},{key:"flyTo",value:function(e,t,n,r){var o=void 0;o=void 0===e.length?[e.longitude,e.latitude]:e,this.map.flyTo({center:o,zoom:void 0===t?10:t,pitch:void 0===n?0:n,bearing:void 0===r?0:r})}},{key:"addCircleFeatures",value:function(e){this.map.addLayer({id:e.id,type:"circle",source:e.id,paint:{"circle-color":e.circleColor||"#225378"}}),this.layers.push(e.id+"-text"),this.map.addLayer({id:e.id+"-text",type:"symbol",source:e.id,layout:{"text-field":"{LABEL}","text-font":["Open Sans Semibold","Arial Unicode MS Bold"],"text-size":12,"text-offset":[1,0],"text-anchor":"left"}})}},{key:"addFillFeature",value:function(e){this.map.addLayer({id:e.id,type:"fill",source:e.id,paint:{"fill-color":e.fillColor||"#ffffff","fill-opacity":e.opacity||.8,"fill-outline-color":e.fillOutlineColor||"#ffffff","fill-antialias":!0}})}},{key:"clearSourcesAndLayers",value:function(){this.layers.forEach(this.removeLayer),this.sources.forEach(this.removeSource)}},{key:"removeLayer",value:function(e){this.map.removeLayer(e),this.layers=[]}},{key:"removeSource",value:function(e){this.map.removeSource(e),this.sources=[]}},{key:"renderData",value:function(e){var t=this;this.clearSourcesAndLayers(),console.log("map data",e);var n=function(e){switch(e.type){case"point":t.renderPoint(e);break;case"points":t.renderPoints(e.data);break;case"geojson":t.renderGeojson(e);break;case"symbol":t.renderSymbol(e)}};Array.isArray(e)?e.forEach(function(e){n(e)}):n(e)}},{key:"renderSymbol",value:function(e){var t=this;this.sources.push(e.id),this.layers.push(e.id),this.map.addSource(e.id,{type:"geojson",data:{type:"Feature",geometry:{type:"Point",coordinates:[e.longitude,e.latitude]},properties:{title:e.label}}}),this.map.loadImage(e.icon,function(n,r){try{t.map.addImage(e.id+"-img",r)}catch(o){console.log("error",o)}t.map.addLayer({id:e.id,type:"symbol",interactive:!0,source:e.id,layout:{visibility:"visible","icon-image":e.id+"-img","icon-size":1,"text-field":"{title}","text-font":["Open Sans Semibold","Arial Unicode MS Bold"],"text-size":24,"text-offset":[1,0],"text-anchor":"left"},paint:{"text-color":"black"}})})}},{key:"renderGeojson",value:function(e){switch(this.sources.push(e.id),this.layers.push(e.id),this.map.addSource(e.id,{type:"geojson",data:e.data}),e.featureType){case"circle":this.addCircleFeatures(e);break;case"fill":this.addFillFeature(e)}}},{key:"renderPoints",value:function(e){e.forEach(this.renderPoint)}},{key:"renderPoint",value:function(e){this.sources.push(e.id),this.layers.push(e.id),this.layers.push(e.id+"-text"),this.map.addSource(e.id,{type:"geojson",data:{type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"Point",coordinates:[e.longitude,e.latitude]},properties:{title:e.label,prjId:e.id}}]}}),this.map.addLayer({id:e.id,type:"circle",interactive:!0,source:e.id,paint:{"circle-radius":7,"circle-color":e.circleColor||d.COLORS.PRIMARY_COLOR},layout:{visibility:"visible"}}),this.map.addLayer({id:e.id+"-text",type:"symbol",interactive:!0,source:e.id,layout:{visibility:"visible","text-field":"{title}","text-font":["Open Sans Semibold","Arial Unicode MS Bold"],"text-size":12,"text-offset":[1,0],"text-anchor":"left"},paint:{"text-color":d.COLORS.PRIMARY_COLOR}})}},{key:"render",value:function(){return l["default"].createElement("div",{style:{width:"100%",height:"100%"}},l["default"].createElement("div",{style:{width:"100%",height:"100%"},id:this.props.mapId
}))}}]),t}(l["default"].Component);m.defaultProps={center:null,pitch:0,zoom:0,bearing:0,containerId:"",mapData:{},onMouseMove:function(){}},m.propTypes={center:l["default"].PropTypes.array,pitch:l["default"].PropTypes.number,zoom:l["default"].PropTypes.number,bearing:l["default"].PropTypes.number,mapData:l["default"].PropTypes.object,onMouseMove:l["default"].PropTypes.func,mapId:l["default"].PropTypes.string.isRequired},t["default"]=m},function(e,t,n){(function(e,r){/*!
	 * The buffer module from node.js, for the browser.
	 *
	 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
	 * @license  MIT
	 */
"use strict";function o(){function e(){}try{var t=new Uint8Array(1);return t.foo=function(){return 42},t.constructor=e,42===t.foo()&&t.constructor===e&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(n){return!1}}function i(){return e.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function e(t){return this instanceof e?(e.TYPED_ARRAY_SUPPORT||(this.length=0,this.parent=void 0),"number"==typeof t?a(this,t):"string"==typeof t?s(this,t,arguments.length>1?arguments[1]:"utf8"):u(this,t)):arguments.length>1?new e(t,arguments[1]):new e(t)}function a(t,n){if(t=m(t,0>n?0:0|y(n)),!e.TYPED_ARRAY_SUPPORT)for(var r=0;n>r;r++)t[r]=0;return t}function s(e,t,n){"string"==typeof n&&""!==n||(n="utf8");var r=0|v(t,n);return e=m(e,r),e.write(t,n),e}function u(t,n){if(e.isBuffer(n))return l(t,n);if(K(n))return c(t,n);if(null==n)throw new TypeError("must start with number, buffer, array or string");if("undefined"!=typeof ArrayBuffer){if(n.buffer instanceof ArrayBuffer)return p(t,n);if(n instanceof ArrayBuffer)return f(t,n)}return n.length?h(t,n):d(t,n)}function l(e,t){var n=0|y(t.length);return e=m(e,n),t.copy(e,0,0,n),e}function c(e,t){var n=0|y(t.length);e=m(e,n);for(var r=0;n>r;r+=1)e[r]=255&t[r];return e}function p(e,t){var n=0|y(t.length);e=m(e,n);for(var r=0;n>r;r+=1)e[r]=255&t[r];return e}function f(t,n){return e.TYPED_ARRAY_SUPPORT?(n.byteLength,t=e._augment(new Uint8Array(n))):t=p(t,new Uint8Array(n)),t}function h(e,t){var n=0|y(t.length);e=m(e,n);for(var r=0;n>r;r+=1)e[r]=255&t[r];return e}function d(e,t){var n,r=0;"Buffer"===t.type&&K(t.data)&&(n=t.data,r=0|y(n.length)),e=m(e,r);for(var o=0;r>o;o+=1)e[o]=255&n[o];return e}function m(t,n){e.TYPED_ARRAY_SUPPORT?(t=e._augment(new Uint8Array(n)),t.__proto__=e.prototype):(t.length=n,t._isBuffer=!0);var r=0!==n&&n<=e.poolSize>>>1;return r&&(t.parent=J),t}function y(e){if(e>=i())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i().toString(16)+" bytes");return 0|e}function g(t,n){if(!(this instanceof g))return new g(t,n);var r=new e(t,n);return delete r.parent,r}function v(e,t){"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"binary":case"raw":case"raws":return n;case"utf8":case"utf-8":return Y(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return H(e).length;default:if(r)return Y(e).length;t=(""+t).toLowerCase(),r=!0}}function b(e,t,n){var r=!1;if(t=0|t,n=void 0===n||n===1/0?this.length:0|n,e||(e="utf8"),0>t&&(t=0),n>this.length&&(n=this.length),t>=n)return"";for(;;)switch(e){case"hex":return z(this,t,n);case"utf8":case"utf-8":return C(this,t,n);case"ascii":return P(this,t,n);case"binary":return A(this,t,n);case"base64":return S(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function _(e,t,n,r){n=Number(n)||0;var o=e.length-n;r?(r=Number(r),r>o&&(r=o)):r=o;var i=t.length;if(i%2!==0)throw new Error("Invalid hex string");r>i/2&&(r=i/2);for(var a=0;r>a;a++){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))throw new Error("Invalid hex string");e[n+a]=s}return a}function w(e,t,n,r){return G(Y(t,e.length-n),e,n,r)}function x(e,t,n,r){return G(q(t),e,n,r)}function k(e,t,n,r){return x(e,t,n,r)}function E(e,t,n,r){return G(H(t),e,n,r)}function T(e,t,n,r){return G(W(t,e.length-n),e,n,r)}function S(e,t,n){return 0===t&&n===e.length?Z.fromByteArray(e):Z.fromByteArray(e.slice(t,n))}function C(e,t,n){n=Math.min(e.length,n);for(var r=[],o=t;n>o;){var i=e[o],a=null,s=i>239?4:i>223?3:i>191?2:1;if(n>=o+s){var u,l,c,p;switch(s){case 1:128>i&&(a=i);break;case 2:u=e[o+1],128===(192&u)&&(p=(31&i)<<6|63&u,p>127&&(a=p));break;case 3:u=e[o+1],l=e[o+2],128===(192&u)&&128===(192&l)&&(p=(15&i)<<12|(63&u)<<6|63&l,p>2047&&(55296>p||p>57343)&&(a=p));break;case 4:u=e[o+1],l=e[o+2],c=e[o+3],128===(192&u)&&128===(192&l)&&128===(192&c)&&(p=(15&i)<<18|(63&u)<<12|(63&l)<<6|63&c,p>65535&&1114112>p&&(a=p))}}null===a?(a=65533,s=1):a>65535&&(a-=65536,r.push(a>>>10&1023|55296),a=56320|1023&a),r.push(a),o+=s}return M(r)}function M(e){var t=e.length;if(Q>=t)return String.fromCharCode.apply(String,e);for(var n="",r=0;t>r;)n+=String.fromCharCode.apply(String,e.slice(r,r+=Q));return n}function P(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;n>o;o++)r+=String.fromCharCode(127&e[o]);return r}function A(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;n>o;o++)r+=String.fromCharCode(e[o]);return r}function z(e,t,n){var r=e.length;(!t||0>t)&&(t=0),(!n||0>n||n>r)&&(n=r);for(var o="",i=t;n>i;i++)o+=V(e[i]);return o}function R(e,t,n){for(var r=e.slice(t,n),o="",i=0;i<r.length;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function O(e,t,n){if(e%1!==0||0>e)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function L(t,n,r,o,i,a){if(!e.isBuffer(t))throw new TypeError("buffer must be a Buffer instance");if(n>i||a>n)throw new RangeError("value is out of bounds");if(r+o>t.length)throw new RangeError("index out of range")}function D(e,t,n,r){0>t&&(t=65535+t+1);for(var o=0,i=Math.min(e.length-n,2);i>o;o++)e[n+o]=(t&255<<8*(r?o:1-o))>>>8*(r?o:1-o)}function j(e,t,n,r){0>t&&(t=4294967295+t+1);for(var o=0,i=Math.min(e.length-n,4);i>o;o++)e[n+o]=t>>>8*(r?o:3-o)&255}function N(e,t,n,r,o,i){if(t>o||i>t)throw new RangeError("value is out of bounds");if(n+r>e.length)throw new RangeError("index out of range");if(0>n)throw new RangeError("index out of range")}function I(e,t,n,r,o){return o||N(e,t,n,4,3.4028234663852886e38,-3.4028234663852886e38),X.write(e,t,n,r,23,4),n+4}function F(e,t,n,r,o){return o||N(e,t,n,8,1.7976931348623157e308,-1.7976931348623157e308),X.write(e,t,n,r,52,8),n+8}function B(e){if(e=U(e).replace(ee,""),e.length<2)return"";for(;e.length%4!==0;)e+="=";return e}function U(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function V(e){return 16>e?"0"+e.toString(16):e.toString(16)}function Y(e,t){t=t||1/0;for(var n,r=e.length,o=null,i=[],a=0;r>a;a++){if(n=e.charCodeAt(a),n>55295&&57344>n){if(!o){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(56320>n){(t-=3)>-1&&i.push(239,191,189),o=n;continue}n=(o-55296<<10|n-56320)+65536}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,128>n){if((t-=1)<0)break;i.push(n)}else if(2048>n){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(65536>n){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(1114112>n))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function q(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t}function W(e,t){for(var n,r,o,i=[],a=0;a<e.length&&!((t-=2)<0);a++)n=e.charCodeAt(a),r=n>>8,o=n%256,i.push(o),i.push(r);return i}function H(e){return Z.toByteArray(B(e))}function G(e,t,n,r){for(var o=0;r>o&&!(o+n>=t.length||o>=e.length);o++)t[o+n]=e[o];return o}var Z=n(180),X=n(200),K=n(202);t.Buffer=e,t.SlowBuffer=g,t.INSPECT_MAX_BYTES=50,e.poolSize=8192;var J={};e.TYPED_ARRAY_SUPPORT=void 0!==r.TYPED_ARRAY_SUPPORT?r.TYPED_ARRAY_SUPPORT:o(),e.TYPED_ARRAY_SUPPORT?(e.prototype.__proto__=Uint8Array.prototype,e.__proto__=Uint8Array):(e.prototype.length=void 0,e.prototype.parent=void 0),e.isBuffer=function(e){return!(null==e||!e._isBuffer)},e.compare=function(t,n){if(!e.isBuffer(t)||!e.isBuffer(n))throw new TypeError("Arguments must be Buffers");if(t===n)return 0;for(var r=t.length,o=n.length,i=0,a=Math.min(r,o);a>i&&t[i]===n[i];)++i;return i!==a&&(r=t[i],o=n[i]),o>r?-1:r>o?1:0},e.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},e.concat=function(t,n){if(!K(t))throw new TypeError("list argument must be an Array of Buffers.");if(0===t.length)return new e(0);var r;if(void 0===n)for(n=0,r=0;r<t.length;r++)n+=t[r].length;var o=new e(n),i=0;for(r=0;r<t.length;r++){var a=t[r];a.copy(o,i),i+=a.length}return o},e.byteLength=v,e.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?C(this,0,e):b.apply(this,arguments)},e.prototype.equals=function(t){if(!e.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t?!0:0===e.compare(this,t)},e.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},e.prototype.compare=function(t){if(!e.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t?0:e.compare(this,t)},e.prototype.indexOf=function(t,n){function r(e,t,n){for(var r=-1,o=0;n+o<e.length;o++)if(e[n+o]===t[-1===r?0:o-r]){if(-1===r&&(r=o),o-r+1===t.length)return n+r}else r=-1;return-1}if(n>2147483647?n=2147483647:-2147483648>n&&(n=-2147483648),n>>=0,0===this.length)return-1;if(n>=this.length)return-1;if(0>n&&(n=Math.max(this.length+n,0)),"string"==typeof t)return 0===t.length?-1:String.prototype.indexOf.call(this,t,n);if(e.isBuffer(t))return r(this,t,n);if("number"==typeof t)return e.TYPED_ARRAY_SUPPORT&&"function"===Uint8Array.prototype.indexOf?Uint8Array.prototype.indexOf.call(this,t,n):r(this,[t],n);throw new TypeError("val must be string, number or Buffer")},e.prototype.get=function(e){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(e)},e.prototype.set=function(e,t){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(e,t)},e.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else if(isFinite(t))t=0|t,isFinite(n)?(n=0|n,void 0===r&&(r="utf8")):(r=n,n=void 0);else{var o=r;r=t,t=0|n,n=o}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(0>n||0>t)||t>this.length)throw new RangeError("attempt to write outside buffer bounds");r||(r="utf8");for(var a=!1;;)switch(r){case"hex":return _(this,e,t,n);case"utf8":case"utf-8":return w(this,e,t,n);case"ascii":return x(this,e,t,n);case"binary":return k(this,e,t,n);case"base64":return E(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,e,t,n);default:if(a)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),a=!0}},e.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Q=4096;e.prototype.slice=function(t,n){var r=this.length;t=~~t,n=void 0===n?r:~~n,0>t?(t+=r,0>t&&(t=0)):t>r&&(t=r),0>n?(n+=r,0>n&&(n=0)):n>r&&(n=r),t>n&&(n=t);var o;if(e.TYPED_ARRAY_SUPPORT)o=e._augment(this.subarray(t,n));else{var i=n-t;o=new e(i,void 0);for(var a=0;i>a;a++)o[a]=this[a+t]}return o.length&&(o.parent=this.parent||this),o},e.prototype.readUIntLE=function(e,t,n){e=0|e,t=0|t,n||O(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r},e.prototype.readUIntBE=function(e,t,n){e=0|e,t=0|t,n||O(e,t,this.length);for(var r=this[e+--t],o=1;t>0&&(o*=256);)r+=this[e+--t]*o;return r},e.prototype.readUInt8=function(e,t){return t||O(e,1,this.length),this[e]},e.prototype.readUInt16LE=function(e,t){return t||O(e,2,this.length),this[e]|this[e+1]<<8},e.prototype.readUInt16BE=function(e,t){return t||O(e,2,this.length),this[e]<<8|this[e+1]},e.prototype.readUInt32LE=function(e,t){return t||O(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},e.prototype.readUInt32BE=function(e,t){return t||O(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},e.prototype.readIntLE=function(e,t,n){e=0|e,t=0|t,n||O(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return o*=128,r>=o&&(r-=Math.pow(2,8*t)),r},e.prototype.readIntBE=function(e,t,n){e=0|e,t=0|t,n||O(e,t,this.length);for(var r=t,o=1,i=this[e+--r];r>0&&(o*=256);)i+=this[e+--r]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*t)),i},e.prototype.readInt8=function(e,t){return t||O(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},e.prototype.readInt16LE=function(e,t){t||O(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},e.prototype.readInt16BE=function(e,t){t||O(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},e.prototype.readInt32LE=function(e,t){return t||O(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},e.prototype.readInt32BE=function(e,t){return t||O(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},e.prototype.readFloatLE=function(e,t){return t||O(e,4,this.length),X.read(this,e,!0,23,4)},e.prototype.readFloatBE=function(e,t){return t||O(e,4,this.length),X.read(this,e,!1,23,4)},e.prototype.readDoubleLE=function(e,t){return t||O(e,8,this.length),X.read(this,e,!0,52,8)},e.prototype.readDoubleBE=function(e,t){return t||O(e,8,this.length),X.read(this,e,!1,52,8)},e.prototype.writeUIntLE=function(e,t,n,r){e=+e,t=0|t,n=0|n,r||L(this,e,t,n,Math.pow(2,8*n),0);var o=1,i=0;for(this[t]=255&e;++i<n&&(o*=256);)this[t+i]=e/o&255;return t+n},e.prototype.writeUIntBE=function(e,t,n,r){e=+e,t=0|t,n=0|n,r||L(this,e,t,n,Math.pow(2,8*n),0);var o=n-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+n},e.prototype.writeUInt8=function(t,n,r){return t=+t,n=0|n,r||L(this,t,n,1,255,0),e.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[n]=255&t,n+1},e.prototype.writeUInt16LE=function(t,n,r){return t=+t,n=0|n,r||L(this,t,n,2,65535,0),e.TYPED_ARRAY_SUPPORT?(this[n]=255&t,this[n+1]=t>>>8):D(this,t,n,!0),n+2},e.prototype.writeUInt16BE=function(t,n,r){return t=+t,n=0|n,r||L(this,t,n,2,65535,0),e.TYPED_ARRAY_SUPPORT?(this[n]=t>>>8,this[n+1]=255&t):D(this,t,n,!1),n+2},e.prototype.writeUInt32LE=function(t,n,r){return t=+t,n=0|n,r||L(this,t,n,4,4294967295,0),e.TYPED_ARRAY_SUPPORT?(this[n+3]=t>>>24,this[n+2]=t>>>16,this[n+1]=t>>>8,this[n]=255&t):j(this,t,n,!0),n+4},e.prototype.writeUInt32BE=function(t,n,r){return t=+t,n=0|n,r||L(this,t,n,4,4294967295,0),e.TYPED_ARRAY_SUPPORT?(this[n]=t>>>24,this[n+1]=t>>>16,this[n+2]=t>>>8,this[n+3]=255&t):j(this,t,n,!1),n+4},e.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t=0|t,!r){var o=Math.pow(2,8*n-1);L(this,e,t,n,o-1,-o)}var i=0,a=1,s=0>e?1:0;for(this[t]=255&e;++i<n&&(a*=256);)this[t+i]=(e/a>>0)-s&255;return t+n},e.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t=0|t,!r){var o=Math.pow(2,8*n-1);L(this,e,t,n,o-1,-o)}var i=n-1,a=1,s=0>e?1:0;for(this[t+i]=255&e;--i>=0&&(a*=256);)this[t+i]=(e/a>>0)-s&255;return t+n},e.prototype.writeInt8=function(t,n,r){return t=+t,n=0|n,r||L(this,t,n,1,127,-128),e.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),0>t&&(t=255+t+1),this[n]=255&t,n+1},e.prototype.writeInt16LE=function(t,n,r){return t=+t,n=0|n,r||L(this,t,n,2,32767,-32768),e.TYPED_ARRAY_SUPPORT?(this[n]=255&t,this[n+1]=t>>>8):D(this,t,n,!0),n+2},e.prototype.writeInt16BE=function(t,n,r){return t=+t,n=0|n,r||L(this,t,n,2,32767,-32768),e.TYPED_ARRAY_SUPPORT?(this[n]=t>>>8,this[n+1]=255&t):D(this,t,n,!1),n+2},e.prototype.writeInt32LE=function(t,n,r){return t=+t,n=0|n,r||L(this,t,n,4,2147483647,-2147483648),e.TYPED_ARRAY_SUPPORT?(this[n]=255&t,this[n+1]=t>>>8,this[n+2]=t>>>16,this[n+3]=t>>>24):j(this,t,n,!0),n+4},e.prototype.writeInt32BE=function(t,n,r){return t=+t,n=0|n,r||L(this,t,n,4,2147483647,-2147483648),0>t&&(t=4294967295+t+1),e.TYPED_ARRAY_SUPPORT?(this[n]=t>>>24,this[n+1]=t>>>16,this[n+2]=t>>>8,this[n+3]=255&t):j(this,t,n,!1),n+4},e.prototype.writeFloatLE=function(e,t,n){return I(this,e,t,!0,n)},e.prototype.writeFloatBE=function(e,t,n){return I(this,e,t,!1,n)},e.prototype.writeDoubleLE=function(e,t,n){return F(this,e,t,!0,n)},e.prototype.writeDoubleBE=function(e,t,n){return F(this,e,t,!1,n)},e.prototype.copy=function(t,n,r,o){if(r||(r=0),o||0===o||(o=this.length),n>=t.length&&(n=t.length),n||(n=0),o>0&&r>o&&(o=r),o===r)return 0;if(0===t.length||0===this.length)return 0;if(0>n)throw new RangeError("targetStart out of bounds");if(0>r||r>=this.length)throw new RangeError("sourceStart out of bounds");if(0>o)throw new RangeError("sourceEnd out of bounds");o>this.length&&(o=this.length),t.length-n<o-r&&(o=t.length-n+r);var i,a=o-r;if(this===t&&n>r&&o>n)for(i=a-1;i>=0;i--)t[i+n]=this[i+r];else if(1e3>a||!e.TYPED_ARRAY_SUPPORT)for(i=0;a>i;i++)t[i+n]=this[i+r];else t._set(this.subarray(r,r+a),n);return a},e.prototype.fill=function(e,t,n){if(e||(e=0),t||(t=0),n||(n=this.length),t>n)throw new RangeError("end < start");if(n!==t&&0!==this.length){if(0>t||t>=this.length)throw new RangeError("start out of bounds");if(0>n||n>this.length)throw new RangeError("end out of bounds");var r;if("number"==typeof e)for(r=t;n>r;r++)this[r]=e;else{var o=Y(e.toString()),i=o.length;for(r=t;n>r;r++)this[r]=o[r%i]}return this}},e.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(e.TYPED_ARRAY_SUPPORT)return new e(this).buffer;for(var t=new Uint8Array(this.length),n=0,r=t.length;r>n;n+=1)t[n]=this[n];return t.buffer}throw new TypeError("Buffer.toArrayBuffer not supported in this browser")};var $=e.prototype;e._augment=function(t){return t.constructor=e,t._isBuffer=!0,t._set=t.set,t.get=$.get,t.set=$.set,t.write=$.write,t.toString=$.toString,t.toLocaleString=$.toString,t.toJSON=$.toJSON,t.equals=$.equals,t.compare=$.compare,t.indexOf=$.indexOf,t.copy=$.copy,t.slice=$.slice,t.readUIntLE=$.readUIntLE,t.readUIntBE=$.readUIntBE,t.readUInt8=$.readUInt8,t.readUInt16LE=$.readUInt16LE,t.readUInt16BE=$.readUInt16BE,t.readUInt32LE=$.readUInt32LE,t.readUInt32BE=$.readUInt32BE,t.readIntLE=$.readIntLE,t.readIntBE=$.readIntBE,t.readInt8=$.readInt8,t.readInt16LE=$.readInt16LE,t.readInt16BE=$.readInt16BE,t.readInt32LE=$.readInt32LE,t.readInt32BE=$.readInt32BE,t.readFloatLE=$.readFloatLE,t.readFloatBE=$.readFloatBE,t.readDoubleLE=$.readDoubleLE,t.readDoubleBE=$.readDoubleBE,t.writeUInt8=$.writeUInt8,t.writeUIntLE=$.writeUIntLE,t.writeUIntBE=$.writeUIntBE,t.writeUInt16LE=$.writeUInt16LE,t.writeUInt16BE=$.writeUInt16BE,t.writeUInt32LE=$.writeUInt32LE,t.writeUInt32BE=$.writeUInt32BE,t.writeIntLE=$.writeIntLE,t.writeIntBE=$.writeIntBE,t.writeInt8=$.writeInt8,t.writeInt16LE=$.writeInt16LE,t.writeInt16BE=$.writeInt16BE,t.writeInt32LE=$.writeInt32LE,t.writeInt32BE=$.writeInt32BE,t.writeFloatLE=$.writeFloatLE,t.writeFloatBE=$.writeFloatBE,t.writeDoubleLE=$.writeDoubleLE,t.writeDoubleBE=$.writeDoubleBE,t.fill=$.fill,t.inspect=$.inspect,t.toArrayBuffer=$.toArrayBuffer,t};var ee=/[^+\/0-9A-Za-z-_]/g}).call(t,n(88).Buffer,function(){return this}())},function(e,t,n){"use strict";var r=n(10),o={listen:function(e,t,n){return e.addEventListener?(e.addEventListener(t,n,!1),{remove:function(){e.removeEventListener(t,n,!1)}}):e.attachEvent?(e.attachEvent("on"+t,n),{remove:function(){e.detachEvent("on"+t,n)}}):void 0},capture:function(e,t,n){return e.addEventListener?(e.addEventListener(t,n,!0),{remove:function(){e.removeEventListener(t,n,!0)}}):{remove:r}},registerDefault:function(){}};e.exports=o},function(e,t){"use strict";function n(e){try{e.focus()}catch(t){}}e.exports=n},function(e,t){"use strict";function n(){if("undefined"==typeof document)return null;try{return document.activeElement||document.body}catch(e){return document.body}}e.exports=n},function(e,t,n){e.exports=n.p+"fonts/norwester.eot"},function(e,t,n){var r=n(209),o=r.Symbol;e.exports=o},function(e,t,n){var r,r;(function(t,n){!function(t){e.exports=t()}(function(){var e;return function n(e,t,o){function i(s,u){if(!t[s]){if(!e[s]){var l="function"==typeof r&&r;if(!u&&l)return r(s,!0);if(a)return a(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var p=t[s]={exports:{}};e[s][0].call(p.exports,function(t){var n=e[s][1][t];return i(n?n:t)},p,p.exports,n,e,t,o)}return t[s].exports}for(var a="function"==typeof r&&r,s=0;s<o.length;s++)i(o[s]);return i}({1:[function(t,n,r){!function(t,o){"object"==typeof r&&"undefined"!=typeof n?n.exports=o():"function"==typeof e&&e.amd?e(o):t.glMatrix=o()}(this,function(){"use strict";function e(){var e=new Float32Array(3);return e[0]=0,e[1]=0,e[2]=0,e}function t(e,t,n){var r=t[0],o=t[1],i=t[2];return e[0]=r*n[0]+o*n[3]+i*n[6],e[1]=r*n[1]+o*n[4]+i*n[7],e[2]=r*n[2]+o*n[5]+i*n[8],e}function n(){var e=new Float32Array(4);return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e}function r(e,t,n){var r=t[0],o=t[1],i=t[2],a=t[3];return e[0]=n[0]*r+n[4]*o+n[8]*i+n[12]*a,e[1]=n[1]*r+n[5]*o+n[9]*i+n[13]*a,e[2]=n[2]*r+n[6]*o+n[10]*i+n[14]*a,e[3]=n[3]*r+n[7]*o+n[11]*i+n[15]*a,e}function o(){var e=new Float32Array(4);return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e}function i(e,t,n){var r=t[0],o=t[1],i=t[2],a=t[3],s=Math.sin(n),u=Math.cos(n);return e[0]=r*u+i*s,e[1]=o*u+a*s,e[2]=r*-s+i*u,e[3]=o*-s+a*u,e}function a(e,t,n){var r=t[0],o=t[1],i=t[2],a=t[3],s=n[0],u=n[1];return e[0]=r*s,e[1]=o*s,e[2]=i*u,e[3]=a*u,e}function s(){var e=new Float32Array(9);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function u(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=0,e[3]=-n,e[4]=r,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function l(){var e=new Float32Array(16);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function c(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function p(e,t){var n=t[0],r=t[1],o=t[2],i=t[3],a=t[4],s=t[5],u=t[6],l=t[7],c=t[8],p=t[9],f=t[10],h=t[11],d=t[12],m=t[13],y=t[14],g=t[15],v=n*s-r*a,b=n*u-o*a,_=n*l-i*a,w=r*u-o*s,x=r*l-i*s,k=o*l-i*u,E=c*m-p*d,T=c*y-f*d,S=c*g-h*d,C=p*y-f*m,M=p*g-h*m,P=f*g-h*y,A=v*P-b*M+_*C+w*S-x*T+k*E;return A?(A=1/A,e[0]=(s*P-u*M+l*C)*A,e[1]=(o*M-r*P-i*C)*A,e[2]=(m*k-y*x+g*w)*A,e[3]=(f*x-p*k-h*w)*A,e[4]=(u*S-a*P-l*T)*A,e[5]=(n*P-o*S+i*T)*A,e[6]=(y*_-d*k-g*b)*A,e[7]=(c*k-f*_+h*b)*A,e[8]=(a*M-s*S+l*E)*A,e[9]=(r*S-n*M-i*E)*A,e[10]=(d*x-m*_+g*v)*A,e[11]=(p*_-c*x-h*v)*A,e[12]=(s*T-a*C-u*E)*A,e[13]=(n*C-r*T+o*E)*A,e[14]=(m*b-d*w-y*v)*A,e[15]=(c*w-p*b+f*v)*A,e):null}function f(e,t,n){var r=t[0],o=t[1],i=t[2],a=t[3],s=t[4],u=t[5],l=t[6],c=t[7],p=t[8],f=t[9],h=t[10],d=t[11],m=t[12],y=t[13],g=t[14],v=t[15],b=n[0],_=n[1],w=n[2],x=n[3];return e[0]=b*r+_*s+w*p+x*m,e[1]=b*o+_*u+w*f+x*y,e[2]=b*i+_*l+w*h+x*g,e[3]=b*a+_*c+w*d+x*v,b=n[4],_=n[5],w=n[6],x=n[7],e[4]=b*r+_*s+w*p+x*m,e[5]=b*o+_*u+w*f+x*y,e[6]=b*i+_*l+w*h+x*g,e[7]=b*a+_*c+w*d+x*v,b=n[8],_=n[9],w=n[10],x=n[11],e[8]=b*r+_*s+w*p+x*m,e[9]=b*o+_*u+w*f+x*y,e[10]=b*i+_*l+w*h+x*g,e[11]=b*a+_*c+w*d+x*v,b=n[12],_=n[13],w=n[14],x=n[15],e[12]=b*r+_*s+w*p+x*m,e[13]=b*o+_*u+w*f+x*y,e[14]=b*i+_*l+w*h+x*g,e[15]=b*a+_*c+w*d+x*v,e}function h(e,t,n){var r,o,i,a,s,u,l,c,p,f,h,d,m=n[0],y=n[1],g=n[2];return t===e?(e[12]=t[0]*m+t[4]*y+t[8]*g+t[12],e[13]=t[1]*m+t[5]*y+t[9]*g+t[13],e[14]=t[2]*m+t[6]*y+t[10]*g+t[14],e[15]=t[3]*m+t[7]*y+t[11]*g+t[15]):(r=t[0],o=t[1],i=t[2],a=t[3],s=t[4],u=t[5],l=t[6],c=t[7],p=t[8],f=t[9],h=t[10],d=t[11],e[0]=r,e[1]=o,e[2]=i,e[3]=a,e[4]=s,e[5]=u,e[6]=l,e[7]=c,e[8]=p,e[9]=f,e[10]=h,e[11]=d,e[12]=r*m+s*y+p*g+t[12],e[13]=o*m+u*y+f*g+t[13],e[14]=i*m+l*y+h*g+t[14],e[15]=a*m+c*y+d*g+t[15]),e}function d(e,t,n){var r=n[0],o=n[1],i=n[2];return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*o,e[5]=t[5]*o,e[6]=t[6]*o,e[7]=t[7]*o,e[8]=t[8]*i,e[9]=t[9]*i,e[10]=t[10]*i,e[11]=t[11]*i,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function m(e,t,n){var r=Math.sin(n),o=Math.cos(n),i=t[4],a=t[5],s=t[6],u=t[7],l=t[8],c=t[9],p=t[10],f=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=i*o+l*r,e[5]=a*o+c*r,e[6]=s*o+p*r,e[7]=u*o+f*r,e[8]=l*o-i*r,e[9]=c*o-a*r,e[10]=p*o-s*r,e[11]=f*o-u*r,e}function y(e,t,n){var r=Math.sin(n),o=Math.cos(n),i=t[0],a=t[1],s=t[2],u=t[3],l=t[4],c=t[5],p=t[6],f=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=i*o+l*r,e[1]=a*o+c*r,e[2]=s*o+p*r,e[3]=u*o+f*r,e[4]=l*o-i*r,e[5]=c*o-a*r,e[6]=p*o-s*r,e[7]=f*o-u*r,e}function g(e,t,n,r,o){var i=1/Math.tan(t/2),a=1/(r-o);return e[0]=i/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=i,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=(o+r)*a,e[11]=-1,e[12]=0,e[13]=0,e[14]=2*o*r*a,e[15]=0,e}function v(e,t,n,r,o,i,a){var s=1/(t-n),u=1/(r-o),l=1/(i-a);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*u,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*l,e[11]=0,e[12]=(t+n)*s,e[13]=(o+r)*u,e[14]=(a+i)*l,e[15]=1,e}var b=(e(),n(),{vec3:{transformMat3:t},vec4:{transformMat4:r},mat2:{create:o,rotate:i,scale:a},mat3:{create:s,fromRotation:u},mat4:{create:l,identity:c,translate:h,scale:d,multiply:f,perspective:g,rotateX:m,rotateZ:y,invert:p,ortho:v}});return b})},{}],2:[function(t,n,r){!function(t,o){"object"==typeof r&&"undefined"!=typeof n?n.exports=o():"function"==typeof e&&e.amd?e(o):t.ShelfPack=o()}(this,function(){function e(e,t,n){n=n||{},this.w=e||64,this.h=t||64,this.autoResize=!!n.autoResize,this.shelves=[],this.freebins=[],this.stats={},this.bins={},this.maxId=0}function t(e,t,n){this.x=0,this.y=e,this.w=this.free=t,this.h=n}function n(e,t,n,r,o,i,a){this.id=e,this.x=t,this.y=n,this.w=r,this.h=o,this.maxw=i||r,this.maxh=a||o,this.refcount=0}return e.prototype.pack=function(e,t){e=[].concat(e),t=t||{};for(var n,r,o,i,a=[],s=0;s<e.length;s++)if(n=e[s].w||e[s].width,r=e[s].h||e[s].height,o=e[s].id,n&&r){if(i=this.packOne(n,r,o),!i)continue;t.inPlace&&(e[s].x=i.x,e[s].y=i.y,e[s].id=i.id),a.push(i)}if(this.shelves.length>0){for(var u=0,l=0,c=0;c<this.shelves.length;c++){var p=this.shelves[c];l+=p.h,u=Math.max(p.w-p.free,u)}this.resize(u,l)}return a},e.prototype.packOne=function(e,n,r){var o,i,a,s,u={freebin:-1,shelf:-1,waste:1/0},l=0;if("string"==typeof r||"number"==typeof r){if(o=this.getBin(r))return this.ref(o),o;"number"==typeof r&&(this.maxId=Math.max(r,this.maxId))}else r=++this.maxId;for(s=0;s<this.freebins.length;s++){if(o=this.freebins[s],n===o.maxh&&e===o.maxw)return this.allocFreebin(s,e,n,r);n>o.maxh||e>o.maxw||n<=o.maxh&&e<=o.maxw&&(a=o.maxw*o.maxh-e*n,a<u.waste&&(u.waste=a,u.freebin=s))}for(s=0;s<this.shelves.length;s++)if(i=this.shelves[s],l+=i.h,!(e>i.free)){if(n===i.h)return this.allocShelf(s,e,n,r);n>i.h||n<i.h&&(a=(i.h-n)*e,a<u.waste&&(u.freebin=-1,u.waste=a,u.shelf=s))}if(-1!==u.freebin)return this.allocFreebin(u.freebin,e,n,r);if(-1!==u.shelf)return this.allocShelf(u.shelf,e,n,r);if(n<=this.h-l&&e<=this.w)return i=new t(l,this.w,n),this.allocShelf(this.shelves.push(i)-1,e,n,r);if(this.autoResize){var c,p,f,h;return c=p=this.h,f=h=this.w,(c>=f||e>f)&&(h=2*Math.max(e,f)),(f>c||n>c)&&(p=2*Math.max(n,c)),this.resize(h,p),this.packOne(e,n,r)}return null},e.prototype.allocFreebin=function(e,t,n,r){var o=this.freebins.splice(e,1)[0];return o.id=r,o.w=t,o.h=n,o.refcount=0,this.bins[r]=o,this.ref(o),o},e.prototype.allocShelf=function(e,t,n,r){var o=this.shelves[e],i=o.alloc(t,n,r);return this.bins[r]=i,this.ref(i),i},e.prototype.getBin=function(e){return this.bins[e]},e.prototype.ref=function(e){if(1===++e.refcount){var t=e.h;this.stats[t]=(0|this.stats[t])+1}return e.refcount},e.prototype.unref=function(e){return 0===e.refcount?0:(0===--e.refcount&&(this.stats[e.h]--,delete this.bins[e.id],this.freebins.push(e)),e.refcount)},e.prototype.clear=function(){this.shelves=[],this.freebins=[],this.stats={},this.bins={},this.maxId=0},e.prototype.resize=function(e,t){this.w=e,this.h=t;for(var n=0;n<this.shelves.length;n++)this.shelves[n].resize(e);return!0},t.prototype.alloc=function(e,t,r){if(e>this.free||t>this.h)return null;var o=this.x;return this.x+=e,this.free-=e,new n(r,o,this.y,e,t,e,this.h)},t.prototype.resize=function(e){return this.free+=e-this.w,this.w=e,!0},e})},{}],3:[function(e,t,n){function r(e,t,n,r){this.cx=3*e,this.bx=3*(n-e)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*t,this.by=3*(r-t)-this.cy,this.ay=1-this.cy-this.by,this.p1x=e,this.p1y=r,this.p2x=n,this.p2y=r}t.exports=r,r.prototype.sampleCurveX=function(e){return((this.ax*e+this.bx)*e+this.cx)*e},r.prototype.sampleCurveY=function(e){return((this.ay*e+this.by)*e+this.cy)*e},r.prototype.sampleCurveDerivativeX=function(e){return(3*this.ax*e+2*this.bx)*e+this.cx},r.prototype.solveCurveX=function(e,t){"undefined"==typeof t&&(t=1e-6);var n,r,o,i,a;for(o=e,a=0;8>a;a++){if(i=this.sampleCurveX(o)-e,Math.abs(i)<t)return o;var s=this.sampleCurveDerivativeX(o);if(Math.abs(s)<1e-6)break;o-=i/s}if(n=0,r=1,o=e,n>o)return n;if(o>r)return r;for(;r>n;){if(i=this.sampleCurveX(o),Math.abs(i-e)<t)return o;e>i?n=o:r=o,o=.5*(r-n)+n}return o},r.prototype.solve=function(e,t){return this.sampleCurveY(this.solveCurveX(e,t))}},{}],4:[function(t,n,r){!function(t,o){"object"==typeof r&&"undefined"!=typeof n?o(r):"function"==typeof e&&e.amd?e(["exports"],o):o(t.WhooTS=t.WhooTS||{})}(this,function(e){function t(e,t,r,o,i,a){a=a||{};var s=e+"?"+["bbox="+n(r,o,i),"format="+(a.format||"image/png"),"service="+(a.service||"WMS"),"version="+(a.version||"1.1.1"),"request="+(a.request||"GetMap"),"srs="+(a.srs||"EPSG:3857"),"width="+(a.width||256),"height="+(a.height||256),"layers="+t].join("&");return s}function n(e,t,n){t=Math.pow(2,n)-t-1;var o=r(256*e,256*t,n),i=r(256*(e+1),256*(t+1),n);return o[0]+","+o[1]+","+i[0]+","+i[1]}function r(e,t,n){var r=2*Math.PI*6378137/256/Math.pow(2,n),o=e*r-2*Math.PI*6378137/2,i=t*r-2*Math.PI*6378137/2;return[o,i]}e.getURL=t,e.getTileBBox=n,e.getMercCoords=r,Object.defineProperty(e,"__esModule",{value:!0})})},{}],5:[function(e,t,n){"use strict";function r(e,t,n){n=n||2;var r=t&&t.length,i=r?t[0]*n:e.length,s=o(e,0,i,n,!0),u=[];if(!s)return u;var l,c,f,h,d,m,y;if(r&&(s=p(e,t,s,n)),e.length>80*n){l=f=e[0],c=h=e[1];for(var g=n;i>g;g+=n)d=e[g],m=e[g+1],l>d&&(l=d),c>m&&(c=m),d>f&&(f=d),m>h&&(h=m);y=Math.max(f-l,h-c)}return a(s,u,n,l,c,y),u}function o(e,t,n,r,o){var i,a;if(o===z(e,t,n,r)>0)for(i=t;n>i;i+=r)a=M(i,e[i],e[i+1],a);else for(i=n-r;i>=t;i-=r)a=M(i,e[i],e[i+1],a);return a&&x(a,a.next)&&(P(a),a=a.next),a}function i(e,t){if(!e)return e;t||(t=e);var n,r=e;do if(n=!1,r.steiner||!x(r,r.next)&&0!==w(r.prev,r,r.next))r=r.next;else{if(P(r),r=t=r.prev,r===r.next)return null;n=!0}while(n||r!==t);return t}function a(e,t,n,r,o,p,f){if(e){!f&&p&&m(e,r,o,p);for(var h,d,y=e;e.prev!==e.next;)if(h=e.prev,d=e.next,p?u(e,r,o,p):s(e))t.push(h.i/n),t.push(e.i/n),t.push(d.i/n),P(e),e=d.next,y=d.next;else if(e=d,e===y){f?1===f?(e=l(e,t,n),a(e,t,n,r,o,p,2)):2===f&&c(e,t,n,r,o,p):a(i(e),t,n,r,o,p,1);break}}}function s(e){var t=e.prev,n=e,r=e.next;if(w(t,n,r)>=0)return!1;for(var o=e.next.next;o!==e.prev;){if(b(t.x,t.y,n.x,n.y,r.x,r.y,o.x,o.y)&&w(o.prev,o,o.next)>=0)return!1;o=o.next}return!0}function u(e,t,n,r){var o=e.prev,i=e,a=e.next;if(w(o,i,a)>=0)return!1;for(var s=o.x<i.x?o.x<a.x?o.x:a.x:i.x<a.x?i.x:a.x,u=o.y<i.y?o.y<a.y?o.y:a.y:i.y<a.y?i.y:a.y,l=o.x>i.x?o.x>a.x?o.x:a.x:i.x>a.x?i.x:a.x,c=o.y>i.y?o.y>a.y?o.y:a.y:i.y>a.y?i.y:a.y,p=g(s,u,t,n,r),f=g(l,c,t,n,r),h=e.nextZ;h&&h.z<=f;){if(h!==e.prev&&h!==e.next&&b(o.x,o.y,i.x,i.y,a.x,a.y,h.x,h.y)&&w(h.prev,h,h.next)>=0)return!1;h=h.nextZ}for(h=e.prevZ;h&&h.z>=p;){if(h!==e.prev&&h!==e.next&&b(o.x,o.y,i.x,i.y,a.x,a.y,h.x,h.y)&&w(h.prev,h,h.next)>=0)return!1;h=h.prevZ}return!0}function l(e,t,n){var r=e;do{var o=r.prev,i=r.next.next;!x(o,i)&&k(o,r,r.next,i)&&T(o,i)&&T(i,o)&&(t.push(o.i/n),t.push(r.i/n),t.push(i.i/n),P(r),P(r.next),r=e=i),r=r.next}while(r!==e);return r}function c(e,t,n,r,o,s){var u=e;do{for(var l=u.next.next;l!==u.prev;){if(u.i!==l.i&&_(u,l)){var c=C(u,l);return u=i(u,u.next),c=i(c,c.next),a(u,t,n,r,o,s),void a(c,t,n,r,o,s)}l=l.next}u=u.next}while(u!==e)}function p(e,t,n,r){var a,s,u,l,c,p=[];for(a=0,s=t.length;s>a;a++)u=t[a]*r,l=s-1>a?t[a+1]*r:e.length,c=o(e,u,l,r,!1),c===c.next&&(c.steiner=!0),p.push(v(c));for(p.sort(f),a=0;a<p.length;a++)h(p[a],n),n=i(n,n.next);return n}function f(e,t){return e.x-t.x}function h(e,t){if(t=d(e,t)){var n=C(t,e);i(n,n.next)}}function d(e,t){var n,r=t,o=e.x,i=e.y,a=-(1/0);do{if(i<=r.y&&i>=r.next.y){var s=r.x+(i-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(o>=s&&s>a){if(a=s,s===o){if(i===r.y)return r;if(i===r.next.y)return r.next;
}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==t);if(!n)return null;if(o===a)return n.prev;var u,l=n,c=n.x,p=n.y,f=1/0;for(r=n.next;r!==l;)o>=r.x&&r.x>=c&&b(p>i?o:a,i,c,p,p>i?a:o,i,r.x,r.y)&&(u=Math.abs(i-r.y)/(o-r.x),(f>u||u===f&&r.x>n.x)&&T(r,e)&&(n=r,f=u)),r=r.next;return n}function m(e,t,n,r){var o=e;do null===o.z&&(o.z=g(o.x,o.y,t,n,r)),o.prevZ=o.prev,o.nextZ=o.next,o=o.next;while(o!==e);o.prevZ.nextZ=null,o.prevZ=null,y(o)}function y(e){var t,n,r,o,i,a,s,u,l=1;do{for(n=e,e=null,i=null,a=0;n;){for(a++,r=n,s=0,t=0;l>t&&(s++,r=r.nextZ);t++);for(u=l;s>0||u>0&&r;)0===s?(o=r,r=r.nextZ,u--):0!==u&&r?n.z<=r.z?(o=n,n=n.nextZ,s--):(o=r,r=r.nextZ,u--):(o=n,n=n.nextZ,s--),i?i.nextZ=o:e=o,o.prevZ=i,i=o;n=r}i.nextZ=null,l*=2}while(a>1);return e}function g(e,t,n,r,o){return e=32767*(e-n)/o,t=32767*(t-r)/o,e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),e=1431655765&(e|e<<1),t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),e|t<<1}function v(e){var t=e,n=e;do t.x<n.x&&(n=t),t=t.next;while(t!==e);return n}function b(e,t,n,r,o,i,a,s){return(o-a)*(t-s)-(e-a)*(i-s)>=0&&(e-a)*(r-s)-(n-a)*(t-s)>=0&&(n-a)*(i-s)-(o-a)*(r-s)>=0}function _(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!E(e,t)&&T(e,t)&&T(t,e)&&S(e,t)}function w(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function x(e,t){return e.x===t.x&&e.y===t.y}function k(e,t,n,r){return!!(x(e,t)&&x(n,r)||x(e,r)&&x(n,t))||w(e,t,n)>0!=w(e,t,r)>0&&w(n,r,e)>0!=w(n,r,t)>0}function E(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&k(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}function T(e,t){return w(e.prev,e,e.next)<0?w(e,t,e.next)>=0&&w(e,e.prev,t)>=0:w(e,t,e.prev)<0||w(e,e.next,t)<0}function S(e,t){var n=e,r=!1,o=(e.x+t.x)/2,i=(e.y+t.y)/2;do n.y>i!=n.next.y>i&&o<(n.next.x-n.x)*(i-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==e);return r}function C(e,t){var n=new A(e.i,e.x,e.y),r=new A(t.i,t.x,t.y),o=e.next,i=t.prev;return e.next=t,t.prev=e,n.next=o,o.prev=n,r.next=n,n.prev=r,i.next=r,r.prev=i,r}function M(e,t,n,r){var o=new A(e,t,n);return r?(o.next=r.next,o.prev=r,r.next.prev=o,r.next=o):(o.prev=o,o.next=o),o}function P(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function A(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function z(e,t,n,r){for(var o=0,i=t,a=n-r;n>i;i+=r)o+=(e[a]-e[i])*(e[i+1]+e[a+1]),a=i;return o}t.exports=r,r.deviation=function(e,t,n,r){var o=t&&t.length,i=o?t[0]*n:e.length,a=Math.abs(z(e,0,i,n));if(o)for(var s=0,u=t.length;u>s;s++){var l=t[s]*n,c=u-1>s?t[s+1]*n:e.length;a-=Math.abs(z(e,l,c,n))}var p=0;for(s=0;s<r.length;s+=3){var f=r[s]*n,h=r[s+1]*n,d=r[s+2]*n;p+=Math.abs((e[f]-e[d])*(e[h+1]-e[f+1])-(e[f]-e[h])*(e[d+1]-e[f+1]))}return 0===a&&0===p?0:Math.abs((p-a)/a)},r.flatten=function(e){for(var t=e[0][0].length,n={vertices:[],holes:[],dimensions:t},r=0,o=0;o<e.length;o++){for(var i=0;i<e[o].length;i++)for(var a=0;t>a;a++)n.vertices.push(e[o][i][a]);o>0&&(r+=e[o-1].length,n.holes.push(r))}return n}},{}],6:[function(e,t,n){function r(e){if("Polygon"===e.type)return o(e.coordinates);if("MultiPolygon"===e.type){for(var t=0,n=0;n<e.coordinates.length;n++)t+=o(e.coordinates[n]);return t}return null}function o(e){var t=0;if(e&&e.length>0){t+=Math.abs(i(e[0]));for(var n=1;n<e.length;n++)t-=Math.abs(i(e[n]))}return t}function i(e){var t=0;if(e.length>2){for(var n,r,o=0;o<e.length-1;o++)n=e[o],r=e[o+1],t+=a(r[0]-n[0])*(2+Math.sin(a(n[1]))+Math.sin(a(r[1])));t=t*s.RADIUS*s.RADIUS/2}return t}function a(e){return e*Math.PI/180}var s=e("wgs84");t.exports.geometry=r,t.exports.ring=i},{wgs84:42}],7:[function(e,t,n){function r(e,t){switch(e&&e.type||null){case"FeatureCollection":return e.features=e.features.map(o(r,t)),e;case"Feature":return e.geometry=r(e.geometry,t),e;case"Polygon":case"MultiPolygon":return i(e,t);default:return e}}function o(e,t){return function(n){return e(n,t)}}function i(e,t){return"Polygon"===e.type?e.coordinates=a(e.coordinates,t):"MultiPolygon"===e.type&&(e.coordinates=e.coordinates.map(o(a,t))),e}function a(e,t){t=!!t,e[0]=s(e[0],!t);for(var n=1;n<e.length;n++)e[n]=s(e[n],t);return e}function s(e,t){return u(e)===t?e:e.reverse()}function u(e){return l.ring(e)>=0}var l=e("geojson-area");t.exports=r},{"geojson-area":6}],8:[function(e,t,n){"use strict";function r(e,t,n,r,a,u,l,c){if(n/=t,r/=t,l>=n&&r>=c)return e;if(l>r||n>c)return null;for(var p=[],f=0;f<e.length;f++){var h,d,m=e[f],y=m.geometry,g=m.type;if(h=m.min[a],d=m.max[a],h>=n&&r>=d)p.push(m);else if(!(h>r||n>d)){var v=1===g?o(y,n,r,a):i(y,n,r,a,u,3===g);v.length&&p.push(s(m.tags,g,v,m.id))}}return p.length?p:null}function o(e,t,n,r){for(var o=[],i=0;i<e.length;i++){var a=e[i],s=a[r];s>=t&&n>=s&&o.push(a)}return o}function i(e,t,n,r,o,i){for(var s=[],u=0;u<e.length;u++){var l,c,p,f=0,h=0,d=null,m=e[u],y=m.area,g=m.dist,v=m.outer,b=m.length,_=[];for(c=0;b-1>c;c++)l=d||m[c],d=m[c+1],f=h||l[r],h=d[r],t>f?h>n?(_.push(o(l,d,t),o(l,d,n)),i||(_=a(s,_,y,g,v))):h>=t&&_.push(o(l,d,t)):f>n?t>h?(_.push(o(l,d,n),o(l,d,t)),i||(_=a(s,_,y,g,v))):n>=h&&_.push(o(l,d,n)):(_.push(l),t>h?(_.push(o(l,d,t)),i||(_=a(s,_,y,g,v))):h>n&&(_.push(o(l,d,n)),i||(_=a(s,_,y,g,v))));l=m[b-1],f=l[r],f>=t&&n>=f&&_.push(l),p=_[_.length-1],i&&p&&(_[0][0]!==p[0]||_[0][1]!==p[1])&&_.push(_[0]),a(s,_,y,g,v)}return s}function a(e,t,n,r,o){return t.length&&(t.area=n,t.dist=r,void 0!==o&&(t.outer=o),e.push(t)),[]}t.exports=r;var s=e("./feature")},{"./feature":10}],9:[function(e,t,n){"use strict";function r(e,t){var n=[];if("FeatureCollection"===e.type)for(var r=0;r<e.features.length;r++)o(n,e.features[r],t);else"Feature"===e.type?o(n,e,t):o(n,{geometry:e},t);return n}function o(e,t,n){if(null!==t.geometry){var r,s,u,c,p=t.geometry,f=p.type,h=p.coordinates,d=t.properties,m=t.id;if("Point"===f)e.push(l(d,1,[a(h)],m));else if("MultiPoint"===f)e.push(l(d,1,i(h),m));else if("LineString"===f)e.push(l(d,2,[i(h,n)],m));else if("MultiLineString"===f||"Polygon"===f){for(u=[],r=0;r<h.length;r++)c=i(h[r],n),"Polygon"===f&&(c.outer=0===r),u.push(c);e.push(l(d,"Polygon"===f?3:2,u,m))}else if("MultiPolygon"===f){for(u=[],r=0;r<h.length;r++)for(s=0;s<h[r].length;s++)c=i(h[r][s],n),c.outer=0===s,u.push(c);e.push(l(d,3,u,m))}else{if("GeometryCollection"!==f)throw new Error("Input data is not a valid GeoJSON object.");for(r=0;r<p.geometries.length;r++)o(e,{geometry:p.geometries[r],properties:d},n)}}}function i(e,t){for(var n=[],r=0;r<e.length;r++)n.push(a(e[r]));return t&&(u(n,t),s(n)),n}function a(e){var t=Math.sin(e[1]*Math.PI/180),n=e[0]/360+.5,r=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return r=0>r?0:r>1?1:r,[n,r,0]}function s(e){for(var t,n,r=0,o=0,i=0;i<e.length-1;i++)t=n||e[i],n=e[i+1],r+=t[0]*n[1]-n[0]*t[1],o+=Math.abs(n[0]-t[0])+Math.abs(n[1]-t[1]);e.area=Math.abs(r/2),e.dist=o}t.exports=r;var u=e("./simplify"),l=e("./feature")},{"./feature":10,"./simplify":12}],10:[function(e,t,n){"use strict";function r(e,t,n,r){var i={id:r||null,type:t,geometry:n,tags:e||null,min:[1/0,1/0],max:[-(1/0),-(1/0)]};return o(i),i}function o(e){var t=e.geometry,n=e.min,r=e.max;if(1===e.type)i(n,r,t);else for(var o=0;o<t.length;o++)i(n,r,t[o]);return e}function i(e,t,n){for(var r,o=0;o<n.length;o++)r=n[o],e[0]=Math.min(r[0],e[0]),t[0]=Math.max(r[0],t[0]),e[1]=Math.min(r[1],e[1]),t[1]=Math.max(r[1],t[1])}t.exports=r},{}],11:[function(e,t,n){"use strict";function r(e,t){return new o(e,t)}function o(e,t){t=this.options=u(Object.create(this.options),t);var n=t.debug;n&&console.time("preprocess data");var r=1<<t.maxZoom,o=c(e,t.tolerance/(r*t.extent));this.tiles={},this.tileCoords=[],n&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",t.indexMaxZoom,t.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),o=h(o,t.buffer/t.extent,a),o.length&&this.splitTile(o,0,0,0),n&&(o.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function i(e,t,n){return 32*((1<<e)*n+t)+e}function a(e,t,n){return[n,(n-e[0])*(t[1]-e[1])/(t[0]-e[0])+e[1],1]}function s(e,t,n){return[(n-e[1])*(t[0]-e[0])/(t[1]-e[1])+e[0],n,1]}function u(e,t){for(var n in t)e[n]=t[n];return e}function l(e,t,n){var r=e.source;if(1!==r.length)return!1;var o=r[0];if(3!==o.type||o.geometry.length>1)return!1;var i=o.geometry[0].length;if(5!==i)return!1;for(var a=0;i>a;a++){var s=p.point(o.geometry[0][a],t,e.z2,e.x,e.y);if(s[0]!==-n&&s[0]!==t+n||s[1]!==-n&&s[1]!==t+n)return!1}return!0}t.exports=r;var c=e("./convert"),p=e("./transform"),f=e("./clip"),h=e("./wrap"),d=e("./tile");o.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,solidChildren:!1,tolerance:3,extent:4096,buffer:64,debug:0},o.prototype.splitTile=function(e,t,n,r,o,u,c){for(var p=[e,t,n,r],h=this.options,m=h.debug,y=null;p.length;){r=p.pop(),n=p.pop(),t=p.pop(),e=p.pop();var g=1<<t,v=i(t,n,r),b=this.tiles[v],_=t===h.maxZoom?0:h.tolerance/(g*h.extent);if(!b&&(m>1&&console.time("creation"),b=this.tiles[v]=d(e,g,n,r,_,t===h.maxZoom),this.tileCoords.push({z:t,x:n,y:r}),m)){m>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",t,n,r,b.numFeatures,b.numPoints,b.numSimplified),console.timeEnd("creation"));var w="z"+t;this.stats[w]=(this.stats[w]||0)+1,this.total++}if(b.source=e,o){if(t===h.maxZoom||t===o)continue;var x=1<<o-t;if(n!==Math.floor(u/x)||r!==Math.floor(c/x))continue}else if(t===h.indexMaxZoom||b.numPoints<=h.indexMaxPoints)continue;if(h.solidChildren||!l(b,h.extent,h.buffer)){b.source=null,m>1&&console.time("clipping");var k,E,T,S,C,M,P=.5*h.buffer/h.extent,A=.5-P,z=.5+P,R=1+P;k=E=T=S=null,C=f(e,g,n-P,n+z,0,a,b.min[0],b.max[0]),M=f(e,g,n+A,n+R,0,a,b.min[0],b.max[0]),C&&(k=f(C,g,r-P,r+z,1,s,b.min[1],b.max[1]),E=f(C,g,r+A,r+R,1,s,b.min[1],b.max[1])),M&&(T=f(M,g,r-P,r+z,1,s,b.min[1],b.max[1]),S=f(M,g,r+A,r+R,1,s,b.min[1],b.max[1])),m>1&&console.timeEnd("clipping"),e.length&&(p.push(k||[],t+1,2*n,2*r),p.push(E||[],t+1,2*n,2*r+1),p.push(T||[],t+1,2*n+1,2*r),p.push(S||[],t+1,2*n+1,2*r+1))}else o&&(y=t)}return y},o.prototype.getTile=function(e,t,n){var r=this.options,o=r.extent,a=r.debug,s=1<<e;t=(t%s+s)%s;var u=i(e,t,n);if(this.tiles[u])return p.tile(this.tiles[u],o);a>1&&console.log("drilling down to z%d-%d-%d",e,t,n);for(var c,f=e,h=t,d=n;!c&&f>0;)f--,h=Math.floor(h/2),d=Math.floor(d/2),c=this.tiles[i(f,h,d)];if(!c||!c.source)return null;if(a>1&&console.log("found parent tile z%d-%d-%d",f,h,d),l(c,o,r.buffer))return p.tile(c,o);a>1&&console.time("drilling down");var m=this.splitTile(c.source,f,h,d,e,t,n);if(a>1&&console.timeEnd("drilling down"),null!==m){var y=1<<e-m;u=i(m,Math.floor(t/y),Math.floor(n/y))}return this.tiles[u]?p.tile(this.tiles[u],o):null}},{"./clip":8,"./convert":9,"./tile":13,"./transform":14,"./wrap":15}],12:[function(e,t,n){"use strict";function r(e,t){var n,r,i,a,s=t*t,u=e.length,l=0,c=u-1,p=[];for(e[l][2]=1,e[c][2]=1;c;){for(r=0,n=l+1;c>n;n++)i=o(e[n],e[l],e[c]),i>r&&(a=n,r=i);r>s?(e[a][2]=r,p.push(l),p.push(a),l=a):(c=p.pop(),l=p.pop())}}function o(e,t,n){var r=t[0],o=t[1],i=n[0],a=n[1],s=e[0],u=e[1],l=i-r,c=a-o;if(0!==l||0!==c){var p=((s-r)*l+(u-o)*c)/(l*l+c*c);p>1?(r=i,o=a):p>0&&(r+=l*p,o+=c*p)}return l=s-r,c=u-o,l*l+c*c}t.exports=r},{}],13:[function(e,t,n){"use strict";function r(e,t,n,r,i,a){for(var s={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:n,y:r,z2:t,transformed:!1,min:[2,1],max:[-1,0]},u=0;u<e.length;u++){s.numFeatures++,o(s,e[u],i,a);var l=e[u].min,c=e[u].max;l[0]<s.min[0]&&(s.min[0]=l[0]),l[1]<s.min[1]&&(s.min[1]=l[1]),c[0]>s.max[0]&&(s.max[0]=c[0]),c[1]>s.max[1]&&(s.max[1]=c[1])}return s}function o(e,t,n,r){var o,a,s,u,l=t.geometry,c=t.type,p=[],f=n*n;if(1===c)for(o=0;o<l.length;o++)p.push(l[o]),e.numPoints++,e.numSimplified++;else for(o=0;o<l.length;o++)if(s=l[o],r||!(2===c&&s.dist<n||3===c&&s.area<f)){var h=[];for(a=0;a<s.length;a++)u=s[a],(r||u[2]>f)&&(h.push(u),e.numSimplified++),e.numPoints++;3===c&&i(h,s.outer),p.push(h)}else e.numPoints+=s.length;if(p.length){var d={geometry:p,type:c,tags:t.tags||null};null!==t.id&&(d.id=t.id),e.features.push(d)}}function i(e,t){var n=a(e);0>n===t&&e.reverse()}function a(e){for(var t,n,r=0,o=0,i=e.length,a=i-1;i>o;a=o++)t=e[o],n=e[a],r+=(n[0]-t[0])*(t[1]+n[1]);return r}t.exports=r},{}],14:[function(e,t,n){"use strict";function r(e,t){if(e.transformed)return e;var n,r,i,a=e.z2,s=e.x,u=e.y;for(n=0;n<e.features.length;n++){var l=e.features[n],c=l.geometry,p=l.type;if(1===p)for(r=0;r<c.length;r++)c[r]=o(c[r],t,a,s,u);else for(r=0;r<c.length;r++){var f=c[r];for(i=0;i<f.length;i++)f[i]=o(f[i],t,a,s,u)}}return e.transformed=!0,e}function o(e,t,n,r,o){var i=Math.round(t*(e[0]*n-r)),a=Math.round(t*(e[1]*n-o));return[i,a]}n.tile=r,n.point=o},{}],15:[function(e,t,n){"use strict";function r(e,t,n){var r=e,i=a(e,1,-1-t,t,0,n,-1,2),s=a(e,1,1-t,2+t,0,n,-1,2);return(i||s)&&(r=a(e,1,-t,1+t,0,n,-1,2)||[],i&&(r=o(i,1).concat(r)),s&&(r=r.concat(o(s,-1)))),r}function o(e,t){for(var n=[],r=0;r<e.length;r++){var o,a=e[r],u=a.type;if(1===u)o=i(a.geometry,t);else{o=[];for(var l=0;l<a.geometry.length;l++)o.push(i(a.geometry[l],t))}n.push(s(a.tags,u,o,a.id))}return n}function i(e,t){var n=[];n.area=e.area,n.dist=e.dist;for(var r=0;r<e.length;r++)n.push([e[r][0]+t,e[r][1],e[r][2]]);return n}var a=e("./clip"),s=e("./feature");t.exports=r},{"./clip":8,"./feature":10}],16:[function(e,t,n){"use strict";function r(e,t,n){var r=this.cells=[];if(e instanceof ArrayBuffer){this.arrayBuffer=e;var i=new Int32Array(this.arrayBuffer);e=i[0],t=i[1],n=i[2],this.d=t+2*n;for(var a=0;a<this.d*this.d;a++){var s=i[o+a],u=i[o+a+1];r.push(s===u?null:i.subarray(s,u))}var l=i[o+r.length],c=i[o+r.length+1];this.keys=i.subarray(l,c),this.bboxes=i.subarray(c),this.insert=this._insertReadonly}else{this.d=t+2*n;for(var p=0;p<this.d*this.d;p++)r.push([]);this.keys=[],this.bboxes=[]}this.n=t,this.extent=e,this.padding=n,this.scale=t/e,this.uid=0;var f=n/t*e;this.min=-f,this.max=e+f}t.exports=r;var o=3;r.prototype.insert=function(e,t,n,r,o){this._forEachCell(t,n,r,o,this._insertCell,this.uid++),this.keys.push(e),this.bboxes.push(t),this.bboxes.push(n),this.bboxes.push(r),this.bboxes.push(o)},r.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},r.prototype._insertCell=function(e,t,n,r,o,i){this.cells[o].push(i)},r.prototype.query=function(e,t,n,r){var o=this.min,i=this.max;if(o>=e&&o>=t&&n>=i&&r>=i)return Array.prototype.slice.call(this.keys);var a=[],s={};return this._forEachCell(e,t,n,r,this._queryCell,a,s),a},r.prototype._queryCell=function(e,t,n,r,o,i,a){var s=this.cells[o];if(null!==s)for(var u=this.keys,l=this.bboxes,c=0;c<s.length;c++){var p=s[c];if(void 0===a[p]){var f=4*p;e<=l[f+2]&&t<=l[f+3]&&n>=l[f+0]&&r>=l[f+1]?(a[p]=!0,i.push(u[p])):a[p]=!1}}},r.prototype._forEachCell=function(e,t,n,r,o,i,a){for(var s=this._convertToCellCoord(e),u=this._convertToCellCoord(t),l=this._convertToCellCoord(n),c=this._convertToCellCoord(r),p=s;l>=p;p++)for(var f=u;c>=f;f++){var h=this.d*f+p;if(o.call(this,e,t,n,r,h,i,a))return}},r.prototype._convertToCellCoord=function(e){return Math.max(0,Math.min(this.d-1,Math.floor(e*this.scale)+this.padding))},r.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var e=this.cells,t=o+this.cells.length+1+1,n=0,r=0;r<this.cells.length;r++)n+=this.cells[r].length;var i=new Int32Array(t+n+this.keys.length+this.bboxes.length);i[0]=this.extent,i[1]=this.n,i[2]=this.padding;for(var a=t,s=0;s<e.length;s++){var u=e[s];i[o+s]=a,i.set(u,a),a+=u.length}return i[o+e.length]=a,i.set(this.keys,a),a+=this.keys.length,i[o+e.length+1]=a,i.set(this.bboxes,a),a+=this.bboxes.length,i.buffer}},{}],17:[function(e,t,n){n.read=function(e,t,n,r,o){var i,a,s=8*o-r-1,u=(1<<s)-1,l=u>>1,c=-7,p=n?o-1:0,f=n?-1:1,h=e[t+p];for(p+=f,i=h&(1<<-c)-1,h>>=-c,c+=s;c>0;i=256*i+e[t+p],p+=f,c-=8);for(a=i&(1<<-c)-1,i>>=-c,c+=r;c>0;a=256*a+e[t+p],p+=f,c-=8);if(0===i)i=1-l;else{if(i===u)return a?NaN:(h?-1:1)*(1/0);a+=Math.pow(2,r),i-=l}return(h?-1:1)*a*Math.pow(2,i-r)},n.write=function(e,t,n,r,o,i){var a,s,u,l=8*i-o-1,c=(1<<l)-1,p=c>>1,f=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:i-1,d=r?1:-1,m=0>t||0===t&&0>1/t?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),t+=a+p>=1?f/u:f*Math.pow(2,1-p),t*u>=2&&(a++,u/=2),a+p>=c?(s=0,a=c):a+p>=1?(s=(t*u-1)*Math.pow(2,o),a+=p):(s=t*Math.pow(2,p-1)*Math.pow(2,o),a=0));o>=8;e[n+h]=255&s,h+=d,s/=256,o-=8);for(a=a<<o|s,l+=o;l>0;e[n+h]=255&a,h+=d,a/=256,l-=8);e[n+h-d]|=128*m}},{}],18:[function(e,t,n){"use strict";function r(e,t,n,r,i){return new o(e,t,n,r,i)}function o(e,t,n,r,o){t=t||i,n=n||a,o=o||Array,this.nodeSize=r||64,this.points=e,this.ids=new o(e.length),this.coords=new o(2*e.length);for(var u=0;u<e.length;u++)this.ids[u]=u,this.coords[2*u]=t(e[u]),this.coords[2*u+1]=n(e[u]);s(this.ids,this.coords,this.nodeSize,0,this.ids.length-1,0)}function i(e){return e[0]}function a(e){return e[1]}var s=e("./sort"),u=e("./range"),l=e("./within");t.exports=r,o.prototype={range:function(e,t,n,r){return u(this.ids,this.coords,e,t,n,r,this.nodeSize)},within:function(e,t,n){return l(this.ids,this.coords,e,t,n,this.nodeSize)}}},{"./range":19,"./sort":20,"./within":21}],19:[function(e,t,n){"use strict";function r(e,t,n,r,o,i,a){for(var s,u,l=[0,e.length-1,0],c=[];l.length;){var p=l.pop(),f=l.pop(),h=l.pop();if(a>=f-h)for(var d=h;f>=d;d++)s=t[2*d],u=t[2*d+1],s>=n&&o>=s&&u>=r&&i>=u&&c.push(e[d]);else{var m=Math.floor((h+f)/2);s=t[2*m],u=t[2*m+1],s>=n&&o>=s&&u>=r&&i>=u&&c.push(e[m]);var y=(p+1)%2;(0===p?s>=n:u>=r)&&(l.push(h),l.push(m-1),l.push(y)),(0===p?o>=s:i>=u)&&(l.push(m+1),l.push(f),l.push(y))}}return c}t.exports=r},{}],20:[function(e,t,n){"use strict";function r(e,t,n,i,a,s){if(!(n>=a-i)){var u=Math.floor((i+a)/2);o(e,t,u,i,a,s%2),r(e,t,n,i,u-1,s+1),r(e,t,n,u+1,a,s+1)}}function o(e,t,n,r,a,s){for(;a>r;){if(a-r>600){var u=a-r+1,l=n-r+1,c=Math.log(u),p=.5*Math.exp(2*c/3),f=.5*Math.sqrt(c*p*(u-p)/u)*(0>l-u/2?-1:1),h=Math.max(r,Math.floor(n-l*p/u+f)),d=Math.min(a,Math.floor(n+(u-l)*p/u+f));o(e,t,n,h,d,s)}var m=t[2*n+s],y=r,g=a;for(i(e,t,r,n),t[2*a+s]>m&&i(e,t,r,a);g>y;){for(i(e,t,y,g),y++,g--;t[2*y+s]<m;)y++;for(;t[2*g+s]>m;)g--}t[2*r+s]===m?i(e,t,r,g):(g++,i(e,t,g,a)),n>=g&&(r=g+1),g>=n&&(a=g-1)}}function i(e,t,n,r){a(e,n,r),a(t,2*n,2*r),a(t,2*n+1,2*r+1)}function a(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}t.exports=r},{}],21:[function(e,t,n){"use strict";function r(e,t,n,r,i,a){for(var s=[0,e.length-1,0],u=[],l=i*i;s.length;){var c=s.pop(),p=s.pop(),f=s.pop();if(a>=p-f)for(var h=f;p>=h;h++)o(t[2*h],t[2*h+1],n,r)<=l&&u.push(e[h]);else{var d=Math.floor((f+p)/2),m=t[2*d],y=t[2*d+1];o(m,y,n,r)<=l&&u.push(e[d]);var g=(c+1)%2;(0===c?m>=n-i:y>=r-i)&&(s.push(f),s.push(d-1),s.push(g)),(0===c?n+i>=m:r+i>=y)&&(s.push(d+1),s.push(p),s.push(g))}}return u}function o(e,t,n,r){var o=e-n,i=t-r;return o*o+i*i}t.exports=r},{}],22:[function(e,t,n){"use strict";function r(e){return!!(o()&&i()&&a()&&s()&&u()&&l()&&c()&&p(e&&e.failIfMajorPerformanceCaveat))}function o(){return"undefined"!=typeof window&&"undefined"!=typeof document}function i(){return Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray}function a(){return Function.prototype&&Function.prototype.bind}function s(){return Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions}function u(){return"JSON"in window&&"parse"in JSON&&"stringify"in JSON}function l(){return"Worker"in window}function c(){return"Uint8ClampedArray"in window}function p(e){return void 0===h[e]&&(h[e]=f(e)),h[e]}function f(e){var t=document.createElement("canvas"),n=Object.create(r.webGLContextAttributes);return n.failIfMajorPerformanceCaveat=e,t.probablySupportsContext?t.probablySupportsContext("webgl",n)||t.probablySupportsContext("experimental-webgl",n):t.supportsContext?t.supportsContext("webgl",n)||t.supportsContext("experimental-webgl",n):t.getContext("webgl",n)||t.getContext("experimental-webgl",n)}"undefined"!=typeof t&&t.exports?t.exports=r:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=r);var h={};r.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0}},{}],23:[function(e,t,n){(function(e){function t(e,t){for(var n=0,r=e.length-1;r>=0;r--){var o=e[r];"."===o?e.splice(r,1):".."===o?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function r(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}var o=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,i=function(e){return o.exec(e).slice(1)};n.resolve=function(){for(var n="",o=!1,i=arguments.length-1;i>=-1&&!o;i--){var a=i>=0?arguments[i]:e.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(n=a+"/"+n,o="/"===a.charAt(0))}return n=t(r(n.split("/"),function(e){return!!e}),!o).join("/"),(o?"/":"")+n||"."},n.normalize=function(e){var o=n.isAbsolute(e),i="/"===a(e,-1);return e=t(r(e.split("/"),function(e){return!!e}),!o).join("/"),e||o||(e="."),e&&i&&(e+="/"),(o?"/":"")+e},n.isAbsolute=function(e){return"/"===e.charAt(0)},n.join=function(){var e=Array.prototype.slice.call(arguments,0);return n.normalize(r(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},n.relative=function(e,t){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=n.resolve(e).substr(1),t=n.resolve(t).substr(1);for(var o=r(e.split("/")),i=r(t.split("/")),a=Math.min(o.length,i.length),s=a,u=0;a>u;u++)if(o[u]!==i[u]){s=u;break}for(var l=[],u=s;u<o.length;u++)l.push("..");return l=l.concat(i.slice(s)),l.join("/")},n.sep="/",n.delimiter=":",n.dirname=function(e){var t=i(e),n=t[0],r=t[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},n.basename=function(e,t){var n=i(e)[2];return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},n.extname=function(e){return i(e)[3]};var a="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return 0>t&&(t=e.length+t),e.substr(t,n)}}).call(this,e("_process"))},{_process:27}],24:[function(e,t,n){"use strict";function r(e){var t;e&&e.length&&(t=e,e=t.length);var n=new Uint8Array(e||0);return t&&n.set(t),n.readUInt32LE=i.readUInt32LE,n.writeUInt32LE=i.writeUInt32LE,n.readInt32LE=i.readInt32LE,n.writeInt32LE=i.writeInt32LE,n.readFloatLE=i.readFloatLE,n.writeFloatLE=i.writeFloatLE,n.readDoubleLE=i.readDoubleLE,n.writeDoubleLE=i.writeDoubleLE,n.toString=i.toString,n.write=i.write,n.slice=i.slice,n.copy=i.copy,n._isBuffer=!0,n}function o(e){for(var t,n,r=e.length,o=[],i=0;r>i;i++){if(t=e.charCodeAt(i),t>55295&&57344>t){if(!n){t>56319||i+1===r?o.push(239,191,189):n=t;continue}if(56320>t){o.push(239,191,189),n=t;continue}t=n-55296<<10|t-56320|65536,n=null}else n&&(o.push(239,191,189),n=null);128>t?o.push(t):2048>t?o.push(t>>6|192,63&t|128):65536>t?o.push(t>>12|224,t>>6&63|128,63&t|128):o.push(t>>18|240,t>>12&63|128,t>>6&63|128,63&t|128)}return o}t.exports=r;var i,a,s,u=e("ieee754");i={readUInt32LE:function(e){return(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},writeUInt32LE:function(e,t){this[t]=e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24},readInt32LE:function(e){return(this[e]|this[e+1]<<8|this[e+2]<<16)+(this[e+3]<<24)},readFloatLE:function(e){return u.read(this,e,!0,23,4)},readDoubleLE:function(e){return u.read(this,e,!0,52,8)},writeFloatLE:function(e,t){return u.write(this,e,t,!0,23,4)},writeDoubleLE:function(e,t){return u.write(this,e,t,!0,52,8)},toString:function(e,t,n){var r="",o="";t=t||0,n=Math.min(this.length,n||this.length);for(var i=t;n>i;i++){var a=this[i];127>=a?(r+=decodeURIComponent(o)+String.fromCharCode(a),o=""):o+="%"+a.toString(16)}return r+=decodeURIComponent(o)},write:function(e,t){for(var n=e===a?s:o(e),r=0;r<n.length;r++)this[t+r]=n[r]},slice:function(e,t){return this.subarray(e,t)},copy:function(e,t){t=t||0;for(var n=0;n<this.length;n++)e[t+n]=this[n]}},i.writeInt32LE=i.writeUInt32LE,r.byteLength=function(e){return a=e,s=o(e),s.length},r.isBuffer=function(e){return!(!e||!e._isBuffer)}},{ieee754:17}],25:[function(e,n,r){(function(t){"use strict";function r(e){this.buf=y.isBuffer(e)?e:new y(e||0),this.pos=0,this.length=this.buf.length}function o(e,t){var n,r=t.buf;if(n=r[t.pos++],e+=268435456*(127&n),128>n)return e;if(n=r[t.pos++],e+=34359738368*(127&n),128>n)return e;if(n=r[t.pos++],e+=4398046511104*(127&n),128>n)return e;if(n=r[t.pos++],e+=562949953421312*(127&n),128>n)return e;if(n=r[t.pos++],e+=72057594037927940*(127&n),128>n)return e;if(n=r[t.pos++],e+=0x8000000000000000*(127&n),128>n)return e;throw new Error("Expected varint not more than 10 bytes")}function i(e,t){t.realloc(10);for(var n=t.pos+10;e>=1;){if(t.pos>=n)throw new Error("Given varint doesn't fit into 10 bytes");var r=255&e;t.buf[t.pos++]=r|(e>=128?128:0),e/=128}}function a(e,t,n){var r=16383>=t?1:2097151>=t?2:268435455>=t?3:Math.ceil(Math.log(t)/(7*Math.LN2));n.realloc(r);for(var o=n.pos-1;o>=e;o--)n.buf[o+r]=n.buf[o]}function s(e,t){for(var n=0;n<e.length;n++)t.writeVarint(e[n])}function u(e,t){for(var n=0;n<e.length;n++)t.writeSVarint(e[n])}function l(e,t){for(var n=0;n<e.length;n++)t.writeFloat(e[n])}function c(e,t){for(var n=0;n<e.length;n++)t.writeDouble(e[n])}function p(e,t){for(var n=0;n<e.length;n++)t.writeBoolean(e[n])}function f(e,t){for(var n=0;n<e.length;n++)t.writeFixed32(e[n])}function h(e,t){for(var n=0;n<e.length;n++)t.writeSFixed32(e[n])}function d(e,t){for(var n=0;n<e.length;n++)t.writeFixed64(e[n])}function m(e,t){for(var n=0;n<e.length;n++)t.writeSFixed64(e[n])}n.exports=r;var y=t.Buffer||e("./buffer");r.Varint=0,r.Fixed64=1,r.Bytes=2,r.Fixed32=5;var g=4294967296,v=1/g,b=Math.pow(2,63);r.prototype={destroy:function(){this.buf=null},readFields:function(e,t,n){for(n=n||this.length;this.pos<n;){var r=this.readVarint(),o=r>>3,i=this.pos;e(o,t,this),this.pos===i&&this.skip(r)}return t},readMessage:function(e,t){return this.readFields(e,t,this.readVarint()+this.pos)},readFixed32:function(){var e=this.buf.readUInt32LE(this.pos);return this.pos+=4,e},readSFixed32:function(){var e=this.buf.readInt32LE(this.pos);return this.pos+=4,e},readFixed64:function(){var e=this.buf.readUInt32LE(this.pos)+this.buf.readUInt32LE(this.pos+4)*g;return this.pos+=8,e},readSFixed64:function(){var e=this.buf.readUInt32LE(this.pos)+this.buf.readInt32LE(this.pos+4)*g;return this.pos+=8,e},readFloat:function(){var e=this.buf.readFloatLE(this.pos);return this.pos+=4,e},readDouble:function(){var e=this.buf.readDoubleLE(this.pos);return this.pos+=8,e},readVarint:function(){var e,t,n=this.buf;return t=n[this.pos++],e=127&t,128>t?e:(t=n[this.pos++],e|=(127&t)<<7,128>t?e:(t=n[this.pos++],e|=(127&t)<<14,128>t?e:(t=n[this.pos++],e|=(127&t)<<21,128>t?e:o(e,this))))},readVarint64:function(){var e=this.pos,t=this.readVarint();if(b>t)return t;for(var n=this.pos-2;255===this.buf[n];)n--;e>n&&(n=e),t=0;for(var r=0;n-e+1>r;r++){var o=127&~this.buf[e+r];t+=4>r?o<<7*r:o*Math.pow(2,7*r)}return-t-1},readSVarint:function(){var e=this.readVarint();return e%2===1?(e+1)/-2:e/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var e=this.readVarint()+this.pos,t=this.buf.toString("utf8",this.pos,e);return this.pos=e,t},readBytes:function(){var e=this.readVarint()+this.pos,t=this.buf.slice(this.pos,e);return this.pos=e,t},readPackedVarint:function(){for(var e=this.readVarint()+this.pos,t=[];this.pos<e;)t.push(this.readVarint());return t},readPackedSVarint:function(){for(var e=this.readVarint()+this.pos,t=[];this.pos<e;)t.push(this.readSVarint());return t},readPackedBoolean:function(){for(var e=this.readVarint()+this.pos,t=[];this.pos<e;)t.push(this.readBoolean());return t},readPackedFloat:function(){for(var e=this.readVarint()+this.pos,t=[];this.pos<e;)t.push(this.readFloat());return t},readPackedDouble:function(){for(var e=this.readVarint()+this.pos,t=[];this.pos<e;)t.push(this.readDouble());return t},readPackedFixed32:function(){for(var e=this.readVarint()+this.pos,t=[];this.pos<e;)t.push(this.readFixed32());return t},readPackedSFixed32:function(){for(var e=this.readVarint()+this.pos,t=[];this.pos<e;)t.push(this.readSFixed32());return t},readPackedFixed64:function(){for(var e=this.readVarint()+this.pos,t=[];this.pos<e;)t.push(this.readFixed64());return t},readPackedSFixed64:function(){for(var e=this.readVarint()+this.pos,t=[];this.pos<e;)t.push(this.readSFixed64());return t},skip:function(e){var t=7&e;if(t===r.Varint)for(;this.buf[this.pos++]>127;);else if(t===r.Bytes)this.pos=this.readVarint()+this.pos;else if(t===r.Fixed32)this.pos+=4;else{if(t!==r.Fixed64)throw new Error("Unimplemented type: "+t);this.pos+=8}},writeTag:function(e,t){this.writeVarint(e<<3|t)},realloc:function(e){for(var t=this.length||16;t<this.pos+e;)t*=2;if(t!==this.length){var n=new y(t);this.buf.copy(n),this.buf=n,this.length=t}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.slice(0,this.length)},writeFixed32:function(e){this.realloc(4),this.buf.writeUInt32LE(e,this.pos),this.pos+=4},writeSFixed32:function(e){this.realloc(4),this.buf.writeInt32LE(e,this.pos),this.pos+=4},writeFixed64:function(e){this.realloc(8),this.buf.writeInt32LE(-1&e,this.pos),this.buf.writeUInt32LE(Math.floor(e*v),this.pos+4),this.pos+=8},writeSFixed64:function(e){this.realloc(8),this.buf.writeInt32LE(-1&e,this.pos),this.buf.writeInt32LE(Math.floor(e*v),this.pos+4),this.pos+=8},writeVarint:function(e){return e=+e,e>268435455?void i(e,this):(this.realloc(4),this.buf[this.pos++]=127&e|(e>127?128:0),void(127>=e||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),127>=e||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),127>=e||(this.buf[this.pos++]=e>>>7&127)))))},writeSVarint:function(e){this.writeVarint(0>e?2*-e-1:2*e)},writeBoolean:function(e){this.writeVarint(Boolean(e))},writeString:function(e){e=String(e);var t=y.byteLength(e);this.writeVarint(t),this.realloc(t),this.buf.write(e,this.pos),this.pos+=t},writeFloat:function(e){this.realloc(4),this.buf.writeFloatLE(e,this.pos),this.pos+=4},writeDouble:function(e){this.realloc(8),this.buf.writeDoubleLE(e,this.pos),this.pos+=8},writeBytes:function(e){var t=e.length;this.writeVarint(t),this.realloc(t);for(var n=0;t>n;n++)this.buf[this.pos++]=e[n]},writeRawMessage:function(e,t){this.pos++;var n=this.pos;e(t,this);var r=this.pos-n;r>=128&&a(n,r,this),this.pos=n-1,this.writeVarint(r),this.pos+=r},writeMessage:function(e,t,n){this.writeTag(e,r.Bytes),this.writeRawMessage(t,n)},writePackedVarint:function(e,t){this.writeMessage(e,s,t)},writePackedSVarint:function(e,t){this.writeMessage(e,u,t)},writePackedBoolean:function(e,t){this.writeMessage(e,p,t)},writePackedFloat:function(e,t){this.writeMessage(e,l,t)},writePackedDouble:function(e,t){this.writeMessage(e,c,t)},writePackedFixed32:function(e,t){this.writeMessage(e,f,t)},writePackedSFixed32:function(e,t){this.writeMessage(e,h,t)},writePackedFixed64:function(e,t){this.writeMessage(e,d,t)},writePackedSFixed64:function(e,t){this.writeMessage(e,m,t)},writeBytesField:function(e,t){this.writeTag(e,r.Bytes),this.writeBytes(t)},writeFixed32Field:function(e,t){this.writeTag(e,r.Fixed32),this.writeFixed32(t)},writeSFixed32Field:function(e,t){this.writeTag(e,r.Fixed32),this.writeSFixed32(t)},writeFixed64Field:function(e,t){this.writeTag(e,r.Fixed64),this.writeFixed64(t)},writeSFixed64Field:function(e,t){
this.writeTag(e,r.Fixed64),this.writeSFixed64(t)},writeVarintField:function(e,t){this.writeTag(e,r.Varint),this.writeVarint(t)},writeSVarintField:function(e,t){this.writeTag(e,r.Varint),this.writeSVarint(t)},writeStringField:function(e,t){this.writeTag(e,r.Bytes),this.writeString(t)},writeFloatField:function(e,t){this.writeTag(e,r.Fixed32),this.writeFloat(t)},writeDoubleField:function(e,t){this.writeTag(e,r.Fixed64),this.writeDouble(t)},writeBooleanField:function(e,t){this.writeVarintField(e,Boolean(t))}}}).call(this,"undefined"!=typeof t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./buffer":24}],26:[function(e,t,n){"use strict";function r(e,t){this.x=e,this.y=t}t.exports=r,r.prototype={clone:function(){return new r(this.x,this.y)},add:function(e){return this.clone()._add(e)},sub:function(e){return this.clone()._sub(e)},mult:function(e){return this.clone()._mult(e)},div:function(e){return this.clone()._div(e)},rotate:function(e){return this.clone()._rotate(e)},matMult:function(e){return this.clone()._matMult(e)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(e){return this.x===e.x&&this.y===e.y},dist:function(e){return Math.sqrt(this.distSqr(e))},distSqr:function(e){var t=e.x-this.x,n=e.y-this.y;return t*t+n*n},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(e){return Math.atan2(this.y-e.y,this.x-e.x)},angleWith:function(e){return this.angleWithSep(e.x,e.y)},angleWithSep:function(e,t){return Math.atan2(this.x*t-this.y*e,this.x*e+this.y*t)},_matMult:function(e){var t=e[0]*this.x+e[1]*this.y,n=e[2]*this.x+e[3]*this.y;return this.x=t,this.y=n,this},_add:function(e){return this.x+=e.x,this.y+=e.y,this},_sub:function(e){return this.x-=e.x,this.y-=e.y,this},_mult:function(e){return this.x*=e,this.y*=e,this},_div:function(e){return this.x/=e,this.y/=e,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var e=this.y;return this.y=this.x,this.x=-e,this},_rotate:function(e){var t=Math.cos(e),n=Math.sin(e),r=t*this.x-n*this.y,o=n*this.x+t*this.y;return this.x=r,this.y=o,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},r.convert=function(e){return e instanceof r?e:Array.isArray(e)?new r(e[0],e[1]):e}},{}],27:[function(e,t,n){function r(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function i(e){if(p===setTimeout)return setTimeout(e,0);if((p===r||!p)&&setTimeout)return p=setTimeout,setTimeout(e,0);try{return p(e,0)}catch(t){try{return p.call(null,e,0)}catch(t){return p.call(this,e,0)}}}function a(e){if(f===clearTimeout)return clearTimeout(e);if((f===o||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(e);try{return f(e)}catch(t){try{return f.call(null,e)}catch(t){return f.call(this,e)}}}function s(){y&&d&&(y=!1,d.length?m=d.concat(m):g=-1,m.length&&u())}function u(){if(!y){var e=i(s);y=!0;for(var t=m.length;t;){for(d=m,m=[];++g<t;)d&&d[g].run();g=-1,t=m.length}d=null,y=!1,a(e)}}function l(e,t){this.fun=e,this.array=t}function c(){}var p,f,h=t.exports={};!function(){try{p="function"==typeof setTimeout?setTimeout:r}catch(e){p=r}try{f="function"==typeof clearTimeout?clearTimeout:o}catch(e){f=o}}();var d,m=[],y=!1,g=-1;h.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];m.push(new l(e,t)),1!==m.length||y||i(u)},l.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=c,h.addListener=c,h.once=c,h.off=c,h.removeListener=c,h.removeAllListeners=c,h.emit=c,h.binding=function(e){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(e){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},{}],28:[function(e,t,n){"use strict";function r(e,t,n,a,s){for(n=n||0,a=a||e.length-1,s=s||i;a>n;){if(a-n>600){var u=a-n+1,l=t-n+1,c=Math.log(u),p=.5*Math.exp(2*c/3),f=.5*Math.sqrt(c*p*(u-p)/u)*(0>l-u/2?-1:1),h=Math.max(n,Math.floor(t-l*p/u+f)),d=Math.min(a,Math.floor(t+(u-l)*p/u+f));r(e,t,h,d,s)}var m=e[t],y=n,g=a;for(o(e,n,t),s(e[a],m)>0&&o(e,n,a);g>y;){for(o(e,y,g),y++,g--;s(e[y],m)<0;)y++;for(;s(e[g],m)>0;)g--}0===s(e[n],m)?o(e,n,g):(g++,o(e,g,a)),t>=g&&(n=g+1),g>=t&&(a=g-1)}}function o(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function i(e,t){return t>e?-1:e>t?1:0}t.exports=r},{}],29:[function(e,t,n){"use strict";function r(e){return new o(e)}function o(e){this.options=h(Object.create(this.options),e),this.trees=new Array(this.options.maxZoom+1)}function i(e,t,n,r){return{x:e,y:t,zoom:1/0,id:r,numPoints:n}}function a(e,t){var n=e.geometry.coordinates;return i(l(n[0]),c(n[1]),1,t)}function s(e){return{type:"Feature",properties:u(e),geometry:{type:"Point",coordinates:[p(e.x),f(e.y)]}}}function u(e){var t=e.numPoints,n=t>=1e4?Math.round(t/1e3)+"k":t>=1e3?Math.round(t/100)/10+"k":t;return{cluster:!0,point_count:t,point_count_abbreviated:n}}function l(e){return e/360+.5}function c(e){var t=Math.sin(e*Math.PI/180),n=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return 0>n?0:n>1?1:n}function p(e){return 360*(e-.5)}function f(e){var t=(180-360*e)*Math.PI/180;return 360*Math.atan(Math.exp(t))/Math.PI-90}function h(e,t){for(var n in t)e[n]=t[n];return e}function d(e){return e.x}function m(e){return e.y}var y=e("kdbush");t.exports=r,o.prototype={options:{minZoom:0,maxZoom:16,radius:40,extent:512,nodeSize:64,log:!1},load:function(e){var t=this.options.log;t&&console.time("total time");var n="prepare "+e.length+" points";t&&console.time(n),this.points=e;var r=e.map(a);t&&console.timeEnd(n);for(var o=this.options.maxZoom;o>=this.options.minZoom;o--){var i=+Date.now();this.trees[o+1]=y(r,d,m,this.options.nodeSize,Float32Array),r=this._cluster(r,o),t&&console.log("z%d: %d clusters in %dms",o,r.length,+Date.now()-i)}return this.trees[this.options.minZoom]=y(r,d,m,this.options.nodeSize,Float32Array),t&&console.timeEnd("total time"),this},getClusters:function(e,t){for(var n=this.trees[this._limitZoom(t)],r=n.range(l(e[0]),c(e[3]),l(e[2]),c(e[1])),o=[],i=0;i<r.length;i++){var a=n.points[r[i]];o.push(-1!==a.id?this.points[a.id]:s(a))}return o},getTile:function(e,t,n){var r=this.trees[this._limitZoom(e)],o=Math.pow(2,e),i=this.options.extent,a=this.options.radius,s=a/i,u=(n-s)/o,l=(n+1+s)/o,c={features:[]};return this._addTileFeatures(r.range((t-s)/o,u,(t+1+s)/o,l),r.points,t,n,o,c),0===t&&this._addTileFeatures(r.range(1-s/o,u,1,l),r.points,o,n,o,c),t===o-1&&this._addTileFeatures(r.range(0,u,s/o,l),r.points,-1,n,o,c),c.features.length?c:null},_addTileFeatures:function(e,t,n,r,o,i){for(var a=0;a<e.length;a++){var s=t[e[a]];i.features.push({type:1,geometry:[[Math.round(this.options.extent*(s.x*o-n)),Math.round(this.options.extent*(s.y*o-r))]],tags:-1!==s.id?this.points[s.id].properties:u(s)})}},_limitZoom:function(e){return Math.max(this.options.minZoom,Math.min(e,this.options.maxZoom+1))},_cluster:function(e,t){for(var n=[],r=this.options.radius/(this.options.extent*Math.pow(2,t)),o=0;o<e.length;o++){var a=e[o];if(!(a.zoom<=t)){a.zoom=t;for(var s=this.trees[t+1],u=s.within(a.x,a.y,r),l=!1,c=a.numPoints,p=a.x*c,f=a.y*c,h=0;h<u.length;h++){var d=s.points[u[h]];t<d.zoom&&(l=!0,d.zoom=t,p+=d.x*d.numPoints,f+=d.y*d.numPoints,c+=d.numPoints)}n.push(l?i(p/c,f/c,c,-1):a)}}return n}}},{kdbush:18}],30:[function(e,t,n){"use strict";function r(e,t){if(!(this instanceof r))return new r(e,t);if(this.data=e||[],this.length=this.data.length,this.compare=t||o,e)for(var n=Math.floor(this.length/2);n>=0;n--)this._down(n)}function o(e,t){return t>e?-1:e>t?1:0}function i(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}t.exports=r,r.prototype={push:function(e){this.data.push(e),this.length++,this._up(this.length-1)},pop:function(){var e=this.data[0];return this.data[0]=this.data[this.length-1],this.length--,this.data.pop(),this._down(0),e},peek:function(){return this.data[0]},_up:function(e){for(var t=this.data,n=this.compare;e>0;){var r=Math.floor((e-1)/2);if(!(n(t[e],t[r])<0))break;i(t,r,e),e=r}},_down:function(e){for(var t=this.data,n=this.compare,r=this.length;;){var o=2*e+1,a=o+1,s=e;if(r>o&&n(t[o],t[s])<0&&(s=o),r>a&&n(t[a],t[s])<0&&(s=a),s===e)return;i(t,s,e),e=s}}}},{}],31:[function(e,t,n){"function"==typeof Object.create?t.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}],32:[function(e,t,n){t.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},{}],33:[function(e,n,r){(function(t,n){function o(e,t){var n={seen:[],stylize:a};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),m(t)?n.showHidden=t:t&&r._extend(n,t),w(n.showHidden)&&(n.showHidden=!1),w(n.depth)&&(n.depth=2),w(n.colors)&&(n.colors=!1),w(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=i),u(n,e,n.depth)}function i(e,t){var n=o.styles[t];return n?"["+o.colors[n][0]+"m"+e+"["+o.colors[n][1]+"m":e}function a(e,t){return e}function s(e){var t={};return e.forEach(function(e,n){t[e]=!0}),t}function u(e,t,n){if(e.customInspect&&t&&S(t.inspect)&&t.inspect!==r.inspect&&(!t.constructor||t.constructor.prototype!==t)){var o=t.inspect(n,e);return b(o)||(o=u(e,o,n)),o}var i=l(e,t);if(i)return i;var a=Object.keys(t),m=s(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(t)),T(t)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return c(t);if(0===a.length){if(S(t)){var y=t.name?": "+t.name:"";return e.stylize("[Function"+y+"]","special")}if(x(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(E(t))return e.stylize(Date.prototype.toString.call(t),"date");if(T(t))return c(t)}var g="",v=!1,_=["{","}"];if(d(t)&&(v=!0,_=["[","]"]),S(t)){var w=t.name?": "+t.name:"";g=" [Function"+w+"]"}if(x(t)&&(g=" "+RegExp.prototype.toString.call(t)),E(t)&&(g=" "+Date.prototype.toUTCString.call(t)),T(t)&&(g=" "+c(t)),0===a.length&&(!v||0==t.length))return _[0]+g+_[1];if(0>n)return x(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special");e.seen.push(t);var k;return k=v?p(e,t,n,m,a):a.map(function(r){return f(e,t,n,m,r,v)}),e.seen.pop(),h(k,g,_)}function l(e,t){if(w(t))return e.stylize("undefined","undefined");if(b(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return v(t)?e.stylize(""+t,"number"):m(t)?e.stylize(""+t,"boolean"):y(t)?e.stylize("null","null"):void 0}function c(e){return"["+Error.prototype.toString.call(e)+"]"}function p(e,t,n,r,o){for(var i=[],a=0,s=t.length;s>a;++a)z(t,String(a))?i.push(f(e,t,n,r,String(a),!0)):i.push("");return o.forEach(function(o){o.match(/^\d+$/)||i.push(f(e,t,n,r,o,!0))}),i}function f(e,t,n,r,o,i){var a,s,l;if(l=Object.getOwnPropertyDescriptor(t,o)||{value:t[o]},l.get?s=l.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):l.set&&(s=e.stylize("[Setter]","special")),z(r,o)||(a="["+o+"]"),s||(e.seen.indexOf(l.value)<0?(s=y(n)?u(e,l.value,null):u(e,l.value,n-1),s.indexOf("\n")>-1&&(s=i?s.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+s.split("\n").map(function(e){return"   "+e}).join("\n"))):s=e.stylize("[Circular]","special")),w(a)){if(i&&o.match(/^\d+$/))return s;a=JSON.stringify(""+o),a.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function h(e,t,n){var r=0,o=e.reduce(function(e,t){return r++,t.indexOf("\n")>=0&&r++,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0);return o>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}function d(e){return Array.isArray(e)}function m(e){return"boolean"==typeof e}function y(e){return null===e}function g(e){return null==e}function v(e){return"number"==typeof e}function b(e){return"string"==typeof e}function _(e){return"symbol"==typeof e}function w(e){return void 0===e}function x(e){return k(e)&&"[object RegExp]"===M(e)}function k(e){return"object"==typeof e&&null!==e}function E(e){return k(e)&&"[object Date]"===M(e)}function T(e){return k(e)&&("[object Error]"===M(e)||e instanceof Error)}function S(e){return"function"==typeof e}function C(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||"undefined"==typeof e}function M(e){return Object.prototype.toString.call(e)}function P(e){return 10>e?"0"+e.toString(10):e.toString(10)}function A(){var e=new Date,t=[P(e.getHours()),P(e.getMinutes()),P(e.getSeconds())].join(":");return[e.getDate(),D[e.getMonth()],t].join(" ")}function z(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var R=/%[sdj%]/g;r.format=function(e){if(!b(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(o(arguments[n]));return t.join(" ")}for(var n=1,r=arguments,i=r.length,a=String(e).replace(R,function(e){if("%%"===e)return"%";if(n>=i)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return e}}),s=r[n];i>n;s=r[++n])a+=y(s)||!k(s)?" "+s:" "+o(s);return a},r.deprecate=function(e,o){function i(){if(!a){if(t.throwDeprecation)throw new Error(o);t.traceDeprecation?console.trace(o):console.error(o),a=!0}return e.apply(this,arguments)}if(w(n.process))return function(){return r.deprecate(e,o).apply(this,arguments)};if(t.noDeprecation===!0)return e;var a=!1;return i};var O,L={};r.debuglog=function(e){if(w(O)&&(O=t.env.NODE_DEBUG||""),e=e.toUpperCase(),!L[e])if(new RegExp("\\b"+e+"\\b","i").test(O)){var n=t.pid;L[e]=function(){var t=r.format.apply(r,arguments);console.error("%s %d: %s",e,n,t)}}else L[e]=function(){};return L[e]},r.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},r.isArray=d,r.isBoolean=m,r.isNull=y,r.isNullOrUndefined=g,r.isNumber=v,r.isString=b,r.isSymbol=_,r.isUndefined=w,r.isRegExp=x,r.isObject=k,r.isDate=E,r.isError=T,r.isFunction=S,r.isPrimitive=C,r.isBuffer=e("./support/isBuffer");var D=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];r.log=function(){console.log("%s - %s",A(),r.format.apply(r,arguments))},r.inherits=e("inherits"),r._extend=function(e,t){if(!t||!k(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}}).call(this,e("_process"),"undefined"!=typeof t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":32,_process:27,inherits:31}],34:[function(e,t,n){t.exports.VectorTile=e("./lib/vectortile.js"),t.exports.VectorTileFeature=e("./lib/vectortilefeature.js"),t.exports.VectorTileLayer=e("./lib/vectortilelayer.js")},{"./lib/vectortile.js":35,"./lib/vectortilefeature.js":36,"./lib/vectortilelayer.js":37}],35:[function(e,t,n){"use strict";function r(e,t){this.layers=e.readFields(o,{},t)}function o(e,t,n){if(3===e){var r=new i(n,n.readVarint()+n.pos);r.length&&(t[r.name]=r)}}var i=e("./vectortilelayer");t.exports=r},{"./vectortilelayer":37}],36:[function(e,t,n){"use strict";function r(e,t,n,r,i){this.properties={},this.extent=n,this.type=0,this._pbf=e,this._geometry=-1,this._keys=r,this._values=i,e.readFields(o,this,t)}function o(e,t,n){1==e?t.id=n.readVarint():2==e?i(n,t):3==e?t.type=n.readVarint():4==e&&(t._geometry=n.pos)}function i(e,t){for(var n=e.readVarint()+e.pos;e.pos<n;){var r=t._keys[e.readVarint()],o=t._values[e.readVarint()];t.properties[r]=o}}function a(e){var t=e.length;if(1>=t)return[e];for(var n,r,o=[],i=0;t>i;i++){var a=s(e[i]);0!==a&&(void 0===r&&(r=0>a),r===0>a?(n&&o.push(n),n=[e[i]]):n.push(e[i]))}return n&&o.push(n),o}function s(e){for(var t,n,r=0,o=0,i=e.length,a=i-1;i>o;a=o++)t=e[o],n=e[a],r+=(n.x-t.x)*(t.y+n.y);return r}var u=e("point-geometry");t.exports=r,r.types=["Unknown","Point","LineString","Polygon"],r.prototype.loadGeometry=function(){var e=this._pbf;e.pos=this._geometry;for(var t,n=e.readVarint()+e.pos,r=1,o=0,i=0,a=0,s=[];e.pos<n;){if(!o){var l=e.readVarint();r=7&l,o=l>>3}if(o--,1===r||2===r)i+=e.readSVarint(),a+=e.readSVarint(),1===r&&(t&&s.push(t),t=[]),t.push(new u(i,a));else{if(7!==r)throw new Error("unknown command "+r);t&&t.push(t[0].clone())}}return t&&s.push(t),s},r.prototype.bbox=function(){var e=this._pbf;e.pos=this._geometry;for(var t=e.readVarint()+e.pos,n=1,r=0,o=0,i=0,a=1/0,s=-(1/0),u=1/0,l=-(1/0);e.pos<t;){if(!r){var c=e.readVarint();n=7&c,r=c>>3}if(r--,1===n||2===n)o+=e.readSVarint(),i+=e.readSVarint(),a>o&&(a=o),o>s&&(s=o),u>i&&(u=i),i>l&&(l=i);else if(7!==n)throw new Error("unknown command "+n)}return[a,u,s,l]},r.prototype.toGeoJSON=function(e,t,n){function o(e){for(var t=0;t<e.length;t++){var n=e[t],r=180-360*(n.y+c)/u;e[t]=[360*(n.x+l)/u-180,360/Math.PI*Math.atan(Math.exp(r*Math.PI/180))-90]}}var i,s,u=this.extent*Math.pow(2,n),l=this.extent*e,c=this.extent*t,p=this.loadGeometry(),f=r.types[this.type];switch(this.type){case 1:var h=[];for(i=0;i<p.length;i++)h[i]=p[i][0];p=h,o(p);break;case 2:for(i=0;i<p.length;i++)o(p[i]);break;case 3:for(p=a(p),i=0;i<p.length;i++)for(s=0;s<p[i].length;s++)o(p[i][s])}1===p.length?p=p[0]:f="Multi"+f;var d={type:"Feature",geometry:{type:f,coordinates:p},properties:this.properties};return"id"in this&&(d.id=this.id),d}},{"point-geometry":26}],37:[function(e,t,n){"use strict";function r(e,t){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=e,this._keys=[],this._values=[],this._features=[],e.readFields(o,this,t),this.length=this._features.length}function o(e,t,n){15===e?t.version=n.readVarint():1===e?t.name=n.readString():5===e?t.extent=n.readVarint():2===e?t._features.push(n.pos):3===e?t._keys.push(n.readString()):4===e&&t._values.push(i(n))}function i(e){for(var t=null,n=e.readVarint()+e.pos;e.pos<n;){var r=e.readVarint()>>3;t=1===r?e.readString():2===r?e.readFloat():3===r?e.readDouble():4===r?e.readVarint64():5===r?e.readVarint():6===r?e.readSVarint():7===r?e.readBoolean():null}return t}var a=e("./vectortilefeature.js");t.exports=r,r.prototype.feature=function(e){if(0>e||e>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[e];var t=this._pbf.readVarint()+this._pbf.pos;return new a(this._pbf,t,this.extent,this._keys,this._values)}},{"./vectortilefeature.js":36}],38:[function(e,t,n){function r(e){var t=[];for(var n in e.layers)t.push(i(e.layers[n]));var r=new c;return p.tile.write({layers:t},r),r.finish()}function o(e){var t={};for(var n in e)t[n]=new f(e[n].features),t[n].name=n;return r({layers:t})}function i(e){for(var t={name:e.name||"",version:e.version||1,extent:e.extent||4096,keys:[],values:[],features:[]},n={},r={},o=0;o<e.length;o++){var i=e.feature(o);i.geometry=u(i.loadGeometry());var a=[];for(var s in i.properties){var c=n[s];"undefined"==typeof c&&(t.keys.push(s),c=t.keys.length-1,n[s]=c);var p=l(i.properties[s]),f=r[p.key];"undefined"==typeof f&&(t.values.push(p),f=t.values.length-1,r[p.key]=f),a.push(c),a.push(f)}i.tags=a,t.features.push(i)}return t}function a(e,t){return(t<<3)+(7&e)}function s(e){return e<<1^e>>31}function u(e){for(var t=[],n=0,r=0,o=e.length,i=0;o>i;i++){var u=e[i];t.push(a(1,1));for(var l=0;l<u.length;l++){1===l&&t.push(a(2,u.length-1));var c=u[l].x-n,p=u[l].y-r;t.push(s(c),s(p)),n+=c,r+=p}}return t}function l(e){var t,n=typeof e;return"string"===n?t={string_value:e}:"boolean"===n?t={bool_value:e}:"number"===n?t=e%1!==0?{double_value:e}:0>e?{sint_value:e}:{uint_value:e}:(e=JSON.stringify(e),t={string_value:e}),t.key=n+":"+e,t}var c=e("pbf"),p=e("./vector-tile-pb"),f=e("./lib/geojson_wrapper");t.exports=r,t.exports.fromVectorTileJs=r,t.exports.fromGeojsonVt=o,t.exports.GeoJSONWrapper=f},{"./lib/geojson_wrapper":39,"./vector-tile-pb":40,pbf:25}],39:[function(e,t,n){"use strict";function r(e){this.features=e,this.length=e.length}function o(e){this.id="number"==typeof e.id?e.id:void 0,this.type=e.type,this.rawGeometry=1===e.type?[e.geometry]:e.geometry,this.properties=e.tags,this.extent=4096}var i=e("point-geometry"),a=e("vector-tile").VectorTileFeature;t.exports=r,r.prototype.feature=function(e){return new o(this.features[e])},o.prototype.loadGeometry=function(){var e=this.rawGeometry;this.geometry=[];for(var t=0;t<e.length;t++){for(var n=e[t],r=[],o=0;o<n.length;o++)r.push(new i(n[o][0],n[o][1]));this.geometry.push(r)}return this.geometry},o.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var e=this.geometry,t=1/0,n=-(1/0),r=1/0,o=-(1/0),i=0;i<e.length;i++)for(var a=e[i],s=0;s<a.length;s++){var u=a[s];t=Math.min(t,u.x),n=Math.max(n,u.x),r=Math.min(r,u.y),o=Math.max(o,u.y)}return[t,r,n,o]},o.prototype.toGeoJSON=a.prototype.toGeoJSON},{"point-geometry":26,"vector-tile":34}],40:[function(e,t,n){"use strict";function r(e,t){return e.readFields(o,{layers:[]},t)}function o(e,t,n){3===e&&t.layers.push(f(n,n.readVarint()+n.pos))}function i(e,t){var n;if(void 0!==e.layers)for(n=0;n<e.layers.length;n++)t.writeMessage(3,d,e.layers[n])}function a(e,t){return e.readFields(s,{},t)}function s(e,t,n){1===e?t.string_value=n.readString():2===e?t.float_value=n.readFloat():3===e?t.double_value=n.readDouble():4===e?t.int_value=n.readVarint():5===e?t.uint_value=n.readVarint():6===e?t.sint_value=n.readSVarint():7===e&&(t.bool_value=n.readBoolean())}function u(e,t){void 0!==e.string_value&&t.writeStringField(1,e.string_value),void 0!==e.float_value&&t.writeFloatField(2,e.float_value),void 0!==e.double_value&&t.writeDoubleField(3,e.double_value),void 0!==e.int_value&&t.writeVarintField(4,e.int_value),void 0!==e.uint_value&&t.writeVarintField(5,e.uint_value),void 0!==e.sint_value&&t.writeSVarintField(6,e.sint_value),void 0!==e.bool_value&&t.writeBooleanField(7,e.bool_value)}function l(e,t){var n=e.readFields(c,{},t);return void 0===n.type&&(n.type="Unknown"),n}function c(e,t,n){1===e?t.id=n.readVarint():2===e?t.tags=n.readPackedVarint():3===e?t.type=n.readVarint():4===e&&(t.geometry=n.readPackedVarint())}function p(e,t){void 0!==e.id&&t.writeVarintField(1,e.id),void 0!==e.tags&&t.writePackedVarint(2,e.tags),void 0!==e.type&&t.writeVarintField(3,e.type),void 0!==e.geometry&&t.writePackedVarint(4,e.geometry)}function f(e,t){return e.readFields(h,{features:[],keys:[],values:[]},t)}function h(e,t,n){15===e?t.version=n.readVarint():1===e?t.name=n.readString():2===e?t.features.push(l(n,n.readVarint()+n.pos)):3===e?t.keys.push(n.readString()):4===e?t.values.push(a(n,n.readVarint()+n.pos)):5===e&&(t.extent=n.readVarint())}function d(e,t){void 0!==e.version&&t.writeVarintField(15,e.version),void 0!==e.name&&t.writeStringField(1,e.name);var n;if(void 0!==e.features)for(n=0;n<e.features.length;n++)t.writeMessage(2,p,e.features[n]);if(void 0!==e.keys)for(n=0;n<e.keys.length;n++)t.writeStringField(3,e.keys[n]);if(void 0!==e.values)for(n=0;n<e.values.length;n++)t.writeMessage(4,u,e.values[n]);void 0!==e.extent&&t.writeVarintField(5,e.extent)}var m=n.tile={read:r,write:i};m.GeomType={Unknown:0,Point:1,LineString:2,Polygon:3},m.value={read:a,write:u},m.feature={read:l,write:p},m.layer={read:f,write:d}},{}],41:[function(e,t,n){var r=arguments[3],o=arguments[4],i=arguments[5],a=JSON.stringify;t.exports=function(e,t){function n(e){y[e]=!0;for(var t in o[e][1]){var r=o[e][1][t];y[r]||n(r)}}for(var s,u=Object.keys(i),l=0,c=u.length;c>l;l++){var p=u[l],f=i[p].exports;if(f===e||f&&f["default"]===e){s=p;break}}if(!s){s=Math.floor(Math.pow(16,8)*Math.random()).toString(16);for(var h={},l=0,c=u.length;c>l;l++){var p=u[l];h[p]=p}o[s]=[Function(["require","module","exports"],"("+e+")(self)"),h]}var d=Math.floor(Math.pow(16,8)*Math.random()).toString(16),m={};m[s]=s,o[d]=[Function(["require"],"var f = require("+a(s)+");(f.default ? f.default : f)(self);"),m];var y={};n(d);var g="("+r+")({"+Object.keys(y).map(function(e){return a(e)+":["+o[e][0]+","+a(o[e][1])+"]"}).join(",")+"},{},["+a(d)+"])",v=window.URL||window.webkitURL||window.mozURL||window.msURL,b=new Blob([g],{type:"text/javascript"});if(t&&t.bare)return b;var _=v.createObjectURL(b),w=new Worker(_);return w.objectURL=_,w}},{}],42:[function(e,t,n){t.exports.RADIUS=6378137,t.exports.FLATTENING=1/298.257223563,t.exports.POLAR_RADIUS=6356752.3142},{}],43:[function(e,t,n){t.exports={version:"0.37.0"}},{}],44:[function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e){var o=e[r].paintVertexArray;if(0!==o.length){var i=o.serialize(t),a=o.constructor.serialize();n[r]={array:i,type:a}}}return n}var o=e("./program_configuration"),i=e("./vertex_array_type"),a=function(e,t){this.vertexOffset=e,this.primitiveOffset=t,this.vertexLength=0,this.primitiveLength=0},s=function(e,t,n){var r=this;this.globalProperties={zoom:n};var a=i(e.layoutAttributes);this.layoutVertexArray=new a;var s=e.elementArrayType;s&&(this.elementArray=new s);var u=e.elementArrayType2;u&&(this.elementArray2=new u),this.layerData={};for(var l=0,c=t;l<c.length;l+=1){var p=c[l],f=o.createDynamic(e.paintAttributes||[],p,n);r.layerData[p.id]={layer:p,programConfiguration:f,paintVertexArray:new f.PaintVertexArray,paintPropertyStatistics:f.createPaintPropertyStatistics()}}this.segments=[],this.segments2=[]};s.prototype.prepareSegment=function(e){var t=this.segments[this.segments.length-1];return(!t||t.vertexLength+e>s.MAX_VERTEX_ARRAY_LENGTH)&&(t=new a(this.layoutVertexArray.length,this.elementArray.length),this.segments.push(t)),t},s.prototype.prepareSegment2=function(e){var t=this.segments2[this.segments2.length-1];return(!t||t.vertexLength+e>s.MAX_VERTEX_ARRAY_LENGTH)&&(t=new a(this.layoutVertexArray.length,this.elementArray2.length),this.segments2.push(t)),t},s.prototype.populatePaintArrays=function(e){var t=this;for(var n in t.layerData){var r=t.layerData[n];0!==r.paintVertexArray.bytesPerElement&&r.programConfiguration.populatePaintArray(r.layer,r.paintVertexArray,r.paintPropertyStatistics,t.layoutVertexArray.length,t.globalProperties,e)}},s.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},s.prototype.serialize=function(e){return{layoutVertexArray:this.layoutVertexArray.serialize(e),elementArray:this.elementArray&&this.elementArray.serialize(e),elementArray2:this.elementArray2&&this.elementArray2.serialize(e),paintVertexArrays:r(this.layerData,e),segments:this.segments,segments2:this.segments2}},s.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,t.exports=s},{"./program_configuration":58,"./vertex_array_type":60}],45:[function(e,t,n){"use strict";var r=e("./array_group"),o=e("./buffer_group"),i=e("../util/util"),a=function(e,t){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.index=e.index,e.arrays?this.buffers=new o(t,e.layers,e.zoom,e.arrays):this.arrays=new r(t,e.layers,e.zoom)};a.prototype.populate=function(e,t){for(var n=this,r=0,o=e;r<o.length;r+=1){var i=o[r];n.layers[0].filter(i)&&(n.addFeature(i),t.featureIndex.insert(i,n.index))}},a.prototype.getPaintPropertyStatistics=function(){return i.mapObject(this.arrays.layerData,function(e){return e.paintPropertyStatistics})},a.prototype.isEmpty=function(){return this.arrays.isEmpty()},a.prototype.serialize=function(e){return{zoom:this.zoom,layerIds:this.layers.map(function(e){return e.id}),arrays:this.arrays.serialize(e)}},a.prototype.destroy=function(){this.buffers&&(this.buffers.destroy(),this.buffers=null)},t.exports=a,a.deserialize=function(e,t){if(t){for(var n={},r=0,o=e;r<o.length;r+=1){var a=o[r],s=a.layerIds.map(function(e){return t.getLayer(e)}).filter(Boolean);if(0!==s.length)for(var u=s[0].createBucket(i.extend({layers:s},a)),l=0,c=s;l<c.length;l+=1){var p=c[l];n[p.id]=u}}return n}}},{"../util/util":215,"./array_group":44,"./buffer_group":52}],46:[function(e,t,n){"use strict";function r(e,t,n,r,o){e.emplaceBack(2*t+(r+1)/2,2*n+(o+1)/2)}var o=e("../bucket"),i=e("../element_array_type"),a=e("../load_geometry"),s=e("../extent"),u={layoutAttributes:[{name:"a_pos",components:2,type:"Int16"}],elementArrayType:i(),paintAttributes:[{property:"circle-color",type:"Uint8"},{property:"circle-radius",type:"Uint16",multiplier:10},{property:"circle-blur",type:"Uint16",multiplier:10},{property:"circle-opacity",type:"Uint8",multiplier:255},{property:"circle-stroke-color",type:"Uint8"},{property:"circle-stroke-width",type:"Uint16",multiplier:10},{property:"circle-stroke-opacity",type:"Uint8",multiplier:255}]},l=function(e){function t(t){e.call(this,t,u)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.addFeature=function(e){for(var t=this.arrays,n=0,o=a(e);n<o.length;n+=1)for(var i=o[n],u=0,l=i;u<l.length;u+=1){var c=l[u],p=c.x,f=c.y;if(!(0>p||p>=s||0>f||f>=s)){var h=t.prepareSegment(4),d=h.vertexLength;r(t.layoutVertexArray,p,f,-1,-1),r(t.layoutVertexArray,p,f,1,-1),r(t.layoutVertexArray,p,f,1,1),r(t.layoutVertexArray,p,f,-1,1),t.elementArray.emplaceBack(d,d+1,d+2),t.elementArray.emplaceBack(d,d+3,d+2),h.vertexLength+=4,h.primitiveLength+=2}}t.populatePaintArrays(e.properties)},t}(o);l.programInterface=u,t.exports=l},{"../bucket":45,"../element_array_type":53,"../extent":54,"../load_geometry":56}],47:[function(e,t,n){"use strict";var r=e("../bucket"),o=e("../element_array_type"),i=e("../load_geometry"),a=e("earcut"),s=e("../../util/classify_rings"),u=500,l={layoutAttributes:[{name:"a_pos",components:2,type:"Int16"}],elementArrayType:o(3),elementArrayType2:o(2),paintAttributes:[{property:"fill-color",type:"Uint8"},{property:"fill-outline-color",type:"Uint8"},{property:"fill-opacity",type:"Uint8",multiplier:255}]},c=function(e){function t(t){e.call(this,t,l)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.addFeature=function(e){for(var t=this.arrays,n=0,r=s(i(e),u);n<r.length;n+=1){for(var o=r[n],l=0,c=0,p=o;c<p.length;c+=1){var f=p[c];l+=f.length}for(var h=t.prepareSegment(l),d=h.vertexLength,m=[],y=[],g=0,v=o;g<v.length;g+=1){var b=v[g];if(0!==b.length){b!==o[0]&&y.push(m.length/2);var _=t.prepareSegment2(b.length),w=_.vertexLength;t.layoutVertexArray.emplaceBack(b[0].x,b[0].y),t.elementArray2.emplaceBack(w+b.length-1,w),m.push(b[0].x),m.push(b[0].y);for(var x=1;x<b.length;x++)t.layoutVertexArray.emplaceBack(b[x].x,b[x].y),t.elementArray2.emplaceBack(w+x-1,w+x),m.push(b[x].x),m.push(b[x].y);_.vertexLength+=b.length,_.primitiveLength+=b.length}}for(var k=a(m,y),E=0;E<k.length;E+=3)t.elementArray.emplaceBack(d+k[E],d+k[E+1],d+k[E+2]);h.vertexLength+=l,h.primitiveLength+=k.length/3}t.populatePaintArrays(e.properties)},t}(r);c.programInterface=l,t.exports=c},{"../../util/classify_rings":198,"../bucket":45,"../element_array_type":53,"../load_geometry":56,earcut:5}],48:[function(e,t,n){"use strict";function r(e,t,n,r,o,i,a,s){e.emplaceBack(t,n,2*Math.floor(r*h)+a,o*h*2,i*h*2,Math.round(s))}function o(e,t){return e.x===t.x&&(e.x<0||e.x>u)||e.y===t.y&&(e.y<0||e.y>u)}var i=e("../bucket"),a=e("../element_array_type"),s=e("../load_geometry"),u=e("../extent"),l=e("earcut"),c=e("../../util/classify_rings"),p=500,f={layoutAttributes:[{name:"a_pos",components:2,type:"Int16"},{name:"a_normal",components:3,type:"Int16"},{name:"a_edgedistance",components:1,type:"Int16"}],elementArrayType:a(3),paintAttributes:[{property:"fill-extrusion-base",type:"Uint16"},{property:"fill-extrusion-height",type:"Uint16"},{property:"fill-extrusion-color",type:"Uint8"}]},h=Math.pow(2,13),d=function(e){function t(t){e.call(this,t,f)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),
t.prototype.constructor=t,t.prototype.addFeature=function(e){for(var t=this.arrays,n=0,i=c(s(e),p);n<i.length;n+=1){for(var a=i[n],u=0,f=0,h=a;f<h.length;f+=1){var d=h[f];u+=d.length}for(var m=t.prepareSegment(5*u),y=[],g=[],v=[],b=0,_=a;b<_.length;b+=1){var w=_[b];if(0!==w.length){w!==a[0]&&g.push(y.length/2);for(var x=0,k=0;k<w.length;k++){var E=w[k];if(r(t.layoutVertexArray,E.x,E.y,0,0,1,1,0),v.push(m.vertexLength++),k>=1){var T=w[k-1];if(!o(E,T)){var S=E.sub(T)._perp()._unit();r(t.layoutVertexArray,E.x,E.y,S.x,S.y,0,0,x),r(t.layoutVertexArray,E.x,E.y,S.x,S.y,0,1,x),x+=T.dist(E),r(t.layoutVertexArray,T.x,T.y,S.x,S.y,0,0,x),r(t.layoutVertexArray,T.x,T.y,S.x,S.y,0,1,x);var C=m.vertexLength;t.elementArray.emplaceBack(C,C+1,C+2),t.elementArray.emplaceBack(C+1,C+2,C+3),m.vertexLength+=4,m.primitiveLength+=2}}y.push(E.x),y.push(E.y)}}}for(var M=l(y,g),P=0;P<M.length;P+=3)t.elementArray.emplaceBack(v[M[P]],v[M[P+1]],v[M[P+2]]);m.primitiveLength+=M.length/3}t.populatePaintArrays(e.properties)},t}(i);d.programInterface=f,t.exports=d},{"../../util/classify_rings":198,"../bucket":45,"../element_array_type":53,"../extent":54,"../load_geometry":56,earcut:5}],49:[function(e,t,n){"use strict";function r(e,t,n,r,o,i,a){e.emplaceBack(t.x<<1|r,t.y<<1|o,Math.round(l*n.x)+128,Math.round(l*n.y)+128,(0===i?0:0>i?-1:1)+1|(a*h&63)<<2,a*h>>6)}var o=e("../bucket"),i=e("../element_array_type"),a=e("../load_geometry"),s=e("../extent"),u=e("vector-tile").VectorTileFeature,l=63,c=Math.cos(37.5*(Math.PI/180)),p=15,f=15,h=.5,d=Math.pow(2,f-1)/h,m={layoutAttributes:[{name:"a_pos",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],paintAttributes:[{property:"line-color",type:"Uint8"},{property:"line-blur",multiplier:10,type:"Uint8"},{property:"line-opacity",multiplier:10,type:"Uint8"},{property:"line-gap-width",multiplier:10,type:"Uint8",name:"a_gapwidth"},{property:"line-offset",multiplier:1,type:"Int8"}],elementArrayType:i()},y=function(e){function t(t){e.call(this,t,m)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.addFeature=function(e){for(var t=this,n=this.layers[0].layout,r=n["line-join"],o=n["line-cap"],i=n["line-miter-limit"],s=n["line-round-limit"],u=0,l=a(e,f);u<l.length;u+=1){var c=l[u];t.addLine(c,e,r,o,i,s)}},t.prototype.addLine=function(e,t,n,r,o,i){for(var a=this,l=t.properties,f="Polygon"===u.types[t.type],h=e.length;h>=2&&e[h-1].equals(e[h-2]);)h--;for(var d=0;h-1>d&&e[d].equals(e[d+1]);)d++;if(!((f?3:2)>h)){"bevel"===n&&(o=1.05);var m=p*(s/(512*this.overscaling)),y=e[d],g=this.arrays,v=g.prepareSegment(10*h);this.distance=0;var b,_,w,x,k,E,T,S=r,C=f?"butt":r,M=!0;this.e1=this.e2=this.e3=-1,f&&(b=e[h-2],k=y.sub(b)._unit()._perp());for(var P=d;h>P;P++)if(w=f&&P===h-1?e[d+1]:e[P+1],!w||!e[P].equals(w)){k&&(x=k),b&&(_=b),b=e[P],k=w?w.sub(b)._unit()._perp():x,x=x||k;var A=x.add(k);0===A.x&&0===A.y||A._unit();var z=A.x*k.x+A.y*k.y,R=0!==z?1/z:1/0,O=c>z&&_&&w;if(O&&P>d){var L=b.dist(_);if(L>2*m){var D=b.sub(b.sub(_)._mult(m/L)._round());a.distance+=D.dist(_),a.addCurrentVertex(D,a.distance,x.mult(1),0,0,!1,v),_=D}}var j=_&&w,N=j?n:w?S:C;if(j&&"round"===N&&(i>R?N="miter":2>=R&&(N="fakeround")),"miter"===N&&R>o&&(N="bevel"),"bevel"===N&&(R>2&&(N="flipbevel"),o>R&&(N="miter")),_&&(a.distance+=b.dist(_)),"miter"===N)A._mult(R),a.addCurrentVertex(b,a.distance,A,0,0,!1,v);else if("flipbevel"===N){if(R>100)A=k.clone().mult(-1);else{var I=x.x*k.y-x.y*k.x>0?-1:1,F=R*x.add(k).mag()/x.sub(k).mag();A._perp()._mult(F*I)}a.addCurrentVertex(b,a.distance,A,0,0,!1,v),a.addCurrentVertex(b,a.distance,A.mult(-1),0,0,!1,v)}else if("bevel"===N||"fakeround"===N){var B=x.x*k.y-x.y*k.x>0,U=-Math.sqrt(R*R-1);if(B?(T=0,E=U):(E=0,T=U),M||a.addCurrentVertex(b,a.distance,x,E,T,!1,v),"fakeround"===N){for(var V=Math.floor(8*(.5-(z-.5))),Y=void 0,q=0;V>q;q++)Y=k.mult((q+1)/(V+1))._add(x)._unit(),a.addPieSliceVertex(b,a.distance,Y,B,v);a.addPieSliceVertex(b,a.distance,A,B,v);for(var W=V-1;W>=0;W--)Y=x.mult((W+1)/(V+1))._add(k)._unit(),a.addPieSliceVertex(b,a.distance,Y,B,v)}w&&a.addCurrentVertex(b,a.distance,k,-E,-T,!1,v)}else"butt"===N?(M||a.addCurrentVertex(b,a.distance,x,0,0,!1,v),w&&a.addCurrentVertex(b,a.distance,k,0,0,!1,v)):"square"===N?(M||(a.addCurrentVertex(b,a.distance,x,1,1,!1,v),a.e1=a.e2=-1),w&&a.addCurrentVertex(b,a.distance,k,-1,-1,!1,v)):"round"===N&&(M||(a.addCurrentVertex(b,a.distance,x,0,0,!1,v),a.addCurrentVertex(b,a.distance,x,1,1,!0,v),a.e1=a.e2=-1),w&&(a.addCurrentVertex(b,a.distance,k,-1,-1,!0,v),a.addCurrentVertex(b,a.distance,k,0,0,!1,v)));if(O&&h-1>P){var H=b.dist(w);if(H>2*m){var G=b.add(w.sub(b)._mult(m/H)._round());a.distance+=G.dist(b),a.addCurrentVertex(G,a.distance,k.mult(1),0,0,!1,v),b=G}}M=!1}g.populatePaintArrays(l)}},t.prototype.addCurrentVertex=function(e,t,n,o,i,a,s){var u,l=a?1:0,c=this.arrays,p=c.layoutVertexArray,f=c.elementArray;u=n.clone(),o&&u._sub(n.perp()._mult(o)),r(p,e,u,l,0,o,t),this.e3=s.vertexLength++,this.e1>=0&&this.e2>=0&&(f.emplaceBack(this.e1,this.e2,this.e3),s.primitiveLength++),this.e1=this.e2,this.e2=this.e3,u=n.mult(-1),i&&u._sub(n.perp()._mult(i)),r(p,e,u,l,1,-i,t),this.e3=s.vertexLength++,this.e1>=0&&this.e2>=0&&(f.emplaceBack(this.e1,this.e2,this.e3),s.primitiveLength++),this.e1=this.e2,this.e2=this.e3,t>d/2&&(this.distance=0,this.addCurrentVertex(e,this.distance,n,o,i,a,s))},t.prototype.addPieSliceVertex=function(e,t,n,o,i){var a=o?1:0;n=n.mult(o?-1:1);var s=this.arrays,u=s.layoutVertexArray,l=s.elementArray;r(u,e,n,0,a,0,t),this.e3=i.vertexLength++,this.e1>=0&&this.e2>=0&&(l.emplaceBack(this.e1,this.e2,this.e3),i.primitiveLength++),o?this.e2=this.e3:this.e1=this.e3},t}(o);y.programInterface=m,t.exports=y},{"../bucket":45,"../element_array_type":53,"../extent":54,"../load_geometry":56,"vector-tile":34}],50:[function(e,t,n){"use strict";function r(e,t,n,r,o,i,a,s,u,l,c,p){e.emplaceBack(t,n,Math.round(64*r),Math.round(64*o),i/4,a/4,h(10*(c||0),p%256),h(10*(u||0),10*Math.min(l||25,25)),s?s[0]:void 0,s?s[1]:void 0,s?s[2]:void 0)}function o(e,t,n,r,o){return e.emplaceBack(t.x,t.y,Math.round(n.x),Math.round(n.y),10*r,10*o)}function i(e,t,n){var r={isFeatureConstant:t.isLayoutValueFeatureConstant(n),isZoomConstant:t.isLayoutValueZoomConstant(n)};if(r.isFeatureConstant&&(r.layoutSize=t.getLayoutValue(n,{zoom:e+1})),!r.isZoomConstant){for(var o=t.getLayoutValueStopZoomLevels(n),i=0;i<o.length&&o[i]<=e;)i++;i=Math.max(0,i-1);for(var a=i;a<o.length&&o[a]<e+1;)a++;a=Math.min(o.length-1,a),r.coveringZoomRange=[o[i],o[a]],t.isLayoutValueFeatureConstant(n)&&(r.coveringStopValues=[t.getLayoutValue(n,{zoom:o[i]}),t.getLayoutValue(n,{zoom:o[a]})]),r.functionBase=t.getLayoutProperty(n).base,"undefined"==typeof r.functionBase&&(r.functionBase=1),r.functionType=t.getLayoutProperty(n).type||"exponential"}return r}function a(e,t){return e.isLayoutValueZoomConstant(t)&&!e.isLayoutValueFeatureConstant(t)?[{name:"a_size",components:1,type:"Uint16"}]:e.isLayoutValueZoomConstant(t)||e.isLayoutValueFeatureConstant(t)?[]:[{name:"a_size",components:3,type:"Uint16"}]}function s(e,t,n,r,o){return e.isLayoutValueZoomConstant(r)&&!e.isLayoutValueFeatureConstant(r)?[10*e.getLayoutValue(r,{},o)]:e.isLayoutValueZoomConstant(r)||e.isLayoutValueFeatureConstant(r)?null:[10*e.getLayoutValue(r,{zoom:n[0]},o),10*e.getLayoutValue(r,{zoom:n[1]},o),10*e.getLayoutValue(r,{zoom:1+t},o)]}var u=e("point-geometry"),l=e("../array_group"),c=e("../buffer_group"),p=e("../element_array_type"),f=e("../extent"),h=e("../../shaders/encode_attribute").packUint8ToFloat,d=e("../../symbol/anchor"),m=e("../../symbol/get_anchors"),y=e("../../util/token"),g=e("../../symbol/quads"),v=e("../../symbol/shaping"),b=e("../../symbol/transform_text"),_=e("../../symbol/mergelines"),w=e("../../symbol/clip_line"),x=e("../../util/util"),k=e("../../util/script_detection"),E=e("../load_geometry"),T=e("../../symbol/collision_feature"),S=e("../../util/find_pole_of_inaccessibility"),C=e("../../util/classify_rings"),M=e("vector-tile").VectorTileFeature,P=v.shapeText,A=v.shapeIcon,z=v.WritingMode,R=g.getGlyphQuads,O=g.getIconQuads,L=p(),D=[{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"}],j={glyph:{layoutAttributes:D,elementArrayType:L,paintAttributes:[{name:"a_fill_color",property:"text-color",type:"Uint8"},{name:"a_halo_color",property:"text-halo-color",type:"Uint8"},{name:"a_halo_width",property:"text-halo-width",type:"Uint16",multiplier:10},{name:"a_halo_blur",property:"text-halo-blur",type:"Uint16",multiplier:10},{name:"a_opacity",property:"text-opacity",type:"Uint8",multiplier:255}]},icon:{layoutAttributes:D,elementArrayType:L,paintAttributes:[{name:"a_fill_color",property:"icon-color",type:"Uint8"},{name:"a_halo_color",property:"icon-halo-color",type:"Uint8"},{name:"a_halo_width",property:"icon-halo-width",type:"Uint16",multiplier:10},{name:"a_halo_blur",property:"icon-halo-blur",type:"Uint16",multiplier:10},{name:"a_opacity",property:"icon-opacity",type:"Uint8",multiplier:255}]},collisionBox:{layoutAttributes:[{name:"a_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"},{name:"a_data",components:2,type:"Uint8"}],elementArrayType:p(2)}},N=function(e){var t=this;this.collisionBoxArray=e.collisionBoxArray,this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.index=e.index,this.sdfIcons=e.sdfIcons,this.iconsNeedLinear=e.iconsNeedLinear,this.fontstack=e.fontstack;var n=this.layers[0];if(this.symbolInterfaces={glyph:x.extend({},j.glyph,{layoutAttributes:[].concat(j.glyph.layoutAttributes,a(n,"text-size"))}),icon:x.extend({},j.icon,{layoutAttributes:[].concat(j.icon.layoutAttributes,a(n,"icon-size"))}),collisionBox:x.extend({},j.collisionBox,{layoutAttributes:[].concat(j.collisionBox.layoutAttributes)})},e.arrays){this.buffers={};for(var r in e.arrays)e.arrays[r]&&(t.buffers[r]=new c(t.symbolInterfaces[r],e.layers,e.zoom,e.arrays[r]));this.textSizeData=e.textSizeData,this.iconSizeData=e.iconSizeData}else this.textSizeData=i(this.zoom,n,"text-size"),this.iconSizeData=i(this.zoom,n,"icon-size")};N.prototype.populate=function(e,t){var n=this,r=this.layers[0],o=r.layout,i=o["text-font"],a=(!r.isLayoutValueFeatureConstant("text-field")||o["text-field"])&&i,s=!r.isLayoutValueFeatureConstant("icon-image")||o["icon-image"];if(this.features=[],a||s){for(var u=t.iconDependencies,l=t.glyphDependencies,c=l[i]=l[i]||{},p={zoom:this.zoom},f=0;f<e.length;f++){var h=e[f];if(r.filter(h)){var d=void 0;a&&(d=r.getLayoutValue("text-field",p,h.properties),r.isLayoutValueFeatureConstant("text-field")&&(d=y(h.properties,d)),d=b(d,r,p,h.properties));var m=void 0;if(s&&(m=r.getLayoutValue("icon-image",p,h.properties),r.isLayoutValueFeatureConstant("icon-image")&&(m=y(h.properties,m))),(d||m)&&(n.features.push({text:d,icon:m,index:f,sourceLayerIndex:h.sourceLayerIndex,geometry:E(h),properties:h.properties,type:M.types[h.type]}),m&&(u[m]=!0),d))for(var g=0;g<d.length;g++)c[d.charCodeAt(g)]=!0}}"line"===o["symbol-placement"]&&(this.features=_(this.features))}},N.prototype.isEmpty=function(){return this.arrays.icon.isEmpty()&&this.arrays.glyph.isEmpty()&&this.arrays.collisionBox.isEmpty()},N.prototype.getPaintPropertyStatistics=function(){for(var e=this,t={},n=0,r=e.layers;n<r.length;n+=1){var o=r[n];t[o.id]=x.extend({},e.arrays.icon.layerData[o.id].paintPropertyStatistics,e.arrays.glyph.layerData[o.id].paintPropertyStatistics)}return t},N.prototype.serialize=function(e){return{zoom:this.zoom,layerIds:this.layers.map(function(e){return e.id}),sdfIcons:this.sdfIcons,iconsNeedLinear:this.iconsNeedLinear,textSizeData:this.textSizeData,iconSizeData:this.iconSizeData,fontstack:this.fontstack,arrays:x.mapObject(this.arrays,function(t){return t.isEmpty()?null:t.serialize(e)})}},N.prototype.destroy=function(){this.buffers&&(this.buffers.icon&&this.buffers.icon.destroy(),this.buffers.glyph&&this.buffers.glyph.destroy(),this.buffers.collisionBox&&this.buffers.collisionBox.destroy(),this.buffers=null)},N.prototype.createArrays=function(){var e=this;this.arrays=x.mapObject(this.symbolInterfaces,function(t){return new l(t,e.layers,e.zoom)})},N.prototype.prepare=function(e,t){var n=this;this.symbolInstances=[];var r=512*this.overscaling;this.tilePixelRatio=f/r,this.compareText={},this.iconsNeedLinear=!1;var o=this.layers[0].layout,i=.5,a=.5;switch(o["text-anchor"]){case"right":case"top-right":case"bottom-right":i=1;break;case"left":case"top-left":case"bottom-left":i=0}switch(o["text-anchor"]){case"bottom":case"bottom-right":case"bottom-left":a=1;break;case"top":case"top-right":case"top-left":a=0}for(var s="right"===o["text-justify"]?1:"left"===o["text-justify"]?0:.5,u=24,l=o["text-line-height"]*u,c="line"!==o["symbol-placement"]?o["text-max-width"]*u:0,p=o["text-letter-spacing"]*u,h=this.fontstack=o["text-font"].join(","),d="map"===o["text-rotation-alignment"]&&"line"===o["symbol-placement"],m=0,y=n.features;m<y.length;m+=1){var g=y[m],v=void 0;if(g.text){var b=k.allowsVerticalWritingMode(g.text),_=n.layers[0].getLayoutValue("text-offset",{zoom:n.zoom},g.properties).map(function(e){return e*u});v={},v[z.horizontal]=P(g.text,e[h],c,l,i,a,s,p,_,u,z.horizontal),v[z.vertical]=b&&d&&P(g.text,e[h],c,l,i,a,s,p,_,u,z.vertical)}else v={};var w=void 0;if(g.icon){var E=t[g.icon],T=n.layers[0].getLayoutValue("icon-offset",{zoom:n.zoom},g.properties);w=A(E,T),E&&(void 0===n.sdfIcons?n.sdfIcons=E.sdf:n.sdfIcons!==E.sdf&&x.warnOnce("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),1!==E.pixelRatio?n.iconsNeedLinear=!0:0===o["icon-rotate"]&&n.layers[0].isLayoutValueFeatureConstant("icon-rotate")||(n.iconsNeedLinear=!0))}(v[z.horizontal]||w)&&n.addFeature(g,v,w)}},N.prototype.addFeature=function(e,t,n){var r=this,o=this.layers[0].getLayoutValue("text-size",{zoom:this.zoom+1},e.properties),i=this.layers[0].getLayoutValue("icon-size",{zoom:this.zoom+1},e.properties),a=this.layers[0].getLayoutValue("text-size",{zoom:18},e.properties);void 0===a&&(a=o);var s=this.layers[0].layout,u=24,l=o/u,c=this.tilePixelRatio*l,p=this.tilePixelRatio*a/u,h=this.tilePixelRatio*i,y=this.tilePixelRatio*s["symbol-spacing"],g=s["symbol-avoid-edges"],v=s["text-padding"]*this.tilePixelRatio,b=s["icon-padding"]*this.tilePixelRatio,_=s["text-max-angle"]/180*Math.PI,x="map"===s["text-rotation-alignment"]&&"line"===s["symbol-placement"],k="map"===s["icon-rotation-alignment"]&&"line"===s["symbol-placement"],E=s["text-allow-overlap"]||s["icon-allow-overlap"]||s["text-ignore-placement"]||s["icon-ignore-placement"],T=s["symbol-placement"],M=y/2,P=function(o,i){var a=!(i.x<0||i.x>f||i.y<0||i.y>f);if(!g||a){var s=a||E;r.addSymbolInstance(i,o,t,n,r.layers[0],s,r.collisionBoxArray,e.index,e.sourceLayerIndex,r.index,c,v,x,h,b,k,{zoom:r.zoom},e.properties)}};if("line"===T)for(var A=0,R=w(e.geometry,0,0,f,f);A<R.length;A+=1)for(var O=R[A],L=m(O,y,_,t[z.vertical]||t[z.horizontal],n,u,p,r.overscaling,f),D=0,j=L;D<j.length;D+=1){var N=j[D],I=t[z.horizontal];I&&r.anchorIsTooClose(I.text,M,N)||P(O,N)}else if("Polygon"===e.type)for(var F=0,B=C(e.geometry,0);F<B.length;F+=1){var U=B[F],V=S(U,16);P(U[0],new d(V.x,V.y,0))}else if("LineString"===e.type)for(var Y=0,q=e.geometry;Y<q.length;Y+=1){var W=q[Y];P(W,new d(W[0].x,W[0].y,0))}else if("Point"===e.type)for(var H=0,G=e.geometry;H<G.length;H+=1)for(var Z=G[H],X=0,K=Z;X<K.length;X+=1){var J=K[X];P([J],new d(J.x,J.y,0))}},N.prototype.anchorIsTooClose=function(e,t,n){var r=this.compareText;if(e in r){for(var o=r[e],i=o.length-1;i>=0;i--)if(n.dist(o[i])<t)return!0}else r[e]=[];return r[e].push(n),!1},N.prototype.place=function(e,t){var n=this;this.createArrays();var r=this.layers[0],o=r.layout,i=e.maxScale,a="map"===o["text-rotation-alignment"]&&"line"===o["symbol-placement"],u="map"===o["icon-rotation-alignment"]&&"line"===o["symbol-placement"],l=o["text-allow-overlap"]||o["icon-allow-overlap"]||o["text-ignore-placement"]||o["icon-ignore-placement"];if(l){var c=e.angle,p=Math.sin(c),f=Math.cos(c);this.symbolInstances.sort(function(e,t){var n=p*e.anchor.x+f*e.anchor.y|0,r=p*t.anchor.x+f*t.anchor.y|0;return n-r||t.featureIndex-e.featureIndex})}for(var h=0,d=n.symbolInstances;h<d.length;h+=1){var m=d[h],y={boxStartIndex:m.textBoxStartIndex,boxEndIndex:m.textBoxEndIndex},g={boxStartIndex:m.iconBoxStartIndex,boxEndIndex:m.iconBoxEndIndex},v=!(m.textBoxStartIndex===m.textBoxEndIndex),b=!(m.iconBoxStartIndex===m.iconBoxEndIndex),_=o["text-optional"]||!v,w=o["icon-optional"]||!b,x=v?e.placeCollisionFeature(y,o["text-allow-overlap"],o["symbol-avoid-edges"]):e.minScale,k=b?e.placeCollisionFeature(g,o["icon-allow-overlap"],o["symbol-avoid-edges"]):e.minScale;if(_||w?!w&&x?x=Math.max(k,x):!_&&k&&(k=Math.max(k,x)):k=x=Math.max(k,x),v&&(e.insertCollisionFeature(y,x,o["text-ignore-placement"]),i>=x)){var E=s(r,n.zoom,n.textSizeData.coveringZoomRange,"text-size",m.featureProperties);n.addSymbols(n.arrays.glyph,m.glyphQuads,x,E,o["text-keep-upright"],a,e.angle,m.featureProperties,m.writingModes)}if(b&&(e.insertCollisionFeature(g,k,o["icon-ignore-placement"]),i>=k)){var T=s(r,n.zoom,n.iconSizeData.coveringZoomRange,"icon-size",m.featureProperties);n.addSymbols(n.arrays.icon,m.iconQuads,k,T,o["icon-keep-upright"],u,e.angle,m.featureProperties)}}t&&this.addToDebugBuffers(e)},N.prototype.addSymbols=function(e,t,n,o,i,a,s,u,l){for(var c=e.elementArray,p=e.layoutVertexArray,f=this.zoom,h=Math.max(Math.log(n)/Math.LN2+f,0),d=0,m=t;d<m.length;d+=1){var y=m[d],g=(y.anchorAngle+s+Math.PI)%(2*Math.PI);if(l&z.vertical){if(a&&y.writingMode===z.vertical){if(i&&a&&g<=5*Math.PI/4||g>7*Math.PI/4)continue}else if(i&&a&&g<=3*Math.PI/4||g>5*Math.PI/4)continue}else if(i&&a&&(g<=Math.PI/2||g>3*Math.PI/2))continue;var v=y.tl,b=y.tr,_=y.bl,w=y.br,x=y.tex,k=y.anchorPoint,E=Math.max(f+Math.log(y.minScale)/Math.LN2,h),T=Math.min(f+Math.log(y.maxScale)/Math.LN2,25);if(!(E>=T)){E===h&&(E=0);var S=Math.round(y.glyphAngle/(2*Math.PI)*256),C=e.prepareSegment(4),M=C.vertexLength;r(p,k.x,k.y,v.x,v.y,x.x,x.y,o,E,T,h,S),r(p,k.x,k.y,b.x,b.y,x.x+x.w,x.y,o,E,T,h,S),r(p,k.x,k.y,_.x,_.y,x.x,x.y+x.h,o,E,T,h,S),r(p,k.x,k.y,w.x,w.y,x.x+x.w,x.y+x.h,o,E,T,h,S),c.emplaceBack(M,M+1,M+2),c.emplaceBack(M+1,M+2,M+3),C.vertexLength+=4,C.primitiveLength+=2}}e.populatePaintArrays(u)},N.prototype.addToDebugBuffers=function(e){for(var t=this,n=this.arrays.collisionBox,r=n.layoutVertexArray,i=n.elementArray,a=-e.angle,s=e.yStretch,l=0,c=t.symbolInstances;l<c.length;l+=1){var p=c[l];p.textCollisionFeature={boxStartIndex:p.textBoxStartIndex,boxEndIndex:p.textBoxEndIndex},p.iconCollisionFeature={boxStartIndex:p.iconBoxStartIndex,boxEndIndex:p.iconBoxEndIndex};for(var f=0;2>f;f++){var h=p[0===f?"textCollisionFeature":"iconCollisionFeature"];if(h)for(var d=h.boxStartIndex;d<h.boxEndIndex;d++){var m=t.collisionBoxArray.get(d),y=m.anchorPoint,g=new u(m.x1,m.y1*s)._rotate(a),v=new u(m.x2,m.y1*s)._rotate(a),b=new u(m.x1,m.y2*s)._rotate(a),_=new u(m.x2,m.y2*s)._rotate(a),w=Math.max(0,Math.min(25,t.zoom+Math.log(m.maxScale)/Math.LN2)),x=Math.max(0,Math.min(25,t.zoom+Math.log(m.placementScale)/Math.LN2)),k=n.prepareSegment(4),E=k.vertexLength;o(r,y,g,w,x),o(r,y,v,w,x),o(r,y,_,w,x),o(r,y,b,w,x),i.emplaceBack(E,E+1),i.emplaceBack(E+1,E+2),i.emplaceBack(E+2,E+3),i.emplaceBack(E+3,E),k.vertexLength+=4,k.primitiveLength+=4}}}},N.prototype.addSymbolInstance=function(e,t,n,r,o,i,a,s,u,l,c,p,f,h,d,m,y,g){var v,b,_=[],w=[];for(var k in n){var E=parseInt(k,10);n[E]&&(w=w.concat(i?R(e,n[E],c,t,o,f,y,g):[]),v=new T(a,t,e,s,u,l,n[E],c,p,f,!1))}var S=v?v.boxStartIndex:this.collisionBoxArray.length,C=v?v.boxEndIndex:this.collisionBoxArray.length;r&&(_=i?O(e,r,h,t,o,m,n[z.horizontal],y,g):[],b=new T(a,t,e,s,u,l,r,h,d,m,!0));var M=b?b.boxStartIndex:this.collisionBoxArray.length,P=b?b.boxEndIndex:this.collisionBoxArray.length;C>N.MAX_INSTANCES&&x.warnOnce("Too many symbols being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),P>N.MAX_INSTANCES&&x.warnOnce("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907");var A=(n[z.vertical]?z.vertical:0)|(n[z.horizontal]?z.horizontal:0);this.symbolInstances.push({textBoxStartIndex:S,textBoxEndIndex:C,iconBoxStartIndex:M,iconBoxEndIndex:P,glyphQuads:w,iconQuads:_,anchor:e,featureIndex:s,featureProperties:g,writingModes:A})},N.programInterfaces=j,N.MAX_INSTANCES=65535,t.exports=N},{"../../shaders/encode_attribute":81,"../../symbol/anchor":160,"../../symbol/clip_line":162,"../../symbol/collision_feature":164,"../../symbol/get_anchors":166,"../../symbol/mergelines":169,"../../symbol/quads":170,"../../symbol/shaping":171,"../../symbol/transform_text":173,"../../util/classify_rings":198,"../../util/find_pole_of_inaccessibility":204,"../../util/script_detection":211,"../../util/token":214,"../../util/util":215,"../array_group":44,"../buffer_group":52,"../element_array_type":53,"../extent":54,"../load_geometry":56,"point-geometry":26,"vector-tile":34}],51:[function(e,t,n){"use strict";var r={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT"},o=function(e,t,n){this.arrayBuffer=e.arrayBuffer,this.length=e.length,this.attributes=t.members,this.itemSize=t.bytesPerElement,this.type=n,this.arrayType=t};o.fromStructArray=function(e,t){return new o(e.serialize(),e.constructor.serialize(),t)},o.prototype.bind=function(e){var t=e[this.type];this.buffer?e.bindBuffer(t,this.buffer):(this.gl=e,this.buffer=e.createBuffer(),e.bindBuffer(t,this.buffer),e.bufferData(t,this.arrayBuffer,e.STATIC_DRAW),this.arrayBuffer=null)},o.prototype.enableAttributes=function(e,t){for(var n=this,r=0;r<this.attributes.length;r++){var o=n.attributes[r],i=t[o.name];void 0!==i&&e.enableVertexAttribArray(i)}},o.prototype.setVertexAttribPointers=function(e,t,n){for(var o=this,i=0;i<this.attributes.length;i++){var a=o.attributes[i],s=t[a.name];void 0!==s&&e.vertexAttribPointer(s,a.components,e[r[a.type]],!1,o.arrayType.bytesPerElement,a.offset+(o.arrayType.bytesPerElement*n||0))}},o.prototype.destroy=function(){this.buffer&&this.gl.deleteBuffer(this.buffer)},o.BufferType={VERTEX:"ARRAY_BUFFER",ELEMENT:"ELEMENT_ARRAY_BUFFER"},t.exports=o},{}],52:[function(e,t,n){"use strict";var r=e("../util/util"),o=e("./buffer"),i=e("./program_configuration"),a=e("./vertex_array_type"),s=e("../render/vertex_array_object"),u=function(e,t,n,u){var l=this,c=a(e.layoutAttributes);this.layoutVertexBuffer=new o(u.layoutVertexArray,c.serialize(),o.BufferType.VERTEX),u.elementArray&&(this.elementBuffer=new o(u.elementArray,e.elementArrayType.serialize(),o.BufferType.ELEMENT)),u.elementArray2&&(this.elementBuffer2=new o(u.elementArray2,e.elementArrayType2.serialize(),o.BufferType.ELEMENT)),this.layerData={};for(var p=0,f=t;p<f.length;p+=1){var h=f[p],d=u.paintVertexArrays&&u.paintVertexArrays[h.id],m=i.createDynamic(e.paintAttributes||[],h,n),y=d?new o(d.array,d.type,o.BufferType.VERTEX):null;l.layerData[h.id]={programConfiguration:m,paintVertexBuffer:y}}this.segments=u.segments,this.segments2=u.segments2;for(var g=0,v=[l.segments,l.segments2];g<v.length;g+=1)for(var b=v[g],_=0,w=b||[];_<w.length;_+=1){var x=w[_];x.vaos=r.mapObject(l.layerData,function(){return new s})}};u.prototype.destroy=function(){var e=this;this.layoutVertexBuffer.destroy(),this.elementBuffer&&this.elementBuffer.destroy(),this.elementBuffer2&&this.elementBuffer2.destroy();for(var t in e.layerData){var n=e.layerData[t].paintVertexBuffer;n&&n.destroy()}for(var r=0,o=[e.segments,e.segments2];r<o.length;r+=1)for(var i=o[r],a=0,s=i||[];a<s.length;a+=1){var u=s[a];for(var l in u.vaos)u.vaos[l].destroy()}},t.exports=u},{"../render/vertex_array_object":80,"../util/util":215,"./buffer":51,"./program_configuration":58,"./vertex_array_type":60}],53:[function(e,t,n){"use strict";function r(e){return o({members:[{type:"Uint16",name:"vertices",components:e||3}]})}var o=e("../util/struct_array");t.exports=r},{"../util/struct_array":213}],54:[function(e,t,n){"use strict";t.exports=8192},{}],55:[function(e,t,n){"use strict";function r(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function o(e,t){return t-e}function i(e,t){return t>0?t+2*e:e}function a(e,t,n,r,o){if(!t[0]&&!t[1])return e;t=u.convert(t),"viewport"===n&&t._rotate(-r);for(var i=[],a=0;a<e.length;a++){for(var s=e[a],l=[],c=0;c<s.length;c++)l.push(s[c].sub(t._mult(o)));i.push(l)}return i}function s(e,t){for(var n=[],r=new u(0,0),o=0;o<e.length;o++){for(var i=e[o],a=[],s=0;s<i.length;s++){var l=i[s-1],c=i[s],p=i[s+1],f=0===s?r:c.sub(l)._unit()._perp(),h=s===i.length-1?r:p.sub(c)._unit()._perp(),d=f._add(h)._unit(),m=d.x*h.x+d.y*h.y;d._mult(1/m),a.push(d._mult(t)._add(c))}n.push(a)}return n}var u=e("point-geometry"),l=e("./load_geometry"),c=e("./extent"),p=e("../style-spec/feature_filter"),f=e("../util/struct_array"),h=e("grid-index"),d=e("../util/dictionary_coder"),m=e("vector-tile"),y=e("pbf"),g=e("../util/vectortile_to_geojson"),v=e("../util/util").arraysIntersect,b=e("../util/intersection_tests"),_=b.multiPolygonIntersectsBufferedMultiPoint,w=b.multiPolygonIntersectsMultiPolygon,x=b.multiPolygonIntersectsBufferedMultiLine,k=f({members:[{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]}),E=function(e,t,n){if(e.grid){var r=e,o=t;e=r.coord,t=r.overscaling,this.grid=new h(r.grid),this.featureIndexArray=new k(r.featureIndexArray),this.rawTileData=o,this.bucketLayerIDs=r.bucketLayerIDs,this.paintPropertyStatistics=r.paintPropertyStatistics}else this.grid=new h(c,16,0),this.featureIndexArray=new k;this.coord=e,this.overscaling=t,this.x=e.x,this.y=e.y,this.z=e.z-Math.log(t)/Math.LN2,this.setCollisionTile(n)};E.prototype.insert=function(e,t){var n=this,r=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(e.index,e.sourceLayerIndex,t);for(var o=l(e),i=0;i<o.length;i++){for(var a=o[i],s=[1/0,1/0,-(1/0),-(1/0)],u=0;u<a.length;u++){var c=a[u];s[0]=Math.min(s[0],c.x),s[1]=Math.min(s[1],c.y),s[2]=Math.max(s[2],c.x),s[3]=Math.max(s[3],c.y)}n.grid.insert(r,s[0],s[1],s[2],s[3])}},E.prototype.setCollisionTile=function(e){this.collisionTile=e},E.prototype.serialize=function(e){var t=this.grid.toArrayBuffer();return e&&e.push(t),{coord:this.coord,overscaling:this.overscaling,grid:t,featureIndexArray:this.featureIndexArray.serialize(e),bucketLayerIDs:this.bucketLayerIDs,paintPropertyStatistics:this.paintPropertyStatistics}},E.prototype.query=function(e,t){var n=this;this.vtLayers||(this.vtLayers=new m.VectorTile(new y(this.rawTileData)).layers,this.sourceLayerCoder=new d(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"]));var a={},s=e.params||{},l=c/e.tileSize/e.scale,f=p(s.filter),h=0;for(var g in t)if(n.hasLayer(g)){var v=t[g],b=0;if("line"===v.type){var _=i(n.getPaintValue("line-width",v),n.getPaintValue("line-gap-width",v)),w=n.getPaintValue("line-offset",v),x=n.getPaintValue("line-translate",v);b=_/2+Math.abs(w)+r(x)}else"fill"===v.type?b=r(n.getPaintValue("fill-translate",v)):"fill-extrusion"===v.type?b=r(n.getPaintValue("fill-extrusion-translate",v)):"circle"===v.type&&(b=n.getPaintValue("circle-radius",v)+r(n.getPaintValue("circle-translate",v)));h=Math.max(h,b*l)}for(var k=e.queryGeometry.map(function(e){return e.map(function(e){return new u(e.x,e.y)})}),E=1/0,T=1/0,S=-(1/0),C=-(1/0),M=0;M<k.length;M++)for(var P=k[M],A=0;A<P.length;A++){var z=P[A];E=Math.min(E,z.x),T=Math.min(T,z.y),S=Math.max(S,z.x),C=Math.max(C,z.y)}var R=this.grid.query(E-h,T-h,S+h,C+h);R.sort(o),this.filterMatching(a,R,this.featureIndexArray,k,f,s.layers,t,e.bearing,l);var O=this.collisionTile.queryRenderedSymbols(k,e.scale);return O.sort(),this.filterMatching(a,O,this.collisionTile.collisionBoxArray,k,f,s.layers,t,e.bearing,l),a},E.prototype.filterMatching=function(e,t,n,r,o,u,c,p,f){for(var h,d=this,m=0;m<t.length;m++){var y=t[m];if(y!==h){h=y;var b=n.get(y),k=d.bucketLayerIDs[b.bucketIndex];if(!u||v(u,k)){var E=d.sourceLayerCoder.decode(b.sourceLayerIndex),T=d.vtLayers[E],S=T.feature(b.featureIndex);if(o(S))for(var C=null,M=0;M<k.length;M++){var P=k[M];if(!(u&&u.indexOf(P)<0)){var A=c[P];if(A){var z=void 0;if("symbol"!==A.type)if(C||(C=l(S)),"line"===A.type){z=a(r,d.getPaintValue("line-translate",A,S),d.getPaintValue("line-translate-anchor",A,S),p,f);var R=f/2*i(d.getPaintValue("line-width",A,S),d.getPaintValue("line-gap-width",A,S)),O=d.getPaintValue("line-offset",A,S);if(O&&(C=s(C,O*f)),!x(z,C,R))continue}else if("fill"===A.type||"fill-extrusion"===A.type){var L=A.type;if(z=a(r,d.getPaintValue(L+"-translate",A,S),d.getPaintValue(L+"-translate-anchor",A,S),p,f),!w(z,C))continue}else if("circle"===A.type){z=a(r,d.getPaintValue("circle-translate",A,S),d.getPaintValue("circle-translate-anchor",A,S),p,f);var D=d.getPaintValue("circle-radius",A,S)*f;if(!_(z,C,D))continue}var j=new g(S,d.z,d.x,d.y);j.layer=A.serialize();var N=e[P];void 0===N&&(N=e[P]=[]),N.push(j)}}}}}}},E.prototype.hasLayer=function(e){var t=this;for(var n in t.bucketLayerIDs)for(var r=0,o=t.bucketLayerIDs[n];r<o.length;r+=1){var i=o[r];if(e===i)return!0}return!1},E.prototype.getPaintValue=function(e,t,n){var r=t.isPaintValueFeatureConstant(e);if(r||n){var o=n?n.properties:{};return t.getPaintValue(e,{zoom:this.z},o)}return this.paintPropertyStatistics[t.id][e].max},t.exports=E},{"../style-spec/feature_filter":105,"../util/dictionary_coder":200,"../util/intersection_tests":207,"../util/struct_array":213,"../util/util":215,"../util/vectortile_to_geojson":216,"./extent":54,"./load_geometry":56,"grid-index":16,pbf:25,"point-geometry":26,"vector-tile":34}],56:[function(e,t,n){"use strict";function r(e){return{min:-1*Math.pow(2,e-1),max:Math.pow(2,e-1)-1}}var o=e("../util/util"),i=e("./extent"),a={15:r(15),16:r(16)};t.exports=function(e,t){for(var n=a[t||16],r=i/e.extent,s=e.loadGeometry(),u=0;u<s.length;u++)for(var l=s[u],c=0;c<l.length;c++){var p=l[c];p.x=Math.round(p.x*r),p.y=Math.round(p.y*r),(p.x<n.min||p.x>n.max||p.y<n.min||p.y>n.max)&&o.warnOnce("Geometry exceeds allowed extent, reduce your vector tile buffer size")}return s}},{"../util/util":215,"./extent":54}],57:[function(e,t,n){"use strict";var r=e("../util/struct_array"),o=r({members:[{name:"a_pos",type:"Int16",components:2}]});t.exports=o},{"../util/struct_array":213}],58:[function(e,t,n){"use strict";function r(e,t,n,r){if(!e.zoomStops)return t.getPaintValue(e.property,n,r);var o=e.zoomStops.map(function(o){return t.getPaintValue(e.property,a.extend({},n,{zoom:o}),r)});return 1===o.length?o[0]:o}function o(e,t){var n=e.name;n||(n=e.property.replace(t.type+"-","").replace(/-/g,"_"));var r="color"===t._paintSpecifications[e.property].type;return a.extend({name:"a_"+n,components:r?4:1,multiplier:r?255:1,dimensions:r?4:1},e)}var i=e("./vertex_array_type"),a=e("../util/util"),s=function(){this.attributes=[],this.uniforms=[],this.interpolationUniforms=[],this.pragmas={vertex:{},fragment:{}},this.cacheKey=""};s.createDynamic=function(e,t,n){for(var r=new s,a=0,u=e;a<u.length;a+=1){var l=u[a],c=o(l,t),p=c.name.slice(2);t.isPaintValueFeatureConstant(c.property)?r.addZoomAttribute(p,c):t.isPaintValueZoomConstant(c.property)?r.addPropertyAttribute(p,c):r.addZoomAndPropertyAttribute(p,c,t,n)}return r.PaintVertexArray=i(r.attributes),r},s.createStatic=function(e){for(var t=new s,n=0,r=e;n<r.length;n+=1){var o=r[n];t.addUniform(o,"u_"+o)}return t},s.prototype.addUniform=function(e,t){var n=this.getPragmas(e);n.define.push("uniform {precision} {type} "+t+";"),n.initialize.push("{precision} {type} "+e+" = "+t+";"),this.cacheKey+="/u_"+e},s.prototype.addZoomAttribute=function(e,t){this.uniforms.push(t),this.addUniform(e,t.name)},s.prototype.addPropertyAttribute=function(e,t){var n=this.getPragmas(e);this.attributes.push(t),n.define.push("varying {precision} {type} "+e+";"),n.vertex.define.push("attribute {precision} {type} "+t.name+";"),n.vertex.initialize.push(e+" = "+t.name+" / "+t.multiplier+".0;"),this.cacheKey+="/a_"+e},s.prototype.addZoomAndPropertyAttribute=function(e,t,n,r){var o=this,i=this.getPragmas(e);i.define.push("varying {precision} {type} "+e+";");var s=n.getPaintValueStopZoomLevels(t.property),u=0;
if(s.length>4)for(;u<s.length-2&&s[u]<r;)u++;var l="u_"+e+"_t";i.vertex.define.push("uniform lowp float "+l+";"),this.interpolationUniforms.push({name:l,property:t.property,stopOffset:u});for(var c=[],p=0;4>p;p++)c.push(s[Math.min(u+p,s.length-1)]);var f=[];if(1===t.components)this.attributes.push(a.extend({},t,{components:4,zoomStops:c})),i.vertex.define.push("attribute {precision} vec4 "+t.name+";"),f.push(t.name);else for(var h=0;4>h;h++){var d=t.name+h;f.push(d),o.attributes.push(a.extend({},t,{name:d,zoomStops:[c[h]]})),i.vertex.define.push("attribute {precision} {type} "+d+";")}i.vertex.initialize.push(e+" = evaluate_zoom_function_"+t.components+"(            "+f.join(", ")+", "+l+") / "+t.multiplier+".0;"),this.cacheKey+="/z_"+e},s.prototype.getPragmas=function(e){return this.pragmas[e]||(this.pragmas[e]={define:[],initialize:[]},this.pragmas[e].fragment={define:[],initialize:[]},this.pragmas[e].vertex={define:[],initialize:[]}),this.pragmas[e]},s.prototype.applyPragmas=function(e,t){var n=this;return e.replace(/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,function(e,r,o,i,a){return n.pragmas[a][r].concat(n.pragmas[a][t][r]).join("\n").replace(/{type}/g,i).replace(/{precision}/g,o)})},s.prototype.createPaintPropertyStatistics=function(){for(var e=this,t={},n=0,r=e.attributes;n<r.length;n+=1){var o=r[n];1===o.dimensions&&(t[o.property]={max:-(1/0)})}return t},s.prototype.populatePaintArray=function(e,t,n,o,i,a){var s=this,u=t.length;t.resize(o);for(var l=0,c=s.attributes;l<c.length;l+=1)for(var p=c[l],f=r(p,e,i,a),h=u;o>h;h++){var d=t.get(h);if(4===p.components)for(var m=0;4>m;m++)d[p.name+m]=f[m]*p.multiplier;else d[p.name]=f*p.multiplier;if(1===p.dimensions){var y=n[p.property];y.max=Math.max(y.max,1===p.components?f:Math.max.apply(Math,f))}}},s.prototype.setUniforms=function(e,t,n,r){for(var o=this,i=0,a=o.uniforms;i<a.length;i+=1){var s=a[i],u=n.getPaintValue(s.property,r);4===s.components?e.uniform4fv(t[s.name],u):e.uniform1f(t[s.name],u)}for(var l=0,c=o.interpolationUniforms;l<c.length;l+=1){var p=c[l],f=n.getPaintInterpolationT(p.property,r);e.uniform1f(t[p.name],Math.max(0,Math.min(3,f-p.stopOffset)))}},t.exports=s},{"../util/util":215,"./vertex_array_type":60}],59:[function(e,t,n){"use strict";var r=e("../util/struct_array"),o=r({members:[{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]});t.exports=o},{"../util/struct_array":213}],60:[function(e,t,n){"use strict";function r(e){return o({members:e,alignment:4})}var o=e("../util/struct_array");t.exports=r},{"../util/struct_array":213}],61:[function(e,t,n){"use strict";var r=function(e,t,n){this.column=e,this.row=t,this.zoom=n};r.prototype.clone=function(){return new r(this.column,this.row,this.zoom)},r.prototype.zoomTo=function(e){return this.clone()._zoomTo(e)},r.prototype.sub=function(e){return this.clone()._sub(e)},r.prototype._zoomTo=function(e){var t=Math.pow(2,e-this.zoom);return this.column*=t,this.row*=t,this.zoom=e,this},r.prototype._sub=function(e){return e=e.zoomTo(this.zoom),this.column-=e.column,this.row-=e.row,this},t.exports=r},{}],62:[function(e,t,n){"use strict";var r=e("../util/util").wrap,o=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid LngLat object: ("+e+", "+t+")");if(this.lng=+e,this.lat=+t,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};o.prototype.wrap=function(){return new o(r(this.lng,-180,180),this.lat)},o.prototype.toArray=function(){return[this.lng,this.lat]},o.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},o.convert=function(e){if(e instanceof o)return e;if(Array.isArray(e)&&2===e.length)return new o(Number(e[0]),Number(e[1]));if(!Array.isArray(e)&&"object"==typeof e&&null!==e)return new o(Number(e.lng),Number(e.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")},t.exports=o},{"../util/util":215}],63:[function(e,t,n){"use strict";var r=e("./lng_lat"),o=function(e,t){e&&(t?this.setSouthWest(e).setNorthEast(t):4===e.length?this.setSouthWest([e[0],e[1]]).setNorthEast([e[2],e[3]]):this.setSouthWest(e[0]).setNorthEast(e[1]))};o.prototype.setNorthEast=function(e){return this._ne=r.convert(e),this},o.prototype.setSouthWest=function(e){return this._sw=r.convert(e),this},o.prototype.extend=function(e){var t,n,i=this._sw,a=this._ne;if(e instanceof r)t=e,n=e;else{if(!(e instanceof o))return Array.isArray(e)?e.every(Array.isArray)?this.extend(o.convert(e)):this.extend(r.convert(e)):this;if(t=e._sw,n=e._ne,!t||!n)return this}return i||a?(i.lng=Math.min(t.lng,i.lng),i.lat=Math.min(t.lat,i.lat),a.lng=Math.max(n.lng,a.lng),a.lat=Math.max(n.lat,a.lat)):(this._sw=new r(t.lng,t.lat),this._ne=new r(n.lng,n.lat)),this},o.prototype.getCenter=function(){return new r((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},o.prototype.getSouthWest=function(){return this._sw},o.prototype.getNorthEast=function(){return this._ne},o.prototype.getNorthWest=function(){return new r(this.getWest(),this.getNorth())},o.prototype.getSouthEast=function(){return new r(this.getEast(),this.getSouth())},o.prototype.getWest=function(){return this._sw.lng},o.prototype.getSouth=function(){return this._sw.lat},o.prototype.getEast=function(){return this._ne.lng},o.prototype.getNorth=function(){return this._ne.lat},o.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},o.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},o.convert=function(e){return!e||e instanceof o?e:new o(e)},t.exports=o},{"./lng_lat":62}],64:[function(e,t,n){"use strict";var r=e("./lng_lat"),o=e("point-geometry"),i=e("./coordinate"),a=e("../util/util"),s=e("../style-spec/util/interpolate"),u=e("../source/tile_coord"),l=e("../data/extent"),c=e("@mapbox/gl-matrix"),p=c.vec4,f=c.mat4,h=c.mat2,d=function(e,t,n){this.tileSize=512,this._renderWorldCopies=void 0===n||n,this._minZoom=e||0,this._maxZoom=t||22,this.latRange=[-85.05113,85.05113],this.width=0,this.height=0,this._center=new r(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0},m={minZoom:{},maxZoom:{},renderWorldCopies:{},worldSize:{},centerPoint:{},size:{},bearing:{},pitch:{},fov:{},zoom:{},center:{},unmodified:{},x:{},y:{},point:{}};m.minZoom.get=function(){return this._minZoom},m.minZoom.set=function(e){this._minZoom!==e&&(this._minZoom=e,this.zoom=Math.max(this.zoom,e))},m.maxZoom.get=function(){return this._maxZoom},m.maxZoom.set=function(e){this._maxZoom!==e&&(this._maxZoom=e,this.zoom=Math.min(this.zoom,e))},m.renderWorldCopies.get=function(){return this._renderWorldCopies},m.worldSize.get=function(){return this.tileSize*this.scale},m.centerPoint.get=function(){return this.size._div(2)},m.size.get=function(){return new o(this.width,this.height)},m.bearing.get=function(){return-this.angle/Math.PI*180},m.bearing.set=function(e){var t=-a.wrap(e,-180,180)*Math.PI/180;this.angle!==t&&(this._unmodified=!1,this.angle=t,this._calcMatrices(),this.rotationMatrix=h.create(),h.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},m.pitch.get=function(){return this._pitch/Math.PI*180},m.pitch.set=function(e){var t=a.clamp(e,0,60)/180*Math.PI;this._pitch!==t&&(this._unmodified=!1,this._pitch=t,this._calcMatrices())},m.fov.get=function(){return this._fov/Math.PI*180},m.fov.set=function(e){e=Math.max(.01,Math.min(60,e)),this._fov!==e&&(this._unmodified=!1,this._fov=e/180*Math.PI,this._calcMatrices())},m.zoom.get=function(){return this._zoom},m.zoom.set=function(e){var t=Math.min(Math.max(e,this.minZoom),this.maxZoom);this._zoom!==t&&(this._unmodified=!1,this._zoom=t,this.scale=this.zoomScale(t),this.tileZoom=Math.floor(t),this.zoomFraction=t-this.tileZoom,this._constrain(),this._calcMatrices())},m.center.get=function(){return this._center},m.center.set=function(e){e.lat===this._center.lat&&e.lng===this._center.lng||(this._unmodified=!1,this._center=e,this._constrain(),this._calcMatrices())},d.prototype.coveringZoomLevel=function(e){return(e.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/e.tileSize))},d.prototype.getVisibleWrappedCoordinates=function(e){for(var t=this.pointCoordinate(new o(0,0),0),n=this.pointCoordinate(new o(this.width,0),0),r=Math.floor(t.column),i=Math.floor(n.column),a=[e],s=r;i>=s;s++)0!==s&&a.push(new u(e.z,e.x,e.y,s));return a},d.prototype.coveringTiles=function(e){var t=this.coveringZoomLevel(e),n=t;if(t<e.minzoom)return[];t>e.maxzoom&&(t=e.maxzoom);var r=this.pointCoordinate(this.centerPoint,t),i=new o(r.column-.5,r.row-.5),a=[this.pointCoordinate(new o(0,0),t),this.pointCoordinate(new o(this.width,0),t),this.pointCoordinate(new o(this.width,this.height),t),this.pointCoordinate(new o(0,this.height),t)];return u.cover(t,a,e.reparseOverscaled?n:t,this._renderWorldCopies).sort(function(e,t){return i.dist(e)-i.dist(t)})},d.prototype.resize=function(e,t){this.width=e,this.height=t,this.pixelsToGLUnits=[2/e,-2/t],this._constrain(),this._calcMatrices()},m.unmodified.get=function(){return this._unmodified},d.prototype.zoomScale=function(e){return Math.pow(2,e)},d.prototype.scaleZoom=function(e){return Math.log(e)/Math.LN2},d.prototype.project=function(e){return new o(this.lngX(e.lng),this.latY(e.lat))},d.prototype.unproject=function(e){return new r(this.xLng(e.x),this.yLat(e.y))},m.x.get=function(){return this.lngX(this.center.lng)},m.y.get=function(){return this.latY(this.center.lat)},m.point.get=function(){return new o(this.x,this.y)},d.prototype.lngX=function(e){return(180+e)*this.worldSize/360},d.prototype.latY=function(e){var t=180/Math.PI*Math.log(Math.tan(Math.PI/4+e*Math.PI/360));return(180-t)*this.worldSize/360},d.prototype.xLng=function(e){return 360*e/this.worldSize-180},d.prototype.yLat=function(e){var t=180-360*e/this.worldSize;return 360/Math.PI*Math.atan(Math.exp(t*Math.PI/180))-90},d.prototype.setLocationAtPoint=function(e,t){var n=this.pointCoordinate(t)._sub(this.pointCoordinate(this.centerPoint));this.center=this.coordinateLocation(this.locationCoordinate(e)._sub(n)),this._renderWorldCopies&&(this.center=this.center.wrap())},d.prototype.locationPoint=function(e){return this.coordinatePoint(this.locationCoordinate(e))},d.prototype.pointLocation=function(e){return this.coordinateLocation(this.pointCoordinate(e))},d.prototype.locationCoordinate=function(e){return new i(this.lngX(e.lng)/this.tileSize,this.latY(e.lat)/this.tileSize,this.zoom).zoomTo(this.tileZoom)},d.prototype.coordinateLocation=function(e){var t=e.zoomTo(this.zoom);return new r(this.xLng(t.column*this.tileSize),this.yLat(t.row*this.tileSize))},d.prototype.pointCoordinate=function(e,t){void 0===t&&(t=this.tileZoom);var n=0,r=[e.x,e.y,0,1],o=[e.x,e.y,1,1];p.transformMat4(r,r,this.pixelMatrixInverse),p.transformMat4(o,o,this.pixelMatrixInverse);var a=r[3],u=o[3],l=r[0]/a,c=o[0]/u,f=r[1]/a,h=o[1]/u,d=r[2]/a,m=o[2]/u,y=d===m?0:(n-d)/(m-d);return new i(s(l,c,y)/this.tileSize,s(f,h,y)/this.tileSize,this.zoom)._zoomTo(t)},d.prototype.coordinatePoint=function(e){var t=e.zoomTo(this.zoom),n=[t.column*this.tileSize,t.row*this.tileSize,0,1];return p.transformMat4(n,n,this.pixelMatrix),new o(n[0]/n[3],n[1]/n[3])},d.prototype.calculatePosMatrix=function(e,t){var n=e.toCoordinate(t),r=this.worldSize/this.zoomScale(n.zoom),o=f.identity(new Float64Array(16));return f.translate(o,o,[n.column*r,n.row*r,0]),f.scale(o,o,[r/l,r/l,1]),f.multiply(o,this.projMatrix,o),new Float32Array(o)},d.prototype._constrain=function(){if(this.center&&this.width&&this.height&&!this._constraining){this._constraining=!0;var e,t,n,r,i=-90,a=90,s=-180,u=180,l=this.size,c=this._unmodified;if(this.latRange){var p=this.latRange;i=this.latY(p[1]),a=this.latY(p[0]),e=a-i<l.y?l.y/(a-i):0}if(this.lngRange){var f=this.lngRange;s=this.lngX(f[0]),u=this.lngX(f[1]),t=u-s<l.x?l.x/(u-s):0}var h=Math.max(t||0,e||0);if(h)return this.center=this.unproject(new o(t?(u+s)/2:this.x,e?(a+i)/2:this.y)),this.zoom+=this.scaleZoom(h),this._unmodified=c,void(this._constraining=!1);if(this.latRange){var d=this.y,m=l.y/2;i>d-m&&(r=i+m),d+m>a&&(r=a-m)}if(this.lngRange){var y=this.x,g=l.x/2;s>y-g&&(n=s+g),y+g>u&&(n=u-g)}void 0===n&&void 0===r||(this.center=this.unproject(new o(void 0!==n?n:this.x,void 0!==r?r:this.y))),this._unmodified=c,this._constraining=!1}},d.prototype._calcMatrices=function(){if(this.height){this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height;var e=this._fov/2,t=Math.PI/2+this._pitch,n=Math.sin(e)*this.cameraToCenterDistance/Math.sin(Math.PI-t-e),r=Math.cos(Math.PI/2-this._pitch)*n+this.cameraToCenterDistance,o=1.01*r,i=new Float64Array(16);f.perspective(i,this._fov,this.width/this.height,1,o),f.scale(i,i,[1,-1,1]),f.translate(i,i,[0,0,-this.cameraToCenterDistance]),f.rotateX(i,i,this._pitch),f.rotateZ(i,i,this.angle),f.translate(i,i,[-this.x,-this.y,0]);var a=this.worldSize/(2*Math.PI*6378137*Math.abs(Math.cos(this.center.lat*(Math.PI/180))));if(f.scale(i,i,[1,1,a,1]),this.projMatrix=i,i=f.create(),f.scale(i,i,[this.width/2,-this.height/2,1]),f.translate(i,i,[1,-1,0]),this.pixelMatrix=f.multiply(new Float64Array(16),i,this.projMatrix),i=f.invert(new Float64Array(16),this.pixelMatrix),!i)throw new Error("failed to invert matrix");this.pixelMatrixInverse=i}},Object.defineProperties(d.prototype,m),t.exports=d},{"../data/extent":54,"../source/tile_coord":96,"../style-spec/util/interpolate":123,"../util/util":215,"./coordinate":61,"./lng_lat":62,"@mapbox/gl-matrix":1,"point-geometry":26}],65:[function(e,t,n){"use strict";var r=e("./util/browser"),o=t.exports={};o.version=e("../package.json").version,o.workerCount=Math.max(Math.floor(r.hardwareConcurrency/2),1),o.Map=e("./ui/map"),o.NavigationControl=e("./ui/control/navigation_control"),o.GeolocateControl=e("./ui/control/geolocate_control"),o.AttributionControl=e("./ui/control/attribution_control"),o.ScaleControl=e("./ui/control/scale_control"),o.FullscreenControl=e("./ui/control/fullscreen_control"),o.Popup=e("./ui/popup"),o.Marker=e("./ui/marker"),o.Style=e("./style/style"),o.LngLat=e("./geo/lng_lat"),o.LngLatBounds=e("./geo/lng_lat_bounds"),o.Point=e("point-geometry"),o.Evented=e("./util/evented"),o.supported=e("./util/browser").supported;var i=e("./util/config");o.config=i;var a=e("./source/rtl_text_plugin");o.setRTLTextPlugin=a.setRTLTextPlugin,Object.defineProperty(o,"accessToken",{get:function(){return i.ACCESS_TOKEN},set:function(e){i.ACCESS_TOKEN=e}})},{"../package.json":43,"./geo/lng_lat":62,"./geo/lng_lat_bounds":63,"./source/rtl_text_plugin":91,"./style/style":149,"./ui/control/attribution_control":176,"./ui/control/fullscreen_control":177,"./ui/control/geolocate_control":178,"./ui/control/navigation_control":180,"./ui/control/scale_control":181,"./ui/map":190,"./ui/marker":191,"./ui/popup":192,"./util/browser":195,"./util/config":199,"./util/evented":203,"point-geometry":26}],66:[function(e,t,n){"use strict";function r(e,t,n){var r=e.gl,i=e.transform,a=i.tileSize,s=n.paint["background-color"],u=n.paint["background-pattern"],l=n.paint["background-opacity"],c=!u&&1===s[3]&&1===l;if(e.isOpaquePass===c){r.disable(r.STENCIL_TEST),e.setDepthSublayer(0);var p;u?(p=e.useProgram("fillPattern",e.basicFillProgramConfiguration),o.prepare(u,e,p),e.tileExtentPatternVAO.bind(r,p,e.tileExtentBuffer)):(p=e.useProgram("fill",e.basicFillProgramConfiguration),r.uniform4fv(p.u_color,s),e.tileExtentVAO.bind(r,p,e.tileExtentBuffer)),r.uniform1f(p.u_opacity,l);for(var f=i.coveringTiles({tileSize:a}),h=0,d=f;h<d.length;h+=1){var m=d[h];u&&o.setTile({coord:m,tileSize:a},e,p),r.uniformMatrix4fv(p.u_matrix,!1,e.transform.calculatePosMatrix(m)),r.drawArrays(r.TRIANGLE_STRIP,0,e.tileExtentBuffer.length)}}}var o=e("./pattern");t.exports=r},{"./pattern":78}],67:[function(e,t,n){"use strict";function r(e,t,n,r){if(!e.isOpaquePass){var i=e.gl;e.setDepthSublayer(0),e.depthMask(!1),i.disable(i.STENCIL_TEST);for(var a=0;a<r.length;a++){var s=r[a],u=t.getTile(s),l=u.getBucket(n);if(l){var c=l.buffers,p=c.layerData[n.id],f=p.programConfiguration,h=e.useProgram("circle",f);f.setUniforms(i,h,n,{zoom:e.transform.zoom}),"map"===n.paint["circle-pitch-scale"]?(i.uniform1i(h.u_scale_with_map,!0),i.uniform2f(h.u_extrude_scale,e.transform.pixelsToGLUnits[0]*e.transform.cameraToCenterDistance,e.transform.pixelsToGLUnits[1]*e.transform.cameraToCenterDistance)):(i.uniform1i(h.u_scale_with_map,!1),i.uniform2fv(h.u_extrude_scale,e.transform.pixelsToGLUnits)),i.uniform1f(h.u_devicepixelratio,o.devicePixelRatio),i.uniformMatrix4fv(h.u_matrix,!1,e.translatePosMatrix(s.posMatrix,u,n.paint["circle-translate"],n.paint["circle-translate-anchor"]));for(var d=0,m=c.segments;d<m.length;d+=1){var y=m[d];y.vaos[n.id].bind(i,h,c.layoutVertexBuffer,c.elementBuffer,p.paintVertexBuffer,y.vertexOffset),i.drawElements(i.TRIANGLES,3*y.primitiveLength,i.UNSIGNED_SHORT,3*y.primitiveOffset*2)}}}}}var o=e("../util/browser");t.exports=r},{"../util/browser":195}],68:[function(e,t,n){"use strict";function r(e,t,n,r){var o=e.gl;o.enable(o.STENCIL_TEST);for(var i=e.useProgram("collisionBox"),a=0;a<r.length;a++){var s=r[a],u=t.getTile(s),l=u.getBucket(n);if(l){var c=l.buffers.collisionBox;if(c){o.uniformMatrix4fv(i.u_matrix,!1,s.posMatrix),e.enableTileClippingMask(s),e.lineWidth(1),o.uniform1f(i.u_scale,Math.pow(2,e.transform.zoom-u.coord.z)),o.uniform1f(i.u_zoom,10*e.transform.zoom),o.uniform1f(i.u_maxzoom,10*(u.coord.z+1));for(var p=0,f=c.segments;p<f.length;p+=1){var h=f[p];h.vaos[n.id].bind(o,i,c.layoutVertexBuffer,c.elementBuffer,null,h.vertexOffset),o.drawElements(o.LINES,2*h.primitiveLength,o.UNSIGNED_SHORT,2*h.primitiveOffset*2)}}}}}t.exports=r},{}],69:[function(e,t,n){"use strict";function r(e,t,n){for(var r=0;r<n.length;r++)o(e,t,n[r])}function o(e,t,n){var r=e.gl;r.disable(r.STENCIL_TEST),e.lineWidth(1*a.devicePixelRatio);var o=n.posMatrix,f=e.useProgram("debug");r.uniformMatrix4fv(f.u_matrix,!1,o),r.uniform4f(f.u_color,1,0,0,1),e.debugVAO.bind(r,f,e.debugBuffer),r.drawArrays(r.LINE_STRIP,0,e.debugBuffer.length);for(var h=i(n.toString(),50,200,5),d=new p,m=0;m<h.length;m+=2)d.emplaceBack(h[m],h[m+1]);var y=l.fromStructArray(d,l.BufferType.VERTEX),g=new c;g.bind(r,f,y),r.uniform4f(f.u_color,1,1,1,1);for(var v=t.getTile(n).tileSize,b=u/(Math.pow(2,e.transform.zoom-n.z)*v),_=[[-1,-1],[-1,1],[1,-1],[1,1]],w=0;w<_.length;w++){var x=_[w];r.uniformMatrix4fv(f.u_matrix,!1,s.translate([],o,[b*x[0],b*x[1],0])),r.drawArrays(r.LINES,0,y.length)}r.uniform4f(f.u_color,0,0,0,1),r.uniformMatrix4fv(f.u_matrix,!1,o),r.drawArrays(r.LINES,0,y.length)}function i(e,t,n,r){r=r||1;var o,i,a,s,u,l,c,p,h=[];for(o=0,i=e.length;i>o;o++)if(u=f[e[o]]){for(p=null,a=0,s=u[1].length;s>a;a+=2)-1===u[1][a]&&-1===u[1][a+1]?p=null:(l=t+u[1][a]*r,c=n-u[1][a+1]*r,p&&h.push(p.x,p.y,l,c),p={x:l,y:c});t+=u[0]*r}return h}var a=e("../util/browser"),s=e("@mapbox/gl-matrix").mat4,u=e("../data/extent"),l=e("../data/buffer"),c=e("./vertex_array_object"),p=e("../data/pos_array");t.exports=r;var f={" ":[16,[]],"!":[10,[5,21,5,7,-1,-1,5,2,4,1,5,0,6,1,5,2]],'"':[16,[4,21,4,14,-1,-1,12,21,12,14]],"#":[21,[11,25,4,-7,-1,-1,17,25,10,-7,-1,-1,4,12,18,12,-1,-1,3,6,17,6]],$:[20,[8,25,8,-4,-1,-1,12,25,12,-4,-1,-1,17,18,15,20,12,21,8,21,5,20,3,18,3,16,4,14,5,13,7,12,13,10,15,9,16,8,17,6,17,3,15,1,12,0,8,0,5,1,3,3]],"%":[24,[21,21,3,0,-1,-1,8,21,10,19,10,17,9,15,7,14,5,14,3,16,3,18,4,20,6,21,8,21,10,20,13,19,16,19,19,20,21,21,-1,-1,17,7,15,6,14,4,14,2,16,0,18,0,20,1,21,3,21,5,19,7,17,7]],"&":[26,[23,12,23,13,22,14,21,14,20,13,19,11,17,6,15,3,13,1,11,0,7,0,5,1,4,2,3,4,3,6,4,8,5,9,12,13,13,14,14,16,14,18,13,20,11,21,9,20,8,18,8,16,9,13,11,10,16,3,18,1,20,0,22,0,23,1,23,2]],"'":[10,[5,19,4,20,5,21,6,20,6,18,5,16,4,15]],"(":[14,[11,25,9,23,7,20,5,16,4,11,4,7,5,2,7,-2,9,-5,11,-7]],")":[14,[3,25,5,23,7,20,9,16,10,11,10,7,9,2,7,-2,5,-5,3,-7]],"*":[16,[8,21,8,9,-1,-1,3,18,13,12,-1,-1,13,18,3,12]],"+":[26,[13,18,13,0,-1,-1,4,9,22,9]],",":[10,[6,1,5,0,4,1,5,2,6,1,6,-1,5,-3,4,-4]],"-":[26,[4,9,22,9]],".":[10,[5,2,4,1,5,0,6,1,5,2]],"/":[22,[20,25,2,-7]],0:[20,[9,21,6,20,4,17,3,12,3,9,4,4,6,1,9,0,11,0,14,1,16,4,17,9,17,12,16,17,14,20,11,21,9,21]],1:[20,[6,17,8,18,11,21,11,0]],2:[20,[4,16,4,17,5,19,6,20,8,21,12,21,14,20,15,19,16,17,16,15,15,13,13,10,3,0,17,0]],3:[20,[5,21,16,21,10,13,13,13,15,12,16,11,17,8,17,6,16,3,14,1,11,0,8,0,5,1,4,2,3,4]],4:[20,[13,21,3,7,18,7,-1,-1,13,21,13,0]],5:[20,[15,21,5,21,4,12,5,13,8,14,11,14,14,13,16,11,17,8,17,6,16,3,14,1,11,0,8,0,5,1,4,2,3,4]],6:[20,[16,18,15,20,12,21,10,21,7,20,5,17,4,12,4,7,5,3,7,1,10,0,11,0,14,1,16,3,17,6,17,7,16,10,14,12,11,13,10,13,7,12,5,10,4,7]],7:[20,[17,21,7,0,-1,-1,3,21,17,21]],8:[20,[8,21,5,20,4,18,4,16,5,14,7,13,11,12,14,11,16,9,17,7,17,4,16,2,15,1,12,0,8,0,5,1,4,2,3,4,3,7,4,9,6,11,9,12,13,13,15,14,16,16,16,18,15,20,12,21,8,21]],9:[20,[16,14,15,11,13,9,10,8,9,8,6,9,4,11,3,14,3,15,4,18,6,20,9,21,10,21,13,20,15,18,16,14,16,9,15,4,13,1,10,0,8,0,5,1,4,3]],":":[10,[5,14,4,13,5,12,6,13,5,14,-1,-1,5,2,4,1,5,0,6,1,5,2]],";":[10,[5,14,4,13,5,12,6,13,5,14,-1,-1,6,1,5,0,4,1,5,2,6,1,6,-1,5,-3,4,-4]],"<":[24,[20,18,4,9,20,0]],"=":[26,[4,12,22,12,-1,-1,4,6,22,6]],">":[24,[4,18,20,9,4,0]],"?":[18,[3,16,3,17,4,19,5,20,7,21,11,21,13,20,14,19,15,17,15,15,14,13,13,12,9,10,9,7,-1,-1,9,2,8,1,9,0,10,1,9,2]],"@":[27,[18,13,17,15,15,16,12,16,10,15,9,14,8,11,8,8,9,6,11,5,14,5,16,6,17,8,-1,-1,12,16,10,14,9,11,9,8,10,6,11,5,-1,-1,18,16,17,8,17,6,19,5,21,5,23,7,24,10,24,12,23,15,22,17,20,19,18,20,15,21,12,21,9,20,7,19,5,17,4,15,3,12,3,9,4,6,5,4,7,2,9,1,12,0,15,0,18,1,20,2,21,3,-1,-1,19,16,18,8,18,6,19,5]],A:[18,[9,21,1,0,-1,-1,9,21,17,0,-1,-1,4,7,14,7]],B:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,-1,-1,4,11,13,11,16,10,17,9,18,7,18,4,17,2,16,1,13,0,4,0]],C:[21,[18,16,17,18,15,20,13,21,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5]],D:[21,[4,21,4,0,-1,-1,4,21,11,21,14,20,16,18,17,16,18,13,18,8,17,5,16,3,14,1,11,0,4,0]],E:[19,[4,21,4,0,-1,-1,4,21,17,21,-1,-1,4,11,12,11,-1,-1,4,0,17,0]],F:[18,[4,21,4,0,-1,-1,4,21,17,21,-1,-1,4,11,12,11]],G:[21,[18,16,17,18,15,20,13,21,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,18,8,-1,-1,13,8,18,8]],H:[22,[4,21,4,0,-1,-1,18,21,18,0,-1,-1,4,11,18,11]],I:[8,[4,21,4,0]],J:[16,[12,21,12,5,11,2,10,1,8,0,6,0,4,1,3,2,2,5,2,7]],K:[21,[4,21,4,0,-1,-1,18,21,4,7,-1,-1,9,12,18,0]],L:[17,[4,21,4,0,-1,-1,4,0,16,0]],M:[24,[4,21,4,0,-1,-1,4,21,12,0,-1,-1,20,21,12,0,-1,-1,20,21,20,0]],N:[22,[4,21,4,0,-1,-1,4,21,18,0,-1,-1,18,21,18,0]],O:[22,[9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21]],P:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,14,17,12,16,11,13,10,4,10]],Q:[22,[9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21,-1,-1,12,4,18,-2]],R:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,4,11,-1,-1,11,11,18,0]],S:[20,[17,18,15,20,12,21,8,21,5,20,3,18,3,16,4,14,5,13,7,12,13,10,15,9,16,8,17,6,17,3,15,1,12,0,8,0,5,1,3,3]],T:[16,[8,21,8,0,-1,-1,1,21,15,21]],U:[22,[4,21,4,6,5,3,7,1,10,0,12,0,15,1,17,3,18,6,18,21]],V:[18,[1,21,9,0,-1,-1,17,21,9,0]],W:[24,[2,21,7,0,-1,-1,12,21,7,0,-1,-1,12,21,17,0,-1,-1,22,21,17,0]],X:[20,[3,21,17,0,-1,-1,17,21,3,0]],Y:[18,[1,21,9,11,9,0,-1,-1,17,21,9,11]],Z:[20,[17,21,3,0,-1,-1,3,21,17,21,-1,-1,3,0,17,0]],"[":[14,[4,25,4,-7,-1,-1,5,25,5,-7,-1,-1,4,25,11,25,-1,-1,4,-7,11,-7]],"\\":[14,[0,21,14,-3]],"]":[14,[9,25,9,-7,-1,-1,10,25,10,-7,-1,-1,3,25,10,25,-1,-1,3,-7,10,-7]],"^":[16,[6,15,8,18,10,15,-1,-1,3,12,8,17,13,12,-1,-1,8,17,8,0]],_:[16,[0,-2,16,-2]],"`":[10,[6,21,5,20,4,18,4,16,5,15,6,16,5,17]],a:[19,[15,14,15,0,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],b:[19,[4,21,4,0,-1,-1,4,11,6,13,8,14,11,14,13,13,15,11,16,8,16,6,15,3,13,1,11,0,8,0,6,1,4,3]],c:[18,[15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],d:[19,[15,21,15,0,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],e:[18,[3,8,15,8,15,10,14,12,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],f:[12,[10,21,8,21,6,20,5,17,5,0,-1,-1,2,14,9,14]],g:[19,[15,14,15,-2,14,-5,13,-6,11,-7,8,-7,6,-6,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],h:[19,[4,21,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0]],i:[8,[3,21,4,20,5,21,4,22,3,21,-1,-1,4,14,4,0]],j:[10,[5,21,6,20,7,21,6,22,5,21,-1,-1,6,14,6,-3,5,-6,3,-7,1,-7]],k:[17,[4,21,4,0,-1,-1,14,14,4,4,-1,-1,8,8,15,0]],l:[8,[4,21,4,0]],m:[30,[4,14,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0,-1,-1,15,10,18,13,20,14,23,14,25,13,26,10,26,0]],n:[19,[4,14,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0]],o:[19,[8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3,16,6,16,8,15,11,13,13,11,14,8,14]],p:[19,[4,14,4,-7,-1,-1,4,11,6,13,8,14,11,14,13,13,15,11,16,8,16,6,15,3,13,1,11,0,8,0,6,1,4,3]],q:[19,[15,14,15,-7,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],r:[13,[4,14,4,0,-1,-1,4,8,5,11,7,13,9,14,12,14]],s:[17,[14,11,13,13,10,14,7,14,4,13,3,11,4,9,6,8,11,7,13,6,14,4,14,3,13,1,10,0,7,0,4,1,3,3]],t:[12,[5,21,5,4,6,1,8,0,10,0,-1,-1,2,14,9,14]],u:[19,[4,14,4,4,5,1,7,0,10,0,12,1,15,4,-1,-1,15,14,15,0]],v:[16,[2,14,8,0,-1,-1,14,14,8,0]],w:[22,[3,14,7,0,-1,-1,11,14,7,0,-1,-1,11,14,15,0,-1,-1,19,14,15,0]],x:[17,[3,14,14,0,-1,-1,14,14,3,0]],y:[16,[2,14,8,0,-1,-1,14,14,8,0,6,-4,4,-6,2,-7,1,-7]],z:[17,[14,14,3,0,-1,-1,3,14,14,14,-1,-1,3,0,14,0]],"{":[14,[9,25,7,24,6,23,5,21,5,19,6,17,7,16,8,14,8,12,6,10,-1,-1,7,24,6,22,6,20,7,18,8,17,9,15,9,13,8,11,4,9,8,7,9,5,9,3,8,1,7,0,6,-2,6,-4,7,-6,-1,-1,6,8,8,6,8,4,7,2,6,1,5,-1,5,-3,6,-5,7,-6,9,-7]],"|":[8,[4,25,4,-7]],"}":[14,[5,25,7,24,8,23,9,21,9,19,8,17,7,16,6,14,6,12,8,10,-1,-1,7,24,8,22,8,20,7,18,6,17,5,15,5,13,6,11,10,9,6,7,5,5,5,3,6,1,7,0,8,-2,8,-4,7,-6,-1,-1,8,8,6,6,6,4,7,2,8,1,9,-1,9,-3,8,-5,7,-6,5,-7]],"~":[24,[3,6,3,8,4,11,6,12,8,12,10,11,14,8,16,7,18,7,20,8,21,10,-1,-1,3,8,4,10,6,11,8,11,10,10,14,7,16,6,18,6,20,7,21,10,21,12]]}},{"../data/buffer":51,"../data/extent":54,"../data/pos_array":57,"../util/browser":195,"./vertex_array_object":80,"@mapbox/gl-matrix":1}],70:[function(e,t,n){"use strict";function r(e,t,n,r){var s=e.gl;s.enable(s.STENCIL_TEST);var u=!n.paint["fill-pattern"]&&n.isPaintValueFeatureConstant("fill-color")&&n.isPaintValueFeatureConstant("fill-opacity")&&1===n.paint["fill-color"][3]&&1===n.paint["fill-opacity"];e.isOpaquePass===u&&(e.setDepthSublayer(1),o(e,t,n,r,i)),!e.isOpaquePass&&n.paint["fill-antialias"]&&(e.lineWidth(2),e.depthMask(!1),e.setDepthSublayer(n.getPaintProperty("fill-outline-color")?2:0),o(e,t,n,r,a))}function o(e,t,n,r,o){for(var i=!0,a=0,s=r;a<s.length;a+=1){var u=s[a],l=t.getTile(u),c=l.getBucket(n);c&&(e.enableTileClippingMask(u),o(e,t,n,l,u,c.buffers,i),i=!1)}}function i(e,t,n,r,o,i,a){for(var u=e.gl,l=i.layerData[n.id],c=s("fill",n.paint["fill-pattern"],e,l,n,r,o,a),p=0,f=i.segments;p<f.length;p+=1){var h=f[p];h.vaos[n.id].bind(u,c,i.layoutVertexBuffer,i.elementBuffer,l.paintVertexBuffer,h.vertexOffset),u.drawElements(u.TRIANGLES,3*h.primitiveLength,u.UNSIGNED_SHORT,3*h.primitiveOffset*2)}}function a(e,t,n,r,o,i,a){var u=e.gl,l=i.layerData[n.id],c=n.paint["fill-pattern"]&&!n.getPaintProperty("fill-outline-color"),p=s("fillOutline",c,e,l,n,r,o,a);u.uniform2f(p.u_world,u.drawingBufferWidth,u.drawingBufferHeight);for(var f=0,h=i.segments2;f<h.length;f+=1){var d=h[f];d.vaos[n.id].bind(u,p,i.layoutVertexBuffer,i.elementBuffer2,l.paintVertexBuffer,d.vertexOffset),u.drawElements(u.LINES,2*d.primitiveLength,u.UNSIGNED_SHORT,2*d.primitiveOffset*2)}}function s(e,t,n,r,o,i,a,s){var l,c=n.currentProgram;return t?(l=n.useProgram(e+"Pattern",r.programConfiguration),(s||l!==c)&&(r.programConfiguration.setUniforms(n.gl,l,o,{zoom:n.transform.zoom}),u.prepare(o.paint["fill-pattern"],n,l)),u.setTile(i,n,l)):(l=n.useProgram(e,r.programConfiguration),(s||l!==c)&&r.programConfiguration.setUniforms(n.gl,l,o,{zoom:n.transform.zoom})),n.gl.uniformMatrix4fv(l.u_matrix,!1,n.translatePosMatrix(a.posMatrix,i,o.paint["fill-translate"],o.paint["fill-translate-anchor"])),l}var u=e("./pattern");t.exports=r},{"./pattern":78}],71:[function(e,t,n){"use strict";function r(e,t,n,r){if(0!==n.paint["fill-extrusion-opacity"]){var a=e.gl;a.disable(a.STENCIL_TEST),a.enable(a.DEPTH_TEST),e.depthMask(!0);var s=new o(a,e,n);s.bindFramebuffer(),a.clearColor(0,0,0,0),a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT);for(var u=0;u<r.length;u++)i(e,t,n,r[u]);s.unbindFramebuffer(),s.renderToMap()}}function o(e,t,n){this.gl=e,this.width=t.width,this.height=t.height,this.painter=t,this.layer=n,this.texture=null,this.fbo=null,this.fbos=this.painter.preFbos[this.width]&&this.painter.preFbos[this.width][this.height]}function i(e,t,n,r){if(!e.isOpaquePass){var o=t.getTile(r),i=o.getBucket(n);if(i){var s=i.buffers,u=e.gl,l=n.paint["fill-extrusion-pattern"],c=s.layerData[n.id],f=c.programConfiguration,h=e.useProgram(l?"fillExtrusionPattern":"fillExtrusion",f);f.setUniforms(u,h,n,{zoom:e.transform.zoom}),l&&(p.prepare(l,e,h),p.setTile(o,e,h),u.uniform1f(h.u_height_factor,-Math.pow(2,r.z)/o.tileSize/8)),e.gl.uniformMatrix4fv(h.u_matrix,!1,e.translatePosMatrix(r.posMatrix,o,n.paint["fill-extrusion-translate"],n.paint["fill-extrusion-translate-anchor"])),a(h,e);for(var d=0,m=s.segments;d<m.length;d+=1){var y=m[d];y.vaos[n.id].bind(u,h,s.layoutVertexBuffer,s.elementBuffer,c.paintVertexBuffer,y.vertexOffset),u.drawElements(u.TRIANGLES,3*y.primitiveLength,u.UNSIGNED_SHORT,3*y.primitiveOffset*2)}}}}function a(e,t){var n=t.gl,r=t.style.light,o=r.calculated.position,i=[o.x,o.y,o.z],a=f.create();"viewport"===r.calculated.anchor&&f.fromRotation(a,-t.transform.angle),d.transformMat3(i,i,a),n.uniform3fv(e.u_lightpos,i),n.uniform1f(e.u_lightintensity,r.calculated.intensity),n.uniform3fv(e.u_lightcolor,r.calculated.color.slice(0,3))}var s=e("@mapbox/gl-matrix"),u=e("../data/buffer"),l=e("./vertex_array_object"),c=e("../data/pos_array"),p=e("./pattern"),f=s.mat3,h=s.mat4,d=s.vec3;t.exports=r,o.prototype.bindFramebuffer=function(){var e=this.gl;if(this.texture=this.painter.getViewportTexture(this.width,this.height),e.activeTexture(e.TEXTURE1),this.texture?e.bindTexture(e.TEXTURE_2D,this.texture):(this.texture=e.createTexture(),e.bindTexture(e.TEXTURE_2D,this.texture),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,this.width,this.height,0,e.RGBA,e.UNSIGNED_BYTE,null),this.texture.width=this.width,this.texture.height=this.height),this.fbos)this.fbo=this.fbos.pop(),e.bindFramebuffer(e.FRAMEBUFFER,this.fbo),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.texture,0);else{this.fbo=e.createFramebuffer(),e.bindFramebuffer(e.FRAMEBUFFER,this.fbo);var t=e.createRenderbuffer();e.bindRenderbuffer(e.RENDERBUFFER,t),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_COMPONENT16,this.width,this.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,t),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.texture,0)}},o.prototype.unbindFramebuffer=function(){this.painter.bindDefaultFramebuffer(),this.fbos?this.fbos.push(this.fbo):(this.painter.preFbos[this.width]||(this.painter.preFbos[this.width]={}),this.painter.preFbos[this.width][this.height]=[this.fbo]),this.painter.saveViewportTexture(this.texture)},o.prototype.renderToMap=function(){var e=this.gl,t=this.painter,n=t.useProgram("extrusionTexture");e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,this.texture),e.uniform1f(n.u_opacity,this.layer.paint["fill-extrusion-opacity"]),e.uniform1i(n.u_image,1),e.uniformMatrix4fv(n.u_matrix,!1,h.ortho(h.create(),0,t.width,t.height,0,0,1)),e.disable(e.DEPTH_TEST),e.uniform2f(n.u_world,e.drawingBufferWidth,e.drawingBufferHeight);var r=new c;r.emplaceBack(0,0),
r.emplaceBack(1,0),r.emplaceBack(0,1),r.emplaceBack(1,1);var o=u.fromStructArray(r,u.BufferType.VERTEX),i=new l;i.bind(e,n,o),e.drawArrays(e.TRIANGLE_STRIP,0,4),e.enable(e.DEPTH_TEST)}},{"../data/buffer":51,"../data/pos_array":57,"./pattern":78,"./vertex_array_object":80,"@mapbox/gl-matrix":1}],72:[function(e,t,n){"use strict";function r(e,t,n,r,a,s,u,l,c){var p,f,h,d,m=t.gl,y=a.paint["line-dasharray"],g=a.paint["line-pattern"];if(l||c){var v=1/i(n,1,t.transform.tileZoom);if(y){p=t.lineAtlas.getDash(y.from,"round"===a.layout["line-cap"]),f=t.lineAtlas.getDash(y.to,"round"===a.layout["line-cap"]);var b=p.width*y.fromScale,_=f.width*y.toScale;m.uniform2f(e.u_patternscale_a,v/b,-p.height/2),m.uniform2f(e.u_patternscale_b,v/_,-f.height/2),m.uniform1f(e.u_sdfgamma,t.lineAtlas.width/(256*Math.min(b,_)*o.devicePixelRatio)/2)}else if(g){if(h=t.spriteAtlas.getPosition(g.from,!0),d=t.spriteAtlas.getPosition(g.to,!0),!h||!d)return;m.uniform2f(e.u_pattern_size_a,h.size[0]*g.fromScale/v,d.size[1]),m.uniform2f(e.u_pattern_size_b,d.size[0]*g.toScale/v,d.size[1])}m.uniform2f(e.u_gl_units_to_pixels,1/t.transform.pixelsToGLUnits[0],1/t.transform.pixelsToGLUnits[1])}l&&(y?(m.uniform1i(e.u_image,0),m.activeTexture(m.TEXTURE0),t.lineAtlas.bind(m),m.uniform1f(e.u_tex_y_a,p.y),m.uniform1f(e.u_tex_y_b,f.y),m.uniform1f(e.u_mix,y.t)):g&&(m.uniform1i(e.u_image,0),m.activeTexture(m.TEXTURE0),t.spriteAtlas.bind(m,!0),m.uniform2fv(e.u_pattern_tl_a,h.tl),m.uniform2fv(e.u_pattern_br_a,h.br),m.uniform2fv(e.u_pattern_tl_b,d.tl),m.uniform2fv(e.u_pattern_br_b,d.br),m.uniform1f(e.u_fade,g.t)),m.uniform1f(e.u_width,a.paint["line-width"])),t.enableTileClippingMask(s);var w=t.translatePosMatrix(s.posMatrix,n,a.paint["line-translate"],a.paint["line-translate-anchor"]);m.uniformMatrix4fv(e.u_matrix,!1,w),m.uniform1f(e.u_ratio,1/i(n,1,t.transform.zoom));for(var x=0,k=r.segments;x<k.length;x+=1){var E=k[x];E.vaos[a.id].bind(m,e,r.layoutVertexBuffer,r.elementBuffer,u.paintVertexBuffer,E.vertexOffset),m.drawElements(m.TRIANGLES,3*E.primitiveLength,m.UNSIGNED_SHORT,3*E.primitiveOffset*2)}}var o=e("../util/browser"),i=e("../source/pixels_to_tile_units");t.exports=function(e,t,n,o){if(!e.isOpaquePass){e.setDepthSublayer(0),e.depthMask(!1);var i=e.gl;if(i.enable(i.STENCIL_TEST),!(n.paint["line-width"]<=0))for(var a,s=n.paint["line-dasharray"]?"lineSDF":n.paint["line-pattern"]?"linePattern":"line",u=!0,l=0,c=o;l<c.length;l+=1){var p=c[l],f=t.getTile(p),h=f.getBucket(n);if(h){var d=h.buffers.layerData[n.id],m=e.currentProgram,y=e.useProgram(s,d.programConfiguration),g=u||y!==m,v=a!==f.coord.z;g&&d.programConfiguration.setUniforms(e.gl,y,n,{zoom:e.transform.zoom}),r(y,e,f,h.buffers,n,p,d,g,v),a=f.coord.z,u=!1}}}}},{"../source/pixels_to_tile_units":88,"../util/browser":195}],73:[function(e,t,n){"use strict";function r(e,t,n,r){if(!e.isOpaquePass){var i=e.gl;i.enable(i.DEPTH_TEST),e.depthMask(!0),i.depthFunc(i.LESS);for(var a=r.length&&r[0].z,s=0;s<r.length;s++){var u=r[s];e.setDepthSublayer(u.z-a),o(e,t,n,u)}i.depthFunc(i.LEQUAL)}}function o(e,t,n,r){var o=e.gl;o.disable(o.STENCIL_TEST);var l=t.getTile(r),c=e.transform.calculatePosMatrix(r,t.getSource().maxzoom);l.registerFadeDuration(e.style.animationLoop,n.paint["raster-fade-duration"]);var p=e.useProgram("raster");o.uniformMatrix4fv(p.u_matrix,!1,c),o.uniform1f(p.u_brightness_low,n.paint["raster-brightness-min"]),o.uniform1f(p.u_brightness_high,n.paint["raster-brightness-max"]),o.uniform1f(p.u_saturation_factor,s(n.paint["raster-saturation"])),o.uniform1f(p.u_contrast_factor,a(n.paint["raster-contrast"])),o.uniform3fv(p.u_spin_weights,i(n.paint["raster-hue-rotate"]));var f,h,d=l.sourceCache&&l.sourceCache.findLoadedParent(r,0,{}),m=u(l,d,n,e.transform);o.activeTexture(o.TEXTURE0),o.bindTexture(o.TEXTURE_2D,l.texture),o.activeTexture(o.TEXTURE1),d?(o.bindTexture(o.TEXTURE_2D,d.texture),f=Math.pow(2,d.coord.z-l.coord.z),h=[l.coord.x*f%1,l.coord.y*f%1]):o.bindTexture(o.TEXTURE_2D,l.texture),o.uniform2fv(p.u_tl_parent,h||[0,0]),o.uniform1f(p.u_scale_parent,f||1),o.uniform1f(p.u_buffer_scale,1),o.uniform1f(p.u_fade_t,m.mix),o.uniform1f(p.u_opacity,m.opacity*n.paint["raster-opacity"]),o.uniform1i(p.u_image0,0),o.uniform1i(p.u_image1,1);var y=l.boundsBuffer||e.rasterBoundsBuffer,g=l.boundsVAO||e.rasterBoundsVAO;g.bind(o,p,y),o.drawArrays(o.TRIANGLE_STRIP,0,y.length)}function i(e){e*=Math.PI/180;var t=Math.sin(e),n=Math.cos(e);return[(2*n+1)/3,(-Math.sqrt(3)*t-n+1)/3,(Math.sqrt(3)*t-n+1)/3]}function a(e){return e>0?1/(1-e):1+e}function s(e){return e>0?1-1/(1.001-e):-e}function u(e,t,n,r){var o=n.paint["raster-fade-duration"];if(e.sourceCache&&o>0){var i=Date.now(),a=(i-e.timeAdded)/o,s=t?(i-t.timeAdded)/o:-1,u=e.sourceCache.getSource(),c=r.coveringZoomLevel({tileSize:u.tileSize,roundZoom:u.roundZoom}),p=!t||Math.abs(t.coord.z-c)>Math.abs(e.coord.z-c),f=p&&e.refreshedUponExpiration?1:l.clamp(p?a:1-s,0,1);return e.refreshedUponExpiration&&a>=1&&(e.refreshedUponExpiration=!1),t?{opacity:1,mix:1-f}:{opacity:f,mix:0}}return{opacity:1,mix:0}}var l=e("../util/util");t.exports=r},{"../util/util":215}],74:[function(e,t,n){"use strict";function r(e,t,n,r){if(!e.isOpaquePass){var i=!(n.layout["text-allow-overlap"]||n.layout["icon-allow-overlap"]||n.layout["text-ignore-placement"]||n.layout["icon-ignore-placement"]),a=e.gl;i?a.disable(a.STENCIL_TEST):a.enable(a.STENCIL_TEST),e.setDepthSublayer(0),e.depthMask(!1),o(e,t,n,r,!1,n.paint["icon-translate"],n.paint["icon-translate-anchor"],n.layout["icon-rotation-alignment"],n.layout["icon-rotation-alignment"]),o(e,t,n,r,!0,n.paint["text-translate"],n.paint["text-translate-anchor"],n.layout["text-rotation-alignment"],n.layout["text-pitch-alignment"]),t.map.showCollisionBoxes&&c(e,t,n,r)}}function o(e,t,n,r,o,s,u,l,c){if(o||!e.style.sprite||e.style.sprite.loaded()){var p=e.gl,f="map"===l,h="map"===c,d=h;d?p.enable(p.DEPTH_TEST):p.disable(p.DEPTH_TEST);for(var m,y,g=0,v=r;g<v.length;g+=1){var b=v[g],_=t.getTile(b),w=_.getBucket(n);if(w){var x=o?w.buffers.glyph:w.buffers.icon;if(x&&x.segments.length){var k=x.layerData[n.id],E=k.programConfiguration,T=o||w.sdfIcons,S=o?w.textSizeData:w.iconSizeData;m&&w.fontstack===y||(m=e.useProgram(T?"symbolSDF":"symbolIcon",E),E.setUniforms(p,m,n,{zoom:e.transform.zoom}),i(m,e,n,b.z,o,T,f,h,w.fontstack,w.iconsNeedLinear,S)),e.enableTileClippingMask(b),p.uniformMatrix4fv(m.u_matrix,!1,e.translatePosMatrix(b.posMatrix,_,s,u)),a(m,E,e,n,_,x,o,T,h),y=w.fontstack}}}d||p.enable(p.DEPTH_TEST)}}function i(e,t,n,r,o,i,a,s,c,p,h){var d=t.gl,m=t.transform;if(d.uniform1i(e.u_rotate_with_map,a),d.uniform1i(e.u_pitch_with_map,s),d.activeTexture(d.TEXTURE0),d.uniform1i(e.u_texture,0),d.uniform1f(e.u_is_text,o?1:0),o){var y=c&&t.glyphSource.getGlyphAtlas(c);if(!y)return;y.updateTexture(d),d.uniform2f(e.u_texsize,y.width/4,y.height/4)}else{var g=t.options.rotating||t.options.zooming,v=!n.isLayoutValueFeatureConstant("icon-size")||!n.isLayoutValueZoomConstant("icon-size")||1!==n.getLayoutValue("icon-size",{zoom:m.zoom}),b=v||l.devicePixelRatio!==t.spriteAtlas.pixelRatio||p,_=s||m.pitch;t.spriteAtlas.bind(d,i||g||b||_),d.uniform2f(e.u_texsize,t.spriteAtlas.width/4,t.spriteAtlas.height/4)}if(d.activeTexture(d.TEXTURE1),t.frameHistory.bind(d),d.uniform1i(e.u_fadetexture,1),d.uniform1f(e.u_zoom,m.zoom),d.uniform1f(e.u_pitch,m.pitch/360*2*Math.PI),d.uniform1f(e.u_bearing,m.bearing/360*2*Math.PI),d.uniform1f(e.u_aspect_ratio,m.width/m.height),d.uniform1i(e.u_is_size_zoom_constant,h.isZoomConstant?1:0),d.uniform1i(e.u_is_size_feature_constant,h.isFeatureConstant?1:0),h.isZoomConstant||h.isFeatureConstant)if(h.isFeatureConstant&&!h.isZoomConstant){var w;if("interval"===h.functionType)w=n.getLayoutValue(o?"text-size":"icon-size",{zoom:m.zoom});else{var x="interval"===h.functionType?0:f(m.zoom,h.functionBase,h.coveringZoomRange[0],h.coveringZoomRange[1]),k=h.coveringStopValues[0],E=h.coveringStopValues[1];w=k+(E-k)*u.clamp(x,0,1)}d.uniform1f(e.u_size,w),d.uniform1f(e.u_layout_size,h.layoutSize)}else h.isFeatureConstant&&h.isZoomConstant&&d.uniform1f(e.u_size,h.layoutSize);else{var T=f(m.zoom,h.functionBase,h.coveringZoomRange[0],h.coveringZoomRange[1]);d.uniform1f(e.u_size_t,u.clamp(T,0,1))}}function a(e,t,n,r,o,i,a,u,l){var c=n.gl,f=n.transform;if(l){var h=p(o,1,f.zoom);c.uniform2f(e.u_extrude_scale,h,h)}else{var d=f.cameraToCenterDistance;c.uniform2f(e.u_extrude_scale,f.pixelsToGLUnits[0]*d,f.pixelsToGLUnits[1]*d)}if(u){var m=(a?"text":"icon")+"-halo-width",y=!r.isPaintValueFeatureConstant(m)||r.paint[m],g=(l?Math.cos(f._pitch):1)*f.cameraToCenterDistance;c.uniform1f(e.u_gamma_scale,g),y&&(c.uniform1f(e.u_is_halo,1),s(i,r,c,e)),c.uniform1f(e.u_is_halo,0)}s(i,r,c,e)}function s(e,t,n,r){for(var o=e.layerData[t.id],i=o&&o.paintVertexBuffer,a=0,s=e.segments;a<s.length;a+=1){var u=s[a];u.vaos[t.id].bind(n,r,e.layoutVertexBuffer,e.elementBuffer,i,u.vertexOffset),n.drawElements(n.TRIANGLES,3*u.primitiveLength,n.UNSIGNED_SHORT,3*u.primitiveOffset*2)}}var u=e("../util/util"),l=e("../util/browser"),c=e("./draw_collision_debug"),p=e("../source/pixels_to_tile_units"),f=e("../style-spec/function").interpolationFactor;t.exports=r},{"../source/pixels_to_tile_units":88,"../style-spec/function":107,"../util/browser":195,"../util/util":215,"./draw_collision_debug":68}],75:[function(e,t,n){"use strict";var r=function(){this.changeTimes=new Float64Array(256),this.changeOpacities=new Uint8Array(256),this.opacities=new Uint8ClampedArray(256),this.array=new Uint8Array(this.opacities.buffer),this.previousZoom=0,this.firstFrame=!0};r.prototype.record=function(e,t,n){var r=this;this.firstFrame&&(e=0,this.firstFrame=!1),t=Math.floor(10*t);var o;if(t<this.previousZoom)for(o=t+1;o<=this.previousZoom;o++)r.changeTimes[o]=e,r.changeOpacities[o]=r.opacities[o];else for(o=t;o>this.previousZoom;o--)r.changeTimes[o]=e,r.changeOpacities[o]=r.opacities[o];for(o=0;256>o;o++){var i=e-r.changeTimes[o],a=255*(n?i/n:1);t>=o?r.opacities[o]=r.changeOpacities[o]+a:r.opacities[o]=r.changeOpacities[o]-a}this.changed=!0,this.previousZoom=t},r.prototype.bind=function(e){this.texture?(e.bindTexture(e.TEXTURE_2D,this.texture),this.changed&&(e.texSubImage2D(e.TEXTURE_2D,0,0,0,256,1,e.ALPHA,e.UNSIGNED_BYTE,this.array),this.changed=!1)):(this.texture=e.createTexture(),e.bindTexture(e.TEXTURE_2D,this.texture),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texImage2D(e.TEXTURE_2D,0,e.ALPHA,256,1,0,e.ALPHA,e.UNSIGNED_BYTE,this.array))},t.exports=r},{}],76:[function(e,t,n){"use strict";var r=e("../util/util"),o=function(e,t){this.width=e,this.height=t,this.nextRow=0,this.bytes=4,this.data=new Uint8Array(this.width*this.height*this.bytes),this.positions={}};o.prototype.setSprite=function(e){this.sprite=e},o.prototype.getDash=function(e,t){var n=e.join(",")+t;return this.positions[n]||(this.positions[n]=this.addDash(e,t)),this.positions[n]},o.prototype.addDash=function(e,t){var n=this,o=t?7:0,i=2*o+1,a=128;if(this.nextRow+i>this.height)return r.warnOnce("LineAtlas out of space"),null;for(var s=0,u=0;u<e.length;u++)s+=e[u];for(var l=this.width/s,c=l/2,p=e.length%2===1,f=-o;o>=f;f++)for(var h=n.nextRow+o+f,d=n.width*h,m=p?-e[e.length-1]:0,y=e[0],g=1,v=0;v<this.width;v++){for(;v/l>y;)m=y,y+=e[g],p&&g===e.length-1&&(y+=e[0]),g++;var b=Math.abs(v-m*l),_=Math.abs(v-y*l),w=Math.min(b,_),x=g%2===1,k=void 0;if(t){var E=o?f/o*(c+1):0;if(x){var T=c-Math.abs(E);k=Math.sqrt(w*w+T*T)}else k=c-Math.sqrt(w*w+E*E)}else k=(x?1:-1)*w;n.data[3+4*(d+v)]=Math.max(0,Math.min(255,k+a))}var S={y:(this.nextRow+o+.5)/this.height,height:2*o/this.height,width:s};return this.nextRow+=i,this.dirty=!0,S},o.prototype.bind=function(e){this.texture?(e.bindTexture(e.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,e.texSubImage2D(e.TEXTURE_2D,0,0,0,this.width,this.height,e.RGBA,e.UNSIGNED_BYTE,this.data))):(this.texture=e.createTexture(),e.bindTexture(e.TEXTURE_2D,this.texture),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,this.width,this.height,0,e.RGBA,e.UNSIGNED_BYTE,this.data))},t.exports=o},{"../util/util":215}],77:[function(e,t,n){"use strict";var r=e("../util/browser"),o=e("@mapbox/gl-matrix").mat4,i=e("./frame_history"),a=e("../source/source_cache"),s=e("../data/extent"),u=e("../source/pixels_to_tile_units"),l=e("../util/util"),c=e("../data/buffer"),p=e("./vertex_array_object"),f=e("../data/raster_bounds_array"),h=e("../data/pos_array"),d=e("../data/program_configuration"),m=e("./shaders"),y={symbol:e("./draw_symbol"),circle:e("./draw_circle"),line:e("./draw_line"),fill:e("./draw_fill"),"fill-extrusion":e("./draw_fill_extrusion"),raster:e("./draw_raster"),background:e("./draw_background"),debug:e("./draw_debug")},g=function(e,t){this.gl=e,this.transform=t,this.reusableTextures={tiles:{},viewport:null},this.preFbos={},this.frameHistory=new i,this.setup(),this.numSublayers=a.maxUnderzooming+a.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.lineWidthRange=e.getParameter(e.ALIASED_LINE_WIDTH_RANGE),this.basicFillProgramConfiguration=d.createStatic(["color","opacity"]),this.emptyProgramConfiguration=new d};g.prototype.resize=function(e,t){var n=this.gl;this.width=e*r.devicePixelRatio,this.height=t*r.devicePixelRatio,n.viewport(0,0,this.width,this.height)},g.prototype.setup=function(){var e=this.gl;e.verbose=!0,e.enable(e.BLEND),e.blendFunc(e.ONE,e.ONE_MINUS_SRC_ALPHA),e.enable(e.STENCIL_TEST),e.enable(e.DEPTH_TEST),e.depthFunc(e.LEQUAL),this._depthMask=!1,e.depthMask(!1);var t=new h;t.emplaceBack(0,0),t.emplaceBack(s,0),t.emplaceBack(0,s),t.emplaceBack(s,s),this.tileExtentBuffer=c.fromStructArray(t,c.BufferType.VERTEX),this.tileExtentVAO=new p,this.tileExtentPatternVAO=new p;var n=new h;n.emplaceBack(0,0),n.emplaceBack(s,0),n.emplaceBack(s,s),n.emplaceBack(0,s),n.emplaceBack(0,0),this.debugBuffer=c.fromStructArray(n,c.BufferType.VERTEX),this.debugVAO=new p;var r=new f;r.emplaceBack(0,0,0,0),r.emplaceBack(s,0,32767,0),r.emplaceBack(0,s,0,32767),r.emplaceBack(s,s,32767,32767),this.rasterBoundsBuffer=c.fromStructArray(r,c.BufferType.VERTEX),this.rasterBoundsVAO=new p,this.extTextureFilterAnisotropic=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=e.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT))},g.prototype.clearColor=function(){var e=this.gl;e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT)},g.prototype.clearStencil=function(){var e=this.gl;e.clearStencil(0),e.stencilMask(255),e.clear(e.STENCIL_BUFFER_BIT)},g.prototype.clearDepth=function(){var e=this.gl;e.clearDepth(1),this.depthMask(!0),e.clear(e.DEPTH_BUFFER_BIT)},g.prototype._renderTileClippingMasks=function(e){var t=this,n=this.gl;n.colorMask(!1,!1,!1,!1),this.depthMask(!1),n.disable(n.DEPTH_TEST),n.enable(n.STENCIL_TEST),n.stencilMask(255),n.stencilOp(n.KEEP,n.KEEP,n.REPLACE);var r=1;this._tileClippingMaskIDs={};for(var o=0,i=e;o<i.length;o+=1){var a=i[o],s=t._tileClippingMaskIDs[a.id]=r++;n.stencilFunc(n.ALWAYS,s,255);var u=t.useProgram("fill",t.basicFillProgramConfiguration);n.uniformMatrix4fv(u.u_matrix,!1,a.posMatrix),t.tileExtentVAO.bind(n,u,t.tileExtentBuffer),n.drawArrays(n.TRIANGLE_STRIP,0,t.tileExtentBuffer.length)}n.stencilMask(0),n.colorMask(!0,!0,!0,!0),this.depthMask(!0),n.enable(n.DEPTH_TEST)},g.prototype.enableTileClippingMask=function(e){var t=this.gl;t.stencilFunc(t.EQUAL,this._tileClippingMaskIDs[e.id],255)},g.prototype.prepareBuffers=function(){},g.prototype.bindDefaultFramebuffer=function(){var e=this.gl;e.bindFramebuffer(e.FRAMEBUFFER,null)},g.prototype.render=function(e,t){if(this.style=e,this.options=t,this.lineAtlas=e.lineAtlas,this.spriteAtlas=e.spriteAtlas,this.spriteAtlas.setSprite(e.sprite),this.glyphSource=e.glyphSource,this.frameHistory.record(Date.now(),this.transform.zoom,e.getTransition().duration),this.prepareBuffers(),this.clearColor(),this.clearDepth(),this.showOverdrawInspector(t.showOverdrawInspector),this.depthRange=(e._order.length+2)*this.numSublayers*this.depthEpsilon,this.isOpaquePass=!0,this.renderPass(),this.isOpaquePass=!1,this.renderPass(),this.options.showTileBoundaries){var n=this.style.sourceCaches[Object.keys(this.style.sourceCaches)[0]];n&&y.debug(this,n,n.getVisibleCoordinates())}},g.prototype.renderPass=function(){var e,t,n=this,r=this.style._order;this.currentLayer=this.isOpaquePass?r.length-1:0,this.isOpaquePass?this._showOverdrawInspector||this.gl.disable(this.gl.BLEND):this.gl.enable(this.gl.BLEND);for(var o=0;o<r.length;o++){var i=n.style._layers[r[n.currentLayer]];i.source!==(e&&e.id)&&(e=n.style.sourceCaches[i.source],t=[],e&&(e.prepare&&e.prepare(),n.clearStencil(),t=e.getVisibleCoordinates(),e.getSource().isTileClipped&&n._renderTileClippingMasks(t)),n.isOpaquePass||t.reverse()),n.renderLayer(n,e,i,t),n.currentLayer+=n.isOpaquePass?-1:1}},g.prototype.depthMask=function(e){e!==this._depthMask&&(this._depthMask=e,this.gl.depthMask(e))},g.prototype.renderLayer=function(e,t,n,r){n.isHidden(this.transform.zoom)||("background"===n.type||r.length)&&(this.id=n.id,y[n.type](e,t,n,r))},g.prototype.setDepthSublayer=function(e){var t=1-((1+this.currentLayer)*this.numSublayers+e)*this.depthEpsilon,n=t-1+this.depthRange;this.gl.depthRange(n,t)},g.prototype.translatePosMatrix=function(e,t,n,r){if(!n[0]&&!n[1])return e;if("viewport"===r){var i=Math.sin(-this.transform.angle),a=Math.cos(-this.transform.angle);n=[n[0]*a-n[1]*i,n[0]*i+n[1]*a]}var s=[u(t,n[0],this.transform.zoom),u(t,n[1],this.transform.zoom),0],l=new Float32Array(16);return o.translate(l,e,s),l},g.prototype.saveTileTexture=function(e){var t=this.reusableTextures.tiles[e.size];t?t.push(e):this.reusableTextures.tiles[e.size]=[e]},g.prototype.saveViewportTexture=function(e){this.reusableTextures.viewport=e},g.prototype.getTileTexture=function(e){var t=this.reusableTextures.tiles[e];return t&&t.length>0?t.pop():null},g.prototype.getViewportTexture=function(e,t){var n=this.reusableTextures.viewport;return n?n.width===e&&n.height===t?n:(this.gl.deleteTexture(n),void(this.reusableTextures.viewport=null)):void 0},g.prototype.lineWidth=function(e){this.gl.lineWidth(l.clamp(e,this.lineWidthRange[0],this.lineWidthRange[1]))},g.prototype.showOverdrawInspector=function(e){if(e||this._showOverdrawInspector){this._showOverdrawInspector=e;var t=this.gl;if(e){t.blendFunc(t.CONSTANT_COLOR,t.ONE);var n=8,r=1/n;t.blendColor(r,r,r,0),t.clearColor(0,0,0,1),t.clear(t.COLOR_BUFFER_BIT)}else t.blendFunc(t.ONE,t.ONE_MINUS_SRC_ALPHA)}},g.prototype.createProgram=function(e,t){var n=this.gl,o=n.createProgram(),i=m[e],a="#define MAPBOX_GL_JS\n#define DEVICE_PIXEL_RATIO "+r.devicePixelRatio.toFixed(1)+"\n";this._showOverdrawInspector&&(a+="#define OVERDRAW_INSPECTOR;\n");var s=t.applyPragmas(a+m.prelude.fragmentSource+i.fragmentSource,"fragment"),u=t.applyPragmas(a+m.prelude.vertexSource+i.vertexSource,"vertex"),l=n.createShader(n.FRAGMENT_SHADER);n.shaderSource(l,s),n.compileShader(l),n.attachShader(o,l);var c=n.createShader(n.VERTEX_SHADER);n.shaderSource(c,u),n.compileShader(c),n.attachShader(o,c),n.linkProgram(o);for(var p=n.getProgramParameter(o,n.ACTIVE_ATTRIBUTES),f={program:o,numAttributes:p},h=0;p>h;h++){var d=n.getActiveAttrib(o,h);f[d.name]=n.getAttribLocation(o,d.name)}for(var y=n.getProgramParameter(o,n.ACTIVE_UNIFORMS),g=0;y>g;g++){var v=n.getActiveUniform(o,g);f[v.name]=n.getUniformLocation(o,v.name)}return f},g.prototype._createProgramCached=function(e,t){this.cache=this.cache||{};var n=""+e+(t.cacheKey||"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[n]||(this.cache[n]=this.createProgram(e,t)),this.cache[n]},g.prototype.useProgram=function(e,t){var n=this.gl,r=this._createProgramCached(e,t||this.emptyProgramConfiguration);return this.currentProgram!==r&&(n.useProgram(r.program),this.currentProgram=r),r},t.exports=g},{"../data/buffer":51,"../data/extent":54,"../data/pos_array":57,"../data/program_configuration":58,"../data/raster_bounds_array":59,"../source/pixels_to_tile_units":88,"../source/source_cache":93,"../util/browser":195,"../util/util":215,"./draw_background":66,"./draw_circle":67,"./draw_debug":69,"./draw_fill":70,"./draw_fill_extrusion":71,"./draw_line":72,"./draw_raster":73,"./draw_symbol":74,"./frame_history":75,"./shaders":79,"./vertex_array_object":80,"@mapbox/gl-matrix":1}],78:[function(e,t,n){"use strict";var r=e("../source/pixels_to_tile_units");n.prepare=function(e,t,n){var r=t.gl,o=t.spriteAtlas.getPosition(e.from,!0),i=t.spriteAtlas.getPosition(e.to,!0);o&&i&&(r.uniform1i(n.u_image,0),r.uniform2fv(n.u_pattern_tl_a,o.tl),r.uniform2fv(n.u_pattern_br_a,o.br),r.uniform2fv(n.u_pattern_tl_b,i.tl),r.uniform2fv(n.u_pattern_br_b,i.br),r.uniform1f(n.u_mix,e.t),r.uniform2fv(n.u_pattern_size_a,o.size),r.uniform2fv(n.u_pattern_size_b,i.size),r.uniform1f(n.u_scale_a,e.fromScale),r.uniform1f(n.u_scale_b,e.toScale),r.activeTexture(r.TEXTURE0),t.spriteAtlas.bind(r,!0))},n.setTile=function(e,t,n){var o=t.gl;o.uniform1f(n.u_tile_units_to_pixels,1/r(e,1,t.transform.tileZoom));var i=Math.pow(2,e.coord.z),a=e.tileSize*Math.pow(2,t.transform.tileZoom)/i,s=a*(e.coord.x+e.coord.w*i),u=a*e.coord.y;o.uniform2f(n.u_pixel_coord_upper,s>>16,u>>16),o.uniform2f(n.u_pixel_coord_lower,65535&s,65535&u)}},{"../source/pixels_to_tile_units":88}],79:[function(e,t,n){"use strict";e("path");t.exports={prelude:{fragmentSource:"#ifdef GL_ES\nprecision mediump float;\n#else\n\n#if !defined(lowp)\n#define lowp\n#endif\n\n#if !defined(mediump)\n#define mediump\n#endif\n\n#if !defined(highp)\n#define highp\n#endif\n\n#endif\n",vertexSource:"#ifdef GL_ES\nprecision highp float;\n#else\n\n#if !defined(lowp)\n#define lowp\n#endif\n\n#if !defined(mediump)\n#define mediump\n#endif\n\n#if !defined(highp)\n#define highp\n#endif\n\n#endif\n\nfloat evaluate_zoom_function_1(const vec4 values, const float t) {\n    if (t < 1.0) {\n        return mix(values[0], values[1], t);\n    } else if (t < 2.0) {\n        return mix(values[1], values[2], t - 1.0);\n    } else {\n        return mix(values[2], values[3], t - 2.0);\n    }\n}\nvec4 evaluate_zoom_function_4(const vec4 value0, const vec4 value1, const vec4 value2, const vec4 value3, const float t) {\n    if (t < 1.0) {\n        return mix(value0, value1, t);\n    } else if (t < 2.0) {\n        return mix(value1, value2, t - 1.0);\n    } else {\n        return mix(value2, value3, t - 2.0);\n    }\n}\n\n// Unpack a pair of values that have been packed into a single float.\n// The packed values are assumed to be 8-bit unsigned integers, and are\n// packed like so:\n// packedValue = floor(input[0]) * 256 + input[1],\nvec2 unpack_float(const float packedValue) {\n    int packedIntValue = int(packedValue);\n    int v0 = packedIntValue / 256;\n    return vec2(v0, packedIntValue - v0 * 256);\n}\n\n\n// To minimize the number of attributes needed in the mapbox-gl-native shaders,\n// we encode a 4-component color into a pair of floats (i.e. a vec2) as follows:\n// [ floor(color.r * 255) * 256 + color.g * 255,\n//   floor(color.b * 255) * 256 + color.g * 255 ]\nvec4 decode_color(const vec2 encodedColor) {\n    return vec4(\n        unpack_float(encodedColor[0]) / 255.0,\n        unpack_float(encodedColor[1]) / 255.0\n    );\n}\n\n// Unpack a pair of paint values and interpolate between them.\nfloat unpack_mix_vec2(const vec2 packedValue, const float t) {\n    return mix(packedValue[0], packedValue[1], t);\n}\n\n// Unpack a pair of paint values and interpolate between them.\nvec4 unpack_mix_vec4(const vec4 packedColors, const float t) {\n    vec4 minColor = decode_color(vec2(packedColors[0], packedColors[1]));\n    vec4 maxColor = decode_color(vec2(packedColors[2], packedColors[3]));\n    return mix(minColor, maxColor, t);\n}\n\n// The offset depends on how many pixels are between the world origin and the edge of the tile:\n// vec2 offset = mod(pixel_coord, size)\n//\n// At high zoom levels there are a ton of pixels between the world origin and the edge of the tile.\n// The glsl spec only guarantees 16 bits of precision for highp floats. We need more than that.\n//\n// The pixel_coord is passed in as two 16 bit values:\n// pixel_coord_upper = floor(pixel_coord / 2^16)\n// pixel_coord_lower = mod(pixel_coord, 2^16)\n//\n// The offset is calculated in a series of steps that should preserve this precision:\nvec2 get_pattern_pos(const vec2 pixel_coord_upper, const vec2 pixel_coord_lower,\n    const vec2 pattern_size, const float tile_units_to_pixels, const vec2 pos) {\n\n    vec2 offset = mod(mod(mod(pixel_coord_upper, pattern_size) * 256.0, pattern_size) * 256.0 + pixel_coord_lower, pattern_size);\n    return (tile_units_to_pixels * pos + offset) / pattern_size;\n}\n"},circle:{fragmentSource:"#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\n\nvarying vec2 v_extrude;\nvarying lowp float v_antialiasblur;\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize mediump float radius\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize highp vec4 stroke_color\n    #pragma mapbox: initialize mediump float stroke_width\n    #pragma mapbox: initialize lowp float stroke_opacity\n\n    float extrude_length = length(v_extrude);\n    float antialiased_blur = -max(blur, v_antialiasblur);\n\n    float opacity_t = smoothstep(0.0, antialiased_blur, extrude_length - 1.0);\n\n    float color_t = stroke_width < 0.01 ? 0.0 : smoothstep(\n        antialiased_blur,\n        0.0,\n        extrude_length - radius / (radius + stroke_width)\n    );\n\n    gl_FragColor = opacity_t * mix(color * opacity, stroke_color * stroke_opacity, color_t);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform bool u_scale_with_map;\nuniform vec2 u_extrude_scale;\n\nattribute vec2 a_pos;\n\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\n\nvarying vec2 v_extrude;\nvarying lowp float v_antialiasblur;\n\nvoid main(void) {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize mediump float radius\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize highp vec4 stroke_color\n    #pragma mapbox: initialize mediump float stroke_width\n    #pragma mapbox: initialize lowp float stroke_opacity\n\n    // unencode the extrusion vector that we snuck into the a_pos vector\n    v_extrude = vec2(mod(a_pos, 2.0) * 2.0 - 1.0);\n\n    vec2 extrude = v_extrude * (radius + stroke_width) * u_extrude_scale;\n    // multiply a_pos by 0.5, since we had it * 2 in order to sneak\n    // in extrusion data\n    gl_Position = u_matrix * vec4(floor(a_pos * 0.5), 0, 1);\n\n    if (u_scale_with_map) {\n        gl_Position.xy += extrude;\n    } else {\n        gl_Position.xy += extrude * gl_Position.w;\n    }\n\n    // This is a minimum blur distance that serves as a faux-antialiasing for\n    // the circle. since blur is a ratio of the circle's size and the intent is\n    // to keep the blur at roughly 1px, the two are inversely related.\n    v_antialiasblur = 1.0 / DEVICE_PIXEL_RATIO / (radius + stroke_width);\n}\n"},collisionBox:{fragmentSource:"uniform float u_zoom;\nuniform float u_maxzoom;\n\nvarying float v_max_zoom;\nvarying float v_placement_zoom;\n\nvoid main() {\n\n    float alpha = 0.5;\n\n    gl_FragColor = vec4(0.0, 1.0, 0.0, 1.0) * alpha;\n\n    if (v_placement_zoom > u_zoom) {\n        gl_FragColor = vec4(1.0, 0.0, 0.0, 1.0) * alpha;\n    }\n\n    if (u_zoom >= v_max_zoom) {\n        gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0) * alpha * 0.25;\n    }\n\n    if (v_placement_zoom >= u_maxzoom) {\n        gl_FragColor = vec4(0.0, 0.0, 1.0, 1.0) * alpha * 0.2;\n    }\n}\n",vertexSource:"attribute vec2 a_pos;\nattribute vec2 a_extrude;\nattribute vec2 a_data;\n\nuniform mat4 u_matrix;\nuniform float u_scale;\n\nvarying float v_max_zoom;\nvarying float v_placement_zoom;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos + a_extrude / u_scale, 0.0, 1.0);\n\n    v_max_zoom = a_data.x;\n    v_placement_zoom = a_data.y;\n}\n"},debug:{fragmentSource:"uniform highp vec4 u_color;\n\nvoid main() {\n    gl_FragColor = u_color;\n}\n",vertexSource:"attribute vec2 a_pos;\n\nuniform mat4 u_matrix;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, step(32767.0, a_pos.x), 1);\n}\n"},fill:{fragmentSource:"#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_FragColor = color * opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"attribute vec2 a_pos;\n\nuniform mat4 u_matrix;\n\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n}\n"},fillOutline:{fragmentSource:"#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\n\nvarying vec2 v_pos;\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 outline_color\n    #pragma mapbox: initialize lowp float opacity\n\n    float dist = length(v_pos - gl_FragCoord.xy);\n    float alpha = 1.0 - smoothstep(0.0, 1.0, dist);\n    gl_FragColor = outline_color * (alpha * opacity);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"attribute vec2 a_pos;\n\nuniform mat4 u_matrix;\nuniform vec2 u_world;\n\nvarying vec2 v_pos;\n\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 outline_color\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n    v_pos = (gl_Position.xy / gl_Position.w + 1.0) / 2.0 * u_world;\n}\n"},fillOutlinePattern:{fragmentSource:"uniform vec2 u_pattern_tl_a;\nuniform vec2 u_pattern_br_a;\nuniform vec2 u_pattern_tl_b;\nuniform vec2 u_pattern_br_b;\nuniform float u_mix;\n\nuniform sampler2D u_image;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\nvarying vec2 v_pos;\n\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    vec2 imagecoord = mod(v_pos_a, 1.0);\n    vec2 pos = mix(u_pattern_tl_a, u_pattern_br_a, imagecoord);\n    vec4 color1 = texture2D(u_image, pos);\n\n    vec2 imagecoord_b = mod(v_pos_b, 1.0);\n    vec2 pos2 = mix(u_pattern_tl_b, u_pattern_br_b, imagecoord_b);\n    vec4 color2 = texture2D(u_image, pos2);\n\n    // find distance to outline for alpha interpolation\n\n    float dist = length(v_pos - gl_FragCoord.xy);\n    float alpha = 1.0 - smoothstep(0.0, 1.0, dist);\n\n\n    gl_FragColor = mix(color1, color2, u_mix) * alpha * opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_world;\nuniform vec2 u_pattern_size_a;\nuniform vec2 u_pattern_size_b;\nuniform vec2 u_pixel_coord_upper;\nuniform vec2 u_pixel_coord_lower;\nuniform float u_scale_a;\nuniform float u_scale_b;\nuniform float u_tile_units_to_pixels;\n\nattribute vec2 a_pos;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\nvarying vec2 v_pos;\n\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n\n    v_pos_a = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_a * u_pattern_size_a, u_tile_units_to_pixels, a_pos);\n    v_pos_b = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_b * u_pattern_size_b, u_tile_units_to_pixels, a_pos);\n\n    v_pos = (gl_Position.xy / gl_Position.w + 1.0) / 2.0 * u_world;\n}\n"
},fillPattern:{fragmentSource:"uniform vec2 u_pattern_tl_a;\nuniform vec2 u_pattern_br_a;\nuniform vec2 u_pattern_tl_b;\nuniform vec2 u_pattern_br_b;\nuniform float u_mix;\n\nuniform sampler2D u_image;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\n\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    vec2 imagecoord = mod(v_pos_a, 1.0);\n    vec2 pos = mix(u_pattern_tl_a, u_pattern_br_a, imagecoord);\n    vec4 color1 = texture2D(u_image, pos);\n\n    vec2 imagecoord_b = mod(v_pos_b, 1.0);\n    vec2 pos2 = mix(u_pattern_tl_b, u_pattern_br_b, imagecoord_b);\n    vec4 color2 = texture2D(u_image, pos2);\n\n    gl_FragColor = mix(color1, color2, u_mix) * opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_pattern_size_a;\nuniform vec2 u_pattern_size_b;\nuniform vec2 u_pixel_coord_upper;\nuniform vec2 u_pixel_coord_lower;\nuniform float u_scale_a;\nuniform float u_scale_b;\nuniform float u_tile_units_to_pixels;\n\nattribute vec2 a_pos;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\n\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n\n    v_pos_a = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_a * u_pattern_size_a, u_tile_units_to_pixels, a_pos);\n    v_pos_b = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_b * u_pattern_size_b, u_tile_units_to_pixels, a_pos);\n}\n"},fillExtrusion:{fragmentSource:"varying vec4 v_color;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define highp vec4 color\n\nvoid main() {\n    #pragma mapbox: initialize lowp float base\n    #pragma mapbox: initialize lowp float height\n    #pragma mapbox: initialize highp vec4 color\n\n    gl_FragColor = v_color;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec3 u_lightcolor;\nuniform lowp vec3 u_lightpos;\nuniform lowp float u_lightintensity;\n\nattribute vec2 a_pos;\nattribute vec3 a_normal;\nattribute float a_edgedistance;\n\nvarying vec4 v_color;\n\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n\n#pragma mapbox: define highp vec4 color\n\nvoid main() {\n    #pragma mapbox: initialize lowp float base\n    #pragma mapbox: initialize lowp float height\n    #pragma mapbox: initialize highp vec4 color\n\n    base = max(0.0, base);\n    height = max(0.0, height);\n\n    float ed = a_edgedistance; // use each attrib in order to not trip a VAO assert\n    float t = mod(a_normal.x, 2.0);\n\n    gl_Position = u_matrix * vec4(a_pos, t > 0.0 ? height : base, 1);\n\n    // Relative luminance (how dark/bright is the surface color?)\n    float colorvalue = color.r * 0.2126 + color.g * 0.7152 + color.b * 0.0722;\n\n    v_color = vec4(0.0, 0.0, 0.0, 1.0);\n\n    // Add slight ambient lighting so no extrusions are totally black\n    vec4 ambientlight = vec4(0.03, 0.03, 0.03, 1.0);\n    color += ambientlight;\n\n    // Calculate cos(theta), where theta is the angle between surface normal and diffuse light ray\n    float directional = clamp(dot(a_normal / 16384.0, u_lightpos), 0.0, 1.0);\n\n    // Adjust directional so that\n    // the range of values for highlight/shading is narrower\n    // with lower light intensity\n    // and with lighter/brighter surface colors\n    directional = mix((1.0 - u_lightintensity), max((1.0 - colorvalue + u_lightintensity), 1.0), directional);\n\n    // Add gradient along z axis of side surfaces\n    if (a_normal.y != 0.0) {\n        directional *= clamp((t + base) * pow(height / 150.0, 0.5), mix(0.7, 0.98, 1.0 - u_lightintensity), 1.0);\n    }\n\n    // Assign final color based on surface + ambient light color, diffuse light directional, and light color\n    // with lower bounds adjusted to hue of light\n    // so that shading is tinted with the complementary (opposite) color to the light color\n    v_color.r += clamp(color.r * directional * u_lightcolor.r, mix(0.0, 0.3, 1.0 - u_lightcolor.r), 1.0);\n    v_color.g += clamp(color.g * directional * u_lightcolor.g, mix(0.0, 0.3, 1.0 - u_lightcolor.g), 1.0);\n    v_color.b += clamp(color.b * directional * u_lightcolor.b, mix(0.0, 0.3, 1.0 - u_lightcolor.b), 1.0);\n}\n"},fillExtrusionPattern:{fragmentSource:"uniform vec2 u_pattern_tl_a;\nuniform vec2 u_pattern_br_a;\nuniform vec2 u_pattern_tl_b;\nuniform vec2 u_pattern_br_b;\nuniform float u_mix;\n\nuniform sampler2D u_image;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\nvarying vec4 v_lighting;\n\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n\nvoid main() {\n    #pragma mapbox: initialize lowp float base\n    #pragma mapbox: initialize lowp float height\n\n    vec2 imagecoord = mod(v_pos_a, 1.0);\n    vec2 pos = mix(u_pattern_tl_a, u_pattern_br_a, imagecoord);\n    vec4 color1 = texture2D(u_image, pos);\n\n    vec2 imagecoord_b = mod(v_pos_b, 1.0);\n    vec2 pos2 = mix(u_pattern_tl_b, u_pattern_br_b, imagecoord_b);\n    vec4 color2 = texture2D(u_image, pos2);\n\n    vec4 mixedColor = mix(color1, color2, u_mix);\n\n    gl_FragColor = mixedColor * v_lighting;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_pattern_size_a;\nuniform vec2 u_pattern_size_b;\nuniform vec2 u_pixel_coord_upper;\nuniform vec2 u_pixel_coord_lower;\nuniform float u_scale_a;\nuniform float u_scale_b;\nuniform float u_tile_units_to_pixels;\nuniform float u_height_factor;\n\nuniform vec3 u_lightcolor;\nuniform lowp vec3 u_lightpos;\nuniform lowp float u_lightintensity;\n\nattribute vec2 a_pos;\nattribute vec3 a_normal;\nattribute float a_edgedistance;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\nvarying vec4 v_lighting;\nvarying float v_directional;\n\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n\nvoid main() {\n    #pragma mapbox: initialize lowp float base\n    #pragma mapbox: initialize lowp float height\n\n    base = max(0.0, base);\n    height = max(0.0, height);\n\n    float t = mod(a_normal.x, 2.0);\n    float z = t > 0.0 ? height : base;\n\n    gl_Position = u_matrix * vec4(a_pos, z, 1);\n\n    vec2 pos = a_normal.x == 1.0 && a_normal.y == 0.0 && a_normal.z == 16384.0\n        ? a_pos // extrusion top\n        : vec2(a_edgedistance, z * u_height_factor); // extrusion side\n\n    v_pos_a = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_a * u_pattern_size_a, u_tile_units_to_pixels, pos);\n    v_pos_b = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_b * u_pattern_size_b, u_tile_units_to_pixels, pos);\n\n    v_lighting = vec4(0.0, 0.0, 0.0, 1.0);\n    float directional = clamp(dot(a_normal / 16383.0, u_lightpos), 0.0, 1.0);\n    directional = mix((1.0 - u_lightintensity), max((0.5 + u_lightintensity), 1.0), directional);\n\n    if (a_normal.y != 0.0) {\n        directional *= clamp((t + base) * pow(height / 150.0, 0.5), mix(0.7, 0.98, 1.0 - u_lightintensity), 1.0);\n    }\n\n    v_lighting.rgb += clamp(directional * u_lightcolor, mix(vec3(0.0), vec3(0.3), 1.0 - u_lightcolor), vec3(1.0));\n}\n"},extrusionTexture:{fragmentSource:"uniform sampler2D u_image;\nuniform float u_opacity;\nvarying vec2 v_pos;\n\nvoid main() {\n    gl_FragColor = texture2D(u_image, v_pos) * u_opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(0.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_world;\nattribute vec2 a_pos;\nvarying vec2 v_pos;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos * u_world, 0, 1);\n\n    v_pos.x = a_pos.x;\n    v_pos.y = 1.0 - a_pos.y;\n}\n"},line:{fragmentSource:"#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n\nvarying vec2 v_width2;\nvarying vec2 v_normal;\nvarying float v_gamma_scale;\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n\n    // Calculate the distance of the pixel from the line in pixels.\n    float dist = length(v_normal) * v_width2.s;\n\n    // Calculate the antialiasing fade factor. This is either when fading in\n    // the line in case of an offset line (v_width2.t) or when fading out\n    // (v_width2.s)\n    float blur2 = (blur + 1.0 / DEVICE_PIXEL_RATIO) * v_gamma_scale;\n    float alpha = clamp(min(dist - (v_width2.t - blur2), v_width2.s - dist) / blur2, 0.0, 1.0);\n\n    gl_FragColor = color * (alpha * opacity);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"\n\n// the distance over which the line edge fades out.\n// Retina devices need a smaller distance to avoid aliasing.\n#define ANTIALIASING 1.0 / DEVICE_PIXEL_RATIO / 2.0\n\n// floor(127 / 2) == 63.0\n// the maximum allowed miter limit is 2.0 at the moment. the extrude normal is\n// stored in a byte (-128..127). we scale regular normals up to length 63, but\n// there are also \"special\" normals that have a bigger length (of up to 126 in\n// this case).\n// #define scale 63.0\n#define scale 0.015873016\n\nattribute vec2 a_pos;\nattribute vec4 a_data;\n\nuniform mat4 u_matrix;\nuniform mediump float u_ratio;\nuniform mediump float u_width;\nuniform vec2 u_gl_units_to_pixels;\n\nvarying vec2 v_normal;\nvarying vec2 v_width2;\nvarying float v_gamma_scale;\n\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize mediump float gapwidth\n    #pragma mapbox: initialize lowp float offset\n\n    vec2 a_extrude = a_data.xy - 128.0;\n    float a_direction = mod(a_data.z, 4.0) - 1.0;\n\n    // We store the texture normals in the most insignificant bit\n    // transform y so that 0 => -1 and 1 => 1\n    // In the texture normal, x is 0 if the normal points straight up/down and 1 if it's a round cap\n    // y is 1 if the normal points up, and -1 if it points down\n    mediump vec2 normal = mod(a_pos, 2.0);\n    normal.y = sign(normal.y - 0.5);\n    v_normal = normal;\n\n\n    // these transformations used to be applied in the JS and native code bases. \n    // moved them into the shader for clarity and simplicity. \n    gapwidth = gapwidth / 2.0;\n    float width = u_width / 2.0;\n    offset = -1.0 * offset; \n\n    float inset = gapwidth + (gapwidth > 0.0 ? ANTIALIASING : 0.0);\n    float outset = gapwidth + width * (gapwidth > 0.0 ? 2.0 : 1.0) + ANTIALIASING;\n\n    // Scale the extrusion vector down to a normal and then up by the line width\n    // of this vertex.\n    mediump vec2 dist = outset * a_extrude * scale;\n\n    // Calculate the offset when drawing a line that is to the side of the actual line.\n    // We do this by creating a vector that points towards the extrude, but rotate\n    // it when we're drawing round end points (a_direction = -1 or 1) since their\n    // extrude vector points in another direction.\n    mediump float u = 0.5 * a_direction;\n    mediump float t = 1.0 - abs(u);\n    mediump vec2 offset2 = offset * a_extrude * scale * normal.y * mat2(t, -u, u, t);\n\n    // Remove the texture normal bit to get the position\n    vec2 pos = floor(a_pos * 0.5);\n\n    vec4 projected_extrude = u_matrix * vec4(dist / u_ratio, 0.0, 0.0);\n    gl_Position = u_matrix * vec4(pos + offset2 / u_ratio, 0.0, 1.0) + projected_extrude;\n\n    // calculate how much the perspective view squishes or stretches the extrude\n    float extrude_length_without_perspective = length(dist);\n    float extrude_length_with_perspective = length(projected_extrude.xy / gl_Position.w * u_gl_units_to_pixels);\n    v_gamma_scale = extrude_length_without_perspective / extrude_length_with_perspective;\n\n    v_width2 = vec2(outset, inset);\n}\n"},linePattern:{fragmentSource:"uniform vec2 u_pattern_size_a;\nuniform vec2 u_pattern_size_b;\nuniform vec2 u_pattern_tl_a;\nuniform vec2 u_pattern_br_a;\nuniform vec2 u_pattern_tl_b;\nuniform vec2 u_pattern_br_b;\nuniform float u_fade;\n\nuniform sampler2D u_image;\n\nvarying vec2 v_normal;\nvarying vec2 v_width2;\nvarying float v_linesofar;\nvarying float v_gamma_scale;\n\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n\n    // Calculate the distance of the pixel from the line in pixels.\n    float dist = length(v_normal) * v_width2.s;\n\n    // Calculate the antialiasing fade factor. This is either when fading in\n    // the line in case of an offset line (v_width2.t) or when fading out\n    // (v_width2.s)\n    float blur2 = (blur + 1.0 / DEVICE_PIXEL_RATIO) * v_gamma_scale;\n    float alpha = clamp(min(dist - (v_width2.t - blur2), v_width2.s - dist) / blur2, 0.0, 1.0);\n\n    float x_a = mod(v_linesofar / u_pattern_size_a.x, 1.0);\n    float x_b = mod(v_linesofar / u_pattern_size_b.x, 1.0);\n    float y_a = 0.5 + (v_normal.y * v_width2.s / u_pattern_size_a.y);\n    float y_b = 0.5 + (v_normal.y * v_width2.s / u_pattern_size_b.y);\n    vec2 pos_a = mix(u_pattern_tl_a, u_pattern_br_a, vec2(x_a, y_a));\n    vec2 pos_b = mix(u_pattern_tl_b, u_pattern_br_b, vec2(x_b, y_b));\n\n    vec4 color = mix(texture2D(u_image, pos_a), texture2D(u_image, pos_b), u_fade);\n\n    gl_FragColor = color * alpha * opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"// floor(127 / 2) == 63.0\n// the maximum allowed miter limit is 2.0 at the moment. the extrude normal is\n// stored in a byte (-128..127). we scale regular normals up to length 63, but\n// there are also \"special\" normals that have a bigger length (of up to 126 in\n// this case).\n// #define scale 63.0\n#define scale 0.015873016\n\n// We scale the distance before adding it to the buffers so that we can store\n// long distances for long segments. Use this value to unscale the distance.\n#define LINE_DISTANCE_SCALE 2.0\n\n// the distance over which the line edge fades out.\n// Retina devices need a smaller distance to avoid aliasing.\n#define ANTIALIASING 1.0 / DEVICE_PIXEL_RATIO / 2.0\n\nattribute vec2 a_pos;\nattribute vec4 a_data;\n\nuniform mat4 u_matrix;\nuniform mediump float u_ratio;\nuniform mediump float u_width;\nuniform vec2 u_gl_units_to_pixels;\n\nvarying vec2 v_normal;\nvarying vec2 v_width2;\nvarying float v_linesofar;\nvarying float v_gamma_scale;\n\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n\nvoid main() {\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize lowp float offset\n    #pragma mapbox: initialize mediump float gapwidth\n\n    vec2 a_extrude = a_data.xy - 128.0;\n    float a_direction = mod(a_data.z, 4.0) - 1.0;\n    float a_linesofar = (floor(a_data.z / 4.0) + a_data.w * 64.0) * LINE_DISTANCE_SCALE;\n\n    // We store the texture normals in the most insignificant bit\n    // transform y so that 0 => -1 and 1 => 1\n    // In the texture normal, x is 0 if the normal points straight up/down and 1 if it's a round cap\n    // y is 1 if the normal points up, and -1 if it points down\n    mediump vec2 normal = mod(a_pos, 2.0);\n    normal.y = sign(normal.y - 0.5);\n    v_normal = normal;\n\n    // these transformations used to be applied in the JS and native code bases. \n    // moved them into the shader for clarity and simplicity. \n    gapwidth = gapwidth / 2.0;\n    float width = u_width / 2.0;\n    offset = -1.0 * offset; \n\n    float inset = gapwidth + (gapwidth > 0.0 ? ANTIALIASING : 0.0);\n    float outset = gapwidth + width * (gapwidth > 0.0 ? 2.0 : 1.0) + ANTIALIASING;\n\n    // Scale the extrusion vector down to a normal and then up by the line width\n    // of this vertex.\n    mediump vec2 dist = outset * a_extrude * scale;\n\n    // Calculate the offset when drawing a line that is to the side of the actual line.\n    // We do this by creating a vector that points towards the extrude, but rotate\n    // it when we're drawing round end points (a_direction = -1 or 1) since their\n    // extrude vector points in another direction.\n    mediump float u = 0.5 * a_direction;\n    mediump float t = 1.0 - abs(u);\n    mediump vec2 offset2 = offset * a_extrude * scale * normal.y * mat2(t, -u, u, t);\n\n    // Remove the texture normal bit to get the position\n    vec2 pos = floor(a_pos * 0.5);\n\n    vec4 projected_extrude = u_matrix * vec4(dist / u_ratio, 0.0, 0.0);\n    gl_Position = u_matrix * vec4(pos + offset2 / u_ratio, 0.0, 1.0) + projected_extrude;\n\n    // calculate how much the perspective view squishes or stretches the extrude\n    float extrude_length_without_perspective = length(dist);\n    float extrude_length_with_perspective = length(projected_extrude.xy / gl_Position.w * u_gl_units_to_pixels);\n    v_gamma_scale = extrude_length_without_perspective / extrude_length_with_perspective;\n\n    v_linesofar = a_linesofar;\n    v_width2 = vec2(outset, inset);\n}\n"},lineSDF:{fragmentSource:"\nuniform sampler2D u_image;\nuniform float u_sdfgamma;\nuniform float u_mix;\n\nvarying vec2 v_normal;\nvarying vec2 v_width2;\nvarying vec2 v_tex_a;\nvarying vec2 v_tex_b;\nvarying float v_gamma_scale;\n\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n\n    // Calculate the distance of the pixel from the line in pixels.\n    float dist = length(v_normal) * v_width2.s;\n\n    // Calculate the antialiasing fade factor. This is either when fading in\n    // the line in case of an offset line (v_width2.t) or when fading out\n    // (v_width2.s)\n    float blur2 = (blur + 1.0 / DEVICE_PIXEL_RATIO) * v_gamma_scale;\n    float alpha = clamp(min(dist - (v_width2.t - blur2), v_width2.s - dist) / blur2, 0.0, 1.0);\n\n    float sdfdist_a = texture2D(u_image, v_tex_a).a;\n    float sdfdist_b = texture2D(u_image, v_tex_b).a;\n    float sdfdist = mix(sdfdist_a, sdfdist_b, u_mix);\n    alpha *= smoothstep(0.5 - u_sdfgamma, 0.5 + u_sdfgamma, sdfdist);\n\n    gl_FragColor = color * (alpha * opacity);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"// floor(127 / 2) == 63.0\n// the maximum allowed miter limit is 2.0 at the moment. the extrude normal is\n// stored in a byte (-128..127). we scale regular normals up to length 63, but\n// there are also \"special\" normals that have a bigger length (of up to 126 in\n// this case).\n// #define scale 63.0\n#define scale 0.015873016\n\n// We scale the distance before adding it to the buffers so that we can store\n// long distances for long segments. Use this value to unscale the distance.\n#define LINE_DISTANCE_SCALE 2.0\n\n// the distance over which the line edge fades out.\n// Retina devices need a smaller distance to avoid aliasing.\n#define ANTIALIASING 1.0 / DEVICE_PIXEL_RATIO / 2.0\n\nattribute vec2 a_pos;\nattribute vec4 a_data;\n\nuniform mat4 u_matrix;\nuniform mediump float u_ratio;\nuniform vec2 u_patternscale_a;\nuniform float u_tex_y_a;\nuniform vec2 u_patternscale_b;\nuniform float u_tex_y_b;\nuniform vec2 u_gl_units_to_pixels;\nuniform mediump float u_width;\n\nvarying vec2 v_normal;\nvarying vec2 v_width2;\nvarying vec2 v_tex_a;\nvarying vec2 v_tex_b;\nvarying float v_gamma_scale;\n\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize mediump float gapwidth\n    #pragma mapbox: initialize lowp float offset\n\n    vec2 a_extrude = a_data.xy - 128.0;\n    float a_direction = mod(a_data.z, 4.0) - 1.0;\n    float a_linesofar = (floor(a_data.z / 4.0) + a_data.w * 64.0) * LINE_DISTANCE_SCALE;\n\n    // We store the texture normals in the most insignificant bit\n    // transform y so that 0 => -1 and 1 => 1\n    // In the texture normal, x is 0 if the normal points straight up/down and 1 if it's a round cap\n    // y is 1 if the normal points up, and -1 if it points down\n    mediump vec2 normal = mod(a_pos, 2.0);\n    normal.y = sign(normal.y - 0.5);\n    v_normal = normal;\n\n    // these transformations used to be applied in the JS and native code bases. \n    // moved them into the shader for clarity and simplicity. \n    gapwidth = gapwidth / 2.0;\n    float width = u_width / 2.0;\n    offset = -1.0 * offset;\n \n    float inset = gapwidth + (gapwidth > 0.0 ? ANTIALIASING : 0.0);\n    float outset = gapwidth + width * (gapwidth > 0.0 ? 2.0 : 1.0) + ANTIALIASING;\n\n    // Scale the extrusion vector down to a normal and then up by the line width\n    // of this vertex.\n    mediump vec2 dist =outset * a_extrude * scale;\n\n    // Calculate the offset when drawing a line that is to the side of the actual line.\n    // We do this by creating a vector that points towards the extrude, but rotate\n    // it when we're drawing round end points (a_direction = -1 or 1) since their\n    // extrude vector points in another direction.\n    mediump float u = 0.5 * a_direction;\n    mediump float t = 1.0 - abs(u);\n    mediump vec2 offset2 = offset * a_extrude * scale * normal.y * mat2(t, -u, u, t);\n\n    // Remove the texture normal bit to get the position\n    vec2 pos = floor(a_pos * 0.5);\n\n    vec4 projected_extrude = u_matrix * vec4(dist / u_ratio, 0.0, 0.0);\n    gl_Position = u_matrix * vec4(pos + offset2 / u_ratio, 0.0, 1.0) + projected_extrude;\n\n    // calculate how much the perspective view squishes or stretches the extrude\n    float extrude_length_without_perspective = length(dist);\n    float extrude_length_with_perspective = length(projected_extrude.xy / gl_Position.w * u_gl_units_to_pixels);\n    v_gamma_scale = extrude_length_without_perspective / extrude_length_with_perspective;\n\n    v_tex_a = vec2(a_linesofar * u_patternscale_a.x, normal.y * u_patternscale_a.y + u_tex_y_a);\n    v_tex_b = vec2(a_linesofar * u_patternscale_b.x, normal.y * u_patternscale_b.y + u_tex_y_b);\n\n    v_width2 = vec2(outset, inset);\n}\n"},raster:{fragmentSource:"uniform float u_fade_t;\nuniform float u_opacity;\nuniform sampler2D u_image0;\nuniform sampler2D u_image1;\nvarying vec2 v_pos0;\nvarying vec2 v_pos1;\n\nuniform float u_brightness_low;\nuniform float u_brightness_high;\n\nuniform float u_saturation_factor;\nuniform float u_contrast_factor;\nuniform vec3 u_spin_weights;\n\nvoid main() {\n\n    // read and cross-fade colors from the main and parent tiles\n    vec4 color0 = texture2D(u_image0, v_pos0);\n    vec4 color1 = texture2D(u_image1, v_pos1);\n    vec4 color = mix(color0, color1, u_fade_t);\n    color.a *= u_opacity;\n    vec3 rgb = color.rgb;\n\n    // spin\n    rgb = vec3(\n        dot(rgb, u_spin_weights.xyz),\n        dot(rgb, u_spin_weights.zxy),\n        dot(rgb, u_spin_weights.yzx));\n\n    // saturation\n    float average = (color.r + color.g + color.b) / 3.0;\n    rgb += (average - rgb) * u_saturation_factor;\n\n    // contrast\n    rgb = (rgb - 0.5) * u_contrast_factor + 0.5;\n\n    // brightness\n    vec3 u_high_vec = vec3(u_brightness_low, u_brightness_low, u_brightness_low);\n    vec3 u_low_vec = vec3(u_brightness_high, u_brightness_high, u_brightness_high);\n\n    gl_FragColor = vec4(mix(u_high_vec, u_low_vec, rgb) * color.a, color.a);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_tl_parent;\nuniform float u_scale_parent;\nuniform float u_buffer_scale;\n\nattribute vec2 a_pos;\nattribute vec2 a_texture_pos;\n\nvarying vec2 v_pos0;\nvarying vec2 v_pos1;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n    v_pos0 = (((a_texture_pos / 32767.0) - 0.5) / u_buffer_scale ) + 0.5;\n    v_pos1 = (v_pos0 * u_scale_parent) + u_tl_parent;\n}\n"},symbolIcon:{fragmentSource:"uniform sampler2D u_texture;\nuniform sampler2D u_fadetexture;\n\n#pragma mapbox: define lowp float opacity\n\nvarying vec2 v_tex;\nvarying vec2 v_fade_tex;\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    lowp float alpha = texture2D(u_fadetexture, v_fade_tex).a * opacity;\n    gl_FragColor = texture2D(u_texture, v_tex) * alpha;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:'\nattribute vec4 a_pos_offset;\nattribute vec4 a_data;\n\n// icon-size data (see symbol_sdf.vertex.glsl for more)\nattribute vec3 a_size;\nuniform bool u_is_size_zoom_constant;\nuniform bool u_is_size_feature_constant;\nuniform mediump float u_size_t; // used to interpolate between zoom stops when size is a composite function\nuniform mediump float u_size; // used when size is both zoom and feature constant\nuniform mediump float u_layout_size; // used when size is feature constant\n\n#pragma mapbox: define lowp float opacity\n\n// matrix is for the vertex position.\nuniform mat4 u_matrix;\n\nuniform bool u_is_text;\nuniform mediump float u_zoom;\nuniform bool u_rotate_with_map;\nuniform vec2 u_extrude_scale;\n\nuniform vec2 u_texsize;\n\nvarying vec2 v_tex;\nvarying vec2 v_fade_tex;\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    vec2 a_pos = a_pos_offset.xy;\n    vec2 a_offset = a_pos_offset.zw;\n\n    vec2 a_tex = a_data.xy;\n    mediump vec2 label_data = unpack_float(a_data[2]);\n    mediump float a_labelminzoom = label_data[0];\n    mediump vec2 a_zoom = unpack_float(a_data[3]);\n    mediump float a_minzoom = a_zoom[0];\n    mediump float a_maxzoom = a_zoom[1];\n\n    float size;\n    // In order to accommodate placing labels around corners in\n    // symbol-placement: line, each glyph in a label could have multiple\n    // "quad"s only one of which should be shown at a given zoom level.\n    // The min/max zoom assigned to each quad is based on the font size at\n    // the vector tile\'s zoom level, which might be different than at the\n    // currently rendered zoom level if text-size is zoom-dependent.\n    // Thus, we compensate for this difference by calculating an adjustment\n    // based on the scale of rendered text size relative to layout text size.\n    mediump float layoutSize;\n    if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {\n        size = mix(a_size[0], a_size[1], u_size_t) / 10.0;\n        layoutSize = a_size[2] / 10.0;\n    } else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {\n        size = a_size[0] / 10.0;\n        layoutSize = size;\n    } else if (!u_is_size_zoom_constant && u_is_size_feature_constant) {\n        size = u_size;\n        layoutSize = u_layout_size;\n    } else {\n        size = u_size;\n        layoutSize = u_size;\n    }\n\n    float fontScale = u_is_text ? size / 24.0 : size;\n\n    mediump float zoomAdjust = log2(size / layoutSize);\n    mediump float adjustedZoom = (u_zoom - zoomAdjust) * 10.0;\n    // result: z = 0 if a_minzoom <= adjustedZoom < a_maxzoom, and 1 otherwise\n    mediump float z = 2.0 - step(a_minzoom, adjustedZoom) - (1.0 - step(a_maxzoom, adjustedZoom));\n\n    vec2 extrude = fontScale * u_extrude_scale * (a_offset / 64.0);\n    if (u_rotate_with_map) {\n        gl_Position = u_matrix * vec4(a_pos + extrude, 0, 1);\n        gl_Position.z += z * gl_Position.w;\n    } else {\n        gl_Position = u_matrix * vec4(a_pos, 0, 1) + vec4(extrude, 0, 0);\n    }\n\n    v_tex = a_tex / u_texsize;\n    v_fade_tex = vec2(a_labelminzoom / 255.0, 0.0);\n}\n'},symbolSDF:{fragmentSource:"#define SDF_PX 8.0\n#define EDGE_GAMMA 0.105/DEVICE_PIXEL_RATIO\n\nuniform bool u_is_halo;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\n\nuniform sampler2D u_texture;\nuniform sampler2D u_fadetexture;\nuniform highp float u_gamma_scale;\nuniform bool u_is_text;\n\nvarying vec2 v_tex;\nvarying vec2 v_fade_tex;\nvarying float v_gamma_scale;\nvarying float v_size;\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 fill_color\n    #pragma mapbox: initialize highp vec4 halo_color\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize lowp float halo_width\n    #pragma mapbox: initialize lowp float halo_blur\n\n    float fontScale = u_is_text ? v_size / 24.0 : v_size;\n\n    lowp vec4 color = fill_color;\n    highp float gamma = EDGE_GAMMA / (fontScale * u_gamma_scale);\n    lowp float buff = (256.0 - 64.0) / 256.0;\n    if (u_is_halo) {\n        color = halo_color;\n        gamma = (halo_blur * 1.19 / SDF_PX + EDGE_GAMMA) / (fontScale * u_gamma_scale);\n        buff = (6.0 - halo_width / fontScale) / SDF_PX;\n    }\n\n    lowp float dist = texture2D(u_texture, v_tex).a;\n    lowp float fade_alpha = texture2D(u_fadetexture, v_fade_tex).a;\n    highp float gamma_scaled = gamma * v_gamma_scale;\n    highp float alpha = smoothstep(buff - gamma_scaled, buff + gamma_scaled, dist) * fade_alpha;\n\n    gl_FragColor = color * (alpha * opacity);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"const float PI = 3.141592653589793;\n\nattribute vec4 a_pos_offset;\nattribute vec4 a_data;\n\n// contents of a_size vary based on the type of property value\n// used for {text,icon}-size.\n// For constants, a_size is disabled.\n// For source functions, we bind only one value per vertex: the value of {text,icon}-size evaluated for the current feature.\n// For composite functions:\n// [ text-size(lowerZoomStop, feature),\n//   text-size(upperZoomStop, feature),\n//   layoutSize == text-size(layoutZoomLevel, feature) ]\nattribute vec3 a_size;\nuniform bool u_is_size_zoom_constant;\nuniform bool u_is_size_feature_constant;\nuniform mediump float u_size_t; // used to interpolate between zoom stops when size is a composite function\nuniform mediump float u_size; // used when size is both zoom and feature constant\nuniform mediump float u_layout_size; // used when size is feature constant\n\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\n\n// matrix is for the vertex position.\nuniform mat4 u_matrix;\n\nuniform bool u_is_text;\nuniform mediump float u_zoom;\nuniform bool u_rotate_with_map;\nuniform bool u_pitch_with_map;\nuniform mediump float u_pitch;\nuniform mediump float u_bearing;\nuniform mediump float u_aspect_ratio;\nuniform vec2 u_extrude_scale;\n\nuniform vec2 u_texsize;\n\nvarying vec2 v_tex;\nvarying vec2 v_fade_tex;\nvarying float v_gamma_scale;\nvarying float v_size;\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 fill_color\n    #pragma mapbox: initialize highp vec4 halo_color\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize lowp float halo_width\n    #pragma mapbox: initialize lowp float halo_blur\n\n    vec2 a_pos = a_pos_offset.xy;\n    vec2 a_offset = a_pos_offset.zw;\n\n    vec2 a_tex = a_data.xy;\n\n    mediump vec2 label_data = unpack_float(a_data[2]);\n    mediump float a_labelminzoom = label_data[0];\n    mediump float a_labelangle = label_data[1];\n\n    mediump vec2 a_zoom = unpack_float(a_data[3]);\n    mediump float a_minzoom = a_zoom[0];\n    mediump float a_maxzoom = a_zoom[1];\n\n    // In order to accommodate placing labels around corners in\n    // symbol-placement: line, each glyph in a label could have multiple\n    // \"quad\"s only one of which should be shown at a given zoom level.\n    // The min/max zoom assigned to each quad is based on the font size at\n    // the vector tile's zoom level, which might be different than at the\n    // currently rendered zoom level if text-size is zoom-dependent.\n    // Thus, we compensate for this difference by calculating an adjustment\n    // based on the scale of rendered text size relative to layout text size.\n    mediump float layoutSize;\n    if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {\n        v_size = mix(a_size[0], a_size[1], u_size_t) / 10.0;\n        layoutSize = a_size[2] / 10.0;\n    } else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {\n        v_size = a_size[0] / 10.0;\n        layoutSize = v_size;\n    } else if (!u_is_size_zoom_constant && u_is_size_feature_constant) {\n        v_size = u_size;\n        layoutSize = u_layout_size;\n    } else {\n        v_size = u_size;\n        layoutSize = u_size;\n    }\n\n    float fontScale = u_is_text ? v_size / 24.0 : v_size;\n\n    mediump float zoomAdjust = log2(v_size / layoutSize);\n    mediump float adjustedZoom = (u_zoom - zoomAdjust) * 10.0;\n    // result: z = 0 if a_minzoom <= adjustedZoom < a_maxzoom, and 1 otherwise\n    // Used below to move the vertex out of the clip space for when the current\n    // zoom is out of the glyph's zoom range.\n    mediump float z = 2.0 - step(a_minzoom, adjustedZoom) - (1.0 - step(a_maxzoom, adjustedZoom));\n\n    // pitch-alignment: map\n    // rotation-alignment: map | viewport\n    if (u_pitch_with_map) {\n        lowp float angle = u_rotate_with_map ? (a_labelangle / 256.0 * 2.0 * PI) : u_bearing;\n        lowp float asin = sin(angle);\n        lowp float acos = cos(angle);\n        mat2 RotationMatrix = mat2(acos, asin, -1.0 * asin, acos);\n        vec2 offset = RotationMatrix * a_offset;\n        vec2 extrude = fontScale * u_extrude_scale * (offset / 64.0);\n        gl_Position = u_matrix * vec4(a_pos + extrude, 0, 1);\n        gl_Position.z += z * gl_Position.w;\n    // pitch-alignment: viewport\n    // rotation-alignment: map\n    } else if (u_rotate_with_map) {\n        // foreshortening factor to apply on pitched maps\n        // as a label goes from horizontal <=> vertical in angle\n        // it goes from 0% foreshortening to up to around 70% foreshortening\n        lowp float pitchfactor = 1.0 - cos(u_pitch * sin(u_pitch * 0.75));\n\n        lowp float lineangle = a_labelangle / 256.0 * 2.0 * PI;\n\n        // use the lineangle to position points a,b along the line\n        // project the points and calculate the label angle in projected space\n        // this calculation allows labels to be rendered unskewed on pitched maps\n        vec4 a = u_matrix * vec4(a_pos, 0, 1);\n        vec4 b = u_matrix * vec4(a_pos + vec2(cos(lineangle),sin(lineangle)), 0, 1);\n        lowp float angle = atan((b[1]/b[3] - a[1]/a[3])/u_aspect_ratio, b[0]/b[3] - a[0]/a[3]);\n        lowp float asin = sin(angle);\n        lowp float acos = cos(angle);\n        mat2 RotationMatrix = mat2(acos, -1.0 * asin, asin, acos);\n\n        vec2 offset = RotationMatrix * (vec2((1.0-pitchfactor)+(pitchfactor*cos(angle*2.0)), 1.0) * a_offset);\n        vec2 extrude = fontScale * u_extrude_scale * (offset / 64.0);\n        gl_Position = u_matrix * vec4(a_pos, 0, 1) + vec4(extrude, 0, 0);\n        gl_Position.z += z * gl_Position.w;\n    // pitch-alignment: viewport\n    // rotation-alignment: viewport\n    } else {\n        vec2 extrude = fontScale * u_extrude_scale * (a_offset / 64.0);\n        gl_Position = u_matrix * vec4(a_pos, 0, 1) + vec4(extrude, 0, 0);\n    }\n\n    v_gamma_scale = gl_Position.w;\n\n    v_tex = a_tex / u_texsize;\n    v_fade_tex = vec2(a_labelminzoom / 255.0, 0.0);\n}\n"
}}},{path:23}],80:[function(e,t,n){"use strict";var r=function(){this.boundProgram=null,this.boundVertexBuffer=null,this.boundVertexBuffer2=null,this.boundElementBuffer=null,this.boundVertexOffset=null,this.vao=null};r.prototype.bind=function(e,t,n,r,o,i){void 0===e.extVertexArrayObject&&(e.extVertexArrayObject=e.getExtension("OES_vertex_array_object"));var a=!this.vao||this.boundProgram!==t||this.boundVertexBuffer!==n||this.boundVertexBuffer2!==o||this.boundElementBuffer!==r||this.boundVertexOffset!==i;!e.extVertexArrayObject||a?(this.freshBind(e,t,n,r,o,i),this.gl=e):e.extVertexArrayObject.bindVertexArrayOES(this.vao)},r.prototype.freshBind=function(e,t,n,r,o,i){var a,s=t.numAttributes;if(e.extVertexArrayObject)this.vao&&this.destroy(),this.vao=e.extVertexArrayObject.createVertexArrayOES(),e.extVertexArrayObject.bindVertexArrayOES(this.vao),a=0,this.boundProgram=t,this.boundVertexBuffer=n,this.boundVertexBuffer2=o,this.boundElementBuffer=r,this.boundVertexOffset=i;else{a=e.currentNumAttributes||0;for(var u=s;a>u;u++)e.disableVertexAttribArray(u)}n.enableAttributes(e,t),o&&o.enableAttributes(e,t),n.bind(e),n.setVertexAttribPointers(e,t,i),o&&(o.bind(e),o.setVertexAttribPointers(e,t,i)),r&&r.bind(e),e.currentNumAttributes=s},r.prototype.destroy=function(){this.vao&&(this.gl.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)},t.exports=r},{}],81:[function(e,t,n){"use strict";var r=e("../util/util");n.packUint8ToFloat=function(e,t){return e=r.clamp(Math.floor(e),0,255),t=r.clamp(Math.floor(t),0,255),256*e+t}},{"../util/util":215}],82:[function(e,t,n){"use strict";var r=e("./image_source"),o=e("../util/window"),i=function(e){function t(t,n,r,o){e.call(this,t,n,r,o),this.options=n,this.animate=!n.hasOwnProperty("animate")||n.animate}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.load=function(){if(this.canvas=this.canvas||o.document.getElementById(this.options.canvas),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions())return this.fire("error",new Error("Canvas dimensions cannot be less than or equal to zero."));var e;this.play=function(){e=this.map.style.animationLoop.set(1/0),this.map._rerender()},this.pause=function(){this.map.style.animationLoop.cancel(e)},this._finishLoading()},t.prototype.getCanvas=function(){return this.canvas},t.prototype.onAdd=function(e){this.map||(this.map=e,this.load(),this.canvas&&this.animate&&this.play())},t.prototype.prepare=function(){var e=!1;this.canvas.width!==this.width&&(this.width=this.canvas.width,e=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,e=!0),this._hasInvalidDimensions()||this.tile&&this._prepareImage(this.map.painter.gl,this.canvas,e)},t.prototype.serialize=function(){return{type:"canvas",canvas:this.canvas,coordinates:this.coordinates}},t.prototype._hasInvalidDimensions=function(){for(var e=this,t=0,n=[e.canvas.width,e.canvas.height];t<n.length;t+=1){var r=n[t];if(isNaN(r)||0>=r)return!0}return!1},t}(r);t.exports=i},{"../util/window":197,"./image_source":86}],83:[function(e,t,n){"use strict";function r(e){var t=a.document.createElement("a");return t.href=e,t.href}var o=e("../util/evented"),i=e("../util/util"),a=e("../util/window"),s=e("../data/extent"),u=function(e){function t(t,n,r,o){e.call(this),n=n||{},this.id=t,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this.dispatcher=r,this.setEventedParent(o),this._data=n.data,void 0!==n.maxzoom&&(this.maxzoom=n.maxzoom),n.type&&(this.type=n.type);var a=s/this.tileSize;this.workerOptions=i.extend({source:this.id,cluster:n.cluster||!1,geojsonVtOptions:{buffer:(void 0!==n.buffer?n.buffer:128)*a,tolerance:(void 0!==n.tolerance?n.tolerance:.375)*a,extent:s,maxZoom:this.maxzoom},superclusterOptions:{maxZoom:Math.min(n.clusterMaxZoom,this.maxzoom-1)||this.maxzoom-1,extent:s,radius:(n.clusterRadius||50)*a,log:!1}},n.workerOptions)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.load=function(){var e=this;this.fire("dataloading",{dataType:"source"}),this._updateWorkerData(function(t){return t?void e.fire("error",{error:t}):void e.fire("data",{dataType:"source",sourceDataType:"metadata"})})},t.prototype.onAdd=function(e){this.load(),this.map=e},t.prototype.setData=function(e){var t=this;return this._data=e,this.fire("dataloading",{dataType:"source"}),this._updateWorkerData(function(e){return e?t.fire("error",{error:e}):void t.fire("data",{dataType:"source",sourceDataType:"content"})}),this},t.prototype._updateWorkerData=function(e){var t=this,n=i.extend({},this.workerOptions),o=this._data;"string"==typeof o?n.url=r(o):n.data=JSON.stringify(o),this.workerID=this.dispatcher.send(this.type+".loadData",n,function(n){t._loaded=!0,e(n)})},t.prototype.loadTile=function(e,t){var n=this,r=e.coord.z>this.maxzoom?Math.pow(2,e.coord.z-this.maxzoom):1,o={type:this.type,uid:e.uid,coord:e.coord,zoom:e.coord.z,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,overscaling:r,angle:this.map.transform.angle,pitch:this.map.transform.pitch,showCollisionBoxes:this.map.showCollisionBoxes};e.workerID=this.dispatcher.send("loadTile",o,function(r,o){return e.unloadVectorData(),e.aborted?void 0:r?t(r):(e.loadVectorData(o,n.map.painter),e.redoWhenDone&&(e.redoWhenDone=!1,e.redoPlacement(n)),t(null))},this.workerID)},t.prototype.abortTile=function(e){e.aborted=!0},t.prototype.unloadTile=function(e){e.unloadVectorData(),this.dispatcher.send("removeTile",{uid:e.uid,type:this.type,source:this.id},function(){},e.workerID)},t.prototype.onRemove=function(){this.dispatcher.broadcast("removeSource",{type:this.type,source:this.id},function(){})},t.prototype.serialize=function(){return{type:this.type,data:this._data}},t}(o);t.exports=u},{"../data/extent":54,"../util/evented":203,"../util/util":215,"../util/window":197}],84:[function(e,t,n){"use strict";var r=e("../util/ajax"),o=e("geojson-rewind"),i=e("./geojson_wrapper"),a=e("vt-pbf"),s=e("supercluster"),u=e("geojson-vt"),l=e("./vector_tile_worker_source"),c=function(e){function t(t,n,r){e.call(this,t,n),r&&(this.loadGeoJSON=r),this._geoJSONIndexes={}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.loadVectorData=function(e,t){var n=e.source,r=e.coord;if(!this._geoJSONIndexes[n])return t(null,null);var o=this._geoJSONIndexes[n].getTile(Math.min(r.z,e.maxZoom),r.x,r.y);if(!o)return t(null,null);var s=new i(o.features);s.name="_geojsonTileLayer";var u=a({layers:{_geojsonTileLayer:s}});0===u.byteOffset&&u.byteLength===u.buffer.byteLength||(u=new Uint8Array(u)),s.rawData=u.buffer,t(null,s)},t.prototype.loadData=function(e,t){var n=function(n,r){var i=this;return n?t(n):"object"!=typeof r?t(new Error("Input data is not a valid GeoJSON object.")):(o(r,!0),void this._indexData(r,e,function(n,r){return n?t(n):(i._geoJSONIndexes[e.source]=r,void t(null))}))}.bind(this);this.loadGeoJSON(e,n)},t.prototype.loadGeoJSON=function(e,t){if(e.url)r.getJSON(e.url,t);else{if("string"!=typeof e.data)return t(new Error("Input data is not a valid GeoJSON object."));try{return t(null,JSON.parse(e.data))}catch(e){return t(new Error("Input data is not a valid GeoJSON object."))}}},t.prototype.removeSource=function(e){this._geoJSONIndexes[e.source]&&delete this._geoJSONIndexes[e.source]},t.prototype._indexData=function(e,t,n){try{t.cluster?n(null,s(t.superclusterOptions).load(e.features)):n(null,u(e,t.geojsonVtOptions))}catch(e){return n(e)}},t}(l);t.exports=c},{"../util/ajax":194,"./geojson_wrapper":85,"./vector_tile_worker_source":98,"geojson-rewind":7,"geojson-vt":11,supercluster:29,"vt-pbf":38}],85:[function(e,t,n){"use strict";var r=e("point-geometry"),o=e("vector-tile").VectorTileFeature,i=e("../data/extent"),a=function(e){var t=this;if(this.type=e.type,1===e.type){this.rawGeometry=[];for(var n=0;n<e.geometry.length;n++)t.rawGeometry.push([e.geometry[n]])}else this.rawGeometry=e.geometry;this.properties=e.tags,"id"in e&&!isNaN(e.id)&&(this.id=parseInt(e.id,10)),this.extent=i};a.prototype.loadGeometry=function(){var e=this,t=this.rawGeometry;this.geometry=[];for(var n=0;n<t.length;n++){for(var o=t[n],i=[],a=0;a<o.length;a++)i.push(new r(o[a][0],o[a][1]));e.geometry.push(i)}return this.geometry},a.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var e=this.geometry,t=1/0,n=-(1/0),r=1/0,o=-(1/0),i=0;i<e.length;i++)for(var a=e[i],s=0;s<a.length;s++){var u=a[s];t=Math.min(t,u.x),n=Math.max(n,u.x),r=Math.min(r,u.y),o=Math.max(o,u.y)}return[t,r,n,o]},a.prototype.toGeoJSON=function(){o.prototype.toGeoJSON.call(this)};var s=function(e){this.features=e,this.length=e.length,this.extent=i};s.prototype.feature=function(e){return new a(this.features[e])},t.exports=s},{"../data/extent":54,"point-geometry":26,"vector-tile":34}],86:[function(e,t,n){"use strict";var r=e("../util/util"),o=e("../util/window"),i=e("./tile_coord"),a=e("../geo/lng_lat"),s=e("point-geometry"),u=e("../util/evented"),l=e("../util/ajax"),c=e("../data/extent"),p=e("../data/raster_bounds_array"),f=e("../data/buffer"),h=e("../render/vertex_array_object"),d=function(e){function t(t,n,r,o){e.call(this),this.id=t,this.dispatcher=r,this.coordinates=n.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.setEventedParent(o),this.options=n}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.load=function(){var e=this;this.fire("dataloading",{dataType:"source"}),this.url=this.options.url,l.getImage(this.options.url,function(t,n){return t?e.fire("error",{error:t}):(e.image=n,void e._finishLoading())})},t.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire("data",{dataType:"source",sourceDataType:"metadata"}))},t.prototype.onAdd=function(e){this.load(),this.map=e,this.image&&this.setCoordinates(this.coordinates)},t.prototype.setCoordinates=function(e){this.coordinates=e;var t=this.map,n=e.map(function(e){return t.transform.locationCoordinate(a.convert(e)).zoomTo(0)}),o=this.centerCoord=r.getCoordinatesCenter(n);return o.column=Math.floor(o.column),o.row=Math.floor(o.row),this.coord=new i(o.zoom,o.column,o.row),this.minzoom=this.maxzoom=o.zoom,this._tileCoords=n.map(function(e){var t=e.zoomTo(o.zoom);return new s(Math.round((t.column-o.column)*c),Math.round((t.row-o.row)*c))}),this.fire("data",{dataType:"source",sourceDataType:"content"}),this},t.prototype._setTile=function(e){this.tile=e;var t=32767,n=new p;n.emplaceBack(this._tileCoords[0].x,this._tileCoords[0].y,0,0),n.emplaceBack(this._tileCoords[1].x,this._tileCoords[1].y,t,0),n.emplaceBack(this._tileCoords[3].x,this._tileCoords[3].y,0,t),n.emplaceBack(this._tileCoords[2].x,this._tileCoords[2].y,t,t),this.tile.buckets={},this.tile.boundsBuffer=f.fromStructArray(n,f.BufferType.VERTEX),this.tile.boundsVAO=new h},t.prototype.prepare=function(){this.tile&&this.image&&this._prepareImage(this.map.painter.gl,this.image)},t.prototype._prepareImage=function(e,t,n){"loaded"!==this.tile.state?(this.tile.state="loaded",this.tile.texture=e.createTexture(),e.bindTexture(e.TEXTURE_2D,this.tile.texture),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,t)):n?e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,t):(t instanceof o.HTMLVideoElement||t instanceof o.ImageData||t instanceof o.HTMLCanvasElement)&&(e.bindTexture(e.TEXTURE_2D,this.tile.texture),e.texSubImage2D(e.TEXTURE_2D,0,0,0,e.RGBA,e.UNSIGNED_BYTE,t))},t.prototype.loadTile=function(e,t){this.coord&&this.coord.toString()===e.coord.toString()?(this._setTile(e),t(null)):(e.state="errored",t(null))},t.prototype.serialize=function(){return{type:"image",urls:this.url,coordinates:this.coordinates}},t}(u);t.exports=d},{"../data/buffer":51,"../data/extent":54,"../data/raster_bounds_array":59,"../geo/lng_lat":62,"../render/vertex_array_object":80,"../util/ajax":194,"../util/evented":203,"../util/util":215,"../util/window":197,"./tile_coord":96,"point-geometry":26}],87:[function(e,t,n){"use strict";var r=e("../util/util"),o=e("../util/ajax"),i=e("../util/browser"),a=e("../util/mapbox").normalizeSourceURL;t.exports=function(e,t){var n=function(e,n){if(e)return t(e);var o=r.pick(n,["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds"]);n.vector_layers&&(o.vectorLayers=n.vector_layers,o.vectorLayerIds=o.vectorLayers.map(function(e){return e.id})),t(null,o)};e.url?o.getJSON(a(e.url),n):i.frame(n.bind(null,null,e))}},{"../util/ajax":194,"../util/browser":195,"../util/mapbox":210,"../util/util":215}],88:[function(e,t,n){"use strict";var r=e("../data/extent");t.exports=function(e,t,n){return t*(r/(e.tileSize*Math.pow(2,n-e.coord.z)))}},{"../data/extent":54}],89:[function(e,t,n){"use strict";function r(e,t){var n=e.coord,r=t.coord;return n.z-r.z||n.y-r.y||n.w-r.w||n.x-r.x}function o(e){for(var t=e[0]||{},n=1;n<e.length;n++){var r=e[n];for(var o in r){var i=r[o],a=t[o];if(void 0===a)a=t[o]=i;else for(var s=0;s<i.length;s++)a.push(i[s])}}return t}var i=e("./tile_coord");n.rendered=function(e,t,n,i,a,s){var u=e.tilesIn(n);u.sort(r);for(var l=[],c=0;c<u.length;c++){var p=u[c];p.tile.featureIndex&&l.push(p.tile.featureIndex.query({queryGeometry:p.queryGeometry,scale:p.scale,tileSize:p.tile.tileSize,bearing:s,params:i},t))}return o(l)},n.source=function(e,t){for(var n=e.getRenderableIds().map(function(t){return e.getTileByID(t)}),r=[],o={},a=0;a<n.length;a++){var s=n[a],u=new i(Math.min(s.sourceMaxZoom,s.coord.z),s.coord.x,s.coord.y,0).id;o[u]||(o[u]=!0,s.querySourceFeatures(r,t))}return r}},{"./tile_coord":96}],90:[function(e,t,n){"use strict";var r=e("../util/util"),o=e("../util/ajax"),i=e("../util/evented"),a=e("./load_tilejson"),s=e("../util/mapbox").normalizeTileURL,u=e("./tile_bounds"),l=function(e){function t(t,n,o,i){e.call(this),this.id=t,this.dispatcher=o,this.setEventedParent(i),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this.options=n,r.extend(this,r.pick(n,["url","scheme","tileSize"]))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.load=function(){var e=this;this.fire("dataloading",{dataType:"source"}),a(this.options,function(t,n){return t?e.fire("error",t):(r.extend(e,n),e.setBounds(n.bounds),e.fire("data",{dataType:"source",sourceDataType:"metadata"}),void e.fire("data",{dataType:"source",sourceDataType:"content"}))})},t.prototype.onAdd=function(e){this.load(),this.map=e},t.prototype.setBounds=function(e){this.bounds=e,e&&(this.tileBounds=new u(e,this.minzoom,this.maxzoom))},t.prototype.serialize=function(){return{type:"raster",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds}},t.prototype.hasTile=function(e){return!this.tileBounds||this.tileBounds.contains(e,this.maxzoom)},t.prototype.loadTile=function(e,t){function n(n,r){if(delete e.request,e.aborted)return this.state="unloaded",t(null);if(n)return this.state="errored",t(n);this.map._refreshExpiredTiles&&e.setExpiryData(r),delete r.cacheControl,delete r.expires;var o=this.map.painter.gl;e.texture=this.map.painter.getTileTexture(r.width),e.texture?(o.bindTexture(o.TEXTURE_2D,e.texture),o.texSubImage2D(o.TEXTURE_2D,0,0,0,o.RGBA,o.UNSIGNED_BYTE,r)):(e.texture=o.createTexture(),o.bindTexture(o.TEXTURE_2D,e.texture),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MIN_FILTER,o.LINEAR_MIPMAP_NEAREST),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MAG_FILTER,o.LINEAR),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_S,o.CLAMP_TO_EDGE),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_T,o.CLAMP_TO_EDGE),this.map.painter.extTextureFilterAnisotropic&&o.texParameterf(o.TEXTURE_2D,this.map.painter.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,this.map.painter.extTextureFilterAnisotropicMax),o.texImage2D(o.TEXTURE_2D,0,o.RGBA,o.RGBA,o.UNSIGNED_BYTE,r),e.texture.size=r.width),o.generateMipmap(o.TEXTURE_2D),e.state="loaded",t(null)}var r=s(e.coord.url(this.tiles,null,this.scheme),this.url,this.tileSize);e.request=o.getImage(r,n.bind(this))},t.prototype.abortTile=function(e){e.request&&(e.request.abort(),delete e.request)},t.prototype.unloadTile=function(e){e.texture&&this.map.painter.saveTileTexture(e.texture)},t}(i);t.exports=l},{"../util/ajax":194,"../util/evented":203,"../util/mapbox":210,"../util/util":215,"./load_tilejson":87,"./tile_bounds":95}],91:[function(e,t,n){"use strict";var r=e("../util/ajax"),o=e("../util/evented"),i=e("../util/window"),a=!1,s=null;t.exports.evented=new o,t.exports.registerForPluginAvailability=function(e){return s?e(s,t.exports.errorCallback):t.exports.evented.once("pluginAvailable",e),e},t.exports.setRTLTextPlugin=function(e,n){if(a)throw new Error("setRTLTextPlugin cannot be called multiple times.");a=!0,t.exports.errorCallback=n,r.getArrayBuffer(e,function(e,r){e?n(e):(s=i.URL.createObjectURL(new i.Blob([r.data]),{type:"text/javascript"}),t.exports.evented.fire("pluginAvailable",{pluginBlobURL:s,errorCallback:n}))})}},{"../util/ajax":194,"../util/evented":203,"../util/window":197}],92:[function(e,t,n){"use strict";var r=e("../util/util"),o={vector:e("../source/vector_tile_source"),raster:e("../source/raster_tile_source"),geojson:e("../source/geojson_source"),video:e("../source/video_source"),image:e("../source/image_source"),canvas:e("../source/canvas_source")};n.create=function(e,t,n,i){if(t=new o[t.type](e,t,n,i),t.id!==e)throw new Error("Expected Source id to be "+e+" instead of "+t.id);return r.bindAll(["load","abort","unload","serialize","prepare"],t),t},n.getType=function(e){return o[e]},n.setType=function(e,t){o[e]=t}},{"../source/canvas_source":82,"../source/geojson_source":83,"../source/image_source":86,"../source/raster_tile_source":90,"../source/vector_tile_source":97,"../source/video_source":99,"../util/util":215}],93:[function(e,t,n){"use strict";function r(e,t,n){var r=n.zoomTo(Math.min(e.z,t));return{x:(r.column-(e.x+e.w*Math.pow(2,e.z)))*h,y:(r.row-e.y)*h}}function o(e,t){return e%32-t%32}function i(e){return"raster"===e||"image"===e||"video"===e}var a=e("./source"),s=e("./tile"),u=e("../util/evented"),l=e("./tile_coord"),c=e("../util/lru_cache"),p=e("../geo/coordinate"),f=e("../util/util"),h=e("../data/extent"),d=function(e){function t(t,n,r){e.call(this),this.id=t,this.dispatcher=r,this.on("data",function(e){"source"===e.dataType&&"metadata"===e.sourceDataType&&(this._sourceLoaded=!0),this._sourceLoaded&&"source"===e.dataType&&"content"===e.sourceDataType&&(this.reload(),this.transform&&this.update(this.transform))}),this.on("error",function(){this._sourceErrored=!0}),this._source=a.create(t,n,r,this),this._tiles={},this._cache=new c(0,this.unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._isIdRenderable=this._isIdRenderable.bind(this)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.onAdd=function(e){this.map=e,this._source&&this._source.onAdd&&this._source.onAdd(e)},t.prototype.onRemove=function(e){this._source&&this._source.onRemove&&this._source.onRemove(e)},t.prototype.loaded=function(){var e=this;if(this._sourceErrored)return!0;if(!this._sourceLoaded)return!1;for(var t in e._tiles){var n=e._tiles[t];if("loaded"!==n.state&&"errored"!==n.state)return!1}return!0},t.prototype.getSource=function(){return this._source},t.prototype.loadTile=function(e,t){return this._source.loadTile(e,t)},t.prototype.unloadTile=function(e){return this._source.unloadTile?this._source.unloadTile(e):void 0},t.prototype.abortTile=function(e){return this._source.abortTile?this._source.abortTile(e):void 0},t.prototype.serialize=function(){return this._source.serialize()},t.prototype.prepare=function(){return this._sourceLoaded&&this._source.prepare?this._source.prepare():void 0},t.prototype.getIds=function(){return Object.keys(this._tiles).map(Number).sort(o)},t.prototype.getRenderableIds=function(){return this.getIds().filter(this._isIdRenderable)},t.prototype._isIdRenderable=function(e){return this._tiles[e].hasData()&&!this._coveredTiles[e]},t.prototype.reload=function(){var e=this;this._cache.reset();for(var t in e._tiles)e.reloadTile(t,"reloading")},t.prototype.reloadTile=function(e,t){var n=this._tiles[e];n&&("loading"!==n.state&&(n.state=t),this.loadTile(n,this._tileLoaded.bind(this,n,e,t)))},t.prototype._tileLoaded=function(e,t,n,r){return r?(e.state="errored",void(404!==r.status&&this._source.fire("error",{tile:e,error:r}))):(e.sourceCache=this,e.timeAdded=(new Date).getTime(),"expired"===n&&(e.refreshedUponExpiration=!0),this._setTileReloadTimer(t,e),this._source.fire("data",{dataType:"source",tile:e,coord:e.coord}),void(this.map&&(this.map.painter.tileExtentVAO.vao=null)))},t.prototype.getTile=function(e){return this.getTileByID(e.id)},t.prototype.getTileByID=function(e){return this._tiles[e]},t.prototype.getZoom=function(e){return e.zoom+e.scaleZoom(e.tileSize/this._source.tileSize)},t.prototype.findLoadedChildren=function(e,t,n){var r=this,o=!1;for(var i in r._tiles){var a=r._tiles[i];if(!(n[i]||!a.hasData()||a.coord.z<=e.z||a.coord.z>t)){var s=Math.pow(2,Math.min(a.coord.z,r._source.maxzoom)-Math.min(e.z,r._source.maxzoom));if(Math.floor(a.coord.x/s)===e.x&&Math.floor(a.coord.y/s)===e.y)for(n[i]=!0,o=!0;a&&a.coord.z-1>e.z;){var u=a.coord.parent(r._source.maxzoom).id;a=r._tiles[u],a&&a.hasData()&&(delete n[i],n[u]=!0)}}}return o},t.prototype.findLoadedParent=function(e,t,n){for(var r=this,o=e.z-1;o>=t;o--){e=e.parent(r._source.maxzoom);var i=r._tiles[e.id];if(i&&i.hasData())return n[e.id]=!0,i;if(r._cache.has(e.id))return n[e.id]=!0,r._cache.getWithoutRemoving(e.id)}},t.prototype.updateCacheSize=function(e){var t=Math.ceil(e.width/e.tileSize)+1,n=Math.ceil(e.height/e.tileSize)+1,r=t*n,o=5;this._cache.setMaxSize(Math.floor(r*o))},t.prototype.update=function(e){var n=this;if(this.transform=e,this._sourceLoaded){var r,o,a,s;this.updateCacheSize(e);var u=(this._source.roundZoom?Math.round:Math.floor)(this.getZoom(e)),c=Math.max(u-t.maxOverzooming,this._source.minzoom),p=Math.max(u+t.maxUnderzooming,this._source.minzoom),h={};this._coveredTiles={};var d;for(this.used?this._source.coord?d=e.getVisibleWrappedCoordinates(this._source.coord):(d=e.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(d=d.filter(function(e){return n._source.hasTile(e)}))):d=[],r=0;r<d.length;r++)o=d[r],a=n.addTile(o),h[o.id]=!0,a.hasData()||n.findLoadedChildren(o,p,h)||(s=n.findLoadedParent(o,c,h),s&&n.addTile(s.coord));var m={};if(i(this._source.type))for(var y=Object.keys(h),g=0;g<y.length;g++){var v=y[g];o=l.fromID(v),a=n._tiles[v],a&&("undefined"==typeof a.fadeEndTime||a.fadeEndTime>=Date.now())&&(n.findLoadedChildren(o,p,h)&&(h[v]=!0),s=n.findLoadedParent(o,c,m),s&&n.addTile(s.coord))}var b;for(b in m)h[b]||(n._coveredTiles[b]=!0);for(b in m)h[b]=!0;var _=f.keysDifference(this._tiles,h);for(r=0;r<_.length;r++)n.removeTile(+_[r])}},t.prototype.addTile=function(e){var t=this._tiles[e.id];if(t)return t;var n=e.wrapped();t=this._tiles[n.id],t||(t=this._cache.get(n.id),t&&(t.redoPlacement(this._source),this._cacheTimers[n.id]&&(clearTimeout(this._cacheTimers[n.id]),this._cacheTimers[n.id]=void 0,this._setTileReloadTimer(n.id,t))));var r=Boolean(t);if(!r){var o=e.z,i=o>this._source.maxzoom?Math.pow(2,o-this._source.maxzoom):1;t=new s(n,this._source.tileSize*i,this._source.maxzoom),this.loadTile(t,this._tileLoaded.bind(this,t,e.id,t.state))}return t.uses++,this._tiles[e.id]=t,r||this._source.fire("dataloading",{tile:t,coord:t.coord,dataType:"source"}),t},t.prototype._setTileReloadTimer=function(e,t){var n=this,r=t.getExpiryTimeout();r&&(this._timers[e]=setTimeout(function(){n.reloadTile(e,"expired"),n._timers[e]=void 0},r))},t.prototype._setCacheInvalidationTimer=function(e,t){var n=this,r=t.getExpiryTimeout();r&&(this._cacheTimers[e]=setTimeout(function(){n._cache.remove(e),n._cacheTimers[e]=void 0},r))},t.prototype.removeTile=function(e){var t=this._tiles[e];if(t&&(t.uses--,delete this._tiles[e],this._timers[e]&&(clearTimeout(this._timers[e]),this._timers[e]=void 0),!(t.uses>0)))if(t.hasData()){var n=t.coord.wrapped().id;this._cache.add(n,t),this._setCacheInvalidationTimer(n,t)}else t.aborted=!0,this.abortTile(t),this.unloadTile(t)},t.prototype.clearTiles=function(){var e=this;for(var t in e._tiles)e.removeTile(t);this._cache.reset()},t.prototype.tilesIn=function(e){for(var t=this,n={},o=this.getIds(),i=1/0,a=1/0,s=-(1/0),u=-(1/0),c=e[0].zoom,f=0;f<e.length;f++){var d=e[f];i=Math.min(i,d.column),a=Math.min(a,d.row),s=Math.max(s,d.column),u=Math.max(u,d.row)}for(var m=0;m<o.length;m++){var y=t._tiles[o[m]],g=l.fromID(o[m]),v=[r(g,y.sourceMaxZoom,new p(i,a,c)),r(g,y.sourceMaxZoom,new p(s,u,c))];if(v[0].x<h&&v[0].y<h&&v[1].x>=0&&v[1].y>=0){for(var b=[],_=0;_<e.length;_++)b.push(r(g,y.sourceMaxZoom,e[_]));var w=n[y.coord.id];void 0===w&&(w=n[y.coord.id]={tile:y,coord:g,queryGeometry:[],scale:Math.pow(2,t.transform.zoom-y.coord.z)}),w.queryGeometry.push(b)}}var x=[];for(var k in n)x.push(n[k]);return x},t.prototype.redoPlacement=function(){for(var e=this,t=this.getIds(),n=0;n<t.length;n++){var r=e.getTileByID(t[n]);r.redoPlacement(e._source)}},t.prototype.getVisibleCoordinates=function(){for(var e=this,t=this.getRenderableIds().map(l.fromID),n=0,r=t;n<r.length;n+=1){var o=r[n];o.posMatrix=e.transform.calculatePosMatrix(o,e._source.maxzoom)}return t},t}(u);d.maxOverzooming=10,d.maxUnderzooming=3,t.exports=d},{"../data/extent":54,"../geo/coordinate":61,"../util/evented":203,"../util/lru_cache":209,"../util/util":215,"./source":92,"./tile":94,"./tile_coord":96}],94:[function(e,t,n){"use strict";var r=e("../util/util"),o=e("../data/bucket"),i=e("../data/feature_index"),a=e("vector-tile"),s=e("pbf"),u=e("../util/vectortile_to_geojson"),l=e("../style-spec/feature_filter"),c=e("../symbol/collision_tile"),p=e("../symbol/collision_box"),f=3e4,h=function(e,t,n){this.coord=e,this.uid=r.uniqueId(),this.uses=0,this.tileSize=t,this.sourceMaxZoom=n,this.buckets={},this.expirationTime=null,this.expiredRequestCount=0,this.state="loading"};h.prototype.registerFadeDuration=function(e,t){var n=t+this.timeAdded;n<Date.now()||this.fadeEndTime&&n<this.fadeEndTime||(this.fadeEndTime=n,e.set(this.fadeEndTime-Date.now()))},h.prototype.loadVectorData=function(e,t){this.hasData()&&this.unloadVectorData(),this.state="loaded",e&&(e.rawTileData&&(this.rawTileData=e.rawTileData),this.collisionBoxArray=new p(e.collisionBoxArray),this.collisionTile=new c(e.collisionTile,this.collisionBoxArray),this.featureIndex=new i(e.featureIndex,this.rawTileData,this.collisionTile),this.buckets=o.deserialize(e.buckets,t.style))},h.prototype.reloadSymbolData=function(e,t){var n=this;if("unloaded"!==this.state){this.collisionTile=new c(e.collisionTile,this.collisionBoxArray),this.featureIndex.setCollisionTile(this.collisionTile);for(var i in n.buckets){var a=n.buckets[i];"symbol"===a.layers[0].type&&(a.destroy(),delete n.buckets[i])}r.extend(this.buckets,o.deserialize(e.buckets,t))}},h.prototype.unloadVectorData=function(){var e=this;for(var t in e.buckets)e.buckets[t].destroy();this.buckets={},this.collisionBoxArray=null,this.collisionTile=null,this.featureIndex=null,this.state="unloaded"},h.prototype.redoPlacement=function(e){var t=this;return"vector"===e.type||"geojson"===e.type?"loaded"!==this.state?void(this.redoWhenDone=!0):void(this.collisionTile&&(this.state="reloading",e.dispatcher.send("redoPlacement",{type:e.type,uid:this.uid,source:e.id,angle:e.map.transform.angle,pitch:e.map.transform.pitch,showCollisionBoxes:e.map.showCollisionBoxes},function(n,r){t.reloadSymbolData(r,e.map.style),e.map&&(e.map.painter.tileExtentVAO.vao=null),t.state="loaded",t.redoWhenDone&&(t.redoWhenDone=!1,t.redoPlacement(e))},this.workerID))):void 0},h.prototype.getBucket=function(e){return this.buckets[e.id]},h.prototype.querySourceFeatures=function(e,t){var n=this;if(this.rawTileData){this.vtLayers||(this.vtLayers=new a.VectorTile(new s(this.rawTileData)).layers);var r=this.vtLayers._geojsonTileLayer||this.vtLayers[t.sourceLayer];if(r)for(var o=l(t&&t.filter),i={z:this.coord.z,x:this.coord.x,y:this.coord.y},c=0;c<r.length;c++){var p=r.feature(c);if(o(p)){var f=new u(p,n.coord.z,n.coord.x,n.coord.y);f.tile=i,e.push(f)}}}},h.prototype.hasData=function(){return"loaded"===this.state||"reloading"===this.state||"expired"===this.state},h.prototype.setExpiryData=function(e){var t=this.expirationTime;if(e.cacheControl){var n=r.parseCacheControl(e.cacheControl);n["max-age"]&&(this.expirationTime=Date.now()+1e3*n["max-age"])}else e.expires&&(this.expirationTime=new Date(e.expires).getTime());if(this.expirationTime){var o=Date.now(),i=!1;if(this.expirationTime>o)i=!1;else if(t)if(this.expirationTime<t)i=!0;else{var a=this.expirationTime-t;a?this.expirationTime=o+Math.max(a,f):i=!0}else i=!0;i?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}},h.prototype.getExpiryTimeout=function(){return this.expirationTime?this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-(new Date).getTime(),Math.pow(2,31)-1):void 0},t.exports=h},{"../data/bucket":45,"../data/feature_index":55,"../style-spec/feature_filter":105,"../symbol/collision_box":163,"../symbol/collision_tile":165,"../util/util":215,"../util/vectortile_to_geojson":216,pbf:25,"vector-tile":34}],95:[function(e,t,n){"use strict";var r=e("../geo/lng_lat_bounds"),o=e("../util/util").clamp,i=function(e,t,n){this.bounds=r.convert(this.validateBounds(e)),this.minzoom=t||0,this.maxzoom=n||24};i.prototype.validateBounds=function(e){return Array.isArray(e)&&4===e.length?[Math.max(-180,e[0]),Math.max(-90,e[1]),Math.min(180,e[2]),Math.min(90,e[3])]:[-180,-90,180,90]},i.prototype.contains=function(e,t){var n=t?Math.min(e.z,t):e.z,r={minX:Math.floor(this.lngX(this.bounds.getWest(),n)),minY:Math.floor(this.latY(this.bounds.getNorth(),n)),maxX:Math.ceil(this.lngX(this.bounds.getEast(),n)),maxY:Math.ceil(this.latY(this.bounds.getSouth(),n))},o=e.x>=r.minX&&e.x<r.maxX&&e.y>=r.minY&&e.y<r.maxY;return o},i.prototype.lngX=function(e,t){return(e+180)*(Math.pow(2,t)/360)},i.prototype.latY=function(e,t){var n=o(Math.sin(Math.PI/180*e),-.9999,.9999),r=Math.pow(2,t)/(2*Math.PI);return Math.pow(2,t-1)+.5*Math.log((1+n)/(1-n))*-r},t.exports=i},{"../geo/lng_lat_bounds":63,"../util/util":215}],96:[function(e,t,n){"use strict";function r(e,t){if(e.row>t.row){var n=e;e=t,t=n}return{x0:e.column,y0:e.row,x1:t.column,y1:t.row,dx:t.column-e.column,dy:t.row-e.row}}function o(e,t,n,r,o){var i=Math.max(n,Math.floor(t.y0)),a=Math.min(r,Math.ceil(t.y1));if(e.x0===t.x0&&e.y0===t.y0?e.x0+t.dy/e.dy*e.dx<t.x1:e.x1-t.dy/e.dy*e.dx<t.x0){var s=e;e=t,t=s}for(var u=e.dx/e.dy,l=t.dx/t.dy,c=e.dx>0,p=t.dx<0,f=i;a>f;f++){var h=u*Math.max(0,Math.min(e.dy,f+c-e.y0))+e.x0,d=l*Math.max(0,Math.min(t.dy,f+p-t.y0))+t.x0;o(Math.floor(d),Math.ceil(h),f)}}function i(e,t,n,i,a,s){var u,l=r(e,t),c=r(t,n),p=r(n,e);l.dy>c.dy&&(u=l,l=c,c=u),l.dy>p.dy&&(u=l,l=p,p=u),c.dy>p.dy&&(u=c,c=p,p=u),l.dy&&o(p,l,i,a,s),c.dy&&o(p,c,i,a,s)}function a(e,t,n){for(var r,o="",i=e;i>0;i--)r=1<<i-1,o+=(t&r?1:0)+(n&r?2:0);return o}var s=e("@mapbox/whoots-js"),u=e("../geo/coordinate"),l=function(e,t,n,r){isNaN(r)&&(r=0),this.z=+e,this.x=+t,this.y=+n,this.w=+r,r*=2,0>r&&(r=-1*r-1);var o=1<<this.z;this.id=32*(o*o*r+o*this.y+this.x)+this.z,this.posMatrix=null};l.prototype.toString=function(){return this.z+"/"+this.x+"/"+this.y},l.prototype.toCoordinate=function(e){var t=Math.min(this.z,void 0===e?this.z:e),n=Math.pow(2,t),r=this.y,o=this.x+n*this.w;return new u(o,r,t)},l.prototype.url=function(e,t,n){
var r=s.getTileBBox(this.x,this.y,this.z),o=a(this.z,this.x,this.y);return e[(this.x+this.y)%e.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",Math.min(this.z,t||this.z)).replace("{x}",this.x).replace("{y}","tms"===n?Math.pow(2,this.z)-this.y-1:this.y).replace("{quadkey}",o).replace("{bbox-epsg-3857}",r)},l.prototype.parent=function(e){return 0===this.z?null:this.z>e?new l(this.z-1,this.x,this.y,this.w):new l(this.z-1,Math.floor(this.x/2),Math.floor(this.y/2),this.w)},l.prototype.wrapped=function(){return new l(this.z,this.x,this.y,0)},l.prototype.children=function(e){if(this.z>=e)return[new l(this.z+1,this.x,this.y,this.w)];var t=this.z+1,n=2*this.x,r=2*this.y;return[new l(t,n,r,this.w),new l(t,n+1,r,this.w),new l(t,n,r+1,this.w),new l(t,n+1,r+1,this.w)]},l.cover=function(e,t,n,r){function o(e,t,o){var i,u,c,p;if(o>=0&&a>=o)for(i=e;t>i;i++)u=Math.floor(i/a),c=(i%a+a)%a,0!==u&&r!==!0||(p=new l(n,c,o,u),s[p.id]=p)}void 0===r&&(r=!0);var a=1<<e,s={};return i(t[0],t[1],t[2],0,a,o),i(t[2],t[3],t[0],0,a,o),Object.keys(s).map(function(e){return s[e]})},l.fromID=function(e){var t=e%32,n=1<<t,r=(e-t)/32,o=r%n,i=(r-o)/n%n,a=Math.floor(r/(n*n));return a%2!==0&&(a=-1*a-1),a/=2,new l(t,o,i,a)},t.exports=l},{"../geo/coordinate":61,"@mapbox/whoots-js":4}],97:[function(e,t,n){"use strict";var r=e("../util/evented"),o=e("../util/util"),i=e("./load_tilejson"),a=e("../util/mapbox").normalizeTileURL,s=e("./tile_bounds"),u=function(e){function t(t,n,r,i){if(e.call(this),this.id=t,this.dispatcher=r,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,o.extend(this,o.pick(n,["url","scheme","tileSize"])),this._options=o.extend({type:"vector"},n),512!==this.tileSize)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(i)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.load=function(){var e=this;this.fire("dataloading",{dataType:"source"}),i(this._options,function(t,n){return t?void e.fire("error",t):(o.extend(e,n),e.setBounds(n.bounds),e.fire("data",{dataType:"source",sourceDataType:"metadata"}),void e.fire("data",{dataType:"source",sourceDataType:"content"}))})},t.prototype.setBounds=function(e){this.bounds=e,e&&(this.tileBounds=new s(e,this.minzoom,this.maxzoom))},t.prototype.hasTile=function(e){return!this.tileBounds||this.tileBounds.contains(e,this.maxzoom)},t.prototype.onAdd=function(e){this.load(),this.map=e},t.prototype.serialize=function(){return o.extend({},this._options)},t.prototype.loadTile=function(e,t){function n(n,r){if(!e.aborted){if(n)return t(n);this.map._refreshExpiredTiles&&e.setExpiryData(r),e.loadVectorData(r,this.map.painter),e.redoWhenDone&&(e.redoWhenDone=!1,e.redoPlacement(this)),t(null),e.reloadCallback&&(this.loadTile(e,e.reloadCallback),e.reloadCallback=null)}}var r=e.coord.z>this.maxzoom?Math.pow(2,e.coord.z-this.maxzoom):1,o={url:a(e.coord.url(this.tiles,this.maxzoom,this.scheme),this.url),uid:e.uid,coord:e.coord,zoom:e.coord.z,tileSize:this.tileSize*r,type:this.type,source:this.id,overscaling:r,angle:this.map.transform.angle,pitch:this.map.transform.pitch,showCollisionBoxes:this.map.showCollisionBoxes};e.workerID&&"expired"!==e.state?"loading"===e.state?e.reloadCallback=t:this.dispatcher.send("reloadTile",o,n.bind(this),e.workerID):e.workerID=this.dispatcher.send("loadTile",o,n.bind(this))},t.prototype.abortTile=function(e){this.dispatcher.send("abortTile",{uid:e.uid,type:this.type,source:this.id},null,e.workerID)},t.prototype.unloadTile=function(e){e.unloadVectorData(),this.dispatcher.send("removeTile",{uid:e.uid,type:this.type,source:this.id},null,e.workerID)},t}(r);t.exports=u},{"../util/evented":203,"../util/mapbox":210,"../util/util":215,"./load_tilejson":87,"./tile_bounds":95}],98:[function(e,t,n){"use strict";var r=e("../util/ajax"),o=e("vector-tile"),i=e("pbf"),a=e("./worker_tile"),s=e("../util/util"),u=function(e,t,n){this.actor=e,this.layerIndex=t,n&&(this.loadVectorData=n),this.loading={},this.loaded={}};u.prototype.loadTile=function(e,t){function n(e,n){return delete this.loading[r][o],e?t(e):n?(i.vectorTile=n,i.parse(n,this.layerIndex,this.actor,function(e,r,o){if(e)return t(e);var i={};n.expires&&(i.expires=n.expires),n.cacheControl&&(i.cacheControl=n.cacheControl),t(null,s.extend({rawTileData:n.rawData},r,i),o)}),this.loaded[r]=this.loaded[r]||{},void(this.loaded[r][o]=i)):t(null,null)}var r=e.source,o=e.uid;this.loading[r]||(this.loading[r]={});var i=this.loading[r][o]=new a(e);i.abort=this.loadVectorData(e,n.bind(this))},u.prototype.reloadTile=function(e,t){function n(e,n){if(this.reloadCallback){var r=this.reloadCallback;delete this.reloadCallback,this.parse(this.vectorTile,i.layerIndex,i.actor,r)}t(e,n)}var r=this.loaded[e.source],o=e.uid,i=this;if(r&&r[o]){var a=r[o];"parsing"===a.status?a.reloadCallback=t:"done"===a.status&&a.parse(a.vectorTile,this.layerIndex,this.actor,n.bind(a))}},u.prototype.abortTile=function(e){var t=this.loading[e.source],n=e.uid;t&&t[n]&&t[n].abort&&(t[n].abort(),delete t[n])},u.prototype.removeTile=function(e){var t=this.loaded[e.source],n=e.uid;t&&t[n]&&delete t[n]},u.prototype.loadVectorData=function(e,t){function n(e,n){if(e)return t(e);var r=new o.VectorTile(new i(n.data));r.rawData=n.data,r.cacheControl=n.cacheControl,r.expires=n.expires,t(e,r)}var a=r.getArrayBuffer(e.url,n.bind(this));return function(){a.abort()}},u.prototype.redoPlacement=function(e,t){var n=this.loaded[e.source],r=this.loading[e.source],o=e.uid;if(n&&n[o]){var i=n[o],a=i.redoPlacement(e.angle,e.pitch,e.showCollisionBoxes);a.result&&t(null,a.result,a.transferables)}else r&&r[o]&&(r[o].angle=e.angle)},t.exports=u},{"../util/ajax":194,"../util/util":215,"./worker_tile":101,pbf:25,"vector-tile":34}],99:[function(e,t,n){"use strict";var r=e("../util/ajax"),o=e("./image_source"),i=function(e){function t(t,n,r,o){e.call(this,t,n,r,o),this.roundZoom=!0,this.type="video",this.options=n}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.load=function(){var e=this,t=this.options;this.urls=t.urls,r.getVideo(t.urls,function(t,n){if(t)return e.fire("error",{error:t});e.video=n,e.video.loop=!0;var r;e.video.addEventListener("playing",function(){r=e.map.style.animationLoop.set(1/0),e.map._rerender()}),e.video.addEventListener("pause",function(){e.map.style.animationLoop.cancel(r)}),e.map&&e.video.play(),e._finishLoading()})},t.prototype.getVideo=function(){return this.video},t.prototype.onAdd=function(e){this.map||(this.load(),this.map=e,this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},t.prototype.prepare=function(){!this.tile||this.video.readyState<2||this._prepareImage(this.map.painter.gl,this.video)},t.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},t}(o);t.exports=i},{"../util/ajax":194,"./image_source":86}],100:[function(e,t,n){"use strict";var r=e("../util/actor"),o=e("../style/style_layer_index"),i=e("./vector_tile_worker_source"),a=e("./geojson_worker_source"),s=e("./rtl_text_plugin"),u=function(e){var t=this;this.self=e,this.actor=new r(e,this),this.layerIndexes={},this.workerSourceTypes={vector:i,geojson:a},this.workerSources={},this.self.registerWorkerSource=function(e,n){if(t.workerSourceTypes[e])throw new Error('Worker source with name "'+e+'" already registered.');t.workerSourceTypes[e]=n},this.self.registerRTLTextPlugin=function(e){if(s.applyArabicShaping||s.processBidirectionalText)throw new Error("RTL text plugin already registered.");s.applyArabicShaping=e.applyArabicShaping,s.processBidirectionalText=e.processBidirectionalText}};u.prototype.setLayers=function(e,t){this.getLayerIndex(e).replace(t)},u.prototype.updateLayers=function(e,t){this.getLayerIndex(e).update(t.layers,t.removedIds,t.symbolOrder)},u.prototype.loadTile=function(e,t,n){this.getWorkerSource(e,t.type).loadTile(t,n)},u.prototype.reloadTile=function(e,t,n){this.getWorkerSource(e,t.type).reloadTile(t,n)},u.prototype.abortTile=function(e,t){this.getWorkerSource(e,t.type).abortTile(t)},u.prototype.removeTile=function(e,t){this.getWorkerSource(e,t.type).removeTile(t)},u.prototype.removeSource=function(e,t){var n=this.getWorkerSource(e,t.type);void 0!==n.removeSource&&n.removeSource(t)},u.prototype.redoPlacement=function(e,t,n){this.getWorkerSource(e,t.type).redoPlacement(t,n)},u.prototype.loadWorkerSource=function(e,t,n){try{this.self.importScripts(t.url),n()}catch(e){n(e)}},u.prototype.loadRTLTextPlugin=function(e,t,n){try{s.applyArabicShaping||s.processBidirectionalText||this.self.importScripts(t)}catch(e){n(e)}},u.prototype.getLayerIndex=function(e){var t=this.layerIndexes[e];return t||(t=this.layerIndexes[e]=new o),t},u.prototype.getWorkerSource=function(e,t){var n=this;if(this.workerSources[e]||(this.workerSources[e]={}),!this.workerSources[e][t]){var r={send:function(t,r,o,i){n.actor.send(t,r,o,i,e)}};this.workerSources[e][t]=new this.workerSourceTypes[t](r,this.getLayerIndex(e))}return this.workerSources[e][t]},t.exports=function(e){return new u(e)}},{"../style/style_layer_index":157,"../util/actor":193,"./geojson_worker_source":84,"./rtl_text_plugin":91,"./vector_tile_worker_source":98}],101:[function(e,t,n){"use strict";function r(e,t){for(var n=0,r=e.layers;n<r.length;n+=1){var o=r[n];o.recalculate(t)}}function o(e,t){return e.filter(function(e){return!e.isEmpty()}).map(function(e){return e.serialize(t)})}var i=e("../data/feature_index"),a=e("../symbol/collision_tile"),s=e("../symbol/collision_box"),u=e("../util/dictionary_coder"),l=e("../util/util"),c=function(e){this.coord=e.coord,this.uid=e.uid,this.zoom=e.zoom,this.tileSize=e.tileSize,this.source=e.source,this.overscaling=e.overscaling,this.angle=e.angle,this.pitch=e.pitch,this.showCollisionBoxes=e.showCollisionBoxes};c.prototype.parse=function(e,t,n,c){var p=this;e.layers||(e={layers:{_geojsonTileLayer:e}}),this.status="parsing",this.data=e,this.collisionBoxArray=new s;var f=new u(Object.keys(e.layers).sort()),h=new i(this.coord,this.overscaling);h.bucketLayerIDs={};var d={},m=0,y={featureIndex:h,iconDependencies:{},glyphDependencies:{}},g=t.familiesBySource[this.source];for(var v in g){var b=e.layers[v];if(b){1===b.version&&l.warnOnce('Vector tile source "'+p.source+'" layer "'+v+'" does not use vector tile spec v2 and therefore may have some rendering errors.');for(var _=f.encode(v),w=[],x=0;x<b.length;x++){var k=b.feature(x);k.index=x,k.sourceLayerIndex=_,w.push(k)}for(var E=0,T=g[v];E<T.length;E+=1){var S=T[E],C=S[0];if(!(C.minzoom&&p.zoom<C.minzoom||C.maxzoom&&p.zoom>=C.maxzoom||C.layout&&"none"===C.layout.visibility)){for(var M=0,P=S;M<P.length;M+=1){var A=P[M];A.recalculate(p.zoom)}var z=d[C.id]=C.createBucket({index:m,layers:S,zoom:p.zoom,overscaling:p.overscaling,collisionBoxArray:p.collisionBoxArray});z.populate(w,y),h.bucketLayerIDs[m]=S.map(function(e){return e.id}),m++}}}}var R=function(e){p.status="done",h.paintPropertyStatistics={};for(var t in d)l.extend(h.paintPropertyStatistics,d[t].getPaintPropertyStatistics());var n=[];c(null,{buckets:o(l.values(d),n),featureIndex:h.serialize(n),collisionTile:e.serialize(n),collisionBoxArray:p.collisionBoxArray.serialize()},n)};this.symbolBuckets=[];for(var O=t.symbolOrder.length-1;O>=0;O--){var L=d[t.symbolOrder[O]];L&&p.symbolBuckets.push(L)}if(0===this.symbolBuckets.length)return R(new a(this.angle,this.pitch,this.collisionBoxArray));var D=0,j=Object.keys(y.iconDependencies),N=l.mapObject(y.glyphDependencies,function(e){return Object.keys(e).map(Number)}),I=function(e){if(e)return c(e);if(D++,2===D){for(var t=new a(p.angle,p.pitch,p.collisionBoxArray),n=0,o=p.symbolBuckets;n<o.length;n+=1){var i=o[n];r(i,p.zoom),i.prepare(N,j),i.place(t,p.showCollisionBoxes)}R(t)}};Object.keys(N).length?n.send("getGlyphs",{uid:this.uid,stacks:N},function(e,t){N=t,I(e)}):I(),j.length?n.send("getIcons",{icons:j},function(e,t){j=t,I(e)}):I()},c.prototype.redoPlacement=function(e,t,n){var i=this;if(this.angle=e,this.pitch=t,"done"!==this.status)return{};for(var s=new a(this.angle,this.pitch,this.collisionBoxArray),u=0,l=i.symbolBuckets;u<l.length;u+=1){var c=l[u];r(c,i.zoom),c.place(s,n)}var p=[];return{result:{buckets:o(this.symbolBuckets,p),collisionTile:s.serialize(p)},transferables:p}},t.exports=c},{"../data/feature_index":55,"../symbol/collision_box":163,"../symbol/collision_tile":165,"../util/dictionary_coder":200,"../util/util":215}],102:[function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)"ref"!==r&&(n[r]=e[r]);return i.forEach(function(e){e in t&&(n[e]=t[e])}),n}function o(e){e=e.slice();for(var t=Object.create(null),n=0;n<e.length;n++)t[e[n].id]=e[n];for(var o=0;o<e.length;o++)"ref"in e[o]&&(e[o]=r(e[o],t[e[o].ref]));return e}var i=e("./util/ref_properties");t.exports=o},{"./util/ref_properties":125}],103:[function(e,t,n){"use strict";function r(e,t,n,r){e=e||{},t=t||{};var o;for(o in e)e.hasOwnProperty(o)&&(t.hasOwnProperty(o)||(n.push({command:c.removeSource,args:[o]}),r[o]=!0));for(o in t)t.hasOwnProperty(o)&&(e.hasOwnProperty(o)?l(e[o],t[o])||(n.push({command:c.removeSource,args:[o]}),n.push({command:c.addSource,args:[o,t[o]]}),r[o]=!0):n.push({command:c.addSource,args:[o,t[o]]}))}function o(e,t,n,r,o,i){e=e||{},t=t||{};var a;for(a in e)e.hasOwnProperty(a)&&(l(e[a],t[a])||n.push({command:i,args:[r,a,t[a],o]}));for(a in t)t.hasOwnProperty(a)&&!e.hasOwnProperty(a)&&(l(e[a],t[a])||n.push({command:i,args:[r,a,t[a],o]}))}function i(e){return e.id}function a(e,t){return e[t.id]=t,e}function s(e,t,n){e=e||[],t=t||[];var r,s,u,p,f,h,d,m=e.map(i),y=t.map(i),g=e.reduce(a,{}),v=t.reduce(a,{}),b=m.slice(),_=Object.create(null);for(r=0,s=0;r<m.length;r++)u=m[r],v.hasOwnProperty(u)?s++:(n.push({command:c.removeLayer,args:[u]}),b.splice(b.indexOf(u,s),1));for(r=0,s=0;r<y.length;r++)u=y[y.length-1-r],b[b.length-1-r]!==u&&(g.hasOwnProperty(u)?(n.push({command:c.removeLayer,args:[u]}),b.splice(b.lastIndexOf(u,b.length-s),1)):s++,h=b[b.length-r],n.push({command:c.addLayer,args:[v[u],h]}),b.splice(b.length-r,0,u),_[u]=!0);for(r=0;r<y.length;r++)if(u=y[r],p=g[u],f=v[u],!_[u]&&!l(p,f))if(l(p.source,f.source)&&l(p["source-layer"],f["source-layer"])&&l(p.type,f.type)){o(p.layout,f.layout,n,u,null,c.setLayoutProperty),o(p.paint,f.paint,n,u,null,c.setPaintProperty),l(p.filter,f.filter)||n.push({command:c.setFilter,args:[u,f.filter]}),l(p.minzoom,f.minzoom)&&l(p.maxzoom,f.maxzoom)||n.push({command:c.setLayerZoomRange,args:[u,f.minzoom,f.maxzoom]});for(d in p)p.hasOwnProperty(d)&&"layout"!==d&&"paint"!==d&&"filter"!==d&&"metadata"!==d&&"minzoom"!==d&&"maxzoom"!==d&&(0===d.indexOf("paint.")?o(p[d],f[d],n,u,d.slice(6),c.setPaintProperty):l(p[d],f[d])||n.push({command:c.setLayerProperty,args:[u,d,f[d]]}));for(d in f)f.hasOwnProperty(d)&&!p.hasOwnProperty(d)&&"layout"!==d&&"paint"!==d&&"filter"!==d&&"metadata"!==d&&"minzoom"!==d&&"maxzoom"!==d&&(0===d.indexOf("paint.")?o(p[d],f[d],n,u,d.slice(6),c.setPaintProperty):l(p[d],f[d])||n.push({command:c.setLayerProperty,args:[u,d,f[d]]}))}else n.push({command:c.removeLayer,args:[u]}),h=b[b.lastIndexOf(u)+1],n.push({command:c.addLayer,args:[f,h]})}function u(e,t){if(!e)return[{command:c.setStyle,args:[t]}];var n=[];try{if(!l(e.version,t.version))return[{command:c.setStyle,args:[t]}];l(e.center,t.center)||n.push({command:c.setCenter,args:[t.center]}),l(e.zoom,t.zoom)||n.push({command:c.setZoom,args:[t.zoom]}),l(e.bearing,t.bearing)||n.push({command:c.setBearing,args:[t.bearing]}),l(e.pitch,t.pitch)||n.push({command:c.setPitch,args:[t.pitch]}),l(e.sprite,t.sprite)||n.push({command:c.setSprite,args:[t.sprite]}),l(e.glyphs,t.glyphs)||n.push({command:c.setGlyphs,args:[t.glyphs]}),l(e.transition,t.transition)||n.push({command:c.setTransition,args:[t.transition]}),l(e.light,t.light)||n.push({command:c.setLight,args:[t.light]});var o={},i=[];r(e.sources,t.sources,i,o);var a=[];e.layers&&e.layers.forEach(function(e){o[e.source]?n.push({command:c.removeLayer,args:[e.id]}):a.push(e)}),n=n.concat(i),s(a,t.layers,n)}catch(e){console.warn("Unable to compute style diff:",e),n=[{command:c.setStyle,args:[t]}]}return n}var l=e("lodash.isequal"),c={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};t.exports=u,t.exports.operations=c},{"lodash.isequal":116}],104:[function(e,t,n){"use strict";function r(e,t){this.message=(e?e+": ":"")+o.apply(o,Array.prototype.slice.call(arguments,2)),null!==t&&void 0!==t&&t.__line__&&(this.line=t.__line__)}var o=e("util").format;t.exports=r},{util:33}],105:[function(e,t,n){"use strict";function r(e){return new Function("f","var p = (f && f.properties || {}); return "+o(e))}function o(e){if(!e)return"true";var t=e[0];if(e.length<=1)return"any"===t?"false":"true";var n="=="===t?a(e[1],e[2],"===",!1):"!="===t?a(e[1],e[2],"!==",!1):"<"===t||">"===t||"<="===t||">="===t?a(e[1],e[2],t,!0):"any"===t?s(e.slice(1),"||"):"all"===t?s(e.slice(1),"&&"):"none"===t?c(s(e.slice(1),"||")):"in"===t?u(e[1],e.slice(2)):"!in"===t?c(u(e[1],e.slice(2))):"has"===t?l(e[1]):"!has"===t?c(l(e[1])):"true";return"("+n+")"}function i(e){return"$type"===e?"f.type":"$id"===e?"f.id":"p["+JSON.stringify(e)+"]"}function a(e,t,n,r){var o=i(e),a="$type"===e?f.indexOf(t):JSON.stringify(t);return(r?"typeof "+o+"=== typeof "+a+"&&":"")+o+n+a}function s(e,t){return e.map(o).join(t)}function u(e,t){"$type"===e&&(t=t.map(function(e){return f.indexOf(e)}));var n=JSON.stringify(t.sort(p)),r=i(e);return t.length<=200?n+".indexOf("+r+") !== -1":"function(v, a, i, j) {while (i <= j) { var m = (i + j) >> 1;    if (a[m] === v) return true; if (a[m] > v) j = m - 1; else i = m + 1;}return false; }("+r+", "+n+",0,"+(t.length-1)+")"}function l(e){return"$id"===e?'"id" in f':JSON.stringify(e)+" in p"}function c(e){return"!("+e+")"}function p(e,t){return t>e?-1:e>t?1:0}t.exports=r;var f=["Unknown","Point","LineString","Polygon"]},{}],106:[function(e,t,n){"use strict";function r(e){return e>g?Math.pow(e,1/3):e/y+d}function o(e){return e>m?e*e*e:y*(e-d)}function i(e){return 255*(.0031308>=e?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function a(e){return e/=255,.04045>=e?e/12.92:Math.pow((e+.055)/1.055,2.4)}function s(e){var t=a(e[0]),n=a(e[1]),o=a(e[2]),i=r((.4124564*t+.3575761*n+.1804375*o)/p),s=r((.2126729*t+.7151522*n+.072175*o)/f),u=r((.0193339*t+.119192*n+.9503041*o)/h);return[116*s-16,500*(i-s),200*(s-u),e[3]]}function u(e){var t=(e[0]+16)/116,n=isNaN(e[1])?t:t+e[1]/500,r=isNaN(e[2])?t:t-e[2]/200;return t=f*o(t),n=p*o(n),r=h*o(r),[i(3.2404542*n-1.5371385*t-.4985314*r),i(-.969266*n+1.8760108*t+.041556*r),i(.0556434*n-.2040259*t+1.0572252*r),e[3]]}function l(e){var t=s(e),n=t[0],r=t[1],o=t[2],i=Math.atan2(o,r)*b;return[0>i?i+360:i,Math.sqrt(r*r+o*o),n,e[3]]}function c(e){var t=e[0]*v,n=e[1],r=e[2];return u([r,Math.cos(t)*n,Math.sin(t)*n,e[3]])}var p=.95047,f=1,h=1.08883,d=4/29,m=6/29,y=3*m*m,g=m*m*m,v=Math.PI/180,b=180/Math.PI;t.exports={lab:{forward:s,reverse:u},hcl:{forward:l,reverse:c}}},{}],107:[function(e,t,n){"use strict";function r(e){return e}function o(e,t){var n,c="color"===t.type;if(p(e)){var f=e.stops&&"object"==typeof e.stops[0][0],y=f||void 0!==e.property,g=f||!y,v=e.type||("interpolated"===t["function"]?"exponential":"interval");c&&(e=m({},e),e.stops&&(e.stops=e.stops.map(function(e){return[e[0],d(e[1])]})),e["default"]?e["default"]=d(e["default"]):e["default"]=d(t["default"]));var b,_,w;if("exponential"===v)b=u;else if("interval"===v)b=s;else if("categorical"===v){b=a,_=Object.create(null);for(var x=0,k=e.stops;x<k.length;x+=1){var E=k[x];_[E[0]]=E[1]}w=typeof e.stops[0][0]}else{if("identity"!==v)throw new Error('Unknown function type "'+v+'"');b=l}var T;if(e.colorSpace&&"rgb"!==e.colorSpace){if(!h[e.colorSpace])throw new Error("Unknown color space: "+e.colorSpace);var S=h[e.colorSpace];e=JSON.parse(JSON.stringify(e));for(var C=0;C<e.stops.length;C++)e.stops[C]=[e.stops[C][0],S.forward(e.stops[C][1])];T=S.reverse}else T=r;if(f){for(var M={},P=[],A=0;A<e.stops.length;A++){var z=e.stops[A],R=z[0].zoom;void 0===M[R]&&(M[R]={zoom:R,type:e.type,property:e.property,"default":e["default"],stops:[]},P.push(R)),M[R].stops.push([z[0].value,z[1]])}for(var O=[],L=0,D=P;L<D.length;L+=1){var j=D[L];O.push([M[j].zoom,o(M[j],t)])}n=function(n,r){return T(u({stops:O,base:e.base},t,n)(n,r))},n.isFeatureConstant=!1,n.isZoomConstant=!1}else g?(n=function(n){return T(b(e,t,n,_,w))},n.isFeatureConstant=!0,n.isZoomConstant=!1):(n=function(n,r){var o=r[e.property];return void 0===o?i(e["default"],t["default"]):T(b(e,t,o,_,w))},n.isFeatureConstant=!1,n.isZoomConstant=!0)}else c&&e&&(e=d(e)),n=function(){return e},n.isFeatureConstant=!0,n.isZoomConstant=!0;return n}function i(e,t,n){return void 0!==e?e:void 0!==t?t:void 0!==n?n:void 0}function a(e,t,n,r,o){var a=typeof n===o?r[n]:void 0;return i(a,e["default"],t["default"])}function s(e,t,n){if("number"!==y(n))return i(e["default"],t["default"]);var r=e.stops.length;if(1===r)return e.stops[0][1];if(n<=e.stops[0][0])return e.stops[0][1];if(n>=e.stops[r-1][0])return e.stops[r-1][1];var o=c(e.stops,n);return e.stops[o][1]}function u(e,t,n){var o=void 0!==e.base?e.base:1;if("number"!==y(n))return i(e["default"],t["default"]);var a=e.stops.length;if(1===a)return e.stops[0][1];if(n<=e.stops[0][0])return e.stops[0][1];if(n>=e.stops[a-1][0])return e.stops[a-1][1];var s=c(e.stops,n),u=f(n,o,e.stops[s][0],e.stops[s+1][0]),l=e.stops[s][1],p=e.stops[s+1][1],h=g[t.type]||r;return"function"==typeof l?function(){var e=l.apply(void 0,arguments),t=p.apply(void 0,arguments);return void 0!==e&&void 0!==t?h(e,t,u):void 0}:h(l,p,u)}function l(e,t,n){return"color"===t.type?n=d(n):y(n)!==t.type&&(n=void 0),i(n,e["default"],t["default"])}function c(e,t){for(var n,r,o=e.length,i=0,a=o-1,s=0;a>=i;){if(s=Math.floor((i+a)/2),n=e[s][0],r=e[s+1][0],t===n||t>n&&r>t)return s;t>n?i=s+1:n>t&&(a=s-1)}return Math.max(s-1,0)}function p(e){return"object"==typeof e&&(e.stops||"identity"===e.type)}function f(e,t,n,r){var o=r-n,i=e-n;return 1===t?i/o:(Math.pow(t,i)-1)/(Math.pow(t,o)-1)}var h=e("./color_spaces"),d=e("../util/parse_color"),m=e("../util/extend"),y=e("../util/get_type"),g=e("../util/interpolate");t.exports=o,t.exports.isFunctionDefinition=p,t.exports.interpolationFactor=f,t.exports.findStopLessThanOrEqualTo=c},{"../util/extend":121,"../util/get_type":122,"../util/interpolate":123,"../util/parse_color":124,"./color_spaces":106}],108:[function(e,t,n){"use strict";function r(e){return a(i.map(function(t){return e[t]}))}function o(e){for(var t={},n=0;n<e.length;n++){var o=r(e[n]),i=t[o];i||(i=t[o]=[]),i.push(e[n])}var a=[];for(var s in t)a.push(t[s]);return a}var i=e("./util/ref_properties"),a=e("fast-stable-stringify");t.exports=o},{"./util/ref_properties":125,"fast-stable-stringify":110}],109:[function(e,t,n){function r(e){return e=Math.round(e),0>e?0:e>255?255:e}function o(e){return 0>e?0:e>1?1:e}function i(e){return r("%"===e[e.length-1]?parseFloat(e)/100*255:parseInt(e))}function a(e){return o("%"===e[e.length-1]?parseFloat(e)/100:parseFloat(e))}function s(e,t,n){return 0>n?n+=1:n>1&&(n-=1),1>6*n?e+(t-e)*n*6:1>2*n?t:2>3*n?e+(t-e)*(2/3-n)*6:e}function u(e){var t=e.replace(/ /g,"").toLowerCase();if(t in l)return l[t].slice();if("#"===t[0]){if(4===t.length){var n=parseInt(t.substr(1),16);return n>=0&&4095>=n?[(3840&n)>>4|(3840&n)>>8,240&n|(240&n)>>4,15&n|(15&n)<<4,1]:null}if(7===t.length){var n=parseInt(t.substr(1),16);return n>=0&&16777215>=n?[(16711680&n)>>16,(65280&n)>>8,255&n,1]:null}return null}var o=t.indexOf("("),u=t.indexOf(")");if(-1!==o&&u+1===t.length){var c=t.substr(0,o),p=t.substr(o+1,u-(o+1)).split(","),f=1;switch(c){case"rgba":if(4!==p.length)return null;f=a(p.pop());case"rgb":return 3!==p.length?null:[i(p[0]),i(p[1]),i(p[2]),f];case"hsla":if(4!==p.length)return null;f=a(p.pop());case"hsl":if(3!==p.length)return null;var h=(parseFloat(p[0])%360+360)%360/360,d=a(p[1]),m=a(p[2]),y=.5>=m?m*(d+1):m+d-m*d,g=2*m-y;return[r(255*s(g,y,h+1/3)),r(255*s(g,y,h)),r(255*s(g,y,h-1/3)),f];default:return null}}return null}var l={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};try{n.parseCSSColor=u}catch(c){}},{}],110:[function(e,t,n){function r(e){var t,n,o,l,c,p;switch(typeof e){case"object":if(null===e)return null;if(i(e)){for(o="[",n=e.length-1,t=0;n>t;t++)o+=r(e[t])+",";return n>-1&&(o+=r(e[t])),o+"]"}for(l=a(e).sort(),n=l.length,o="{",c=l[t=0],p=n>0&&void 0!==e[c];n>t;)p?(o+='"'+c.replace(s,u)+'":'+r(e[c]),c=l[++t],p=n>t&&void 0!==e[c],p&&(o+=",")):(c=l[++t],p=n>t&&void 0!==e[c]);return o+"}";case"undefined":return null;case"string":return'"'+e.replace(s,u)+'"';default:return e}}var o={}.toString,i=Array.isArray||function(e){return"[object Array]"===o.call(e)},a=Object.keys||function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t},s=/[\u0000-\u001f"\\]/g,u=function(e){var t=e.charCodeAt(0);switch(t){case 34:return'\\"';case 92:return"\\\\";case 12:return"\\f";case 10:return"\\n";case 13:return"\\r";case 9:return"\\t";case 8:return"\\b";default:return t>15?"\\u00"+t.toString(16):"\\u000"+t.toString(16)}};t.exports=function(e){return void 0!==e?""+r(e):void 0},t.exports.stringSearch=s,t.exports.stringReplace=u},{}],111:[function(e,t,n){function r(e){return!!e&&"object"==typeof e}function o(e,t){for(var n=-1,r=e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function i(e,t,n,o,s,u){return e===t||(null==e||null==t||!c(e)&&!r(t)?e!==e&&t!==t:a(e,t,i,n,o,s,u))}function a(e,t,n,r,o,i,a){var c=p(e),h=p(t),y=m,g=m;c||(y=T.call(e),y==d?y=_:y!=_&&(c=f(e))),h||(g=T.call(t),g==d?g=_:g!=_&&(h=f(t)));var v=y==_,b=g==_,w=y==g;if(w&&!c&&!v)return u(e,t,y);if(!o){var x=v&&E.call(e,"__wrapped__"),k=b&&E.call(t,"__wrapped__");if(x||k)return n(x?e.value():e,k?t.value():t,r,o,i,a)}if(!w)return!1;i||(i=[]),a||(a=[]);for(var S=i.length;S--;)if(i[S]==e)return a[S]==t;i.push(e),a.push(t);var C=(c?s:l)(e,t,n,r,o,i,a);return i.pop(),a.pop(),C}function s(e,t,n,r,i,a,s){var u=-1,l=e.length,c=t.length;if(l!=c&&!(i&&c>l))return!1;for(;++u<l;){var p=e[u],f=t[u],h=r?r(i?f:p,i?p:f,u):void 0;if(void 0!==h){if(h)continue;return!1}if(i){if(!o(t,function(e){return p===e||n(p,e,r,i,a,s)}))return!1}else if(p!==f&&!n(p,f,r,i,a,s))return!1}return!0}function u(e,t,n){switch(n){case y:case g:return+e==+t;case v:return e.name==t.name&&e.message==t.message;case b:return e!=+e?t!=+t:e==+t;case w:case x:return e==t+""}return!1}function l(e,t,n,r,o,i,a){var s=h(e),u=s.length,l=h(t),c=l.length;if(u!=c&&!o)return!1;for(var p=u;p--;){var f=s[p];if(!(o?f in t:E.call(t,f)))return!1}for(var d=o;++p<u;){f=s[p];var m=e[f],y=t[f],g=r?r(o?y:m,o?m:y,f):void 0;if(!(void 0===g?n(m,y,r,o,i,a):g))return!1;d||(d="constructor"==f)}if(!d){var v=e.constructor,b=t.constructor;if(v!=b&&"constructor"in e&&"constructor"in t&&!("function"==typeof v&&v instanceof v&&"function"==typeof b&&b instanceof b))return!1}return!0}function c(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}var p=e("lodash.isarray"),f=e("lodash.istypedarray"),h=e("lodash.keys"),d="[object Arguments]",m="[object Array]",y="[object Boolean]",g="[object Date]",v="[object Error]",b="[object Number]",_="[object Object]",w="[object RegExp]",x="[object String]",k=Object.prototype,E=k.hasOwnProperty,T=k.toString;t.exports=i},{"lodash.isarray":115,"lodash.istypedarray":117,"lodash.keys":118}],112:[function(e,t,n){function r(e,t,n){if("function"!=typeof e)return o;if(void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,r,o){return e.call(t,n,r,o)};case 4:return function(n,r,o,i){return e.call(t,n,r,o,i)};case 5:return function(n,r,o,i,a){return e.call(t,n,r,o,i,a)}}return function(){return e.apply(t,arguments)}}function o(e){return e}t.exports=r},{}],113:[function(e,t,n){function r(e){return!!e&&"object"==typeof e}function o(e,t){var n=null==e?void 0:e[t];return s(n)?n:void 0}function i(e){return a(e)&&h.call(e)==u}function a(e){var t=typeof e;return!!e&&("object"==t||"function"==t);
}function s(e){return null!=e&&(i(e)?d.test(p.call(e)):r(e)&&l.test(e))}var u="[object Function]",l=/^\[object .+?Constructor\]$/,c=Object.prototype,p=Function.prototype.toString,f=c.hasOwnProperty,h=c.toString,d=RegExp("^"+p.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=o},{}],114:[function(e,t,n){function r(e){return i(e)&&m.call(e,"callee")&&(!g.call(e,"callee")||y.call(e)==p)}function o(e){return null!=e&&s(e.length)&&!a(e)}function i(e){return l(e)&&o(e)}function a(e){var t=u(e)?y.call(e):"";return t==f||t==h}function s(e){return"number"==typeof e&&e>-1&&e%1==0&&c>=e}function u(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function l(e){return!!e&&"object"==typeof e}var c=9007199254740991,p="[object Arguments]",f="[object Function]",h="[object GeneratorFunction]",d=Object.prototype,m=d.hasOwnProperty,y=d.toString,g=d.propertyIsEnumerable;t.exports=r},{}],115:[function(e,t,n){function r(e){return!!e&&"object"==typeof e}function o(e,t){var n=null==e?void 0:e[t];return u(n)?n:void 0}function i(e){return"number"==typeof e&&e>-1&&e%1==0&&v>=e}function a(e){return s(e)&&m.call(e)==c}function s(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function u(e){return null!=e&&(a(e)?y.test(h.call(e)):r(e)&&p.test(e))}var l="[object Array]",c="[object Function]",p=/^\[object .+?Constructor\]$/,f=Object.prototype,h=Function.prototype.toString,d=f.hasOwnProperty,m=f.toString,y=RegExp("^"+h.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),g=o(Array,"isArray"),v=9007199254740991,b=g||function(e){return r(e)&&i(e.length)&&m.call(e)==l};t.exports=b},{}],116:[function(e,t,n){function r(e,t,n,r){n="function"==typeof n?i(n,r,3):void 0;var a=n?n(e,t):void 0;return void 0===a?o(e,t,n):!!a}var o=e("lodash._baseisequal"),i=e("lodash._bindcallback");t.exports=r},{"lodash._baseisequal":111,"lodash._bindcallback":112}],117:[function(e,t,n){function r(e){return"number"==typeof e&&e>-1&&e%1==0&&a>=e}function o(e){return!!e&&"object"==typeof e}function i(e){return o(e)&&r(e.length)&&!!z[O.call(e)]}var a=9007199254740991,s="[object Arguments]",u="[object Array]",l="[object Boolean]",c="[object Date]",p="[object Error]",f="[object Function]",h="[object Map]",d="[object Number]",m="[object Object]",y="[object RegExp]",g="[object Set]",v="[object String]",b="[object WeakMap]",_="[object ArrayBuffer]",w="[object DataView]",x="[object Float32Array]",k="[object Float64Array]",E="[object Int8Array]",T="[object Int16Array]",S="[object Int32Array]",C="[object Uint8Array]",M="[object Uint8ClampedArray]",P="[object Uint16Array]",A="[object Uint32Array]",z={};z[x]=z[k]=z[E]=z[T]=z[S]=z[C]=z[M]=z[P]=z[A]=!0,z[s]=z[u]=z[_]=z[l]=z[w]=z[c]=z[p]=z[f]=z[h]=z[d]=z[m]=z[y]=z[g]=z[v]=z[b]=!1;var R=Object.prototype,O=R.toString;t.exports=i},{}],118:[function(e,t,n){function r(e){return function(t){return null==t?void 0:t[e]}}function o(e){return null!=e&&a(v(e))}function i(e,t){return e="number"==typeof e||h.test(e)?+e:-1,t=null==t?g:t,e>-1&&e%1==0&&t>e}function a(e){return"number"==typeof e&&e>-1&&e%1==0&&g>=e}function s(e){for(var t=l(e),n=t.length,r=n&&e.length,o=!!r&&a(r)&&(f(e)||p(e)),s=-1,u=[];++s<n;){var c=t[s];(o&&i(c,r)||m.call(e,c))&&u.push(c)}return u}function u(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function l(e){if(null==e)return[];u(e)||(e=Object(e));var t=e.length;t=t&&a(t)&&(f(e)||p(e))&&t||0;for(var n=e.constructor,r=-1,o="function"==typeof n&&n.prototype===e,s=Array(t),l=t>0;++r<t;)s[r]=r+"";for(var c in e)l&&i(c,t)||"constructor"==c&&(o||!m.call(e,c))||s.push(c);return s}var c=e("lodash._getnative"),p=e("lodash.isarguments"),f=e("lodash.isarray"),h=/^\d+$/,d=Object.prototype,m=d.hasOwnProperty,y=c(Object,"keys"),g=9007199254740991,v=r("length"),b=y?function(e){var t=null==e?void 0:e.constructor;return"function"==typeof t&&t.prototype===e||"function"!=typeof e&&o(e)?s(e):u(e)?y(e):[]}:s;t.exports=b},{"lodash._getnative":113,"lodash.isarguments":114,"lodash.isarray":115}],119:[function(e,t,n){"use strict";t.exports=e("./v8.json")},{"./v8.json":120}],120:[function(e,t,n){t.exports={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number","default":0,period:360,units:"degrees"},pitch:{type:"number","default":0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_tile","source_geojson","source_video","source_image","source_canvas"],source_tile:{type:{required:!0,type:"enum",values:{vector:{},raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},minzoom:{type:"number","default":0},maxzoom:{type:"number","default":22},tileSize:{type:"number","default":512,units:"pixels"},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number","default":18},buffer:{type:"number","default":128,maximum:512,minimum:0},tolerance:{type:"number","default":.375},cluster:{type:"boolean","default":!1},clusterRadius:{type:"number","default":50,minimum:0},clusterMaxZoom:{type:"number"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_canvas:{type:{required:!0,type:"enum",values:{canvas:{}}},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}},animate:{type:"boolean","default":"true"},canvas:{type:"string",required:!0}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},"fill-extrusion":{},raster:{},background:{}}},metadata:{type:"*"},ref:{type:"string"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"},"paint.*":{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_fill-extrusion","layout_symbol","layout_raster","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},"default":"visible"}},layout_fill:{visibility:{type:"enum",values:{visible:{},none:{}},"default":"visible"}},layout_circle:{visibility:{type:"enum",values:{visible:{},none:{}},"default":"visible"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},"default":"visible"}},layout_line:{"line-cap":{type:"enum","function":"piecewise-constant","zoom-function":!0,values:{butt:{},round:{},square:{}},"default":"butt"},"line-join":{type:"enum","function":"piecewise-constant","zoom-function":!0,values:{bevel:{},round:{},miter:{}},"default":"miter"},"line-miter-limit":{type:"number","default":2,"function":"interpolated","zoom-function":!0,requires:[{"line-join":"miter"}]},"line-round-limit":{type:"number","default":1.05,"function":"interpolated","zoom-function":!0,requires:[{"line-join":"round"}]},visibility:{type:"enum",values:{visible:{},none:{}},"default":"visible"}},layout_symbol:{"symbol-placement":{type:"enum","function":"piecewise-constant","zoom-function":!0,values:{point:{},line:{}},"default":"point"},"symbol-spacing":{type:"number","default":250,minimum:1,"function":"interpolated","zoom-function":!0,units:"pixels",requires:[{"symbol-placement":"line"}]},"symbol-avoid-edges":{type:"boolean","function":"piecewise-constant","zoom-function":!0,"default":!1},"icon-allow-overlap":{type:"boolean","function":"piecewise-constant","zoom-function":!0,"default":!1,requires:["icon-image"]},"icon-ignore-placement":{type:"boolean","function":"piecewise-constant","zoom-function":!0,"default":!1,requires:["icon-image"]},"icon-optional":{type:"boolean","function":"piecewise-constant","zoom-function":!0,"default":!1,requires:["icon-image","text-field"]},"icon-rotation-alignment":{type:"enum","function":"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{},auto:{}},"default":"auto",requires:["icon-image"]},"icon-size":{type:"number","default":1,minimum:0,"function":"interpolated","zoom-function":!0,"property-function":!0,requires:["icon-image"]},"icon-text-fit":{type:"enum","function":"piecewise-constant","zoom-function":!0,values:{none:{},width:{},height:{},both:{}},"default":"none",requires:["icon-image","text-field"]},"icon-text-fit-padding":{type:"array",value:"number",length:4,"default":[0,0,0,0],units:"pixels","function":"interpolated","zoom-function":!0,requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}]},"icon-image":{type:"string","function":"piecewise-constant","zoom-function":!0,"property-function":!0,tokens:!0},"icon-rotate":{type:"number","default":0,period:360,"function":"interpolated","zoom-function":!0,"property-function":!0,units:"degrees",requires:["icon-image"]},"icon-padding":{type:"number","default":2,minimum:0,"function":"interpolated","zoom-function":!0,units:"pixels",requires:["icon-image"]},"icon-keep-upright":{type:"boolean","function":"piecewise-constant","zoom-function":!0,"default":!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":"line"}]},"icon-offset":{type:"array",value:"number",length:2,"default":[0,0],"function":"interpolated","zoom-function":!0,"property-function":!0,requires:["icon-image"]},"text-pitch-alignment":{type:"enum","function":"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{},auto:{}},"default":"auto",requires:["text-field"]},"text-rotation-alignment":{type:"enum","function":"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{},auto:{}},"default":"auto",requires:["text-field"]},"text-field":{type:"string","function":"piecewise-constant","zoom-function":!0,"property-function":!0,"default":"",tokens:!0},"text-font":{type:"array",value:"string","function":"piecewise-constant","zoom-function":!0,"default":["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"]},"text-size":{type:"number","default":16,minimum:0,units:"pixels","function":"interpolated","zoom-function":!0,"property-function":!0,requires:["text-field"]},"text-max-width":{type:"number","default":10,minimum:0,units:"ems","function":"interpolated","zoom-function":!0,requires:["text-field"]},"text-line-height":{type:"number","default":1.2,units:"ems","function":"interpolated","zoom-function":!0,requires:["text-field"]},"text-letter-spacing":{type:"number","default":0,units:"ems","function":"interpolated","zoom-function":!0,requires:["text-field"]},"text-justify":{type:"enum","function":"piecewise-constant","zoom-function":!0,values:{left:{},center:{},right:{}},"default":"center",requires:["text-field"]},"text-anchor":{type:"enum","function":"piecewise-constant","zoom-function":!0,values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"default":"center",requires:["text-field"]},"text-max-angle":{type:"number","default":45,units:"degrees","function":"interpolated","zoom-function":!0,requires:["text-field",{"symbol-placement":"line"}]},"text-rotate":{type:"number","default":0,period:360,units:"degrees","function":"interpolated","zoom-function":!0,"property-function":!0,requires:["text-field"]},"text-padding":{type:"number","default":2,minimum:0,units:"pixels","function":"interpolated","zoom-function":!0,requires:["text-field"]},"text-keep-upright":{type:"boolean","function":"piecewise-constant","zoom-function":!0,"default":!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":"line"}]},"text-transform":{type:"enum","function":"piecewise-constant","zoom-function":!0,"property-function":!0,values:{none:{},uppercase:{},lowercase:{}},"default":"none",requires:["text-field"]},"text-offset":{type:"array",value:"number",units:"ems","function":"interpolated","zoom-function":!0,"property-function":!0,length:2,"default":[0,0],requires:["text-field"]},"text-allow-overlap":{type:"boolean","function":"piecewise-constant","zoom-function":!0,"default":!1,requires:["text-field"]},"text-ignore-placement":{type:"boolean","function":"piecewise-constant","zoom-function":!0,"default":!1,requires:["text-field"]},"text-optional":{type:"boolean","function":"piecewise-constant","zoom-function":!0,"default":!1,requires:["text-field","icon-image"]},visibility:{type:"enum",values:{visible:{},none:{}},"default":"visible"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},"default":"visible"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},"in":{},"!in":{},all:{},any:{},none:{},has:{},"!has":{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},"function":{stops:{type:"array",value:"function_stop"},base:{type:"number","default":1,minimum:0},property:{type:"string","default":"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},"default":"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},"default":"rgb"},"default":{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:22,value:["number","color"],length:2},light:{anchor:{type:"enum","default":"viewport",values:{map:{},viewport:{}},transition:!1},position:{type:"array","default":[1.15,210,30],length:3,value:"number",transition:!0,"function":"interpolated","zoom-function":!0,"property-function":!1},color:{type:"color","default":"#ffffff","function":"interpolated","zoom-function":!0,"property-function":!1,transition:!0},intensity:{type:"number","default":.5,minimum:0,maximum:1,"function":"interpolated","zoom-function":!0,"property-function":!1,transition:!0}},paint:["paint_fill","paint_line","paint_circle","paint_fill-extrusion","paint_symbol","paint_raster","paint_background"],paint_fill:{"fill-antialias":{type:"boolean","function":"piecewise-constant","zoom-function":!0,"default":!0},"fill-opacity":{type:"number","function":"interpolated","zoom-function":!0,"property-function":!0,"default":1,minimum:0,maximum:1,transition:!0},"fill-color":{type:"color","default":"#000000","function":"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:[{"!":"fill-pattern"}]},"fill-outline-color":{type:"color","function":"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}]},"fill-translate":{type:"array",value:"number",length:2,"default":[0,0],"function":"interpolated","zoom-function":!0,transition:!0,units:"pixels"},"fill-translate-anchor":{type:"enum","function":"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{}},"default":"map",requires:["fill-translate"]},"fill-pattern":{type:"string","function":"piecewise-constant","zoom-function":!0,transition:!0}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number","function":"interpolated","zoom-function":!0,"property-function":!1,"default":1,minimum:0,maximum:1,transition:!0},"fill-extrusion-color":{type:"color","default":"#000000","function":"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:[{"!":"fill-extrusion-pattern"}]},"fill-extrusion-translate":{type:"array",value:"number",length:2,"default":[0,0],"function":"interpolated","zoom-function":!0,transition:!0,units:"pixels"},"fill-extrusion-translate-anchor":{type:"enum","function":"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{}},"default":"map",requires:["fill-extrusion-translate"]},"fill-extrusion-pattern":{type:"string","function":"piecewise-constant","zoom-function":!0,transition:!0},"fill-extrusion-height":{type:"number","function":"interpolated","zoom-function":!0,"property-function":!0,"default":0,minimum:0,maximum:65535,units:"meters",transition:!0},"fill-extrusion-base":{type:"number","function":"interpolated","zoom-function":!0,"property-function":!0,"default":0,minimum:0,maximum:65535,units:"meters",transition:!0,requires:["fill-extrusion-height"]}},paint_line:{"line-opacity":{type:"number","function":"interpolated","zoom-function":!0,"property-function":!0,"default":1,minimum:0,maximum:1,transition:!0},"line-color":{type:"color","default":"#000000","function":"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:[{"!":"line-pattern"}]},"line-translate":{type:"array",value:"number",length:2,"default":[0,0],"function":"interpolated","zoom-function":!0,transition:!0,units:"pixels"},"line-translate-anchor":{type:"enum","function":"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{}},"default":"map",requires:["line-translate"]},"line-width":{type:"number","default":1,minimum:0,"function":"interpolated","zoom-function":!0,transition:!0,units:"pixels"},"line-gap-width":{type:"number","default":0,minimum:0,"function":"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels"},"line-offset":{type:"number","default":0,"function":"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels"},"line-blur":{type:"number","default":0,minimum:0,"function":"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels"},"line-dasharray":{type:"array",value:"number","function":"piecewise-constant","zoom-function":!0,minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}]},"line-pattern":{type:"string","function":"piecewise-constant","zoom-function":!0,transition:!0}},paint_circle:{"circle-radius":{type:"number","default":5,minimum:0,"function":"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels"},"circle-color":{type:"color","default":"#000000","function":"interpolated","zoom-function":!0,"property-function":!0,transition:!0},"circle-blur":{type:"number","default":0,"function":"interpolated","zoom-function":!0,"property-function":!0,transition:!0},"circle-opacity":{type:"number","default":1,minimum:0,maximum:1,"function":"interpolated","zoom-function":!0,"property-function":!0,transition:!0},"circle-translate":{type:"array",value:"number",length:2,"default":[0,0],"function":"interpolated","zoom-function":!0,transition:!0,units:"pixels"},"circle-translate-anchor":{type:"enum","function":"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{}},"default":"map",requires:["circle-translate"]},"circle-pitch-scale":{type:"enum","function":"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{}},"default":"map"},"circle-stroke-width":{type:"number","default":0,minimum:0,"function":"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels"},"circle-stroke-color":{type:"color","default":"#000000","function":"interpolated","zoom-function":!0,"property-function":!0,transition:!0},"circle-stroke-opacity":{type:"number","default":1,minimum:0,maximum:1,"function":"interpolated","zoom-function":!0,"property-function":!0,transition:!0}},paint_symbol:{"icon-opacity":{type:"number","default":1,minimum:0,maximum:1,"function":"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:["icon-image"]},"icon-color":{type:"color","default":"#000000","function":"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:["icon-image"]},"icon-halo-color":{type:"color","default":"rgba(0, 0, 0, 0)","function":"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:["icon-image"]},"icon-halo-width":{type:"number","default":0,minimum:0,"function":"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels",requires:["icon-image"]},"icon-halo-blur":{type:"number","default":0,minimum:0,"function":"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels",requires:["icon-image"]},"icon-translate":{type:"array",value:"number",length:2,"default":[0,0],"function":"interpolated","zoom-function":!0,transition:!0,units:"pixels",requires:["icon-image"]},"icon-translate-anchor":{type:"enum","function":"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{}},"default":"map",requires:["icon-image","icon-translate"]},"text-opacity":{type:"number","default":1,minimum:0,maximum:1,"function":"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:["text-field"]},"text-color":{type:"color","default":"#000000","function":"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:["text-field"]},"text-halo-color":{type:"color","default":"rgba(0, 0, 0, 0)","function":"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:["text-field"]},"text-halo-width":{type:"number","default":0,minimum:0,"function":"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels",requires:["text-field"]},"text-halo-blur":{type:"number","default":0,minimum:0,"function":"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels",requires:["text-field"]},"text-translate":{type:"array",value:"number",length:2,"default":[0,0],"function":"interpolated","zoom-function":!0,transition:!0,units:"pixels",requires:["text-field"]},"text-translate-anchor":{type:"enum","function":"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{}},"default":"map",requires:["text-field","text-translate"]}},paint_raster:{"raster-opacity":{type:"number","default":1,minimum:0,maximum:1,"function":"interpolated","zoom-function":!0,transition:!0},"raster-hue-rotate":{type:"number","default":0,period:360,"function":"interpolated","zoom-function":!0,transition:!0,units:"degrees"},"raster-brightness-min":{type:"number","function":"interpolated","zoom-function":!0,"default":0,minimum:0,maximum:1,transition:!0},"raster-brightness-max":{type:"number","function":"interpolated","zoom-function":!0,"default":1,minimum:0,maximum:1,transition:!0},"raster-saturation":{type:"number","default":0,minimum:-1,maximum:1,"function":"interpolated","zoom-function":!0,transition:!0},"raster-contrast":{type:"number","default":0,minimum:-1,maximum:1,"function":"interpolated","zoom-function":!0,transition:!0},"raster-fade-duration":{type:"number","default":300,minimum:0,"function":"interpolated","zoom-function":!0,transition:!0,units:"milliseconds"}},paint_background:{"background-color":{type:"color","default":"#000000","function":"interpolated","zoom-function":!0,transition:!0,requires:[{"!":"background-pattern"}]},"background-pattern":{type:"string","function":"piecewise-constant","zoom-function":!0,transition:!0},"background-opacity":{type:"number","default":1,minimum:0,maximum:1,"function":"interpolated","zoom-function":!0,transition:!0}},transition:{duration:{type:"number","default":300,minimum:0,units:"milliseconds"},delay:{type:"number","default":0,minimum:0,units:"milliseconds"}}}},{}],121:[function(e,t,n){"use strict";t.exports=function(e){for(var t=arguments,n=1;n<arguments.length;n++){var r=t[n];for(var o in r)e[o]=r[o]}return e}},{}],122:[function(e,t,n){"use strict";t.exports=function(e){return e instanceof Number?"number":e instanceof String?"string":e instanceof Boolean?"boolean":Array.isArray(e)?"array":null===e?"null":typeof e}},{}],123:[function(e,t,n){"use strict";function r(e,t,n){return e*(1-n)+t*n}t.exports=r,r.number=r,r.vec2=function(e,t,n){return[r(e[0],t[0],n),r(e[1],t[1],n)]},r.color=function(e,t,n){return[r(e[0],t[0],n),r(e[1],t[1],n),r(e[2],t[2],n),r(e[3],t[3],n)]},r.array=function(e,t,n){return e.map(function(e,o){return r(e,t[o],n)})}},{}],124:[function(e,t,n){"use strict";var r=e("csscolorparser").parseCSSColor;t.exports=function(e){if("string"==typeof e){var t=r(e);if(!t)return;return[t[0]/255*t[3],t[1]/255*t[3],t[2]/255*t[3],t[3]]}return Array.isArray(e)?e:void 0}},{csscolorparser:109}],125:[function(e,t,n){"use strict";t.exports=["type","source","source-layer","minzoom","maxzoom","filter","layout"]},{}],126:[function(e,t,n){"use strict";t.exports=function(e){return e instanceof Number||e instanceof String||e instanceof Boolean?e.valueOf():e}},{}],127:[function(e,t,n){"use strict";var r=e("../error/validation_error"),o=e("../util/get_type"),i=e("../util/extend");t.exports=function(t){var n=e("./validate_function"),a=e("./validate_object"),s={"*":function(){return[]},array:e("./validate_array"),"boolean":e("./validate_boolean"),number:e("./validate_number"),color:e("./validate_color"),constants:e("./validate_constants"),"enum":e("./validate_enum"),filter:e("./validate_filter"),"function":e("./validate_function"),layer:e("./validate_layer"),object:e("./validate_object"),source:e("./validate_source"),light:e("./validate_light"),string:e("./validate_string")},u=t.value,l=t.valueSpec,c=t.key,p=t.styleSpec,f=t.style;if("string"===o(u)&&"@"===u[0]){if(p.$version>7)return[new r(c,u,"constants have been deprecated as of v8")];if(!(u in f.constants))return[new r(c,u,'constant "%s" not found',u)];t=i({},t,{value:f.constants[u]})}return l["function"]&&"object"===o(u)?n(t):l.type&&s[l.type]?s[l.type](t):a(i({},t,{valueSpec:l.type?p[l.type]:l}))}},{"../error/validation_error":104,"../util/extend":121,"../util/get_type":122,"./validate_array":128,"./validate_boolean":129,"./validate_color":130,"./validate_constants":131,"./validate_enum":132,"./validate_filter":133,"./validate_function":134,"./validate_layer":136,"./validate_light":138,"./validate_number":139,"./validate_object":140,"./validate_source":143,"./validate_string":144}],128:[function(e,t,n){"use strict";var r=e("../util/get_type"),o=e("./validate"),i=e("../error/validation_error");t.exports=function(e){var t=e.value,n=e.valueSpec,a=e.style,s=e.styleSpec,u=e.key,l=e.arrayElementValidator||o;if("array"!==r(t))return[new i(u,t,"array expected, %s found",r(t))];if(n.length&&t.length!==n.length)return[new i(u,t,"array length %d expected, length %d found",n.length,t.length)];if(n["min-length"]&&t.length<n["min-length"])return[new i(u,t,"array length at least %d expected, length %d found",n["min-length"],t.length)];var c={type:n.value};s.$version<7&&(c["function"]=n["function"]),"object"===r(n.value)&&(c=n.value);for(var p=[],f=0;f<t.length;f++)p=p.concat(l({array:t,arrayIndex:f,value:t[f],valueSpec:c,style:a,styleSpec:s,key:u+"["+f+"]"}));return p}},{"../error/validation_error":104,"../util/get_type":122,"./validate":127}],129:[function(e,t,n){"use strict";var r=e("../util/get_type"),o=e("../error/validation_error");t.exports=function(e){var t=e.value,n=e.key,i=r(t);return"boolean"!==i?[new o(n,t,"boolean expected, %s found",i)]:[]}},{"../error/validation_error":104,"../util/get_type":122}],130:[function(e,t,n){"use strict";var r=e("../error/validation_error"),o=e("../util/get_type"),i=e("csscolorparser").parseCSSColor;t.exports=function(e){var t=e.key,n=e.value,a=o(n);return"string"!==a?[new r(t,n,"color expected, %s found",a)]:null===i(n)?[new r(t,n,'color expected, "%s" found',n)]:[]}},{"../error/validation_error":104,"../util/get_type":122,csscolorparser:109}],131:[function(e,t,n){"use strict";var r=e("../error/validation_error"),o=e("../util/get_type");t.exports=function(e){var t=e.key,n=e.value,i=e.styleSpec;if(i.$version>7)return n?[new r(t,n,"constants have been deprecated as of v8")]:[];var a=o(n);if("object"!==a)return[new r(t,n,"object expected, %s found",a)];var s=[];for(var u in n)"@"!==u[0]&&s.push(new r(t+"."+u,n[u],'constants must start with "@"'));return s}},{"../error/validation_error":104,"../util/get_type":122}],132:[function(e,t,n){"use strict";var r=e("../error/validation_error"),o=e("../util/unbundle_jsonlint");t.exports=function(e){var t=e.key,n=e.value,i=e.valueSpec,a=[];return Array.isArray(i.values)?-1===i.values.indexOf(o(n))&&a.push(new r(t,n,"expected one of [%s], %s found",i.values.join(", "),n)):-1===Object.keys(i.values).indexOf(o(n))&&a.push(new r(t,n,"expected one of [%s], %s found",Object.keys(i.values).join(", "),n)),a}},{"../error/validation_error":104,"../util/unbundle_jsonlint":126}],133:[function(e,t,n){"use strict";var r=e("../error/validation_error"),o=e("./validate_enum"),i=e("../util/get_type"),a=e("../util/unbundle_jsonlint");t.exports=function s(e){var t,n=e.value,u=e.key,l=e.styleSpec,c=[];if("array"!==i(n))return[new r(u,n,"array expected, %s found",i(n))];if(n.length<1)return[new r(u,n,"filter array must have at least 1 element")];switch(c=c.concat(o({key:u+"[0]",value:n[0],valueSpec:l.filter_operator,style:e.style,styleSpec:e.styleSpec})),a(n[0])){case"<":case"<=":case">":case">=":n.length>=2&&"$type"===a(n[1])&&c.push(new r(u,n,'"$type" cannot be use with operator "%s"',n[0]));case"==":case"!=":3!==n.length&&c.push(new r(u,n,'filter array for operator "%s" must have 3 elements',n[0]));case"in":case"!in":n.length>=2&&(t=i(n[1]),"string"!==t&&c.push(new r(u+"[1]",n[1],"string expected, %s found",t)));for(var p=2;p<n.length;p++)t=i(n[p]),"$type"===a(n[1])?c=c.concat(o({key:u+"["+p+"]",value:n[p],valueSpec:l.geometry_type,style:e.style,styleSpec:e.styleSpec})):"string"!==t&&"number"!==t&&"boolean"!==t&&c.push(new r(u+"["+p+"]",n[p],"string, number, or boolean expected, %s found",t));break;case"any":case"all":case"none":for(var f=1;f<n.length;f++)c=c.concat(s({key:u+"["+f+"]",value:n[f],style:e.style,styleSpec:e.styleSpec}));break;case"has":case"!has":t=i(n[1]),2!==n.length?c.push(new r(u,n,'filter array for "%s" operator must have 2 elements',n[0])):"string"!==t&&c.push(new r(u+"[1]",n[1],"string expected, %s found",t))}return c}},{"../error/validation_error":104,"../util/get_type":122,"../util/unbundle_jsonlint":126,"./validate_enum":132}],134:[function(e,t,n){"use strict";var r=e("../error/validation_error"),o=e("../util/get_type"),i=e("./validate"),a=e("./validate_object"),s=e("./validate_array"),u=e("./validate_number"),l=e("../util/unbundle_jsonlint");t.exports=function(e){function t(e){if("identity"===y)return[new r(e.key,e.value,'identity function may not have a "stops" property')];var t=[],i=e.value;return t=t.concat(s({key:e.key,value:i,valueSpec:e.valueSpec,style:e.style,styleSpec:e.styleSpec,arrayElementValidator:n})),"array"===o(i)&&0===i.length&&t.push(new r(e.key,i,"array must have at least one stop")),t}function n(e){var t=[],n=e.value,s=e.key;if("array"!==o(n))return[new r(s,n,"array expected, %s found",o(n))];if(2!==n.length)return[new r(s,n,"array length %d expected, length %d found",2,n.length)];if(_){if("object"!==o(n[0]))return[new r(s,n,"object expected, %s found",o(n[0]))];if(void 0===n[0].zoom)return[new r(s,n,"object stop key must have zoom")];if(void 0===n[0].value)return[new r(s,n,"object stop key must have value")];if(d&&d>l(n[0].zoom))return[new r(s,n[0].zoom,"stop zoom values must appear in ascending order")];l(n[0].zoom)!==d&&(d=l(n[0].zoom),h=void 0,g={}),t=t.concat(a({key:s+"[0]",value:n[0],valueSpec:{zoom:{}},style:e.style,styleSpec:e.styleSpec,objectElementValidators:{zoom:u,value:c}}))}else t=t.concat(c({key:s+"[0]",value:n[0],valueSpec:{},style:e.style,styleSpec:e.styleSpec}));return t.concat(i({key:s+"[1]",value:n[1],valueSpec:m,style:e.style,styleSpec:e.styleSpec}))}function c(e){var t=o(e.value),n=l(e.value);if(f){if(t!==f)return[new r(e.key,e.value,"%s stop domain type must match previous stop domain type %s",t,f)]}else f=t;if("number"!==t&&"string"!==t&&"boolean"!==t)return[new r(e.key,e.value,"stop domain value must be a number, string, or boolean")];if("number"!==t&&"categorical"!==y){var i="number expected, %s found";return m["property-function"]&&void 0===y&&(i+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new r(e.key,e.value,i,t)]}return"categorical"!==y||"number"!==t||isFinite(n)&&Math.floor(n)===n?"number"===t&&void 0!==h&&h>n?[new r(e.key,e.value,"stop domain values must appear in ascending order")]:(h=n,
"categorical"===y&&n in g?[new r(e.key,e.value,"stop domain values must be unique")]:(g[n]=!0,[])):[new r(e.key,e.value,"integer expected, found %s",n)]}function p(e){return i({key:e.key,value:e.value,valueSpec:m,style:e.style,styleSpec:e.styleSpec})}var f,h,d,m=e.valueSpec,y=l(e.value.type),g={},v="categorical"!==y&&void 0===e.value.property,b=!v,_="array"===o(e.value.stops)&&"array"===o(e.value.stops[0])&&"object"===o(e.value.stops[0][0]),w=a({key:e.key,value:e.value,valueSpec:e.styleSpec["function"],style:e.style,styleSpec:e.styleSpec,objectElementValidators:{stops:t,"default":p}});return"identity"===y&&v&&w.push(new r(e.key,e.value,'missing required property "property"')),"identity"===y||e.value.stops||w.push(new r(e.key,e.value,'missing required property "stops"')),"exponential"===y&&"piecewise-constant"===e.valueSpec["function"]&&w.push(new r(e.key,e.value,"exponential functions not supported")),e.styleSpec.$version>=8&&(b&&!e.valueSpec["property-function"]?w.push(new r(e.key,e.value,"property functions not supported")):v&&!e.valueSpec["zoom-function"]&&w.push(new r(e.key,e.value,"zoom functions not supported"))),"categorical"!==y&&!_||void 0!==e.value.property||w.push(new r(e.key,e.value,'"property" property is required')),w}},{"../error/validation_error":104,"../util/get_type":122,"../util/unbundle_jsonlint":126,"./validate":127,"./validate_array":128,"./validate_number":139,"./validate_object":140}],135:[function(e,t,n){"use strict";var r=e("../error/validation_error"),o=e("./validate_string");t.exports=function(e){var t=e.value,n=e.key,i=o(e);return i.length?i:(-1===t.indexOf("{fontstack}")&&i.push(new r(n,t,'"glyphs" url must include a "{fontstack}" token')),-1===t.indexOf("{range}")&&i.push(new r(n,t,'"glyphs" url must include a "{range}" token')),i)}},{"../error/validation_error":104,"./validate_string":144}],136:[function(e,t,n){"use strict";var r=e("../error/validation_error"),o=e("../util/unbundle_jsonlint"),i=e("./validate_object"),a=e("./validate_filter"),s=e("./validate_paint_property"),u=e("./validate_layout_property"),l=e("../util/extend");t.exports=function(e){var t=[],n=e.value,c=e.key,p=e.style,f=e.styleSpec;n.type||n.ref||t.push(new r(c,n,'either "type" or "ref" is required'));var h=o(n.type),d=o(n.ref);if(n.id)for(var m=o(n.id),y=0;y<e.arrayIndex;y++){var g=p.layers[y];o(g.id)===m&&t.push(new r(c,n.id,'duplicate layer id "%s", previously used at line %d',n.id,g.id.__line__))}if("ref"in n){["type","source","source-layer","filter","layout"].forEach(function(e){e in n&&t.push(new r(c,n[e],'"%s" is prohibited for ref layers',e))});var v;p.layers.forEach(function(e){o(e.id)===d&&(v=e)}),v?v.ref?t.push(new r(c,n.ref,"ref cannot reference another ref layer")):h=o(v.type):t.push(new r(c,n.ref,'ref layer "%s" not found',d))}else if("background"!==h)if(n.source){var b=p.sources&&p.sources[n.source],_=b&&o(b.type);b?"vector"===_&&"raster"===h?t.push(new r(c,n.source,'layer "%s" requires a raster source',n.id)):"raster"===_&&"raster"!==h?t.push(new r(c,n.source,'layer "%s" requires a vector source',n.id)):"vector"!==_||n["source-layer"]||t.push(new r(c,n,'layer "%s" must specify a "source-layer"',n.id)):t.push(new r(c,n.source,'source "%s" not found',n.source))}else t.push(new r(c,n,'missing required property "source"'));return t=t.concat(i({key:c,value:n,valueSpec:f.layer,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":function(){return[]},filter:a,layout:function(e){return i({layer:n,key:e.key,value:e.value,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":function(e){return u(l({layerType:h},e))}}})},paint:function(e){return i({layer:n,key:e.key,value:e.value,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":function(e){return s(l({layerType:h},e))}}})}}}))}},{"../error/validation_error":104,"../util/extend":121,"../util/unbundle_jsonlint":126,"./validate_filter":133,"./validate_layout_property":137,"./validate_object":140,"./validate_paint_property":141}],137:[function(e,t,n){"use strict";var r=e("./validate_property");t.exports=function(e){return r(e,"layout")}},{"./validate_property":142}],138:[function(e,t,n){"use strict";var r=e("../error/validation_error"),o=e("../util/get_type"),i=e("./validate");t.exports=function(e){var t=e.value,n=e.styleSpec,a=n.light,s=e.style,u=[],l=o(t);if(void 0===t)return u;if("object"!==l)return u=u.concat([new r("light",t,"object expected, %s found",l)]);for(var c in t){var p=c.match(/^(.*)-transition$/);u=p&&a[p[1]]&&a[p[1]].transition?u.concat(i({key:c,value:t[c],valueSpec:n.transition,style:s,styleSpec:n})):a[c]?u.concat(i({key:c,value:t[c],valueSpec:a[c],style:s,styleSpec:n})):u.concat([new r(c,t[c],'unknown property "%s"',c)])}return u}},{"../error/validation_error":104,"../util/get_type":122,"./validate":127}],139:[function(e,t,n){"use strict";var r=e("../util/get_type"),o=e("../error/validation_error");t.exports=function(e){var t=e.key,n=e.value,i=e.valueSpec,a=r(n);return"number"!==a?[new o(t,n,"number expected, %s found",a)]:"minimum"in i&&n<i.minimum?[new o(t,n,"%s is less than the minimum value %s",n,i.minimum)]:"maximum"in i&&n>i.maximum?[new o(t,n,"%s is greater than the maximum value %s",n,i.maximum)]:[]}},{"../error/validation_error":104,"../util/get_type":122}],140:[function(e,t,n){"use strict";var r=e("../error/validation_error"),o=e("../util/get_type"),i=e("./validate");t.exports=function(e){var t=e.key,n=e.value,a=e.valueSpec||{},s=e.objectElementValidators||{},u=e.style,l=e.styleSpec,c=[],p=o(n);if("object"!==p)return[new r(t,n,"object expected, %s found",p)];for(var f in n){var h=f.split(".")[0],d=a[h]||a["*"],m=void 0;if(s[h])m=s[h];else if(a[h])m=i;else if(s["*"])m=s["*"];else{if(!a["*"]){c.push(new r(t,n[f],'unknown property "%s"',f));continue}m=i}c=c.concat(m({key:(t?t+".":t)+f,value:n[f],valueSpec:d,style:u,styleSpec:l,object:n,objectKey:f}))}for(var y in a)a[y].required&&void 0===a[y]["default"]&&void 0===n[y]&&c.push(new r(t,n,'missing required property "%s"',y));return c}},{"../error/validation_error":104,"../util/get_type":122,"./validate":127}],141:[function(e,t,n){"use strict";var r=e("./validate_property");t.exports=function(e){return r(e,"paint")}},{"./validate_property":142}],142:[function(e,t,n){"use strict";var r=e("./validate"),o=e("../error/validation_error"),i=e("../util/get_type");t.exports=function(e,t){var n=e.key,a=e.style,s=e.styleSpec,u=e.value,l=e.objectKey,c=s[t+"_"+e.layerType];if(!c)return[];var p=l.match(/^(.*)-transition$/);if("paint"===t&&p&&c[p[1]]&&c[p[1]].transition)return r({key:n,value:u,valueSpec:s.transition,style:a,styleSpec:s});var f=e.valueSpec||c[l];if(!f)return[new o(n,u,'unknown property "%s"',l)];var h;if("string"===i(u)&&f["property-function"]&&!f.tokens&&(h=/^{([^}]+)}$/.exec(u)))return[new o(n,u,'"%s" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": %s` }`.',l,JSON.stringify(h[1]))];var d=[];return"symbol"===e.layerType&&"text-field"===l&&a&&!a.glyphs&&d.push(new o(n,u,'use of "text-field" requires a style "glyphs" property')),d.concat(r({key:e.key,value:u,valueSpec:f,style:a,styleSpec:s}))}},{"../error/validation_error":104,"../util/get_type":122,"./validate":127}],143:[function(e,t,n){"use strict";var r=e("../error/validation_error"),o=e("../util/unbundle_jsonlint"),i=e("./validate_object"),a=e("./validate_enum");t.exports=function(e){var t=e.value,n=e.key,s=e.styleSpec,u=e.style;if(!t.type)return[new r(n,t,'"type" is required')];var l=o(t.type),c=[];switch(l){case"vector":case"raster":if(c=c.concat(i({key:n,value:t,valueSpec:s.source_tile,style:e.style,styleSpec:s})),"url"in t)for(var p in t)["type","url","tileSize"].indexOf(p)<0&&c.push(new r(n+"."+p,t[p],'a source with a "url" property may not include a "%s" property',p));return c;case"geojson":return i({key:n,value:t,valueSpec:s.source_geojson,style:u,styleSpec:s});case"video":return i({key:n,value:t,valueSpec:s.source_video,style:u,styleSpec:s});case"image":return i({key:n,value:t,valueSpec:s.source_image,style:u,styleSpec:s});case"canvas":return i({key:n,value:t,valueSpec:s.source_canvas,style:u,styleSpec:s});default:return a({key:n+".type",value:t.type,valueSpec:{values:["vector","raster","geojson","video","image","canvas"]},style:u,styleSpec:s})}}},{"../error/validation_error":104,"../util/unbundle_jsonlint":126,"./validate_enum":132,"./validate_object":140}],144:[function(e,t,n){"use strict";var r=e("../util/get_type"),o=e("../error/validation_error");t.exports=function(e){var t=e.value,n=e.key,i=r(t);return"string"!==i?[new o(n,t,"string expected, %s found",i)]:[]}},{"../error/validation_error":104,"../util/get_type":122}],145:[function(e,t,n){"use strict";function r(e,t){t=t||u;var n=[];return n=n.concat(s({key:"",value:e,valueSpec:t.$root,styleSpec:t,style:e,objectElementValidators:{glyphs:l,"*":function(){return[]}}})),t.$version>7&&e.constants&&(n=n.concat(a({key:"constants",value:e.constants,style:e,styleSpec:t}))),o(n)}function o(e){return[].concat(e).sort(function(e,t){return e.line-t.line})}function i(e){return function(){return o(e.apply(this,arguments))}}var a=e("./validate/validate_constants"),s=e("./validate/validate"),u=e("./reference/latest"),l=e("./validate/validate_glyphs_url");r.source=i(e("./validate/validate_source")),r.light=i(e("./validate/validate_light")),r.layer=i(e("./validate/validate_layer")),r.filter=i(e("./validate/validate_filter")),r.paintProperty=i(e("./validate/validate_paint_property")),r.layoutProperty=i(e("./validate/validate_layout_property")),t.exports=r},{"./reference/latest":119,"./validate/validate":127,"./validate/validate_constants":131,"./validate/validate_filter":133,"./validate/validate_glyphs_url":135,"./validate/validate_layer":136,"./validate/validate_layout_property":137,"./validate/validate_light":138,"./validate/validate_paint_property":141,"./validate/validate_source":143}],146:[function(e,t,n){"use strict";var r=function(){this.n=0,this.times=[]};r.prototype.stopped=function(){return this.times=this.times.filter(function(e){return e.time>=(new Date).getTime()}),!this.times.length},r.prototype.set=function(e){return this.times.push({id:this.n,time:e+(new Date).getTime()}),this.n++},r.prototype.cancel=function(e){this.times=this.times.filter(function(t){return t.id!==e})},t.exports=r},{}],147:[function(e,t,n){"use strict";var r=e("../util/evented"),o=e("../util/ajax"),i=e("../util/browser"),a=e("../util/mapbox").normalizeSpriteURL,s=function(){this.x=0,this.y=0,this.width=0,this.height=0,this.pixelRatio=1,this.sdf=!1},u=function(e){function t(t,n){var r=this;e.call(this),this.base=t,this.retina=i.devicePixelRatio>1,this.setEventedParent(n);var s=this.retina?"@2x":"";o.getJSON(a(t,s,".json"),function(e,t){return e?void r.fire("error",{error:e}):(r.data=t,void(r.imgData&&r.fire("data",{dataType:"style"})))}),o.getImage(a(t,s,".png"),function(e,t){return e?void r.fire("error",{error:e}):(r.imgData=i.getImageData(t),r.width=t.width,void(r.data&&r.fire("data",{dataType:"style"})))})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toJSON=function(){return this.base},t.prototype.loaded=function(){return!(!this.data||!this.imgData)},t.prototype.resize=function(){var e=this;if(i.devicePixelRatio>1!==this.retina){var n=new t(this.base);n.on("data",function(){e.data=n.data,e.imgData=n.imgData,e.width=n.width,e.retina=n.retina})}},t.prototype.getSpritePosition=function(e){if(!this.loaded())return new s;var t=this.data&&this.data[e];return t&&this.imgData?t:new s},t}(r);t.exports=u},{"../util/ajax":194,"../util/browser":195,"../util/evented":203,"../util/mapbox":210}],148:[function(e,t,n){"use strict";var r=e("../style-spec/reference/latest"),o=e("../util/util"),i=e("../util/evented"),a=e("./validate_style"),s=e("./style_declaration"),u=e("./style_transition"),l="-transition",c=function(e){function t(t){e.call(this),this.properties=["anchor","color","position","intensity"],this._specifications=r.light,this.set(t)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.set=function(e){var t=this;if(!this._validate(a.light,e)){this._declarations={},this._transitions={},this._transitionOptions={},this.calculated={},e=o.extend({anchor:this._specifications.anchor["default"],color:this._specifications.color["default"],position:this._specifications.position["default"],intensity:this._specifications.intensity["default"]},e);for(var n=0,r=t.properties;n<r.length;n+=1){var i=r[n];t._declarations[i]=new s(t._specifications[i],e[i])}return this}},t.prototype.getLight=function(){return{anchor:this.getLightProperty("anchor"),color:this.getLightProperty("color"),position:this.getLightProperty("position"),intensity:this.getLightProperty("intensity")}},t.prototype.getLightProperty=function(e){return o.endsWith(e,l)?this._transitionOptions[e]:this._declarations[e]&&this._declarations[e].value},t.prototype.getLightValue=function(e,t){if("position"===e){var n=this._transitions[e].calculate(t),r=o.sphericalToCartesian(n);return{x:r[0],y:r[1],z:r[2]}}return this._transitions[e].calculate(t)},t.prototype.setLight=function(e){var t=this;if(!this._validate(a.light,e))for(var n in e){var r=e[n];o.endsWith(n,l)?t._transitionOptions[n]=r:null===r||void 0===r?delete t._declarations[n]:t._declarations[n]=new s(t._specifications[n],r)}},t.prototype.recalculate=function(e){var t=this;for(var n in t._declarations)t.calculated[n]=t.getLightValue(n,{zoom:e})},t.prototype._applyLightDeclaration=function(e,t,n,r,i){var a=n.transition?this._transitions[e]:void 0,c=this._specifications[e];if(null!==t&&void 0!==t||(t=new s(c,c["default"])),!a||a.declaration.json!==t.json){var p=o.extend({duration:300,delay:0},r,this.getLightProperty(e+l)),f=this._transitions[e]=new u(c,t,a,p);f.instant()||(f.loopID=i.set(f.endTime-Date.now())),a&&i.cancel(a.loopID)}},t.prototype.updateLightTransitions=function(e,t,n){var r,o=this;for(r in o._declarations)o._applyLightDeclaration(r,o._declarations[r],e,t,n)},t.prototype._validate=function(e,t){return a.emitErrors(this,e.call(a,o.extend({value:t,style:{glyphs:!0,sprite:!0},styleSpec:r})))},t}(i);t.exports=c},{"../style-spec/reference/latest":119,"../util/evented":203,"../util/util":215,"./style_declaration":150,"./style_transition":158,"./validate_style":159}],149:[function(e,t,n){"use strict";var r=e("../util/evented"),o=e("./style_layer"),i=e("./image_sprite"),a=e("./light"),s=e("../symbol/glyph_source"),u=e("../symbol/sprite_atlas"),l=e("../render/line_atlas"),c=e("../util/util"),p=e("../util/ajax"),f=e("../util/mapbox"),h=e("../util/browser"),d=e("../util/dispatcher"),m=e("./animation_loop"),y=e("./validate_style"),g=e("../source/source"),v=e("../source/query_features"),b=e("../source/source_cache"),_=e("../style-spec/reference/latest"),w=e("../style-spec/function"),x=e("../util/global_worker_pool"),k=e("../style-spec/deref"),E=e("../style-spec/diff"),T=e("../source/rtl_text_plugin"),S=c.pick(E.operations,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition"]),C=c.pick(E.operations,["setCenter","setZoom","setBearing","setPitch"]),M=function(e){function t(t,n,r){var o=this;e.call(this),this.map=n,this.animationLoop=n&&n.animationLoop||new m,this.dispatcher=new d(x(),this),this.spriteAtlas=new u(1024,1024),this.spriteAtlas.setEventedParent(this),this.lineAtlas=new l(256,512),this._layers={},this._order=[],this.sourceCaches={},this.zoomHistory={},this._loaded=!1,c.bindAll(["_redoPlacement"],this),this._resetUpdates(),r=c.extend({validate:"string"!=typeof t||!f.isMapboxURL(t)},r),this.setEventedParent(n),this.fire("dataloading",{dataType:"style"});var a=this;this._rtlTextPluginCallback=T.registerForPluginAvailability(function(e){a.dispatcher.broadcast("loadRTLTextPlugin",e.pluginBlobURL,e.errorCallback);for(var t in a.sourceCaches)a.sourceCaches[t].reload()});var g=function(e,t){if(e)return void o.fire("error",{error:e});if(!r.validate||!y.emitErrors(o,y(t))){o._loaded=!0,o.stylesheet=t,o.updateClasses();for(var n in t.sources)o.addSource(n,t.sources[n],r);t.sprite&&(o.sprite=new i(t.sprite,o)),o.glyphSource=new s(t.glyphs),o._resolve(),o.fire("data",{dataType:"style"}),o.fire("style.load")}};"string"==typeof t?p.getJSON(f.normalizeStyleURL(t),g):h.frame(g.bind(this,null,t)),this.on("data",function(e){if("source"===e.dataType&&"metadata"===e.sourceDataType){var t=o.sourceCaches[e.sourceId].getSource();if(t&&t.vectorLayerIds)for(var n in o._layers){var r=o._layers[n];r.source===t.id&&o._validateLayer(r)}}})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._validateLayer=function(e){var t=this.sourceCaches[e.source];if(e.sourceLayer&&t){var n=t.getSource();("geojson"===n.type||n.vectorLayerIds&&-1===n.vectorLayerIds.indexOf(e.sourceLayer))&&this.fire("error",{error:new Error('Source layer "'+e.sourceLayer+'" does not exist on source "'+n.id+'" as specified by style layer "'+e.id+'"')})}},t.prototype.loaded=function(){var e=this;if(!this._loaded)return!1;if(Object.keys(this._updatedSources).length)return!1;for(var t in e.sourceCaches)if(!e.sourceCaches[t].loaded())return!1;return!(this.sprite&&!this.sprite.loaded())},t.prototype._resolve=function(){var e=this,t=k(this.stylesheet.layers);this._order=t.map(function(e){return e.id}),this._layers={};for(var n=0,r=t;n<r.length;n+=1){var i=r[n];i=o.create(i),i.setEventedParent(e,{layer:{id:i.id}}),e._layers[i.id]=i}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new a(this.stylesheet.light)},t.prototype._serializeLayers=function(e){var t=this;return e.map(function(e){return t._layers[e].serialize()})},t.prototype._applyClasses=function(e,t){var n=this;if(this._loaded){e=e||[],t=t||{transition:!0};var r=this.stylesheet.transition||{},o=this._updatedAllPaintProps?this._layers:this._updatedPaintProps;for(var i in o){var a=n._layers[i],s=n._updatedPaintProps[i];if(n._updatedAllPaintProps||s.all)a.updatePaintTransitions(e,t,r,n.animationLoop,n.zoomHistory);else for(var u in s)n._layers[i].updatePaintTransition(u,e,t,r,n.animationLoop,n.zoomHistory)}this.light.updateLightTransitions(t,r,this.animationLoop)}},t.prototype._recalculate=function(e){var t=this;if(this._loaded){for(var n in t.sourceCaches)t.sourceCaches[n].used=!1;this._updateZoomHistory(e);for(var r=0,o=t._order;r<o.length;r+=1){var i=o[r],a=t._layers[i];a.recalculate(e),!a.isHidden(e)&&a.source&&(t.sourceCaches[a.source].used=!0)}this.light.recalculate(e);var s=300;Math.floor(this.z)!==Math.floor(e)&&this.animationLoop.set(s),this.z=e}},t.prototype._updateZoomHistory=function(e){var t=this.zoomHistory;void 0===t.lastIntegerZoom&&(t.lastIntegerZoom=Math.floor(e),t.lastIntegerZoomTime=0,t.lastZoom=e),Math.floor(t.lastZoom)<Math.floor(e)?(t.lastIntegerZoom=Math.floor(e),t.lastIntegerZoomTime=Date.now()):Math.floor(t.lastZoom)>Math.floor(e)&&(t.lastIntegerZoom=Math.floor(e+1),t.lastIntegerZoomTime=Date.now()),t.lastZoom=e},t.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},t.prototype.update=function(e,t){var n=this;if(this._changed){var r=Object.keys(this._updatedLayers),o=Object.keys(this._removedLayers);(r.length||o.length||this._updatedSymbolOrder)&&this._updateWorkerLayers(r,o);for(var i in n._updatedSources){var a=n._updatedSources[i];"reload"===a?n._reloadSource(i):"clear"===a&&n._clearSource(i)}this._applyClasses(e,t),this._resetUpdates(),this.fire("data",{dataType:"style"})}},t.prototype._updateWorkerLayers=function(e,t){var n=this,r=this._updatedSymbolOrder?this._order.filter(function(e){return"symbol"===n._layers[e].type}):null;this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(e),removedIds:t,symbolOrder:r})},t.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSymbolOrder=!1,this._updatedSources={},this._updatedPaintProps={},this._updatedAllPaintProps=!1},t.prototype.setState=function(e){var t=this;if(this._checkLoaded(),y.emitErrors(this,y(e)))return!1;e=c.extend({},e),e.layers=k(e.layers);var n=E(this.serialize(),e).filter(function(e){return!(e.command in C)});if(0===n.length)return!1;var r=n.filter(function(e){return!(e.command in S)});if(r.length>0)throw new Error("Unimplemented: "+r.map(function(e){return e.command}).join(", ")+".");return n.forEach(function(e){"setTransition"!==e.command&&t[e.command].apply(t,e.args)}),this.stylesheet=e,!0},t.prototype.addSource=function(e,t,n){var r=this;if(this._checkLoaded(),void 0!==this.sourceCaches[e])throw new Error("There is already a source with this ID");if(!t.type)throw new Error("The type property must be defined, but the only the following properties were given: "+Object.keys(t)+".");var o=["vector","raster","geojson","video","image","canvas"],i=o.indexOf(t.type)>=0;if(!i||!this._validate(y.source,"sources."+e,t,null,n)){var a=this.sourceCaches[e]=new b(e,t,this.dispatcher);a.style=this,a.setEventedParent(this,function(){return{isSourceLoaded:r.loaded(),source:a.serialize(),sourceId:e}}),a.onAdd(this.map),this._changed=!0}},t.prototype.removeSource=function(e){if(this._checkLoaded(),void 0===this.sourceCaches[e])throw new Error("There is no source with this ID");var t=this.sourceCaches[e];delete this.sourceCaches[e],delete this._updatedSources[e],t.setEventedParent(null),t.clearTiles(),t.onRemove&&t.onRemove(this.map),this._changed=!0},t.prototype.getSource=function(e){return this.sourceCaches[e]&&this.sourceCaches[e].getSource()},t.prototype.addLayer=function(e,t,n){this._checkLoaded();var r=e.id;if("object"==typeof e.source&&(this.addSource(r,e.source),e=c.extend(e,{source:r})),!this._validate(y.layer,"layers."+r,e,{arrayIndex:-1},n)){var i=o.create(e);this._validateLayer(i),i.setEventedParent(this,{layer:{id:r}});var a=t?this._order.indexOf(t):this._order.length;if(this._order.splice(a,0,r),this._layers[r]=i,this._removedLayers[r]&&i.source){var s=this._removedLayers[r];delete this._removedLayers[r],this._updatedSources[i.source]=s.type!==i.type?"clear":"reload"}this._updateLayer(i),"symbol"===i.type&&(this._updatedSymbolOrder=!0),this.updateClasses(r)}},t.prototype.moveLayer=function(e,t){this._checkLoaded(),this._changed=!0;var n=this._layers[e];if(!n)return void this.fire("error",{error:new Error("The layer '"+e+"' does not exist in the map's style and cannot be moved.")});var r=this._order.indexOf(e);this._order.splice(r,1);var o=t?this._order.indexOf(t):this._order.length;this._order.splice(o,0,e),"symbol"===n.type&&(this._updatedSymbolOrder=!0,n.source&&!this._updatedSources[n.source]&&(this._updatedSources[n.source]="reload"))},t.prototype.removeLayer=function(e){this._checkLoaded();var t=this._layers[e];if(!t)return void this.fire("error",{error:new Error("The layer '"+e+"' does not exist in the map's style and cannot be removed.")});t.setEventedParent(null);var n=this._order.indexOf(e);this._order.splice(n,1),"symbol"===t.type&&(this._updatedSymbolOrder=!0),this._changed=!0,this._removedLayers[e]=t,delete this._layers[e],delete this._updatedLayers[e],delete this._updatedPaintProps[e]},t.prototype.getLayer=function(e){return this._layers[e]},t.prototype.setLayerZoomRange=function(e,t,n){this._checkLoaded();var r=this.getLayer(e);return r?void(r.minzoom===t&&r.maxzoom===n||(null!=t&&(r.minzoom=t),null!=n&&(r.maxzoom=n),this._updateLayer(r))):void this.fire("error",{error:new Error("The layer '"+e+"' does not exist in the map's style and cannot have zoom extent.")})},t.prototype.setFilter=function(e,t){this._checkLoaded();var n=this.getLayer(e);return n?void(null!==t&&void 0!==t&&this._validate(y.filter,"layers."+n.id+".filter",t)||c.deepEqual(n.filter,t)||(n.filter=c.clone(t),this._updateLayer(n))):void this.fire("error",{error:new Error("The layer '"+e+"' does not exist in the map's style and cannot be filtered.")})},t.prototype.getFilter=function(e){return c.clone(this.getLayer(e).filter)},t.prototype.setLayoutProperty=function(e,t,n){this._checkLoaded();var r=this.getLayer(e);return r?void(c.deepEqual(r.getLayoutProperty(t),n)||(r.setLayoutProperty(t,n),this._updateLayer(r))):void this.fire("error",{error:new Error("The layer '"+e+"' does not exist in the map's style and cannot be styled.")})},t.prototype.getLayoutProperty=function(e,t){return this.getLayer(e).getLayoutProperty(t)},t.prototype.setPaintProperty=function(e,t,n,r){this._checkLoaded();var o=this.getLayer(e);if(!o)return void this.fire("error",{error:new Error("The layer '"+e+"' does not exist in the map's style and cannot be styled.")});if(!c.deepEqual(o.getPaintProperty(t,r),n)){var i=o.isPaintValueFeatureConstant(t);o.setPaintProperty(t,n,r);var a=!(n&&w.isFunctionDefinition(n)&&"$zoom"!==n.property&&void 0!==n.property);a&&i||this._updateLayer(o),this.updateClasses(e,t)}},t.prototype.getPaintProperty=function(e,t,n){return this.getLayer(e).getPaintProperty(t,n)},t.prototype.getTransition=function(){return c.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},t.prototype.updateClasses=function(e,t){if(this._changed=!0,e){var n=this._updatedPaintProps;n[e]||(n[e]={}),n[e][t||"all"]=!0}else this._updatedAllPaintProps=!0},t.prototype.serialize=function(){var e=this;return c.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:c.mapObject(this.sourceCaches,function(e){return e.serialize()}),layers:this._order.map(function(t){return e._layers[t].serialize()})},function(e){return void 0!==e})},t.prototype._updateLayer=function(e){this._updatedLayers[e.id]=!0,e.source&&!this._updatedSources[e.source]&&(this._updatedSources[e.source]="reload"),this._changed=!0},t.prototype._flattenRenderedFeatures=function(e){for(var t=this,n=[],r=this._order.length-1;r>=0;r--)for(var o=t._order[r],i=0,a=e;i<a.length;i+=1){var s=a[i],u=s[o];if(u)for(var l=0,c=u;l<c.length;l+=1){var p=c[l];n.push(p)}}return n},t.prototype.queryRenderedFeatures=function(e,t,n,r){var o=this;t&&t.filter&&this._validate(y.filter,"queryRenderedFeatures.filter",t.filter);var i={};if(t&&t.layers){if(!Array.isArray(t.layers))return void this.fire("error",{error:"parameters.layers must be an Array."});for(var a=0,s=t.layers;a<s.length;a+=1){var u=s[a],l=o._layers[u];if(!l)return void o.fire("error",{error:"The layer '"+u+"' does not exist in the map's style and cannot be queried for features."});i[l.source]=!0}}var c=[];for(var p in o.sourceCaches)if(!t.layers||i[p]){var f=v.rendered(o.sourceCaches[p],o._layers,e,t,n,r);c.push(f)}return this._flattenRenderedFeatures(c)},t.prototype.querySourceFeatures=function(e,t){t&&t.filter&&this._validate(y.filter,"querySourceFeatures.filter",t.filter);var n=this.sourceCaches[e];return n?v.source(n,t):[]},t.prototype.addSourceType=function(e,t,n){return g.getType(e)?n(new Error('A source type called "'+e+'" already exists.')):(g.setType(e,t),t.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:e,url:t.workerSourceURL},n):n(null,null))},t.prototype.getLight=function(){return this.light.getLight()},t.prototype.setLight=function(e,t){this._checkLoaded();var n=this.light.getLight(),r=!1;for(var o in e)if(!c.deepEqual(e[o],n[o])){r=!0;break}if(r){var i=this.stylesheet.transition||{};this.light.setLight(e),this.light.updateLightTransitions(t||{transition:!0},i,this.animationLoop)}},t.prototype._validate=function(e,t,n,r,o){return(!o||o.validate!==!1)&&y.emitErrors(this,e.call(y,c.extend({key:t,style:this.serialize(),value:n,styleSpec:_},r)))},t.prototype._remove=function(){var e=this;T.evented.off("pluginAvailable",this._rtlTextPluginCallback);for(var t in e.sourceCaches)e.sourceCaches[t].clearTiles();this.dispatcher.remove()},t.prototype._clearSource=function(e){this.sourceCaches[e].clearTiles()},t.prototype._reloadSource=function(e){this.sourceCaches[e].reload()},t.prototype._updateSources=function(e){var t=this;for(var n in t.sourceCaches)t.sourceCaches[n].update(e)},t.prototype._redoPlacement=function(){var e=this;for(var t in e.sourceCaches)e.sourceCaches[t].redoPlacement()},t.prototype.getIcons=function(e,t,n){var r=this,o=function(){r.spriteAtlas.setSprite(r.sprite),r.spriteAtlas.addIcons(t.icons,n)};!this.sprite||this.sprite.loaded()?o():this.sprite.on("data",o)},t.prototype.getGlyphs=function(e,t,n){function r(e,t,r){e&&console.error(e),s[r]=t,a--,0===a&&n(null,s)}var o=this,i=t.stacks,a=Object.keys(i).length,s={};for(var u in i)o.glyphSource.getSimpleGlyphs(u,i[u],t.uid,r)},t}(r);t.exports=M},{"../render/line_atlas":76,"../source/query_features":89,"../source/rtl_text_plugin":91,"../source/source":92,"../source/source_cache":93,"../style-spec/deref":102,"../style-spec/diff":103,"../style-spec/function":107,"../style-spec/reference/latest":119,"../symbol/glyph_source":168,"../symbol/sprite_atlas":172,"../util/ajax":194,"../util/browser":195,"../util/dispatcher":201,"../util/evented":203,"../util/global_worker_pool":205,"../util/mapbox":210,"../util/util":215,"./animation_loop":146,"./image_sprite":147,"./light":148,"./style_layer":151,"./validate_style":159}],150:[function(e,t,n){"use strict";var r=e("../style-spec/function"),o=e("../util/util"),i=function(e,t){var n=this;if(this.value=o.clone(t),this.isFunction=r.isFunctionDefinition(t),this.json=JSON.stringify(this.value),this.minimum=e.minimum,this["function"]=r(this.value,e),this.isFeatureConstant=this["function"].isFeatureConstant,this.isZoomConstant=this["function"].isZoomConstant,this.isFeatureConstant||this.isZoomConstant){if(!this.isZoomConstant){this.stopZoomLevels=[];for(var i=0,a=n.value.stops;i<a.length;i+=1){var s=a[i];n.stopZoomLevels.indexOf(s[0])<0&&n.stopZoomLevels.push(s[0])}}}else{this.stopZoomLevels=[];for(var u=[],l=0,c=n.value.stops;l<c.length;l+=1){var p=c[l],f=p[0].zoom;n.stopZoomLevels.indexOf(f)<0&&(n.stopZoomLevels.push(f),u.push([f,u.length]))}this._functionInterpolationT=r({type:"exponential",stops:u,base:t.base},{type:"number"})}};i.prototype.calculate=function(e,t){var n=this["function"](e&&e.zoom,t||{});return void 0!==this.minimum&&n<this.minimum?this.minimum:n},i.prototype.calculateInterpolationT=function(e){return this.isFeatureConstant||this.isZoomConstant?0:this._functionInterpolationT(e&&e.zoom,{})},t.exports=i},{"../style-spec/function":107,"../util/util":215}],151:[function(e,t,n){"use strict";function r(e){return e.value}var o=e("../util/util"),i=e("./style_transition"),a=e("./style_declaration"),s=e("../style-spec/reference/latest"),u=e("./validate_style"),l=e("./../style-spec/util/parse_color"),c=e("../util/evented"),p="-transition",f=function(e){function t(t){var n=this;e.call(this),this.id=t.id,this.metadata=t.metadata,this.type=t.type,this.source=t.source,this.sourceLayer=t["source-layer"],this.minzoom=t.minzoom,this.maxzoom=t.maxzoom,this.filter=t.filter,this.paint={},this.layout={},this._paintSpecifications=s["paint_"+this.type],this._layoutSpecifications=s["layout_"+this.type],this._paintTransitions={},this._paintTransitionOptions={},this._paintDeclarations={},this._layoutDeclarations={},this._layoutFunctions={};var r,o,i={validate:!1};for(var a in t){var u=a.match(/^paint(?:\.(.*))?$/);if(u){var l=u[1]||"";for(r in t[a])n.setPaintProperty(r,t[a][r],l,i)}}for(o in t.layout)n.setLayoutProperty(o,t.layout[o],i);for(r in n._paintSpecifications)n.paint[r]=n.getPaintValue(r);for(o in n._layoutSpecifications)n._updateLayoutValue(o)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.setLayoutProperty=function(e,t,n){if(null==t)delete this._layoutDeclarations[e];else{var r="layers."+this.id+".layout."+e;if(this._validate(u.layoutProperty,r,e,t,n))return;
this._layoutDeclarations[e]=new a(this._layoutSpecifications[e],t)}this._updateLayoutValue(e)},t.prototype.getLayoutProperty=function(e){return this._layoutDeclarations[e]&&this._layoutDeclarations[e].value},t.prototype.getLayoutValue=function(e,t,n){var r=this._layoutSpecifications[e],o=this._layoutDeclarations[e];return o?o.calculate(t,n):r["default"]},t.prototype.setPaintProperty=function(e,t,n,r){var i="layers."+this.id+(n?'["paint.'+n+'"].':".paint.")+e;if(o.endsWith(e,p))if(this._paintTransitionOptions[n||""]||(this._paintTransitionOptions[n||""]={}),null===t||void 0===t)delete this._paintTransitionOptions[n||""][e];else{if(this._validate(u.paintProperty,i,e,t,r))return;this._paintTransitionOptions[n||""][e]=t}else if(this._paintDeclarations[n||""]||(this._paintDeclarations[n||""]={}),null===t||void 0===t)delete this._paintDeclarations[n||""][e];else{if(this._validate(u.paintProperty,i,e,t,r))return;this._paintDeclarations[n||""][e]=new a(this._paintSpecifications[e],t)}},t.prototype.getPaintProperty=function(e,t){return t=t||"",o.endsWith(e,p)?this._paintTransitionOptions[t]&&this._paintTransitionOptions[t][e]:this._paintDeclarations[t]&&this._paintDeclarations[t][e]&&this._paintDeclarations[t][e].value},t.prototype.getPaintValue=function(e,t,n){var r=this._paintSpecifications[e],o=this._paintTransitions[e];return o?o.calculate(t,n):"color"===r.type&&r["default"]?l(r["default"]):r["default"]},t.prototype.getPaintValueStopZoomLevels=function(e){var t=this._paintTransitions[e];return t?t.declaration.stopZoomLevels:[]},t.prototype.getLayoutValueStopZoomLevels=function(e){var t=this._layoutDeclarations[e];return t?t.stopZoomLevels:[]},t.prototype.getPaintInterpolationT=function(e,t){var n=this._paintTransitions[e];return n.declaration.calculateInterpolationT(t)},t.prototype.getLayoutInterpolationT=function(e,t){var n=this._layoutDeclarations[e];return n.calculateInterpolationT(t)},t.prototype.isPaintValueFeatureConstant=function(e){var t=this._paintTransitions[e];return!t||t.declaration.isFeatureConstant},t.prototype.isLayoutValueFeatureConstant=function(e){var t=this._layoutDeclarations[e];return!t||t.isFeatureConstant},t.prototype.isPaintValueZoomConstant=function(e){var t=this._paintTransitions[e];return!t||t.declaration.isZoomConstant},t.prototype.isLayoutValueZoomConstant=function(e){var t=this._layoutDeclarations[e];return!t||t.isZoomConstant},t.prototype.isHidden=function(e){return!!(this.minzoom&&e<this.minzoom)||!!(this.maxzoom&&e>=this.maxzoom)||"none"===this.layout.visibility},t.prototype.updatePaintTransitions=function(e,t,n,r,i){for(var a=this,s=o.extend({},this._paintDeclarations[""]),u=0;u<e.length;u++)o.extend(s,a._paintDeclarations[e[u]]);var l;for(l in s)a._applyPaintDeclaration(l,s[l],t,n,r,i);for(l in a._paintTransitions)l in s||a._applyPaintDeclaration(l,null,t,n,r,i)},t.prototype.updatePaintTransition=function(e,t,n,r,o,i){for(var a=this,s=this._paintDeclarations[""][e],u=0;u<t.length;u++){var l=a._paintDeclarations[t[u]];l&&l[e]&&(s=l[e])}this._applyPaintDeclaration(e,s,n,r,o,i)},t.prototype.recalculate=function(e){var t=this;for(var n in t._paintTransitions)t.paint[n]=t.getPaintValue(n,{zoom:e});for(var r in t._layoutFunctions)t.layout[r]=t.getLayoutValue(r,{zoom:e})},t.prototype.serialize=function(){var e=this,t={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:o.mapObject(this._layoutDeclarations,r)};for(var n in e._paintDeclarations){var i=""===n?"paint":"paint."+n;t[i]=o.mapObject(e._paintDeclarations[n],r)}return o.filterObject(t,function(e,t){return void 0!==e&&!("layout"===t&&!Object.keys(e).length)})},t.prototype._applyPaintDeclaration=function(e,t,n,r,s,u){var l=n.transition?this._paintTransitions[e]:void 0,c=this._paintSpecifications[e];if(null!==t&&void 0!==t||(t=new a(c,c["default"])),!l||l.declaration.json!==t.json){var f=o.extend({duration:300,delay:0},r,this.getPaintProperty(e+p)),h=this._paintTransitions[e]=new i(c,t,l,f,u);h.instant()||(h.loopID=s.set(h.endTime-Date.now())),l&&s.cancel(l.loopID)}},t.prototype._updateLayoutValue=function(e){var t=this._layoutDeclarations[e];t&&t.isFunction?this._layoutFunctions[e]=!0:(delete this._layoutFunctions[e],this.layout[e]=this.getLayoutValue(e))},t.prototype._validate=function(e,t,n,r,o){return(!o||o.validate!==!1)&&u.emitErrors(this,e.call(u,{key:t,layerType:this.type,objectKey:n,value:r,styleSpec:s,style:{glyphs:!0,sprite:!0}}))},t}(c);t.exports=f;var h={circle:e("./style_layer/circle_style_layer"),fill:e("./style_layer/fill_style_layer"),"fill-extrusion":e("./style_layer/fill_extrusion_style_layer"),line:e("./style_layer/line_style_layer"),symbol:e("./style_layer/symbol_style_layer")};f.create=function(e){var t=h[e.type]||f;return new t(e)}},{"../style-spec/reference/latest":119,"../util/evented":203,"../util/util":215,"./../style-spec/util/parse_color":124,"./style_declaration":150,"./style_layer/circle_style_layer":152,"./style_layer/fill_extrusion_style_layer":153,"./style_layer/fill_style_layer":154,"./style_layer/line_style_layer":155,"./style_layer/symbol_style_layer":156,"./style_transition":158,"./validate_style":159}],152:[function(e,t,n){"use strict";var r=e("../style_layer"),o=e("../../data/bucket/circle_bucket"),i=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.createBucket=function(e){return new o(e)},t}(r);t.exports=i},{"../../data/bucket/circle_bucket":46,"../style_layer":151}],153:[function(e,t,n){"use strict";var r=e("../style_layer"),o=e("../../data/bucket/fill_extrusion_bucket"),i=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getPaintValue=function(t,n,r){var o=e.prototype.getPaintValue.call(this,t,n,r);return"fill-extrusion-color"===t&&o&&(o[3]=1),o},t.prototype.createBucket=function(e){return new o(e)},t}(r);t.exports=i},{"../../data/bucket/fill_extrusion_bucket":48,"../style_layer":151}],154:[function(e,t,n){"use strict";var r=e("../style_layer"),o=e("../../data/bucket/fill_bucket"),i=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getPaintValue=function(t,n,r){var o=this;if("fill-outline-color"===t){if(void 0===this.getPaintProperty("fill-outline-color"))return e.prototype.getPaintValue.call(this,"fill-color",n,r);for(var i=this._paintTransitions["fill-outline-color"];i;){var a=i&&i.declaration&&i.declaration.value;if(!a)return e.prototype.getPaintValue.call(o,"fill-color",n,r);i=i.oldTransition}}return e.prototype.getPaintValue.call(this,t,n,r)},t.prototype.getPaintValueStopZoomLevels=function(t){return"fill-outline-color"===t&&void 0===this.getPaintProperty("fill-outline-color")?e.prototype.getPaintValueStopZoomLevels.call(this,"fill-color"):e.prototype.getPaintValueStopZoomLevels.call(this,t)},t.prototype.getPaintInterpolationT=function(t,n){return"fill-outline-color"===t&&void 0===this.getPaintProperty("fill-outline-color")?e.prototype.getPaintInterpolationT.call(this,"fill-color",n):e.prototype.getPaintInterpolationT.call(this,t,n)},t.prototype.isPaintValueFeatureConstant=function(t){return"fill-outline-color"===t&&void 0===this.getPaintProperty("fill-outline-color")?e.prototype.isPaintValueFeatureConstant.call(this,"fill-color"):e.prototype.isPaintValueFeatureConstant.call(this,t)},t.prototype.isPaintValueZoomConstant=function(t){return"fill-outline-color"===t&&void 0===this.getPaintProperty("fill-outline-color")?e.prototype.isPaintValueZoomConstant.call(this,"fill-color"):e.prototype.isPaintValueZoomConstant.call(this,t)},t.prototype.createBucket=function(e){return new o(e)},t}(r);t.exports=i},{"../../data/bucket/fill_bucket":47,"../style_layer":151}],155:[function(e,t,n){"use strict";var r=e("../style_layer"),o=e("../../data/bucket/line_bucket"),i=e("../../util/util"),a=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getPaintValue=function(t,n,r){var o=e.prototype.getPaintValue.call(this,t,n,r);if(o&&"line-dasharray"===t){var a=this.getPaintValue("line-width",i.extend({},n,{zoom:Math.floor(n.zoom)}),r);o.fromScale*=a,o.toScale*=a}return o},t.prototype.createBucket=function(e){return new o(e)},t}(r);t.exports=a},{"../../data/bucket/line_bucket":49,"../../util/util":215,"../style_layer":151}],156:[function(e,t,n){"use strict";var r=e("../style_layer"),o=e("../../data/bucket/symbol_bucket"),i=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getLayoutValue=function(t,n,r){var o=e.prototype.getLayoutValue.call(this,t,n,r);if("auto"!==o)return o;switch(t){case"text-rotation-alignment":case"icon-rotation-alignment":return"line"===this.getLayoutValue("symbol-placement",n,r)?"map":"viewport";case"text-pitch-alignment":return this.getLayoutValue("text-rotation-alignment",n,r);default:return o}},t.prototype.createBucket=function(e){return new o(e)},t}(r);t.exports=i},{"../../data/bucket/symbol_bucket":50,"../style_layer":151}],157:[function(e,t,n){"use strict";var r=e("./style_layer"),o=e("../util/util"),i=e("../style-spec/feature_filter"),a=e("../style-spec/group_by_layout"),s=function(e){e&&this.replace(e)};s.prototype.replace=function(e){var t=this;this.symbolOrder=[];for(var n=0,r=e;n<r.length;n+=1){var o=r[n];"symbol"===o.type&&t.symbolOrder.push(o.id)}this._layerConfigs={},this._layers={},this.update(e,[])},s.prototype.update=function(e,t,n){for(var s=this,u=0,l=e;u<l.length;u+=1){var c=l[u];s._layerConfigs[c.id]=c;var p=s._layers[c.id]=r.create(c);p.updatePaintTransitions({},{transition:!1}),p.filter=i(p.filter)}for(var f=0,h=t;f<h.length;f+=1){var d=h[f];delete s._layerConfigs[d],delete s._layers[d]}n&&(this.symbolOrder=n),this.familiesBySource={};for(var m=a(o.values(this._layerConfigs)),y=0,g=m;y<g.length;y+=1){var v=g[y],b=v.map(function(e){return s._layers[e.id]}),_=b[0];if(!_.layout||"none"!==_.layout.visibility){var w=_.source||"",x=s.familiesBySource[w];x||(x=s.familiesBySource[w]={});var k=_.sourceLayer||"_geojsonTileLayer",E=x[k];E||(E=x[k]=[]),E.push(b)}}},t.exports=s},{"../style-spec/feature_filter":105,"../style-spec/group_by_layout":108,"../util/util":215,"./style_layer":151}],158:[function(e,t,n){"use strict";function r(e,t,n){return void 0!==e&&void 0!==t?{from:e.to,fromScale:e.toScale,to:t.to,toScale:t.toScale,t:n}:void 0}var o=e("../util/util"),i=e("../style-spec/util/interpolate"),a={lastIntegerZoom:0,lastIntegerZoomTime:0,lastZoom:0},s=function(e,t,n,o,s){this.declaration=t,this.startTime=this.endTime=(new Date).getTime(),this.oldTransition=n,this.duration=o.duration||0,this.delay=o.delay||0,this.zoomTransitioned="piecewise-constant"===e["function"]&&e.transition,this.interp=this.zoomTransitioned?r:i[e.type],this.zoomHistory=s||a,this.instant()||(this.endTime=this.startTime+this.duration+this.delay),n&&n.endTime<=this.startTime&&delete n.oldTransition};s.prototype.instant=function(){return!this.oldTransition||!this.interp||0===this.duration&&0===this.delay},s.prototype.calculate=function(e,t,n){var r=this._calculateTargetValue(e,t);if(this.instant())return r;if(n=n||Date.now(),n>=this.endTime)return r;var i=this.oldTransition.calculate(e,t,this.startTime),a=o.easeCubicInOut((n-this.startTime-this.delay)/this.duration);return this.interp(i,r,a)},s.prototype._calculateTargetValue=function(e,t){if(!this.zoomTransitioned)return this.declaration.calculate(e,t);var n=e.zoom,r=this.zoomHistory.lastIntegerZoom,o=n>r?2:.5,a=this.declaration.calculate({zoom:n>r?n-1:n+1},t),s=this.declaration.calculate({zoom:n},t),u=Math.min((Date.now()-this.zoomHistory.lastIntegerZoomTime)/this.duration,1),l=Math.abs(n-r),c=i(u,1,l);return void 0!==a&&void 0!==s?{from:a,fromScale:o,to:s,toScale:1,t:c}:void 0},t.exports=s},{"../style-spec/util/interpolate":123,"../util/util":215}],159:[function(e,t,n){"use strict";t.exports=e("../style-spec/validate_style.min"),t.exports.emitErrors=function(e,t){if(t&&t.length){for(var n=0;n<t.length;n++)e.fire("error",{error:new Error(t[n].message)});return!0}return!1}},{"../style-spec/validate_style.min":145}],160:[function(e,t,n){"use strict";var r=e("point-geometry"),o=function(e){function t(t,n,r,o){e.call(this,t,n),this.angle=r,void 0!==o&&(this.segment=o)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.clone=function(){return new t(this.x,this.y,this.angle,this.segment)},t}(r);t.exports=o},{"point-geometry":26}],161:[function(e,t,n){"use strict";function r(e,t,n,r,o){if(void 0===t.segment)return!0;for(var i=t,a=t.segment+1,s=0;s>-n/2;){if(a--,0>a)return!1;s-=e[a].dist(i),i=e[a]}s+=e[a].dist(e[a+1]),a++;for(var u=[],l=0;n/2>s;){var c=e[a-1],p=e[a],f=e[a+1];if(!f)return!1;var h=c.angleTo(p)-p.angleTo(f);for(h=Math.abs((h+3*Math.PI)%(2*Math.PI)-Math.PI),u.push({distance:s,angleDelta:h}),l+=h;s-u[0].distance>r;)l-=u.shift().angleDelta;if(l>o)return!1;a++,s+=p.dist(f)}return!0}t.exports=r},{}],162:[function(e,t,n){"use strict";function r(e,t,n,r,i){for(var a=[],s=0;s<e.length;s++)for(var u=e[s],l=void 0,c=0;c<u.length-1;c++){var p=u[c],f=u[c+1];p.x<t&&f.x<t||(p.x<t?p=new o(t,p.y+(f.y-p.y)*((t-p.x)/(f.x-p.x)))._round():f.x<t&&(f=new o(t,p.y+(f.y-p.y)*((t-p.x)/(f.x-p.x)))._round()),p.y<n&&f.y<n||(p.y<n?p=new o(p.x+(f.x-p.x)*((n-p.y)/(f.y-p.y)),n)._round():f.y<n&&(f=new o(p.x+(f.x-p.x)*((n-p.y)/(f.y-p.y)),n)._round()),p.x>=r&&f.x>=r||(p.x>=r?p=new o(r,p.y+(f.y-p.y)*((r-p.x)/(f.x-p.x)))._round():f.x>=r&&(f=new o(r,p.y+(f.y-p.y)*((r-p.x)/(f.x-p.x)))._round()),p.y>=i&&f.y>=i||(p.y>=i?p=new o(p.x+(f.x-p.x)*((i-p.y)/(f.y-p.y)),i)._round():f.y>=i&&(f=new o(p.x+(f.x-p.x)*((i-p.y)/(f.y-p.y)),i)._round()),l&&p.equals(l[l.length-1])||(l=[p],a.push(l)),l.push(f)))))}return a}var o=e("point-geometry");t.exports=r},{"point-geometry":26}],163:[function(e,t,n){"use strict";var r=e("../util/struct_array"),o=e("point-geometry"),i=r({members:[{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Float32",name:"maxScale"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"},{type:"Int16",name:"bbox0"},{type:"Int16",name:"bbox1"},{type:"Int16",name:"bbox2"},{type:"Int16",name:"bbox3"},{type:"Float32",name:"placementScale"}]});Object.defineProperty(i.prototype.StructType.prototype,"anchorPoint",{get:function(){return new o(this.anchorPointX,this.anchorPointY)}}),t.exports=i},{"../util/struct_array":213,"point-geometry":26}],164:[function(e,t,n){"use strict";var r=function(e,t,n,r,o,i,a,s,u,l,c){var p=a.top*s-u,f=a.bottom*s+u,h=a.left*s-u,d=a.right*s+u;if(this.boxStartIndex=e.length,l){var m=f-p,y=d-h;if(m>0)if(m=Math.max(10*s,m),c){var g=t[n.segment+1].sub(t[n.segment])._unit()._mult(y),v=[n.sub(g),n.add(g)];this._addLineCollisionBoxes(e,v,n,0,y,m,r,o,i)}else this._addLineCollisionBoxes(e,t,n,n.segment,y,m,r,o,i)}else e.emplaceBack(n.x,n.y,h,p,d,f,1/0,r,o,i,0,0,0,0,0);this.boxEndIndex=e.length};r.prototype._addLineCollisionBoxes=function(e,t,n,r,o,i,a,s,u){var l=i/2,c=Math.floor(o/l),p=-i/2,f=this.boxes,h=n,d=r+1,m=p;do{if(d--,0>d)return f;m-=t[d].dist(h),h=t[d]}while(m>-o/2);for(var y=t[d].dist(t[d+1]),g=0;c>g;g++){for(var v=-o/2+g*l;v>m+y;){if(m+=y,d++,d+1>=t.length)return f;y=t[d].dist(t[d+1])}var b=v-m,_=t[d],w=t[d+1],x=w.sub(_)._unit()._mult(b)._add(_)._round(),k=Math.max(Math.abs(v-p)-l/2,0),E=o/2/k;e.emplaceBack(x.x,x.y,-i/2,-i/2,i/2,i/2,E,a,s,u,0,0,0,0,0)}return f},t.exports=r},{}],165:[function(e,t,n){"use strict";var r=e("point-geometry"),o=e("../data/extent"),i=e("grid-index"),a=e("../util/intersection_tests"),s=function(e,t,n){if("object"==typeof e){var r=e;n=t,e=r.angle,t=r.pitch,this.grid=new i(r.grid),this.ignoredGrid=new i(r.ignoredGrid)}else this.grid=new i(o,12,6),this.ignoredGrid=new i(o,12,0);this.minScale=.5,this.maxScale=2,this.angle=e,this.pitch=t;var a=Math.sin(e),s=Math.cos(e);if(this.rotationMatrix=[s,-a,a,s],this.reverseRotationMatrix=[s,a,-a,s],this.yStretch=1/Math.cos(t/180*Math.PI),this.yStretch=Math.pow(this.yStretch,1.3),this.collisionBoxArray=n,0===n.length){n.emplaceBack();var u=32767;n.emplaceBack(0,0,0,-u,0,u,u,0,0,0,0,0,0,0,0,0),n.emplaceBack(o,0,0,-u,0,u,u,0,0,0,0,0,0,0,0,0),n.emplaceBack(0,0,-u,0,u,0,u,0,0,0,0,0,0,0,0,0),n.emplaceBack(0,o,-u,0,u,0,u,0,0,0,0,0,0,0,0,0)}this.tempCollisionBox=n.get(0),this.edges=[n.get(1),n.get(2),n.get(3),n.get(4)]};s.prototype.serialize=function(e){var t=this.grid.toArrayBuffer(),n=this.ignoredGrid.toArrayBuffer();return e&&(e.push(t),e.push(n)),{angle:this.angle,pitch:this.pitch,grid:t,ignoredGrid:n}},s.prototype.placeCollisionFeature=function(e,t,n){for(var o=this,i=this.collisionBoxArray,a=this.minScale,s=this.rotationMatrix,u=this.yStretch,l=e.boxStartIndex;l<e.boxEndIndex;l++){var c=i.get(l),p=c.anchorPoint._matMult(s),f=p.x,h=p.y,d=f+c.x1,m=h+c.y1*u,y=f+c.x2,g=h+c.y2*u;if(c.bbox0=d,c.bbox1=m,c.bbox2=y,c.bbox3=g,!t)for(var v=o.grid.query(d,m,y,g),b=0;b<v.length;b++){var _=i.get(v[b]),w=_.anchorPoint._matMult(s);if(a=o.getPlacementScale(a,p,c,w,_),a>=o.maxScale)return a}if(n){var x=void 0;if(o.angle){var k=o.reverseRotationMatrix,E=new r(c.x1,c.y1).matMult(k),T=new r(c.x2,c.y1).matMult(k),S=new r(c.x1,c.y2).matMult(k),C=new r(c.x2,c.y2).matMult(k);x=o.tempCollisionBox,x.anchorPointX=c.anchorPoint.x,x.anchorPointY=c.anchorPoint.y,x.x1=Math.min(E.x,T.x,S.x,C.x),x.y1=Math.min(E.y,T.x,S.x,C.x),x.x2=Math.max(E.x,T.x,S.x,C.x),x.y2=Math.max(E.y,T.x,S.x,C.x),x.maxScale=c.maxScale}else x=c;for(var M=0;M<this.edges.length;M++){var P=o.edges[M];if(a=o.getPlacementScale(a,c.anchorPoint,x,P.anchorPoint,P),a>=o.maxScale)return a}}}return a},s.prototype.queryRenderedSymbols=function(e,t){var n={},o=[];if(0===e.length||0===this.grid.length&&0===this.ignoredGrid.length)return o;for(var i=this.collisionBoxArray,s=this.rotationMatrix,u=this.yStretch,l=[],c=1/0,p=1/0,f=-(1/0),h=-(1/0),d=0;d<e.length;d++)for(var m=e[d],y=0;y<m.length;y++){var g=m[y].matMult(s);c=Math.min(c,g.x),p=Math.min(p,g.y),f=Math.max(f,g.x),h=Math.max(h,g.y),l.push(g)}for(var v=this.grid.query(c,p,f,h),b=this.ignoredGrid.query(c,p,f,h),_=0;_<b.length;_++)v.push(b[_]);for(var w=Math.pow(2,Math.ceil(Math.log(t)/Math.LN2*10)/10),x=0;x<v.length;x++){var k=i.get(v[x]),E=k.sourceLayerIndex,T=k.featureIndex;if(void 0===n[E]&&(n[E]={}),!n[E][T]&&!(w<k.placementScale||w>k.maxScale)){var S=k.anchorPoint.matMult(s),C=S.x+k.x1/t,M=S.y+k.y1/t*u,P=S.x+k.x2/t,A=S.y+k.y2/t*u,z=[new r(C,M),new r(P,M),new r(P,A),new r(C,A)];a.polygonIntersectsPolygon(l,z)&&(n[E][T]=!0,o.push(v[x]))}}return o},s.prototype.getPlacementScale=function(e,t,n,r,o){var i=t.x-r.x,a=t.y-r.y,s=(o.x1-n.x2)/i,u=(o.x2-n.x1)/i,l=(o.y1-n.y2)*this.yStretch/a,c=(o.y2-n.y1)*this.yStretch/a;(isNaN(s)||isNaN(u))&&(s=u=1),(isNaN(l)||isNaN(c))&&(l=c=1);var p=Math.min(Math.max(s,u),Math.max(l,c)),f=o.maxScale,h=n.maxScale;return p>f&&(p=f),p>h&&(p=h),p>e&&p>=o.placementScale&&(e=p),e},s.prototype.insertCollisionFeature=function(e,t,n){for(var r=this,o=n?this.ignoredGrid:this.grid,i=this.collisionBoxArray,a=e.boxStartIndex;a<e.boxEndIndex;a++){var s=i.get(a);s.placementScale=t,t<r.maxScale&&o.insert(a,s.bbox0,s.bbox1,s.bbox2,s.bbox3)}},t.exports=s},{"../data/extent":54,"../util/intersection_tests":207,"grid-index":16,"point-geometry":26}],166:[function(e,t,n){"use strict";function r(e,t,n,r,i,a,s,u,l){var c=r?.6*a*s:0,p=Math.max(r?r.right-r.left:0,i?i.right-i.left:0),f=0===e[0].x||e[0].x===l||0===e[0].y||e[0].y===l;t/4>t-p*s&&(t=p*s+t/4);var h=2*a,d=f?t/2*u%t:(p/2+h)*s*u%t;return o(e,d,t,c,n,p*s,f,!1,l)}function o(e,t,n,r,u,l,c,p,f){for(var h=l/2,d=0,m=0;m<e.length-1;m++)d+=e[m].dist(e[m+1]);for(var y=0,g=t-n,v=[],b=0;b<e.length-1;b++){for(var _=e[b],w=e[b+1],x=_.dist(w),k=w.angleTo(_);y+x>g+n;){g+=n;var E=(g-y)/x,T=i(_.x,w.x,E),S=i(_.y,w.y,E);if(T>=0&&f>T&&S>=0&&f>S&&g-h>=0&&d>=g+h){var C=new a(T,S,k,b)._round();r&&!s(e,C,l,r,u)||v.push(C)}}y+=x}return p||v.length||c||(v=o(e,y/2,n,r,u,l,c,!0,f)),v}var i=e("../style-spec/util/interpolate"),a=e("../symbol/anchor"),s=e("./check_max_angle");t.exports=r},{"../style-spec/util/interpolate":123,"../symbol/anchor":160,"./check_max_angle":161}],167:[function(e,t,n){"use strict";var r=e("@mapbox/shelf-pack"),o=e("../util/util"),i=4,a=128,s=2048,u=function(){this.width=a,this.height=a,this.atlas=new r(this.width,this.height),this.index={},this.ids={},this.data=new Uint8Array(this.width*this.height)};u.prototype.getGlyphs=function(){var e,t,n,r=this,o={};for(var i in r.ids)e=i.split("#"),t=e[0],n=e[1],o[t]||(o[t]=[]),o[t].push(n);return o},u.prototype.getRects=function(){var e,t,n,r=this,o={};for(var i in r.ids)e=i.split("#"),t=e[0],n=e[1],o[t]||(o[t]={}),o[t][n]=r.index[i];return o},u.prototype.addGlyph=function(e,t,n,r){var i=this;if(!n)return null;var a=t+"#"+n.id;if(this.index[a])return this.ids[a].indexOf(e)<0&&this.ids[a].push(e),this.index[a];if(!n.bitmap)return null;var s=n.width+2*r,u=n.height+2*r,l=1,c=s+2*l,p=u+2*l;c+=4-c%4,p+=4-p%4;var f=this.atlas.packOne(c,p);if(f||(this.resize(),f=this.atlas.packOne(c,p)),!f)return o.warnOnce("glyph bitmap overflow"),null;this.index[a]=f,this.ids[a]=[e];for(var h=this.data,d=n.bitmap,m=0;u>m;m++)for(var y=i.width*(f.y+m+l)+f.x+l,g=s*m,v=0;s>v;v++)h[y+v]=d[g+v];return this.dirty=!0,f},u.prototype.resize=function(){var e=this,t=this.width,n=this.height;if(!(t>=s||n>=s)){this.texture&&(this.gl&&this.gl.deleteTexture(this.texture),this.texture=null),this.width*=i,this.height*=i,this.atlas.resize(this.width,this.height);for(var r=new ArrayBuffer(this.width*this.height),o=0;n>o;o++){var a=new Uint8Array(e.data.buffer,n*o,t),u=new Uint8Array(r,n*o*i,t);u.set(a)}this.data=new Uint8Array(r)}},u.prototype.bind=function(e){this.gl=e,this.texture?e.bindTexture(e.TEXTURE_2D,this.texture):(this.texture=e.createTexture(),e.bindTexture(e.TEXTURE_2D,this.texture),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texImage2D(e.TEXTURE_2D,0,e.ALPHA,this.width,this.height,0,e.ALPHA,e.UNSIGNED_BYTE,null))},u.prototype.updateTexture=function(e){this.bind(e),this.dirty&&(e.texSubImage2D(e.TEXTURE_2D,0,0,0,this.width,this.height,e.ALPHA,e.UNSIGNED_BYTE,this.data),this.dirty=!1)},t.exports=u},{"../util/util":215,"@mapbox/shelf-pack":2}],168:[function(e,t,n){"use strict";function r(e,t,n,r){return r=r||"abc",n.replace("{s}",r[e.length%r.length]).replace("{fontstack}",e).replace("{range}",t)}var o=e("../util/mapbox").normalizeGlyphsURL,i=e("../util/ajax"),a=e("../util/verticalize_punctuation"),s=e("../util/glyphs"),u=e("../symbol/glyph_atlas"),l=e("pbf"),c=function(e,t,n){var r=1;this.advance=e.advance,this.left=e.left-n-r,this.top=e.top+n+r,this.rect=t},p=function(e){this.url=e&&o(e),this.atlases={},this.stacks={},this.loading={}};p.prototype.getSimpleGlyphs=function(e,t,n,r){var o=this;void 0===this.stacks[e]&&(this.stacks[e]={}),void 0===this.atlases[e]&&(this.atlases[e]=new u);for(var i={},s=this.stacks[e],l=this.atlases[e],p=3,f={},h=0,d=function(t){var r=Math.floor(t/256);if(s[r]){var o=s[r].glyphs[t],a=l.addGlyph(n,e,o,p);o&&(i[t]=new c(o,a,p))}else void 0===f[r]&&(f[r]=[],h++),f[r].push(t)},m=0;m<t.length;m++){var y=t[m],g=String.fromCharCode(y);d(y),a.lookup[g]&&d(a.lookup[g].charCodeAt(0))}h||r(void 0,i,e);var v=function(t,a,s){if(!t)for(var u=o.stacks[e][a]=s.stacks[0],d=0;d<f[a].length;d++){var m=f[a][d],y=u.glyphs[m],g=l.addGlyph(n,e,y,p);y&&(i[m]=new c(y,g,p))}h--,h||r(void 0,i,e)};for(var b in f)o.loadRange(e,b,v)},p.prototype.loadRange=function(e,t,n){if(256*t>65535)return n("glyphs > 65535 not supported");void 0===this.loading[e]&&(this.loading[e]={});var o=this.loading[e];if(o[t])o[t].push(n);else{o[t]=[n];var a=256*t+"-"+(256*t+255),u=r(e,a,this.url);i.getArrayBuffer(u,function(e,n){for(var r=!e&&new s(new l(n.data)),i=0;i<o[t].length;i++)o[t][i](e,t,r);delete o[t]})}},p.prototype.getGlyphAtlas=function(e){return this.atlases[e]},t.exports=p},{"../symbol/glyph_atlas":167,"../util/ajax":194,"../util/glyphs":206,"../util/mapbox":210,"../util/verticalize_punctuation":217,pbf:25}],169:[function(e,t,n){"use strict";t.exports=function(e){function t(t){s.push(e[t]),u++}function n(e,t,n){var r=a[e];return delete a[e],a[t]=r,s[r].geometry[0].pop(),s[r].geometry[0]=s[r].geometry[0].concat(n[0]),r}function r(e,t,n){var r=i[t];return delete i[t],i[e]=r,s[r].geometry[0].shift(),s[r].geometry[0]=n[0].concat(s[r].geometry[0]),r}function o(e,t,n){var r=n?t[0][t[0].length-1]:t[0][0];return e+":"+r.x+":"+r.y}for(var i={},a={},s=[],u=0,l=0;l<e.length;l++){var c=e[l],p=c.geometry,f=c.text;if(f){var h=o(f,p),d=o(f,p,!0);if(h in a&&d in i&&a[h]!==i[d]){var m=r(h,d,p),y=n(h,d,s[m].geometry);delete i[h],delete a[d],a[o(f,s[y].geometry,!0)]=y,s[m].geometry=null}else h in a?n(h,d,p):d in i?r(h,d,p):(t(l),i[h]=u-1,a[d]=u-1)}else t(l)}return s.filter(function(e){return e.geometry})}},{}],170:[function(e,t,n){"use strict";function r(e,t,n,r,o,i,a,s,u,l,c){this.anchorPoint=e,this.tl=t,this.tr=n,this.bl=r,this.br=o,this.tex=i,this.anchorAngle=a,this.glyphAngle=s,this.minScale=u,this.maxScale=l,this.writingMode=c}function o(e,t,n,o,i,a,s,u,l){var c,p,d,m,y=t.image.rect,g=i.layout,v=1,b=t.left-v,_=b+y.w/t.image.pixelRatio,w=t.top-v,x=w+y.h/t.image.pixelRatio;if("none"!==g["icon-text-fit"]&&s){var k=_-b,E=x-w,T=g["text-size"]/24,S=s.left*T,C=s.right*T,M=s.top*T,P=s.bottom*T,A=C-S,z=P-M,R=g["icon-text-fit-padding"][0],O=g["icon-text-fit-padding"][1],L=g["icon-text-fit-padding"][2],D=g["icon-text-fit-padding"][3],j="width"===g["icon-text-fit"]?.5*(z-E):0,N="height"===g["icon-text-fit"]?.5*(A-k):0,I="width"===g["icon-text-fit"]||"both"===g["icon-text-fit"]?A:k,F="height"===g["icon-text-fit"]||"both"===g["icon-text-fit"]?z:E;c=new f(S+N-D,M+j-R),p=new f(S+N+O+I,M+j-R),d=new f(S+N+O+I,M+j+L+F),m=new f(S+N-D,M+j+L+F)}else c=new f(b,w),p=new f(_,w),d=new f(_,x),m=new f(b,x);var B=i.getLayoutValue("icon-rotate",u,l)*Math.PI/180;if(a){var U=o[e.segment];if(e.y===U.y&&e.x===U.x&&e.segment+1<o.length){var V=o[e.segment+1];B+=Math.atan2(e.y-V.y,e.x-V.x)+Math.PI}else B+=Math.atan2(e.y-U.y,e.x-U.x)}if(B){var Y=Math.sin(B),q=Math.cos(B),W=[q,-Y,Y,q];c=c.matMult(W),p=p.matMult(W),m=m.matMult(W),d=d.matMult(W)}return[new r(new f(e.x,e.y),c,p,m,d,t.image.rect,0,0,h,1/0)]}function i(e,t,n,o,i,s,u,l){for(var c=i.getLayoutValue("text-rotate",u,l)*Math.PI/180,p=i.layout["text-keep-upright"],d=t.positionedGlyphs,m=[],y=0;y<d.length;y++){var g=d[y],v=g.glyph;if(v){var b=v.rect;if(b){var _=(g.x+v.advance/2)*n,w=void 0,x=h;s?(w=[],x=a(w,e,_,o,e.segment,!1),p&&(x=Math.min(x,a(w,e,_,o,e.segment,!0)))):w=[{anchorPoint:new f(e.x,e.y),upsideDown:!1,angle:0,maxScale:1/0,minScale:h}];var k=g.x+v.left,E=g.y-v.top,T=k+b.w,S=E+b.h,C=new f(g.x,v.advance/2),M=new f(k,E),P=new f(T,E),A=new f(k,S),z=new f(T,S);0!==g.angle&&(M._sub(C)._rotate(g.angle)._add(C),P._sub(C)._rotate(g.angle)._add(C),A._sub(C)._rotate(g.angle)._add(C),z._sub(C)._rotate(g.angle)._add(C));for(var R=0;R<w.length;R++){var O=w[R],L=M,D=P,j=A,N=z;if(c){var I=Math.sin(c),F=Math.cos(c),B=[F,-I,I,F];L=L.matMult(B),D=D.matMult(B),j=j.matMult(B),N=N.matMult(B)}var U=Math.max(O.minScale,x),V=(e.angle+(O.upsideDown?Math.PI:0)+2*Math.PI)%(2*Math.PI),Y=(O.angle+(O.upsideDown?Math.PI:0)+2*Math.PI)%(2*Math.PI);m.push(new r(O.anchorPoint,L,D,j,N,b,V,Y,U,O.maxScale,t.writingMode))}}}}return m}function a(e,t,n,r,o,i){for(var a=n>=0^i,u=Math.abs(n),h=new f(t.x,t.y),d=c(a,r,o),m={anchor:h,end:d,index:o,minScale:l(u,h,d),maxScale:1/0};;){if(s(e,m,a,i),m.minScale<=t.scale)return t.scale;var y=p(m,r,u,a);if(!y)return m.minScale;m=y}}function s(e,t,n,r){var o=Math.atan2(t.end.y-t.anchor.y,t.end.x-t.anchor.x),i=n?o:o+Math.PI;e.push({anchorPoint:t.anchor,upsideDown:r,minScale:t.minScale,maxScale:t.maxScale,angle:(i+2*Math.PI)%(2*Math.PI)})}function u(e,t,n){var r=t.sub(e)._unit();return e.sub(r._mult(n))}function l(e,t,n){var r=t.dist(n);return e/r}function c(e,t,n){return e?t[n+1]:t[n]}function p(e,t,n,r){for(var o=e.end,i=o,a=e.index;i.equals(o);){if(r&&a+2<t.length)a+=1;else{if(r||0===a)return null;a-=1}i=c(r,t,a)}var s=u(o,i,e.anchor.dist(e.end));return{anchor:s,end:i,index:a,minScale:l(n,s,i),maxScale:e.minScale}}var f=e("point-geometry");t.exports={getIconQuads:o,getGlyphQuads:i,SymbolQuad:r};var h=.5},{"point-geometry":26}],171:[function(e,t,n){"use strict";function r(e,t,n,r,o){this.codePoint=e,this.x=t,this.y=n,this.glyph=r||null,this.angle=o}function o(e,t,n,r,o,i,a){this.positionedGlyphs=e,this.text=t,this.top=n,this.bottom=r,this.left=o,this.right=i,this.writingMode=a}function i(e,t){for(var n=[],r=0,o=0,i=t;o<i.length;o+=1){var a=i[o];n.push(e.substring(r,a)),r=a}return r<e.length&&n.push(e.substring(r,e.length)),n}function a(e,t,n,r,a,s,u,l,c,p,d){var m=e.trim();d===w.vertical&&(m=b(m));var y,g=[],v=new o(g,m,c[1],c[1],c[0],c[0],d);return y=_.processBidirectionalText?_.processBidirectionalText(m,f(m,l,n,t)):i(m,f(m,l,n,t)),h(v,t,y,r,a,s,u,c,d,l,p),!!g.length&&v}function s(e,t,n,r){var o=0;for(var i in e){var a=r[e.charCodeAt(i)];a&&(o+=a.advance+t)}var s=Math.max(1,Math.ceil(o/n));return o/s}function u(e,t,n,r){var o=Math.pow(e-t,2);return r?t>e?o/2:2*o:o+Math.abs(n)*n}function l(e,t){var n=0;return 10===e&&(n-=1e4),40!==e&&65288!==e||(n+=50),41!==t&&65289!==t||(n+=50),n}function c(e,t,n,r,o,i){for(var a=null,s=u(t,n,o,i),l=0,c=r;l<c.length;l+=1){var p=c[l],f=t-p.x,h=u(f,n,o,i)+p.badness;s>=h&&(a=p,s=h)}return{index:e,x:t,priorBreak:a,badness:s}}function p(e){return e?p(e.priorBreak).concat(e.index):[]}function f(e,t,n,r){if(!n)return[];if(!e)return[];for(var o=[],i=s(e,t,n,r),a=0,u=0;u<e.length;u++){var f=e.charCodeAt(u),h=r[f];h&&!x[f]&&(a+=h.advance+t),u<e.length-1&&(k[f]||v.charAllowsIdeographicBreaking(f))&&o.push(c(u+1,a,i,o,l(f,e.charCodeAt(u+1)),!1))}return p(c(e.length,a,i,o,0,!0))}function h(e,t,n,o,i,a,s,u,l,c,p){var f=-17,h=0,y=f,g=0,b=e.positionedGlyphs;for(var _ in n){var x=n[_].trim();if(x.length){for(var k=b.length,E=0;E<x.length;E++){var T=x.charCodeAt(E),S=t[T];S&&(v.charHasUprightVerticalOrientation(T)&&l!==w.horizontal?(b.push(new r(T,h,0,S,-Math.PI/2)),h+=p+c):(b.push(new r(T,h,y,S,0)),h+=S.advance+c))}if(b.length!==k){var C=h-c;g=Math.max(C,g),d(b,t,k,b.length-1,s)}h=0,y+=o}else y+=o}m(b,s,i,a,g,o,n.length,u);var M=n.length*o;e.top+=-a*M,e.bottom=e.top+M,e.left+=-i*g,e.right=e.left+g}function d(e,t,n,r,o){if(o)for(var i=t[e[r].codePoint].advance,a=(e[r].x+i)*o,s=n;r>=s;s++)e[s].x-=a}function m(e,t,n,r,o,i,a,s){for(var u=(t-n)*o+s[0],l=(-r*a+.5)*i+s[1],c=0;c<e.length;c++)e[c].x+=u,e[c].y+=l}function y(e,t){if(!e||!e.rect)return null;var n=t[0],r=t[1],o=n-e.width/2,i=o+e.width,a=r-e.height/2,s=a+e.height;return new g(e,a,s,o,i)}function g(e,t,n,r,o){this.image=e,this.top=t,this.bottom=n,this.left=r,this.right=o}var v=e("../util/script_detection"),b=e("../util/verticalize_punctuation"),_=e("../source/rtl_text_plugin"),w={horizontal:1,vertical:2};t.exports={shapeText:a,shapeIcon:y,WritingMode:w};var x={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},k={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0}},{"../source/rtl_text_plugin":91,"../util/script_detection":211,"../util/verticalize_punctuation":217}],172:[function(e,t,n){"use strict";function r(e,t,n,r,o,i,a,s,u,l,c){var p,f,h=r*t+n,d=s*i+a;if(c)for(d-=i,f=-1;l>=f;f++,d+=i)for(h=((f+l)%l+r)*t+n,p=-1;u>=p;p++)o[d+p]=e[h+(p+u)%u];else for(f=0;l>f;f++,h+=t,d+=i)for(p=0;u>p;p++)o[d+p]=e[h+p]}var o=e("@mapbox/shelf-pack"),i=e("../util/browser"),a=e("../util/util"),s=e("../util/window"),u=e("../util/evented"),l=function(e){
function t(t,n){e.call(this),this.width=t,this.height=n,this.shelfPack=new o(t,n),this.images={},this.data=!1,this.texture=0,this.filter=0,this.pixelRatio=i.devicePixelRatio>1?2:1,this.dirty=!0}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.allocateImage=function(e,t){e/=this.pixelRatio,t/=this.pixelRatio;var n=2,r=e+n+(4-(e+n)%4),o=t+n+(4-(t+n)%4),i=this.shelfPack.packOne(r,o);return i?i:(a.warnOnce("SpriteAtlas out of space."),null)},t.prototype.addImage=function(e,t,n){var r,o,a;if(t instanceof s.HTMLImageElement?(r=t.width,o=t.height,t=i.getImageData(t),a=1):(r=n.width,o=n.height,a=n.pixelRatio||1),ArrayBuffer.isView(t)&&(t=new Uint32Array(t.buffer)),!(t instanceof Uint32Array))return this.fire("error",{error:new Error("Image provided in an invalid format. Supported formats are HTMLImageElement and ArrayBufferView.")});if(this.images[e])return this.fire("error",{error:new Error("An image with this name already exists.")});var u=this.allocateImage(r,o);if(!u)return this.fire("error",{error:new Error("There is not enough space to add this image.")});var l={rect:u,width:r/a,height:o/a,sdf:!1,pixelRatio:a/this.pixelRatio};this.images[e]=l,this.copy(t,r,u,{pixelRatio:a,x:0,y:0,width:r,height:o},!1),this.fire("data",{dataType:"style"})},t.prototype.removeImage=function(e){var t=this.images[e];return delete this.images[e],t?(this.shelfPack.unref(t.rect),void this.fire("data",{dataType:"style"})):this.fire("error",{error:new Error("No image with this name exists.")})},t.prototype.getImage=function(e,t){if(this.images[e])return this.images[e];if(!this.sprite)return null;var n=this.sprite.getSpritePosition(e);if(!n.width||!n.height)return null;var r=this.allocateImage(n.width,n.height);if(!r)return null;var o={rect:r,width:n.width/n.pixelRatio,height:n.height/n.pixelRatio,sdf:n.sdf,pixelRatio:n.pixelRatio/this.pixelRatio};if(this.images[e]=o,!this.sprite.imgData)return null;var i=new Uint32Array(this.sprite.imgData.buffer);return this.copy(i,this.sprite.width,r,n,t),o},t.prototype.getPosition=function(e,t){var n=this.getImage(e,t),r=n&&n.rect;if(!r)return null;var o=n.width*n.pixelRatio,i=n.height*n.pixelRatio,a=1;return{size:[n.width,n.height],tl:[(r.x+a)/this.width,(r.y+a)/this.height],br:[(r.x+a+o)/this.width,(r.y+a+i)/this.height]}},t.prototype.allocate=function(){var e=this;if(!this.data){var t=Math.floor(this.width*this.pixelRatio),n=Math.floor(this.height*this.pixelRatio);this.data=new Uint32Array(t*n);for(var r=0;r<this.data.length;r++)e.data[r]=0}},t.prototype.copy=function(e,t,n,o,i){this.allocate();var a=this.data,s=1;r(e,t,o.x,o.y,a,this.width*this.pixelRatio,(n.x+s)*this.pixelRatio,(n.y+s)*this.pixelRatio,o.width,o.height,i),this.dirty=!0},t.prototype.setSprite=function(e){e&&this.canvas&&(this.canvas.width=this.width*this.pixelRatio,this.canvas.height=this.height*this.pixelRatio),this.sprite=e},t.prototype.addIcons=function(e,t){for(var n=this,r=0;r<e.length;r++)n.getImage(e[r]);t(null,this.images)},t.prototype.bind=function(e,t){var n=!1;this.texture?e.bindTexture(e.TEXTURE_2D,this.texture):(this.texture=e.createTexture(),e.bindTexture(e.TEXTURE_2D,this.texture),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),n=!0);var r=t?e.LINEAR:e.NEAREST;r!==this.filter&&(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,r),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,r),this.filter=r),this.dirty&&(this.allocate(),n?e.texImage2D(e.TEXTURE_2D,0,e.RGBA,this.width*this.pixelRatio,this.height*this.pixelRatio,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(this.data.buffer)):e.texSubImage2D(e.TEXTURE_2D,0,0,0,this.width*this.pixelRatio,this.height*this.pixelRatio,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(this.data.buffer)),this.dirty=!1)},t}(u);t.exports=l},{"../util/browser":195,"../util/evented":203,"../util/util":215,"../util/window":197,"@mapbox/shelf-pack":2}],173:[function(e,t,n){"use strict";var r=e("../source/rtl_text_plugin");t.exports=function(e,t,n,o){var i=t.getLayoutValue("text-transform",n,o);return"uppercase"===i?e=e.toLocaleUpperCase():"lowercase"===i&&(e=e.toLocaleLowerCase()),r.applyArabicShaping&&(e=r.applyArabicShaping(e)),e}},{"../source/rtl_text_plugin":91}],174:[function(e,t,n){"use strict";var r=e("../util/dom"),o=e("point-geometry"),i={scrollZoom:e("./handler/scroll_zoom"),boxZoom:e("./handler/box_zoom"),dragRotate:e("./handler/drag_rotate"),dragPan:e("./handler/drag_pan"),keyboard:e("./handler/keyboard"),doubleClickZoom:e("./handler/dblclick_zoom"),touchZoomRotate:e("./handler/touch_zoom_rotate")};t.exports=function(e,t){function n(e){g("mouseout",e)}function a(t){e.stop(),x=r.mousePos(b,t),g("mousedown",t),w=!0}function s(t){var n=e.dragRotate&&e.dragRotate.isActive();_&&!n&&g("contextmenu",_),_=null,w=!1,g("mouseup",t)}function u(t){if(!(e.dragPan&&e.dragPan.isActive()||e.dragRotate&&e.dragRotate.isActive())){for(var n=t.toElement||t.target;n&&n!==b;)n=n.parentNode;n===b&&g("mousemove",t)}}function l(t){e.stop(),v("touchstart",t),!t.touches||t.touches.length>1||(k?(clearTimeout(k),k=null,g("dblclick",t)):k=setTimeout(h,300))}function c(e){v("touchmove",e)}function p(e){v("touchend",e)}function f(e){v("touchcancel",e)}function h(){k=null}function d(e){var t=r.mousePos(b,e);t.equals(x)&&g("click",e)}function m(e){g("dblclick",e),e.preventDefault()}function y(t){var n=e.dragRotate&&e.dragRotate.isActive();w||n?w&&(_=t):g("contextmenu",t),t.preventDefault()}function g(t,n){var o=r.mousePos(b,n);return e.fire(t,{lngLat:e.unproject(o),point:o,originalEvent:n})}function v(t,n){var i=r.touchPos(b,n),a=i.reduce(function(e,t,n,r){return e.add(t.div(r.length))},new o(0,0));return e.fire(t,{lngLat:e.unproject(a),point:a,lngLats:i.map(function(t){return e.unproject(t)},this),points:i,originalEvent:n})}var b=e.getCanvasContainer(),_=null,w=!1,x=null,k=null;for(var E in i)e[E]=new i[E](e,t),t.interactive&&t[E]&&e[E].enable(t[E]);b.addEventListener("mouseout",n,!1),b.addEventListener("mousedown",a,!1),b.addEventListener("mouseup",s,!1),b.addEventListener("mousemove",u,!1),b.addEventListener("touchstart",l,!1),b.addEventListener("touchend",p,!1),b.addEventListener("touchmove",c,!1),b.addEventListener("touchcancel",f,!1),b.addEventListener("click",d,!1),b.addEventListener("dblclick",m,!1),b.addEventListener("contextmenu",y,!1)}},{"../util/dom":202,"./handler/box_zoom":182,"./handler/dblclick_zoom":183,"./handler/drag_pan":184,"./handler/drag_rotate":185,"./handler/keyboard":186,"./handler/scroll_zoom":187,"./handler/touch_zoom_rotate":188,"point-geometry":26}],175:[function(e,t,n){"use strict";var r=e("../util/util"),o=e("../style-spec/util/interpolate"),i=e("../util/browser"),a=e("../geo/lng_lat"),s=e("../geo/lng_lat_bounds"),u=e("point-geometry"),l=e("../util/evented"),c=function(e){function t(t,n){e.call(this),this.moving=!1,this.transform=t,this._bearingSnap=n.bearingSnap}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getCenter=function(){return this.transform.center},t.prototype.setCenter=function(e,t){return this.jumpTo({center:e},t)},t.prototype.panBy=function(e,t,n){return e=u.convert(e).mult(-1),this.panTo(this.transform.center,r.extend({offset:e},t),n)},t.prototype.panTo=function(e,t,n){return this.easeTo(r.extend({center:e},t),n)},t.prototype.getZoom=function(){return this.transform.zoom},t.prototype.setZoom=function(e,t){return this.jumpTo({zoom:e},t),this},t.prototype.zoomTo=function(e,t,n){return this.easeTo(r.extend({zoom:e},t),n)},t.prototype.zoomIn=function(e,t){return this.zoomTo(this.getZoom()+1,e,t),this},t.prototype.zoomOut=function(e,t){return this.zoomTo(this.getZoom()-1,e,t),this},t.prototype.getBearing=function(){return this.transform.bearing},t.prototype.setBearing=function(e,t){return this.jumpTo({bearing:e},t),this},t.prototype.rotateTo=function(e,t,n){return this.easeTo(r.extend({bearing:e},t),n)},t.prototype.resetNorth=function(e,t){return this.rotateTo(0,r.extend({duration:1e3},e),t),this},t.prototype.snapToNorth=function(e,t){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(e,t):this},t.prototype.getPitch=function(){return this.transform.pitch},t.prototype.setPitch=function(e,t){return this.jumpTo({pitch:e},t),this},t.prototype.fitBounds=function(e,t,n){if(t=r.extend({padding:{top:0,bottom:0,right:0,left:0},offset:[0,0],maxZoom:this.transform.maxZoom},t),"number"==typeof t.padding){var o=t.padding;t.padding={top:o,bottom:o,right:o,left:o}}if(!r.deepEqual(Object.keys(t.padding).sort(function(e,t){return t>e?-1:e>t?1:0}),["bottom","left","right","top"]))return void r.warnOnce("options.padding must be a positive number, or an Object with keys 'bottom', 'left', 'right', 'top'");e=s.convert(e);var i=[t.padding.left-t.padding.right,t.padding.top-t.padding.bottom],a=Math.min(t.padding.right,t.padding.left),l=Math.min(t.padding.top,t.padding.bottom);t.offset=[t.offset[0]+i[0],t.offset[1]+i[1]];var c=u.convert(t.offset),p=this.transform,f=p.project(e.getNorthWest()),h=p.project(e.getSouthEast()),d=h.sub(f),m=(p.width-2*a-2*Math.abs(c.x))/d.x,y=(p.height-2*l-2*Math.abs(c.y))/d.y;return 0>y||0>m?void r.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset."):(t.center=p.unproject(f.add(h).div(2)),t.zoom=Math.min(p.scaleZoom(p.scale*Math.min(m,y)),t.maxZoom),t.bearing=0,t.linear?this.easeTo(t,n):this.flyTo(t,n))},t.prototype.jumpTo=function(e,t){this.stop();var n=this.transform,r=!1,o=!1,i=!1;return"zoom"in e&&n.zoom!==+e.zoom&&(r=!0,n.zoom=+e.zoom),"center"in e&&(n.center=a.convert(e.center)),"bearing"in e&&n.bearing!==+e.bearing&&(o=!0,n.bearing=+e.bearing),"pitch"in e&&n.pitch!==+e.pitch&&(i=!0,n.pitch=+e.pitch),this.fire("movestart",t).fire("move",t),r&&this.fire("zoomstart",t).fire("zoom",t).fire("zoomend",t),o&&this.fire("rotate",t),i&&this.fire("pitchstart",t).fire("pitch",t).fire("pitchend",t),this.fire("moveend",t)},t.prototype.easeTo=function(e,t){var n=this;this.stop(),e=r.extend({offset:[0,0],duration:500,easing:r.ease},e),e.animate===!1&&(e.duration=0),e.smoothEasing&&0!==e.duration&&(e.easing=this._smoothOutEasing(e.duration));var i=this.transform,s=this.getZoom(),l=this.getBearing(),c=this.getPitch(),p="zoom"in e?+e.zoom:s,f="bearing"in e?this._normalizeBearing(e.bearing,l):l,h="pitch"in e?+e.pitch:c,d=i.centerPoint.add(u.convert(e.offset)),m=i.pointLocation(d),y=a.convert(e.center||m);this._normalizeCenter(y);var g,v,b=i.project(m),_=i.project(y).sub(b),w=i.zoomScale(p-s);return e.around&&(g=a.convert(e.around),v=i.locationPoint(g)),this.zooming=p!==s,this.rotating=l!==f,this.pitching=h!==c,this._prepareEase(t,e.noMoveStart),clearTimeout(this._onEaseEnd),this._ease(function(e){if(this.zooming&&(i.zoom=o(s,p,e)),this.rotating&&(i.bearing=o(l,f,e)),this.pitching&&(i.pitch=o(c,h,e)),g)i.setLocationAtPoint(g,v);else{var n=i.zoomScale(i.zoom-s),r=p>s?Math.min(2,w):Math.max(.5,w),a=Math.pow(r,1-e),u=i.unproject(b.add(_.mult(e*a)).mult(n));i.setLocationAtPoint(i.renderWorldCopies?u.wrap():u,d)}this._fireMoveEvents(t)},function(){e.delayEndEvents?n._onEaseEnd=setTimeout(function(){return n._easeToEnd(t)},e.delayEndEvents):n._easeToEnd(t)},e),this},t.prototype._prepareEase=function(e,t){this.moving=!0,t||this.fire("movestart",e),this.zooming&&this.fire("zoomstart",e),this.pitching&&this.fire("pitchstart",e)},t.prototype._fireMoveEvents=function(e){this.fire("move",e),this.zooming&&this.fire("zoom",e),this.rotating&&this.fire("rotate",e),this.pitching&&this.fire("pitch",e)},t.prototype._easeToEnd=function(e){var t=this.zooming,n=this.pitching;this.moving=!1,this.zooming=!1,this.rotating=!1,this.pitching=!1,t&&this.fire("zoomend",e),n&&this.fire("pitchend",e),this.fire("moveend",e)},t.prototype.flyTo=function(e,t){function n(e){var t=(S*S-T*T+(e?-1:1)*A*A*C*C)/(2*(e?S:T)*A*C);return Math.log(Math.sqrt(t*t+1)-t)}function i(e){return(Math.exp(e)-Math.exp(-e))/2}function s(e){return(Math.exp(e)+Math.exp(-e))/2}function l(e){return i(e)/s(e)}var c=this;this.stop(),e=r.extend({offset:[0,0],speed:1.2,curve:1.42,easing:r.ease},e);var p=this.transform,f=this.getZoom(),h=this.getBearing(),d=this.getPitch(),m="zoom"in e?+e.zoom:f,y="bearing"in e?this._normalizeBearing(e.bearing,h):h,g="pitch"in e?+e.pitch:d,v=p.zoomScale(m-f),b=p.centerPoint.add(u.convert(e.offset)),_=p.pointLocation(b),w=a.convert(e.center||_);this._normalizeCenter(w);var x=p.project(_),k=p.project(w).sub(x),E=e.curve,T=Math.max(p.width,p.height),S=T/v,C=k.mag();if("minZoom"in e){var M=r.clamp(Math.min(e.minZoom,f,m),p.minZoom,p.maxZoom),P=T/p.zoomScale(M-f);E=Math.sqrt(P/C*2)}var A=E*E,z=n(0),R=function(e){return s(z)/s(z+E*e)},O=function(e){return T*((s(z)*l(z+E*e)-i(z))/A)/C},L=(n(1)-z)/E;if(Math.abs(C)<1e-6){if(Math.abs(T-S)<1e-6)return this.easeTo(e,t);var D=T>S?-1:1;L=Math.abs(Math.log(S/T))/E,O=function(){return 0},R=function(e){return Math.exp(D*E*e)}}if("duration"in e)e.duration=+e.duration;else{var j="screenSpeed"in e?+e.screenSpeed/E:+e.speed;e.duration=1e3*L/j}return this.zooming=!0,this.rotating=h!==y,this.pitching=g!==d,this._prepareEase(t,!1),this._ease(function(e){var n=e*L,r=1/R(n);p.zoom=f+p.scaleZoom(r),this.rotating&&(p.bearing=o(h,y,e)),this.pitching&&(p.pitch=o(d,g,e));var i=p.unproject(x.add(k.mult(O(n))).mult(r));p.setLocationAtPoint(p.renderWorldCopies?i.wrap():i,b),this._fireMoveEvents(t)},function(){return c._easeToEnd(t)},e),this},t.prototype.isEasing=function(){return!!this._abortFn},t.prototype.isMoving=function(){return this.moving},t.prototype.stop=function(){return this._abortFn&&(this._abortFn(),this._finishEase()),this},t.prototype._ease=function(e,t,n){this._finishFn=t,this._abortFn=i.timed(function(t){e.call(this,n.easing(t)),1===t&&this._finishEase()},n.animate===!1?0:n.duration,this)},t.prototype._finishEase=function(){delete this._abortFn;var e=this._finishFn;delete this._finishFn,e.call(this)},t.prototype._normalizeBearing=function(e,t){e=r.wrap(e,-180,180);var n=Math.abs(e-t);return Math.abs(e-360-t)<n&&(e-=360),Math.abs(e+360-t)<n&&(e+=360),e},t.prototype._normalizeCenter=function(e){var t=this.transform;if(t.renderWorldCopies&&!t.lngRange){var n=e.lng-t.center.lng;e.lng+=n>180?-360:-180>n?360:0}},t.prototype._smoothOutEasing=function(e){var t=r.ease;if(this._prevEase){var n=this._prevEase,o=(Date.now()-n.start)/n.duration,i=n.easing(o+.01)-n.easing(o),a=.27/Math.sqrt(i*i+1e-4)*.01,s=Math.sqrt(.0729-a*a);t=r.bezier(a,s,.25,1)}return this._prevEase={start:(new Date).getTime(),duration:e,easing:t},t},t}(l);t.exports=c},{"../geo/lng_lat":62,"../geo/lng_lat_bounds":63,"../style-spec/util/interpolate":123,"../util/browser":195,"../util/evented":203,"../util/util":215,"point-geometry":26}],176:[function(e,t,n){"use strict";var r=e("../../util/dom"),o=e("../../util/util"),i=function(e){this.options=e,o.bindAll(["_updateEditLink","_updateData","_updateCompact"],this)};i.prototype.getDefaultPosition=function(){return"bottom-right"},i.prototype.onAdd=function(e){var t=this.options&&this.options.compact;return this._map=e,this._container=r.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),t&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),void 0===t&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},i.prototype.onRemove=function(){this._container.parentNode.removeChild(this._container),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0},i.prototype._updateEditLink=function(){if(this._editLink||(this._editLink=this._container.querySelector(".mapboxgl-improve-map")),this._editLink){var e=this._map.getCenter();this._editLink.href="https://www.mapbox.com/map-feedback/#/"+e.lng+"/"+e.lat+"/"+Math.round(this._map.getZoom()+1)}},i.prototype._updateData=function(e){e&&"metadata"===e.sourceDataType&&(this._updateAttributions(),this._updateEditLink())},i.prototype._updateAttributions=function(){if(this._map.style){var e=[],t=this._map.style.sourceCaches;for(var n in t){var r=t[n].getSource();r.attribution&&e.indexOf(r.attribution)<0&&e.push(r.attribution)}e.sort(function(e,t){return e.length-t.length}),e=e.filter(function(t,n){for(var r=n+1;r<e.length;r++)if(e[r].indexOf(t)>=0)return!1;return!0}),this._container.innerHTML=e.join(" | "),this._editLink=null}},i.prototype._updateCompact=function(){var e=this._map.getCanvasContainer().offsetWidth<=640;this._container.classList[e?"add":"remove"]("mapboxgl-compact")},t.exports=i},{"../../util/dom":202,"../../util/util":215}],177:[function(e,t,n){"use strict";var r=e("../../util/dom"),o=e("../../util/util"),i=e("../../util/window"),a=function(){this._fullscreen=!1,o.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in i.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in i.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in i.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in i.document&&(this._fullscreenchange="MSFullscreenChange")};a.prototype.onAdd=function(e){var t="mapboxgl-ctrl",n=this._container=r.create("div",t+" mapboxgl-ctrl-group"),o=this._fullscreenButton=r.create("button",t+"-icon "+t+"-fullscreen",this._container);return o.setAttribute("aria-label","Toggle fullscreen"),o.type="button",this._fullscreenButton.addEventListener("click",this._onClickFullscreen),this._mapContainer=e.getContainer(),i.document.addEventListener(this._fullscreenchange,this._changeIcon),n},a.prototype.onRemove=function(){this._container.parentNode.removeChild(this._container),this._map=null,i.document.removeEventListener(this._fullscreenchange,this._changeIcon)},a.prototype._isFullscreen=function(){return this._fullscreen},a.prototype._changeIcon=function(){var e=i.document.fullscreenElement||i.document.mozFullScreenElement||i.document.webkitFullscreenElement||i.document.msFullscreenElement;if(e===this._mapContainer!==this._fullscreen){this._fullscreen=!this._fullscreen;var t="mapboxgl-ctrl";this._fullscreenButton.classList.toggle(t+"-shrink"),this._fullscreenButton.classList.toggle(t+"-fullscreen")}},a.prototype._onClickFullscreen=function(){this._isFullscreen()?i.document.exitFullscreen?i.document.exitFullscreen():i.document.mozCancelFullScreen?i.document.mozCancelFullScreen():i.document.msExitFullscreen?i.document.msExitFullscreen():i.document.webkitCancelFullScreen&&i.document.webkitCancelFullScreen():this._mapContainer.requestFullscreen?this._mapContainer.requestFullscreen():this._mapContainer.mozRequestFullScreen?this._mapContainer.mozRequestFullScreen():this._mapContainer.msRequestFullscreen?this._mapContainer.msRequestFullscreen():this._mapContainer.webkitRequestFullscreen&&this._mapContainer.webkitRequestFullscreen()},t.exports=a},{"../../util/dom":202,"../../util/util":215,"../../util/window":197}],178:[function(e,t,n){"use strict";function r(e){void 0!==o?e(o):void 0!==s.navigator.permissions?s.navigator.permissions.query({name:"geolocation"}).then(function(t){o="denied"!==t.state,e(o)}):(o=!!s.navigator.geolocation,e(o))}var o,i=e("../../util/evented"),a=e("../../util/dom"),s=e("../../util/window"),u=e("../../util/util"),l={enableHighAccuracy:!1,timeout:6e3},c="mapboxgl-ctrl",p=function(e){function t(t){e.call(this),this.options=t||{},u.bindAll(["_onSuccess","_onError","_finish","_setupUI"],this)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.onAdd=function(e){return this._map=e,this._container=a.create("div",c+" "+c+"-group"),r(this._setupUI),this._container},t.prototype.onRemove=function(){this._container.parentNode.removeChild(this._container),this._map=void 0},t.prototype._onSuccess=function(e){this._map.jumpTo({center:[e.coords.longitude,e.coords.latitude],zoom:17,bearing:0,pitch:0}),this.fire("geolocate",e),this._finish()},t.prototype._onError=function(e){this.fire("error",e),this._finish()},t.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},t.prototype._setupUI=function(e){e!==!1&&(this._container.addEventListener("contextmenu",function(e){return e.preventDefault()}),this._geolocateButton=a.create("button",c+"-icon "+c+"-geolocate",this._container),this._geolocateButton.type="button",this._geolocateButton.setAttribute("aria-label","Geolocate"),this.options.watchPosition&&this._geolocateButton.setAttribute("aria-pressed",!1),this._geolocateButton.addEventListener("click",this._onClickGeolocate.bind(this)))},t.prototype._onClickGeolocate=function(){var e=u.extend(l,this.options&&this.options.positionOptions||{});this.options.watchPosition?void 0!==this._geolocationWatchID?(this._geolocateButton.classList.remove("mapboxgl-watching"),this._geolocateButton.setAttribute("aria-pressed",!1),s.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0):(this._geolocateButton.classList.add("mapboxgl-watching"),this._geolocateButton.setAttribute("aria-pressed",!0),this._geolocationWatchID=s.navigator.geolocation.watchPosition(this._onSuccess,this._onError,e)):(s.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,e),this._timeoutId=setTimeout(this._finish,1e4))},t}(i);t.exports=p},{"../../util/dom":202,"../../util/evented":203,"../../util/util":215,"../../util/window":197}],179:[function(e,t,n){"use strict";var r=e("../../util/dom"),o=e("../../util/util"),i=function(){o.bindAll(["_updateLogo"],this)};i.prototype.onAdd=function(e){return this._map=e,this._container=r.create("div","mapboxgl-ctrl"),this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._container},i.prototype.onRemove=function(){this._container.parentNode.removeChild(this._container),this._map.off("sourcedata",this._updateLogo)},i.prototype.getDefaultPosition=function(){return"bottom-left"},i.prototype._updateLogo=function(e){if(e&&"metadata"===e.sourceDataType)if(!this._container.childNodes.length&&this._logoRequired()){var t=r.create("a","mapboxgl-ctrl-logo");t.target="_blank",t.href="https://www.mapbox.com/",t.setAttribute("aria-label","Mapbox logo"),this._container.appendChild(t),this._map.off("data",this._updateLogo)}else this._container.childNodes.length&&!this._logoRequired()&&this.onRemove()},i.prototype._logoRequired=function(){if(this._map.style){var e=this._map.style.sourceCaches;for(var t in e){var n=e[t].getSource();if(n.mapbox_logo)return!0}return!1}},t.exports=i},{"../../util/dom":202,"../../util/util":215}],180:[function(e,t,n){"use strict";function r(e){return new i.MouseEvent(e.type,{button:2,buttons:2,bubbles:!0,cancelable:!0,detail:e.detail,view:e.view,screenX:e.screenX,screenY:e.screenY,clientX:e.clientX,clientY:e.clientY,movementX:e.movementX,movementY:e.movementY,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,altKey:e.altKey,metaKey:e.metaKey})}var o=e("../../util/dom"),i=e("../../util/window"),a=e("../../util/util"),s="mapboxgl-ctrl",u=function(){a.bindAll(["_rotateCompassArrow"],this)};u.prototype._rotateCompassArrow=function(){var e="rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassArrow.style.transform=e},u.prototype.onAdd=function(e){return this._map=e,this._container=o.create("div",s+" "+s+"-group",e.getContainer()),this._container.addEventListener("contextmenu",this._onContextMenu.bind(this)),this._zoomInButton=this._createButton(s+"-icon "+s+"-zoom-in","Zoom In",e.zoomIn.bind(e)),this._zoomOutButton=this._createButton(s+"-icon "+s+"-zoom-out","Zoom Out",e.zoomOut.bind(e)),this._compass=this._createButton(s+"-icon "+s+"-compass","Reset North",e.resetNorth.bind(e)),this._compassArrow=o.create("span",s+"-compass-arrow",this._compass),this._compass.addEventListener("mousedown",this._onCompassDown.bind(this)),this._onCompassMove=this._onCompassMove.bind(this),this._onCompassUp=this._onCompassUp.bind(this),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._container},u.prototype.onRemove=function(){this._container.parentNode.removeChild(this._container),this._map.off("rotate",this._rotateCompassArrow),this._map=void 0},u.prototype._onContextMenu=function(e){e.preventDefault()},u.prototype._onCompassDown=function(e){0===e.button&&(o.disableDrag(),i.document.addEventListener("mousemove",this._onCompassMove),i.document.addEventListener("mouseup",this._onCompassUp),this._map.getCanvasContainer().dispatchEvent(r(e)),e.stopPropagation())},u.prototype._onCompassMove=function(e){0===e.button&&(this._map.getCanvasContainer().dispatchEvent(r(e)),e.stopPropagation())},u.prototype._onCompassUp=function(e){0===e.button&&(i.document.removeEventListener("mousemove",this._onCompassMove),i.document.removeEventListener("mouseup",this._onCompassUp),o.enableDrag(),this._map.getCanvasContainer().dispatchEvent(r(e)),e.stopPropagation())},u.prototype._createButton=function(e,t,n){var r=o.create("button",e,this._container);return r.type="button",r.setAttribute("aria-label",t),r.addEventListener("click",function(){n()}),r},t.exports=u},{"../../util/dom":202,"../../util/util":215,"../../util/window":197}],181:[function(e,t,n){"use strict";function r(e,t,n){var r=n&&n.maxWidth||100,a=e._container.clientHeight/2,s=i(e.unproject([0,a]),e.unproject([r,a]));if(n&&"imperial"===n.unit){var u=3.2808*s;if(u>5280){var l=u/5280;o(t,r,l,"mi")}else o(t,r,u,"ft")}else o(t,r,s,"m")}function o(e,t,n,r){var o=a(n),i=o/n;"m"===r&&o>=1e3&&(o/=1e3,r="km"),e.style.width=t*i+"px",e.innerHTML=o+r}function i(e,t){var n=6371e3,r=Math.PI/180,o=e.lat*r,i=t.lat*r,a=Math.sin(o)*Math.sin(i)+Math.cos(o)*Math.cos(i)*Math.cos((t.lng-e.lng)*r),s=n*Math.acos(Math.min(a,1));return s}function a(e){var t=Math.pow(10,(""+Math.floor(e)).length-1),n=e/t;return n=n>=10?10:n>=5?5:n>=3?3:n>=2?2:1,t*n}var s=e("../../util/dom"),u=e("../../util/util"),l=function(e){this.options=e,u.bindAll(["_onMove"],this)};l.prototype.getDefaultPosition=function(){return"bottom-left"},l.prototype._onMove=function(){r(this._map,this._container,this.options)},l.prototype.onAdd=function(e){return this._map=e,this._container=s.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",e.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},l.prototype.onRemove=function(){this._container.parentNode.removeChild(this._container),this._map.off("move",this._onMove),this._map=void 0},t.exports=l},{"../../util/dom":202,"../../util/util":215}],182:[function(e,t,n){"use strict";var r=e("../../util/dom"),o=e("../../geo/lng_lat_bounds"),i=e("../../util/util"),a=e("../../util/window"),s=function(e){this._map=e,this._el=e.getCanvasContainer(),this._container=e.getContainer(),i.bindAll(["_onMouseDown","_onMouseMove","_onMouseUp","_onKeyDown"],this)};s.prototype.isEnabled=function(){return!!this._enabled},s.prototype.isActive=function(){return!!this._active},s.prototype.enable=function(){this.isEnabled()||(this._map.dragPan&&this._map.dragPan.disable(),this._el.addEventListener("mousedown",this._onMouseDown,!1),this._map.dragPan&&this._map.dragPan.enable(),this._enabled=!0)},s.prototype.disable=function(){this.isEnabled()&&(this._el.removeEventListener("mousedown",this._onMouseDown),this._enabled=!1)},s.prototype._onMouseDown=function(e){e.shiftKey&&0===e.button&&(a.document.addEventListener("mousemove",this._onMouseMove,!1),a.document.addEventListener("keydown",this._onKeyDown,!1),a.document.addEventListener("mouseup",this._onMouseUp,!1),r.disableDrag(),this._startPos=r.mousePos(this._el,e),this._active=!0)},s.prototype._onMouseMove=function(e){var t=this._startPos,n=r.mousePos(this._el,e);this._box||(this._box=r.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",e));var o=Math.min(t.x,n.x),i=Math.max(t.x,n.x),a=Math.min(t.y,n.y),s=Math.max(t.y,n.y);r.setTransform(this._box,"translate("+o+"px,"+a+"px)"),this._box.style.width=i-o+"px",this._box.style.height=s-a+"px"},s.prototype._onMouseUp=function(e){if(0===e.button){var t=this._startPos,n=r.mousePos(this._el,e),i=(new o).extend(this._map.unproject(t)).extend(this._map.unproject(n));this._finish(),t.x===n.x&&t.y===n.y?this._fireEvent("boxzoomcancel",e):this._map.fitBounds(i,{linear:!0}).fire("boxzoomend",{originalEvent:e,boxZoomBounds:i})}},s.prototype._onKeyDown=function(e){27===e.keyCode&&(this._finish(),this._fireEvent("boxzoomcancel",e))},s.prototype._finish=function(){this._active=!1,a.document.removeEventListener("mousemove",this._onMouseMove,!1),a.document.removeEventListener("keydown",this._onKeyDown,!1),a.document.removeEventListener("mouseup",this._onMouseUp,!1),this._container.classList.remove("mapboxgl-crosshair"),this._box&&(this._box.parentNode.removeChild(this._box),this._box=null),r.enableDrag()},s.prototype._fireEvent=function(e,t){return this._map.fire(e,{originalEvent:t})},t.exports=s},{"../../geo/lng_lat_bounds":63,"../../util/dom":202,"../../util/util":215,"../../util/window":197}],183:[function(e,t,n){"use strict";var r=function(e){this._map=e,this._onDblClick=this._onDblClick.bind(this)};r.prototype.isEnabled=function(){return!!this._enabled},r.prototype.enable=function(){this.isEnabled()||(this._map.on("dblclick",this._onDblClick),this._enabled=!0)},r.prototype.disable=function(){this.isEnabled()&&(this._map.off("dblclick",this._onDblClick),this._enabled=!1)},r.prototype._onDblClick=function(e){this._map.zoomTo(this._map.getZoom()+(e.originalEvent.shiftKey?-1:1),{around:e.lngLat},e)},t.exports=r},{}],184:[function(e,t,n){"use strict";var r=e("../../util/dom"),o=e("../../util/util"),i=e("../../util/window"),a=.3,s=o.bezier(0,0,a,1),u=1400,l=2500,c=function(e){this._map=e,this._el=e.getCanvasContainer(),o.bindAll(["_onDown","_onMove","_onUp","_onTouchEnd","_onMouseUp"],this)};c.prototype.isEnabled=function(){return!!this._enabled},c.prototype.isActive=function(){return!!this._active},c.prototype.enable=function(){this.isEnabled()||(this._el.classList.add("mapboxgl-touch-drag-pan"),this._el.addEventListener("mousedown",this._onDown),this._el.addEventListener("touchstart",this._onDown),this._enabled=!0)},c.prototype.disable=function(){this.isEnabled()&&(this._el.classList.remove("mapboxgl-touch-drag-pan"),this._el.removeEventListener("mousedown",this._onDown),this._el.removeEventListener("touchstart",this._onDown),this._enabled=!1)},c.prototype._onDown=function(e){this._ignoreEvent(e)||this.isActive()||(e.touches?(i.document.addEventListener("touchmove",this._onMove),i.document.addEventListener("touchend",this._onTouchEnd)):(i.document.addEventListener("mousemove",this._onMove),i.document.addEventListener("mouseup",this._onMouseUp)),i.addEventListener("blur",this._onMouseUp),this._active=!1,this._startPos=this._pos=r.mousePos(this._el,e),this._inertia=[[Date.now(),this._pos]])},c.prototype._onMove=function(e){if(!this._ignoreEvent(e)){this.isActive()||(this._active=!0,this._map.moving=!0,this._fireEvent("dragstart",e),this._fireEvent("movestart",e));var t=r.mousePos(this._el,e),n=this._map;n.stop(),this._drainInertiaBuffer(),this._inertia.push([Date.now(),t]),n.transform.setLocationAtPoint(n.transform.pointLocation(this._pos),t),this._fireEvent("drag",e),this._fireEvent("move",e),this._pos=t,e.preventDefault()}},c.prototype._onUp=function(e){var t=this;if(this.isActive()){this._active=!1,this._fireEvent("dragend",e),this._drainInertiaBuffer();var n=function(){t._map.moving=!1,t._fireEvent("moveend",e)},r=this._inertia;if(r.length<2)return void n();var o=r[r.length-1],i=r[0],c=o[1].sub(i[1]),p=(o[0]-i[0])/1e3;if(0===p||o[1].equals(i[1]))return void n();var f=c.mult(a/p),h=f.mag();h>u&&(h=u,f._unit()._mult(h));var d=h/(l*a),m=f.mult(-d/2);this._map.panBy(m,{duration:1e3*d,easing:s,noMoveStart:!0},{originalEvent:e})}},c.prototype._onMouseUp=function(e){this._ignoreEvent(e)||(this._onUp(e),i.document.removeEventListener("mousemove",this._onMove),
i.document.removeEventListener("mouseup",this._onMouseUp),i.removeEventListener("blur",this._onMouseUp))},c.prototype._onTouchEnd=function(e){this._ignoreEvent(e)||(this._onUp(e),i.document.removeEventListener("touchmove",this._onMove),i.document.removeEventListener("touchend",this._onTouchEnd))},c.prototype._fireEvent=function(e,t){return this._map.fire(e,{originalEvent:t})},c.prototype._ignoreEvent=function(e){var t=this._map;if(t.boxZoom&&t.boxZoom.isActive())return!0;if(t.dragRotate&&t.dragRotate.isActive())return!0;if(e.touches)return e.touches.length>1;if(e.ctrlKey)return!0;var n=1,r=0;return"mousemove"===e.type?e.buttons&0===n:e.button&&e.button!==r},c.prototype._drainInertiaBuffer=function(){for(var e=this._inertia,t=Date.now(),n=160;e.length>0&&t-e[0][0]>n;)e.shift()},t.exports=c},{"../../util/dom":202,"../../util/util":215,"../../util/window":197}],185:[function(e,t,n){"use strict";var r=e("../../util/dom"),o=e("../../util/util"),i=e("../../util/window"),a=.25,s=o.bezier(0,0,a,1),u=180,l=720,c=function(e,t){this._map=e,this._el=e.getCanvasContainer(),this._bearingSnap=t.bearingSnap,this._pitchWithRotate=t.pitchWithRotate!==!1,o.bindAll(["_onDown","_onMove","_onUp"],this)};c.prototype.isEnabled=function(){return!!this._enabled},c.prototype.isActive=function(){return!!this._active},c.prototype.enable=function(){this.isEnabled()||(this._el.addEventListener("mousedown",this._onDown),this._enabled=!0)},c.prototype.disable=function(){this.isEnabled()&&(this._el.removeEventListener("mousedown",this._onDown),this._enabled=!1)},c.prototype._onDown=function(e){this._ignoreEvent(e)||this.isActive()||(i.document.addEventListener("mousemove",this._onMove),i.document.addEventListener("mouseup",this._onUp),i.addEventListener("blur",this._onUp),this._active=!1,this._inertia=[[Date.now(),this._map.getBearing()]],this._startPos=this._pos=r.mousePos(this._el,e),this._center=this._map.transform.centerPoint,e.preventDefault())},c.prototype._onMove=function(e){if(!this._ignoreEvent(e)){this.isActive()||(this._active=!0,this._map.moving=!0,this._fireEvent("rotatestart",e),this._fireEvent("movestart",e),this._pitchWithRotate&&this._fireEvent("pitchstart",e));var t=this._map;t.stop();var n=this._pos,o=r.mousePos(this._el,e),i=.8*(n.x-o.x),a=(n.y-o.y)*-.5,s=t.getBearing()-i,u=t.getPitch()-a,l=this._inertia,c=l[l.length-1];this._drainInertiaBuffer(),l.push([Date.now(),t._normalizeBearing(s,c[1])]),t.transform.bearing=s,this._pitchWithRotate&&(this._fireEvent("pitch",e),t.transform.pitch=u),this._fireEvent("rotate",e),this._fireEvent("move",e),this._pos=o}},c.prototype._onUp=function(e){var t=this;if(!this._ignoreEvent(e)&&(i.document.removeEventListener("mousemove",this._onMove),i.document.removeEventListener("mouseup",this._onUp),i.removeEventListener("blur",this._onUp),this.isActive())){this._active=!1,this._fireEvent("rotateend",e),this._drainInertiaBuffer();var n=this._map,r=n.getBearing(),o=this._inertia,c=function(){Math.abs(r)<t._bearingSnap?n.resetNorth({noMoveStart:!0},{originalEvent:e}):(t._map.moving=!1,t._fireEvent("moveend",e)),t._pitchWithRotate&&t._fireEvent("pitchend",e)};if(o.length<2)return void c();var p=o[0],f=o[o.length-1],h=o[o.length-2],d=n._normalizeBearing(r,h[1]),m=f[1]-p[1],y=0>m?-1:1,g=(f[0]-p[0])/1e3;if(0===m||0===g)return void c();var v=Math.abs(m*(a/g));v>u&&(v=u);var b=v/(l*a),_=y*v*(b/2);d+=_,Math.abs(n._normalizeBearing(d,0))<this._bearingSnap&&(d=n._normalizeBearing(0,d)),n.rotateTo(d,{duration:1e3*b,easing:s,noMoveStart:!0},{originalEvent:e})}},c.prototype._fireEvent=function(e,t){return this._map.fire(e,{originalEvent:t})},c.prototype._ignoreEvent=function(e){var t=this._map;if(t.boxZoom&&t.boxZoom.isActive())return!0;if(t.dragPan&&t.dragPan.isActive())return!0;if(e.touches)return e.touches.length>1;var n=e.ctrlKey?1:2,r=e.ctrlKey?0:2,o=e.button;return"undefined"!=typeof InstallTrigger&&2===e.button&&e.ctrlKey&&i.navigator.platform.toUpperCase().indexOf("MAC")>=0&&(o=0),"mousemove"===e.type?e.buttons&0===n:!this.isActive()&&o!==r},c.prototype._drainInertiaBuffer=function(){for(var e=this._inertia,t=Date.now(),n=160;e.length>0&&t-e[0][0]>n;)e.shift()},t.exports=c},{"../../util/dom":202,"../../util/util":215,"../../util/window":197}],186:[function(e,t,n){"use strict";function r(e){return e*(2-e)}var o=100,i=15,a=10,s=function(e){this._map=e,this._el=e.getCanvasContainer(),this._onKeyDown=this._onKeyDown.bind(this)};s.prototype.isEnabled=function(){return!!this._enabled},s.prototype.enable=function(){this.isEnabled()||(this._el.addEventListener("keydown",this._onKeyDown,!1),this._enabled=!0)},s.prototype.disable=function(){this.isEnabled()&&(this._el.removeEventListener("keydown",this._onKeyDown),this._enabled=!1)},s.prototype._onKeyDown=function(e){if(!(e.altKey||e.ctrlKey||e.metaKey)){var t=0,n=0,s=0,u=0,l=0;switch(e.keyCode){case 61:case 107:case 171:case 187:t=1;break;case 189:case 109:case 173:t=-1;break;case 37:e.shiftKey?n=-1:(e.preventDefault(),u=-1);break;case 39:e.shiftKey?n=1:(e.preventDefault(),u=1);break;case 38:e.shiftKey?s=1:(e.preventDefault(),l=-1);break;case 40:e.shiftKey?s=-1:(l=1,e.preventDefault());break;default:return}var c=this._map,p=c.getZoom(),f={duration:300,delayEndEvents:500,easing:r,zoom:t?Math.round(p)+t*(e.shiftKey?2:1):p,bearing:c.getBearing()+n*i,pitch:c.getPitch()+s*a,offset:[-u*o,-l*o],center:c.getCenter()};c.easeTo(f,{originalEvent:e})}},t.exports=s},{}],187:[function(e,t,n){"use strict";var r=e("../../util/dom"),o=e("../../util/util"),i=e("../../util/browser"),a=e("../../util/window"),s=a.navigator.userAgent.toLowerCase(),u=-1!==s.indexOf("firefox"),l=-1!==s.indexOf("safari")&&-1===s.indexOf("chrom"),c=function(e){this._map=e,this._el=e.getCanvasContainer(),o.bindAll(["_onWheel","_onTimeout"],this)};c.prototype.isEnabled=function(){return!!this._enabled},c.prototype.enable=function(e){this.isEnabled()||(this._el.addEventListener("wheel",this._onWheel,!1),this._el.addEventListener("mousewheel",this._onWheel,!1),this._enabled=!0,this._aroundCenter=e&&"center"===e.around)},c.prototype.disable=function(){this.isEnabled()&&(this._el.removeEventListener("wheel",this._onWheel),this._el.removeEventListener("mousewheel",this._onWheel),this._enabled=!1)},c.prototype._onWheel=function(e){var t;"wheel"===e.type?(t=e.deltaY,u&&e.deltaMode===a.WheelEvent.DOM_DELTA_PIXEL&&(t/=i.devicePixelRatio),e.deltaMode===a.WheelEvent.DOM_DELTA_LINE&&(t*=40)):"mousewheel"===e.type&&(t=-e.wheelDeltaY,l&&(t/=3));var n=i.now(),o=n-(this._time||0);this._pos=r.mousePos(this._el,e),this._time=n,0!==t&&t%4.000244140625===0?this._type="wheel":0!==t&&Math.abs(t)<4?this._type="trackpad":o>400?(this._type=null,this._lastValue=t,this._timeout=setTimeout(this._onTimeout,40)):this._type||(this._type=Math.abs(o*t)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,t+=this._lastValue)),e.shiftKey&&t&&(t/=4),this._type&&this._zoom(-t,e),e.preventDefault()},c.prototype._onTimeout=function(){this._type="wheel",this._zoom(-this._lastValue)},c.prototype._zoom=function(e,t){if(0!==e){var n=this._map,r=2/(1+Math.exp(-Math.abs(e/100)));0>e&&0!==r&&(r=1/r);var o=n.ease?n.ease.to:n.transform.scale,i=n.transform.scaleZoom(o*r);n.zoomTo(i,{duration:"wheel"===this._type?200:0,around:this._aroundCenter?n.getCenter():n.unproject(this._pos),delayEndEvents:200,smoothEasing:!0},{originalEvent:t})}},t.exports=c},{"../../util/browser":195,"../../util/dom":202,"../../util/util":215,"../../util/window":197}],188:[function(e,t,n){"use strict";var r=e("../../util/dom"),o=e("../../util/util"),i=e("../../util/window"),a=.15,s=o.bezier(0,0,a,1),u=12,l=2.5,c=.15,p=4,f=function(e){this._map=e,this._el=e.getCanvasContainer(),o.bindAll(["_onStart","_onMove","_onEnd"],this)};f.prototype.isEnabled=function(){return!!this._enabled},f.prototype.enable=function(e){this.isEnabled()||(this._el.classList.add("mapboxgl-touch-zoom-rotate"),this._el.addEventListener("touchstart",this._onStart,!1),this._enabled=!0,this._aroundCenter=e&&"center"===e.around)},f.prototype.disable=function(){this.isEnabled()&&(this._el.classList.remove("mapboxgl-touch-zoom-rotate"),this._el.removeEventListener("touchstart",this._onStart),this._enabled=!1)},f.prototype.disableRotation=function(){this._rotationDisabled=!0},f.prototype.enableRotation=function(){this._rotationDisabled=!1},f.prototype._onStart=function(e){if(2===e.touches.length){var t=r.mousePos(this._el,e.touches[0]),n=r.mousePos(this._el,e.touches[1]);this._startVec=t.sub(n),this._startScale=this._map.transform.scale,this._startBearing=this._map.transform.bearing,this._gestureIntent=void 0,this._inertia=[],i.document.addEventListener("touchmove",this._onMove,!1),i.document.addEventListener("touchend",this._onEnd,!1)}},f.prototype._onMove=function(e){if(2===e.touches.length){var t=r.mousePos(this._el,e.touches[0]),n=r.mousePos(this._el,e.touches[1]),o=t.add(n).div(2),i=t.sub(n),a=i.mag()/this._startVec.mag(),s=this._rotationDisabled?0:180*i.angleWith(this._startVec)/Math.PI,u=this._map;if(this._gestureIntent){var l={duration:0,around:u.unproject(o)};"rotate"===this._gestureIntent&&(l.bearing=this._startBearing+s),"zoom"!==this._gestureIntent&&"rotate"!==this._gestureIntent||(l.zoom=u.transform.scaleZoom(this._startScale*a)),u.stop(),this._drainInertiaBuffer(),this._inertia.push([Date.now(),a,o]),u.easeTo(l,{originalEvent:e})}else{var f=Math.abs(1-a)>c,h=Math.abs(s)>p;h?this._gestureIntent="rotate":f&&(this._gestureIntent="zoom"),this._gestureIntent&&(this._startVec=i,this._startScale=u.transform.scale,this._startBearing=u.transform.bearing)}e.preventDefault()}},f.prototype._onEnd=function(e){i.document.removeEventListener("touchmove",this._onMove),i.document.removeEventListener("touchend",this._onEnd),this._drainInertiaBuffer();var t=this._inertia,n=this._map;if(t.length<2)return void n.snapToNorth({},{originalEvent:e});var r=t[t.length-1],o=t[0],c=n.transform.scaleZoom(this._startScale*r[1]),p=n.transform.scaleZoom(this._startScale*o[1]),f=c-p,h=(r[0]-o[0])/1e3,d=r[2];if(0===h||c===p)return void n.snapToNorth({},{originalEvent:e});var m=f*a/h;Math.abs(m)>l&&(m=m>0?l:-l);var y=1e3*Math.abs(m/(u*a)),g=c+m*y/2e3;0>g&&(g=0),n.easeTo({zoom:g,duration:y,easing:s,around:this._aroundCenter?n.getCenter():n.unproject(d)},{originalEvent:e})},f.prototype._drainInertiaBuffer=function(){for(var e=this._inertia,t=Date.now(),n=160;e.length>2&&t-e[0][0]>n;)e.shift()},t.exports=f},{"../../util/dom":202,"../../util/util":215,"../../util/window":197}],189:[function(e,t,n){"use strict";var r=e("../util/util"),o=e("../util/window"),i=function(){r.bindAll(["_onHashChange","_updateHash"],this)};i.prototype.addTo=function(e){return this._map=e,o.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},i.prototype.remove=function(){return o.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),delete this._map,this},i.prototype._onHashChange=function(){var e=o.location.hash.replace("#","").split("/");return e.length>=3&&(this._map.jumpTo({center:[+e[2],+e[1]],zoom:+e[0],bearing:+(e[3]||0),pitch:+(e[4]||0)}),!0)},i.prototype._updateHash=function(){var e=this._map.getCenter(),t=this._map.getZoom(),n=this._map.getBearing(),r=this._map.getPitch(),i=Math.max(0,Math.ceil(Math.log(t)/Math.LN2)),a="#"+Math.round(100*t)/100+"/"+e.lat.toFixed(i)+"/"+e.lng.toFixed(i);(n||r)&&(a+="/"+Math.round(10*n)/10),r&&(a+="/"+Math.round(r)),o.history.replaceState("","",a)},t.exports=i},{"../util/util":215,"../util/window":197}],190:[function(e,t,n){"use strict";function r(e){e.parentNode&&e.parentNode.removeChild(e)}var o=e("../util/util"),i=e("../util/browser"),a=e("../util/window"),s=e("../util/dom"),u=e("../util/ajax"),l=e("../style/style"),c=e("../style/animation_loop"),p=e("../render/painter"),f=e("../geo/transform"),h=e("./hash"),d=e("./bind_handlers"),m=e("./camera"),y=e("../geo/lng_lat"),g=e("../geo/lng_lat_bounds"),v=e("point-geometry"),b=e("./control/attribution_control"),_=e("./control/logo_control"),w=e("mapbox-gl-supported"),x=0,k=22,E={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:x,maxZoom:k,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,bearingSnap:7,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0},T=function(e){function t(t){var n=this;if(t=o.extend({},E,t),null!=t.minZoom&&null!=t.maxZoom&&t.minZoom>t.maxZoom)throw new Error("maxZoom must be greater than minZoom");var r=new f(t.minZoom,t.maxZoom,t.renderWorldCopies);if(e.call(this,r,t),this._interactive=t.interactive,this._failIfMajorPerformanceCaveat=t.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=t.preserveDrawingBuffer,this._trackResize=t.trackResize,this._bearingSnap=t.bearingSnap,this._refreshExpiredTiles=t.refreshExpiredTiles,"string"==typeof t.container){if(this._container=a.document.getElementById(t.container),!this._container)throw new Error("Container '"+t.container+"' not found.")}else this._container=t.container;this.animationLoop=new c,t.maxBounds&&this.setMaxBounds(t.maxBounds),o.bindAll(["_onWindowOnline","_onWindowResize","_contextLost","_contextRestored","_update","_render","_onData","_onDataLoading"],this),this._setupContainer(),this._setupPainter(),this.on("move",this._update.bind(this,!1)),this.on("zoom",this._update.bind(this,!0)),this.on("moveend",function(){n.animationLoop.set(300),n._rerender()}),"undefined"!=typeof a&&(a.addEventListener("online",this._onWindowOnline,!1),a.addEventListener("resize",this._onWindowResize,!1)),d(this,t),this._hash=t.hash&&(new h).addTo(this),this._hash&&this._hash._onHashChange()||this.jumpTo({center:t.center,zoom:t.zoom,bearing:t.bearing,pitch:t.pitch}),this._classes=[],this.resize(),t.classes&&this.setClasses(t.classes),t.style&&this.setStyle(t.style),t.attributionControl&&this.addControl(new b),this.addControl(new _,t.logoPosition),this.on("style.load",function(){this.transform.unmodified&&this.jumpTo(this.style.stylesheet),this.style.update(this._classes,{transition:!1})}),this.on("data",this._onData),this.on("dataloading",this._onDataLoading)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={showTileBoundaries:{},showCollisionBoxes:{},showOverdrawInspector:{},repaint:{},vertices:{}};return t.prototype.addControl=function(e,t){void 0===t&&e.getDefaultPosition&&(t=e.getDefaultPosition()),void 0===t&&(t="top-right");var n=e.onAdd(this),r=this._controlPositions[t];return-1!==t.indexOf("bottom")?r.insertBefore(n,r.firstChild):r.appendChild(n),this},t.prototype.removeControl=function(e){return e.onRemove(this),this},t.prototype.addClass=function(e,t){return o.warnOnce("Style classes are deprecated and will be removed in an upcoming release of Mapbox GL JS."),this._classes.indexOf(e)>=0||""===e?this:(this._classes.push(e),this._classOptions=t,this.style&&this.style.updateClasses(),this._update(!0))},t.prototype.removeClass=function(e,t){o.warnOnce("Style classes are deprecated and will be removed in an upcoming release of Mapbox GL JS.");var n=this._classes.indexOf(e);return 0>n||""===e?this:(this._classes.splice(n,1),this._classOptions=t,this.style&&this.style.updateClasses(),this._update(!0))},t.prototype.setClasses=function(e,t){o.warnOnce("Style classes are deprecated and will be removed in an upcoming release of Mapbox GL JS.");for(var n={},r=0;r<e.length;r++)""!==e[r]&&(n[e[r]]=!0);return this._classes=Object.keys(n),this._classOptions=t,this.style&&this.style.updateClasses(),this._update(!0)},t.prototype.hasClass=function(e){return o.warnOnce("Style classes are deprecated and will be removed in an upcoming release of Mapbox GL JS."),this._classes.indexOf(e)>=0},t.prototype.getClasses=function(){return o.warnOnce("Style classes are deprecated and will be removed in an upcoming release of Mapbox GL JS."),this._classes},t.prototype.resize=function(){var e=this._containerDimensions(),t=e[0],n=e[1];return this._resizeCanvas(t,n),this.transform.resize(t,n),this.painter.resize(t,n),this.fire("movestart").fire("move").fire("resize").fire("moveend")},t.prototype.getBounds=function(){var e=new g(this.transform.pointLocation(new v(0,this.transform.height)),this.transform.pointLocation(new v(this.transform.width,0)));return(this.transform.angle||this.transform.pitch)&&(e.extend(this.transform.pointLocation(new v(this.transform.size.x,0))),e.extend(this.transform.pointLocation(new v(0,this.transform.size.y)))),e},t.prototype.setMaxBounds=function(e){if(e){var t=g.convert(e);this.transform.lngRange=[t.getWest(),t.getEast()],this.transform.latRange=[t.getSouth(),t.getNorth()],this.transform._constrain(),this._update()}else null!==e&&void 0!==e||(this.transform.lngRange=[],this.transform.latRange=[],this._update());return this},t.prototype.setMinZoom=function(e){if(e=null===e||void 0===e?x:e,e>=x&&e<=this.transform.maxZoom)return this.transform.minZoom=e,this._update(),this.getZoom()<e&&this.setZoom(e),this;throw new Error("minZoom must be between "+x+" and the current maxZoom, inclusive")},t.prototype.getMinZoom=function(){return this.transform.minZoom},t.prototype.setMaxZoom=function(e){if(e=null===e||void 0===e?k:e,e>=this.transform.minZoom)return this.transform.maxZoom=e,this._update(),this.getZoom()>e&&this.setZoom(e),this;throw new Error("maxZoom must be greater than the current minZoom")},t.prototype.getMaxZoom=function(){return this.transform.maxZoom},t.prototype.project=function(e){return this.transform.locationPoint(y.convert(e))},t.prototype.unproject=function(e){return this.transform.pointLocation(v.convert(e))},t.prototype.on=function(t,n,r){var i=this;if(void 0===r)return e.prototype.on.call(this,t,n);var a=function(){if("mouseenter"===t||"mouseover"===t){var e=!1,a=function(a){var s=i.queryRenderedFeatures(a.point,{layers:[n]});s.length?e||(e=!0,r.call(i,o.extend({features:s},a,{type:t}))):e=!1},s=function(){e=!1};return{layer:n,listener:r,delegates:{mousemove:a,mouseout:s}}}if("mouseleave"===t||"mouseout"===t){var u=!1,l=function(e){var a=i.queryRenderedFeatures(e.point,{layers:[n]});a.length?u=!0:u&&(u=!1,r.call(i,o.extend({},e,{type:t})))},c=function(e){u&&(u=!1,r.call(i,o.extend({},e,{type:t})))};return{layer:n,listener:r,delegates:{mousemove:l,mouseout:c}}}var p=function(e){var t=i.queryRenderedFeatures(e.point,{layers:[n]});t.length&&r.call(i,o.extend({features:t},e))};return{layer:n,listener:r,delegates:(f={},f[t]=p,f)};var f}();this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[t]=this._delegatedListeners[t]||[],this._delegatedListeners[t].push(a);for(var s in a.delegates)i.on(s,a.delegates[s]);return this},t.prototype.off=function(t,n,r){var o=this;if(void 0===r)return e.prototype.off.call(this,t,n);if(this._delegatedListeners&&this._delegatedListeners[t])for(var i=this._delegatedListeners[t],a=0;a<i.length;a++){var s=i[a];if(s.layer===n&&s.listener===r){for(var u in s.delegates)o.off(u,s.delegates[u]);return i.splice(a,1),o}}},t.prototype.queryRenderedFeatures=function(){function e(e){return e instanceof v||Array.isArray(e)}var t,n={};return 2===arguments.length?(t=arguments[0],n=arguments[1]):1===arguments.length&&e(arguments[0])?t=arguments[0]:1===arguments.length&&(n=arguments[0]),this.style?this.style.queryRenderedFeatures(this._makeQueryGeometry(t),n,this.transform.zoom,this.transform.angle):[]},t.prototype._makeQueryGeometry=function(e){var t=this;void 0===e&&(e=[v.convert([0,0]),v.convert([this.transform.width,this.transform.height])]);var n,r=e instanceof v||"number"==typeof e[0];if(r){var o=v.convert(e);n=[o]}else{var i=[v.convert(e[0]),v.convert(e[1])];n=[i[0],new v(i[1].x,i[0].y),i[1],new v(i[0].x,i[1].y),i[0]]}return n=n.map(function(e){return t.transform.pointCoordinate(e)})},t.prototype.querySourceFeatures=function(e,t){return this.style.querySourceFeatures(e,t)},t.prototype.setStyle=function(e,t){var n=(!t||t.diff!==!1)&&this.style&&e&&!(e instanceof l)&&"string"!=typeof e;if(n)try{return this.style.setState(e)&&this._update(!0),this}catch(e){o.warnOnce("Unable to perform style diff: "+(e.message||e.error||e)+".  Rebuilding the style from scratch.")}return this.style&&(this.style.setEventedParent(null),this.style._remove(),this.off("rotate",this.style._redoPlacement),this.off("pitch",this.style._redoPlacement)),e?(e instanceof l?this.style=e:this.style=new l(e,this),this.style.setEventedParent(this,{style:this.style}),this.on("rotate",this.style._redoPlacement),this.on("pitch",this.style._redoPlacement),this):(this.style=null,this)},t.prototype.getStyle=function(){return this.style?this.style.serialize():void 0},t.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():o.warnOnce("There is no style added to the map.")},t.prototype.addSource=function(e,t){return this.style.addSource(e,t),this._update(!0),this},t.prototype.isSourceLoaded=function(e){var t=this.style&&this.style.sourceCaches[e];return void 0===t?void this.fire("error",{error:new Error("There is no source with ID '"+e+"'")}):t.loaded()},t.prototype.areTilesLoaded=function(){var e=this.style&&this.style.sourceCaches;for(var t in e){var n=e[t],r=n._tiles;for(var o in r){var i=r[o];if("loaded"!==i.state&&"errored"!==i.state)return!1}}return!0},t.prototype.addSourceType=function(e,t,n){return this.style.addSourceType(e,t,n)},t.prototype.removeSource=function(e){return this.style.removeSource(e),this._update(!0),this},t.prototype.getSource=function(e){return this.style.getSource(e)},t.prototype.addImage=function(e,t,n){this.style.spriteAtlas.addImage(e,t,n)},t.prototype.removeImage=function(e){this.style.spriteAtlas.removeImage(e)},t.prototype.loadImage=function(e,t){u.getImage(e,t)},t.prototype.addLayer=function(e,t){return this.style.addLayer(e,t),this._update(!0),this},t.prototype.moveLayer=function(e,t){return this.style.moveLayer(e,t),this._update(!0),this},t.prototype.removeLayer=function(e){return this.style.removeLayer(e),this._update(!0),this},t.prototype.getLayer=function(e){return this.style.getLayer(e)},t.prototype.setFilter=function(e,t){return this.style.setFilter(e,t),this._update(!0),this},t.prototype.setLayerZoomRange=function(e,t,n){return this.style.setLayerZoomRange(e,t,n),this._update(!0),this},t.prototype.getFilter=function(e){return this.style.getFilter(e)},t.prototype.setPaintProperty=function(e,t,n,r){return this.style.setPaintProperty(e,t,n,r),this._update(!0),this},t.prototype.getPaintProperty=function(e,t,n){return this.style.getPaintProperty(e,t,n)},t.prototype.setLayoutProperty=function(e,t,n){return this.style.setLayoutProperty(e,t,n),this._update(!0),this},t.prototype.getLayoutProperty=function(e,t){return this.style.getLayoutProperty(e,t)},t.prototype.setLight=function(e){return this.style.setLight(e),this._update(!0),this},t.prototype.getLight=function(){return this.style.getLight()},t.prototype.getContainer=function(){return this._container},t.prototype.getCanvasContainer=function(){return this._canvasContainer},t.prototype.getCanvas=function(){return this._canvas},t.prototype._containerDimensions=function(){var e=0,t=0;return this._container&&(e=this._container.offsetWidth||400,t=this._container.offsetHeight||300),[e,t]},t.prototype._setupContainer=function(){var e=this._container;e.classList.add("mapboxgl-map");var t=this._canvasContainer=s.create("div","mapboxgl-canvas-container",e);this._interactive&&t.classList.add("mapboxgl-interactive"),this._canvas=s.create("canvas","mapboxgl-canvas",t),this._canvas.style.position="absolute",this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex",0),this._canvas.setAttribute("aria-label","Map");var n=this._containerDimensions();this._resizeCanvas(n[0],n[1]);var r=this._controlContainer=s.create("div","mapboxgl-control-container",e),o=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(function(e){o[e]=s.create("div","mapboxgl-ctrl-"+e,r)})},t.prototype._resizeCanvas=function(e,t){var n=a.devicePixelRatio||1;this._canvas.width=n*e,this._canvas.height=n*t,this._canvas.style.width=e+"px",this._canvas.style.height=t+"px"},t.prototype._setupPainter=function(){var e=o.extend({failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer},w.webGLContextAttributes),t=this._canvas.getContext("webgl",e)||this._canvas.getContext("experimental-webgl",e);return t?void(this.painter=new p(t,this.transform)):void this.fire("error",{error:new Error("Failed to initialize WebGL")})},t.prototype._contextLost=function(e){e.preventDefault(),this._frameId&&i.cancelFrame(this._frameId),this.fire("webglcontextlost",{originalEvent:e})},t.prototype._contextRestored=function(e){this._setupPainter(),this.resize(),this._update(),this.fire("webglcontextrestored",{originalEvent:e})},t.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!(!this.style||!this.style.loaded())},t.prototype._update=function(e){return this.style?(this._styleDirty=this._styleDirty||e,this._sourcesDirty=!0,this._rerender(),this):this},t.prototype._render=function(){return this.style&&this._styleDirty&&(this._styleDirty=!1,this.style.update(this._classes,this._classOptions),this._classOptions=null,this.style._recalculate(this.transform.zoom)),this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.rotating,zooming:this.zooming}),this.fire("render"),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire("load")),this._frameId=null,this.animationLoop.stopped()||(this._styleDirty=!0),(this._sourcesDirty||this._repaint||this._styleDirty)&&this._rerender(),this},t.prototype.remove=function(){this._hash&&this._hash.remove(),i.cancelFrame(this._frameId),this.setStyle(null),"undefined"!=typeof a&&(a.removeEventListener("resize",this._onWindowResize,!1),a.removeEventListener("online",this._onWindowOnline,!1));var e=this.painter.gl.getExtension("WEBGL_lose_context");e&&e.loseContext(),r(this._canvasContainer),r(this._controlContainer),this._container.classList.remove("mapboxgl-map"),this.fire("remove")},t.prototype._rerender=function(){this.style&&!this._frameId&&(this._frameId=i.frame(this._render))},t.prototype._onWindowOnline=function(){this._update()},t.prototype._onWindowResize=function(){this._trackResize&&this.stop().resize()._update()},n.showTileBoundaries.get=function(){return!!this._showTileBoundaries},n.showTileBoundaries.set=function(e){this._showTileBoundaries!==e&&(this._showTileBoundaries=e,this._update())},n.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},n.showCollisionBoxes.set=function(e){this._showCollisionBoxes!==e&&(this._showCollisionBoxes=e,this.style._redoPlacement())},n.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},n.showOverdrawInspector.set=function(e){this._showOverdrawInspector!==e&&(this._showOverdrawInspector=e,this._update())},n.repaint.get=function(){return!!this._repaint},n.repaint.set=function(e){this._repaint=e,this._update()},n.vertices.get=function(){return!!this._vertices},n.vertices.set=function(e){this._vertices=e,this._update()},t.prototype._onData=function(e){this._update("style"===e.dataType),this.fire(e.dataType+"data",e)},t.prototype._onDataLoading=function(e){this.fire(e.dataType+"dataloading",e)},Object.defineProperties(t.prototype,n),t}(m);t.exports=T},{"../geo/lng_lat":62,"../geo/lng_lat_bounds":63,"../geo/transform":64,"../render/painter":77,"../style/animation_loop":146,"../style/style":149,"../util/ajax":194,"../util/browser":195,"../util/dom":202,"../util/util":215,"../util/window":197,"./bind_handlers":174,"./camera":175,"./control/attribution_control":176,"./control/logo_control":179,"./hash":189,"mapbox-gl-supported":22,"point-geometry":26}],191:[function(e,t,n){"use strict";var r=e("../util/dom"),o=e("../geo/lng_lat"),i=e("point-geometry"),a=e("../util/smart_wrap"),s=function(e,t){this._offset=i.convert(t&&t.offset||[0,0]),this._update=this._update.bind(this),this._onMapClick=this._onMapClick.bind(this),e||(e=r.create("div")),e.classList.add("mapboxgl-marker"),this._element=e,this._popup=null};s.prototype.addTo=function(e){return this.remove(),this._map=e,e.getCanvasContainer().appendChild(this._element),e.on("move",this._update),e.on("moveend",this._update),this._update(),this._map.on("click",this._onMapClick),this},s.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map=null),r.remove(this._element),this._popup&&this._popup.remove(),this},s.prototype.getLngLat=function(){return this._lngLat},s.prototype.setLngLat=function(e){return this._lngLat=o.convert(e),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},s.prototype.getElement=function(){return this._element},s.prototype.setPopup=function(e){return this._popup&&(this._popup.remove(),this._popup=null),e&&(this._popup=e,this._popup.setLngLat(this._lngLat)),this},s.prototype._onMapClick=function(e){var t=e.originalEvent.target,n=this._element;this._popup&&(t===n||n.contains(t))&&this.togglePopup()},s.prototype.getPopup=function(){return this._popup},s.prototype.togglePopup=function(){var e=this._popup;e&&(e.isOpen()?e.remove():e.addTo(this._map))},s.prototype._update=function(e){this._map&&(this._map.transform.renderWorldCopies&&(this._lngLat=a(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset),e&&"moveend"!==e.type||(this._pos=this._pos.round()),r.setTransform(this._element,"translate("+this._pos.x+"px, "+this._pos.y+"px)"))},t.exports=s},{"../geo/lng_lat":62,"../util/dom":202,"../util/smart_wrap":212,"point-geometry":26}],192:[function(e,t,n){"use strict";function r(e){if(e){if("number"==typeof e){var t=Math.round(Math.sqrt(.5*Math.pow(e,2)));return{top:new l(0,e),"top-left":new l(t,t),"top-right":new l(-t,t),bottom:new l(0,-e),"bottom-left":new l(t,-t),"bottom-right":new l(-t,-t),left:new l(e,0),right:new l(-e,0)}}if(o(e)){var n=l.convert(e);return{top:n,"top-left":n,"top-right":n,bottom:n,"bottom-left":n,"bottom-right":n,left:n,right:n}}return{top:l.convert(e.top||[0,0]),"top-left":l.convert(e["top-left"]||[0,0]),"top-right":l.convert(e["top-right"]||[0,0]),bottom:l.convert(e.bottom||[0,0]),"bottom-left":l.convert(e["bottom-left"]||[0,0]),"bottom-right":l.convert(e["bottom-right"]||[0,0]),left:l.convert(e.left||[0,0]),right:l.convert(e.right||[0,0])}}return r(new l(0,0))}function o(e){return e instanceof l||Array.isArray(e)}var i=e("../util/util"),a=e("../util/evented"),s=e("../util/dom"),u=e("../geo/lng_lat"),l=e("point-geometry"),c=e("../util/window"),p=e("../util/smart_wrap"),f={closeButton:!0,closeOnClick:!0},h=function(e){function t(t){e.call(this),this.options=i.extend(Object.create(f),t),i.bindAll(["_update","_onClickClose"],this)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.addTo=function(e){return this._map=e,this._map.on("move",this._update),this.options.closeOnClick&&this._map.on("click",this._onClickClose),this._update(),this},t.prototype.isOpen=function(){return!!this._map},t.prototype.remove=function(){return this._content&&this._content.parentNode&&this._content.parentNode.removeChild(this._content),this._container&&(this._container.parentNode.removeChild(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("click",this._onClickClose),delete this._map),this.fire("close"),this},t.prototype.getLngLat=function(){return this._lngLat},t.prototype.setLngLat=function(e){return this._lngLat=u.convert(e),this._pos=null,this._update(),
this},t.prototype.setText=function(e){return this.setDOMContent(c.document.createTextNode(e))},t.prototype.setHTML=function(e){var t,n=c.document.createDocumentFragment(),r=c.document.createElement("body");for(r.innerHTML=e;t=r.firstChild,t;)n.appendChild(t);return this.setDOMContent(n)},t.prototype.setDOMContent=function(e){return this._createContent(),this._content.appendChild(e),this._update(),this},t.prototype._createContent=function(){this._content&&this._content.parentNode&&this._content.parentNode.removeChild(this._content),this._content=s.create("div","mapboxgl-popup-content",this._container),this.options.closeButton&&(this._closeButton=s.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClickClose))},t.prototype._update=function(){if(this._map&&this._lngLat&&this._content){this._container||(this._container=s.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=s.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content)),this._map.transform.renderWorldCopies&&(this._lngLat=p(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat);var e=this.options.anchor,t=r(this.options.offset);if(!e){var n=this._container.offsetWidth,o=this._container.offsetHeight;e=this._pos.y+t.bottom.y<o?["top"]:this._pos.y>this._map.transform.height-o?["bottom"]:[],this._pos.x<n/2?e.push("left"):this._pos.x>this._map.transform.width-n/2&&e.push("right"),e=0===e.length?"bottom":e.join("-")}var i=this._pos.add(t[e]).round(),a={top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"},u=this._container.classList;for(var l in a)u.remove("mapboxgl-popup-anchor-"+l);u.add("mapboxgl-popup-anchor-"+e),s.setTransform(this._container,a[e]+" translate("+i.x+"px,"+i.y+"px)")}},t.prototype._onClickClose=function(){this.remove()},t}(a);t.exports=h},{"../geo/lng_lat":62,"../util/dom":202,"../util/evented":203,"../util/smart_wrap":212,"../util/util":215,"../util/window":197,"point-geometry":26}],193:[function(e,t,n){"use strict";var r=function(e,t,n){this.target=e,this.parent=t,this.mapId=n,this.callbacks={},this.callbackID=0,this.receive=this.receive.bind(this),this.target.addEventListener("message",this.receive,!1)};r.prototype.send=function(e,t,n,r,o){var i=n?this.mapId+":"+this.callbackID++:null;n&&(this.callbacks[i]=n),this.target.postMessage({targetMapId:o,sourceMapId:this.mapId,type:e,id:String(i),data:t},r)},r.prototype.receive=function(e){var t,n=this,r=e.data,o=r.id;if(!r.targetMapId||this.mapId===r.targetMapId){var i=function(e,t,r){n.target.postMessage({sourceMapId:n.mapId,type:"<response>",id:String(o),error:e?String(e):null,data:t},r)};if("<response>"===r.type)t=this.callbacks[r.id],delete this.callbacks[r.id],t&&t(r.error||null,r.data);else if("undefined"!=typeof r.id&&this.parent[r.type])this.parent[r.type](r.sourceMapId,r.data,i);else if("undefined"!=typeof r.id&&this.parent.getWorkerSource){var a=r.type.split("."),s=this.parent.getWorkerSource(r.sourceMapId,a[0]);s[a[1]](r.data,i)}else this.parent[r.type](r.data)}},r.prototype.remove=function(){this.target.removeEventListener("message",this.receive,!1)},t.exports=r},{}],194:[function(e,t,n){"use strict";function r(e){var t=o.document.createElement("a");return t.href=e,t.protocol===o.document.location.protocol&&t.host===o.document.location.host}var o=e("./window"),i=function(e){function t(t,n){e.call(this,t),this.status=n}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Error);n.getJSON=function(e,t){var n=new o.XMLHttpRequest;return n.open("GET",e,!0),n.setRequestHeader("Accept","application/json"),n.onerror=function(e){t(e)},n.onload=function(){if(n.status>=200&&n.status<300&&n.response){var e;try{e=JSON.parse(n.response)}catch(e){return t(e)}t(null,e)}else t(new i(n.statusText,n.status))},n.send(),n},n.getArrayBuffer=function(e,t){var n=new o.XMLHttpRequest;return n.open("GET",e,!0),n.responseType="arraybuffer",n.onerror=function(e){t(e)},n.onload=function(){return 0===n.response.byteLength&&200===n.status?t(new Error("http status 200 returned without content.")):void(n.status>=200&&n.status<300&&n.response?t(null,{data:n.response,cacheControl:n.getResponseHeader("Cache-Control"),expires:n.getResponseHeader("Expires")}):t(new i(n.statusText,n.status)))},n.send(),n};var a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";n.getImage=function(e,t){return n.getArrayBuffer(e,function(e,n){if(e)return t(e);var r=new o.Image,i=o.URL||o.webkitURL;r.onload=function(){t(null,r),i.revokeObjectURL(r.src)};var s=new o.Blob([new Uint8Array(n.data)],{type:"image/png"});r.cacheControl=n.cacheControl,r.expires=n.expires,r.src=n.data.byteLength?i.createObjectURL(s):a})},n.getVideo=function(e,t){var n=o.document.createElement("video");n.onloadstart=function(){t(null,n)};for(var i=0;i<e.length;i++){var a=o.document.createElement("source");r(e[i])||(n.crossOrigin="Anonymous"),a.src=e[i],n.appendChild(a)}return n}},{"./window":197}],195:[function(e,t,n){"use strict";var r=e("./window");t.exports.now=function(){return r.performance&&r.performance.now?r.performance.now.bind(r.performance):Date.now.bind(Date)}();var o=r.requestAnimationFrame||r.mozRequestAnimationFrame||r.webkitRequestAnimationFrame||r.msRequestAnimationFrame;n.frame=function(e){return o(e)};var i=r.cancelAnimationFrame||r.mozCancelAnimationFrame||r.webkitCancelAnimationFrame||r.msCancelAnimationFrame;n.cancelFrame=function(e){i(e)},n.timed=function(e,r,o){function i(u){a||(u=t.exports.now(),u>=s+r?e.call(o,1):(e.call(o,(u-s)/r),n.frame(i)))}if(!r)return e.call(o,1),null;var a=!1,s=t.exports.now();return n.frame(i),function(){a=!0}},n.getImageData=function(e){var t=r.document.createElement("canvas"),n=t.getContext("2d");return t.width=e.width,t.height=e.height,n.drawImage(e,0,0,e.width,e.height),n.getImageData(0,0,e.width,e.height).data},n.supported=e("mapbox-gl-supported"),n.hardwareConcurrency=r.navigator.hardwareConcurrency||4,Object.defineProperty(n,"devicePixelRatio",{get:function(){return r.devicePixelRatio}}),n.supportsWebp=!1;var a=r.document.createElement("img");a.onload=function(){n.supportsWebp=!0},a.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA="},{"./window":197,"mapbox-gl-supported":22}],196:[function(e,t,n){"use strict";var r=e("webworkify"),o=e("../window"),i=o.URL.createObjectURL(new r(e("../../source/worker"),{bare:!0}));t.exports=function(){return new o.Worker(i)}},{"../../source/worker":100,"../window":197,webworkify:41}],197:[function(e,t,n){"use strict";t.exports=self},{}],198:[function(e,t,n){"use strict";function r(e,t){return t.area-e.area}var o=e("quickselect"),i=e("./util").calculateSignedArea;t.exports=function(e,t){var n=e.length;if(1>=n)return[e];for(var a,s,u=[],l=0;n>l;l++){var c=i(e[l]);0!==c&&(e[l].area=Math.abs(c),void 0===s&&(s=0>c),s===0>c?(a&&u.push(a),a=[e[l]]):a.push(e[l]))}if(a&&u.push(a),t>1)for(var p=0;p<u.length;p++)u[p].length<=t||(o(u[p],t,1,u[p].length-1,r),u[p]=u[p].slice(0,t));return u}},{"./util":215,quickselect:28}],199:[function(e,t,n){"use strict";var r={API_URL:"https://api.mapbox.com",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null};t.exports=r},{}],200:[function(e,t,n){"use strict";var r=function(e){var t=this;this._stringToNumber={},this._numberToString=[];for(var n=0;n<e.length;n++){var r=e[n];t._stringToNumber[r]=n,t._numberToString[n]=r}};r.prototype.encode=function(e){return this._stringToNumber[e]},r.prototype.decode=function(e){return this._numberToString[e]},t.exports=r},{}],201:[function(e,t,n){"use strict";var r=e("./util"),o=e("./actor"),i=function(e,t){var n=this;this.workerPool=e,this.actors=[],this.currentActor=0,this.id=r.uniqueId();for(var i=this.workerPool.acquire(this.id),a=0;a<i.length;a++){var s=i[a],u=new o(s,t,n.id);u.name="Worker "+a,n.actors.push(u)}};i.prototype.broadcast=function(e,t,n){n=n||function(){},r.asyncAll(this.actors,function(n,r){n.send(e,t,r)},n)},i.prototype.send=function(e,t,n,r,o){return("number"!=typeof r||isNaN(r))&&(r=this.currentActor=(this.currentActor+1)%this.actors.length),this.actors[r].send(e,t,n,o),r},i.prototype.remove=function(){this.actors.forEach(function(e){e.remove()}),this.actors=[],this.workerPool.release(this.id)},t.exports=i},{"./actor":193,"./util":215}],202:[function(e,t,n){"use strict";function r(e){for(var t=0;t<e.length;t++)if(e[t]in u)return e[t];return e[0]}function o(e){e.preventDefault(),e.stopPropagation(),a.removeEventListener("click",o,!0)}var i=e("point-geometry"),a=e("./window");n.create=function(e,t,n){var r=a.document.createElement(e);return t&&(r.className=t),n&&n.appendChild(r),r};var s,u=a.document.documentElement.style,l=r(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]);n.disableDrag=function(){l&&(s=u[l],u[l]="none")},n.enableDrag=function(){l&&(u[l]=s)};var c=r(["transform","WebkitTransform"]);n.setTransform=function(e,t){e.style[c]=t},n.suppressClick=function(){a.addEventListener("click",o,!0),a.setTimeout(function(){a.removeEventListener("click",o,!0)},0)},n.mousePos=function(e,t){var n=e.getBoundingClientRect();return t=t.touches?t.touches[0]:t,new i(t.clientX-n.left-e.clientLeft,t.clientY-n.top-e.clientTop)},n.touchPos=function(e,t){for(var n=e.getBoundingClientRect(),r=[],o="touchend"===t.type?t.changedTouches:t.touches,a=0;a<o.length;a++)r.push(new i(o[a].clientX-n.left-e.clientLeft,o[a].clientY-n.top-e.clientTop));return r},n.remove=function(e){e.parentNode&&e.parentNode.removeChild(e)}},{"./window":197,"point-geometry":26}],203:[function(e,t,n){"use strict";function r(e,t,n){n[e]=n[e]||[],n[e].push(t)}function o(e,t,n){if(n&&n[e]){var r=n[e].indexOf(t);-1!==r&&n[e].splice(r,1)}}var i=e("./util"),a=function(){};a.prototype.on=function(e,t){return this._listeners=this._listeners||{},r(e,t,this._listeners),this},a.prototype.off=function(e,t){return o(e,t,this._listeners),o(e,t,this._oneTimeListeners),this},a.prototype.once=function(e,t){return this._oneTimeListeners=this._oneTimeListeners||{},r(e,t,this._oneTimeListeners),this},a.prototype.fire=function(e,t){var n=this;if(this.listens(e)){t=i.extend({},t,{type:e,target:this});for(var r=this._listeners&&this._listeners[e]?this._listeners[e].slice():[],a=0;a<r.length;a++)r[a].call(n,t);for(var s=this._oneTimeListeners&&this._oneTimeListeners[e]?this._oneTimeListeners[e].slice():[],u=0;u<s.length;u++)s[u].call(n,t),o(e,s[u],n._oneTimeListeners);this._eventedParent&&this._eventedParent.fire(e,i.extend({},t,"function"==typeof this._eventedParentData?this._eventedParentData():this._eventedParentData))}else i.endsWith(e,"error")&&console.error(t&&t.error||t||"Empty error event");return this},a.prototype.listens=function(e){return this._listeners&&this._listeners[e]&&this._listeners[e].length>0||this._oneTimeListeners&&this._oneTimeListeners[e]&&this._oneTimeListeners[e].length>0||this._eventedParent&&this._eventedParent.listens(e)},a.prototype.setEventedParent=function(e,t){return this._eventedParent=e,this._eventedParentData=t,this},t.exports=a},{"./util":215}],204:[function(e,t,n){"use strict";function r(e,t){return t.max-e.max}function o(e,t,n,r){this.p=new u(e,t),this.h=n,this.d=i(this.p,r),this.max=this.d+this.h*Math.SQRT2}function i(e,t){for(var n=!1,r=1/0,o=0;o<t.length;o++)for(var i=t[o],a=0,s=i.length,u=s-1;s>a;u=a++){var c=i[a],p=i[u];c.y>e.y!=p.y>e.y&&e.x<(p.x-c.x)*(e.y-c.y)/(p.y-c.y)+c.x&&(n=!n),r=Math.min(r,l(e,c,p))}return(n?1:-1)*Math.sqrt(r)}function a(e){for(var t=0,n=0,r=0,i=e[0],a=0,s=i.length,u=s-1;s>a;u=a++){var l=i[a],c=i[u],p=l.x*c.y-c.x*l.y;n+=(l.x+c.x)*p,r+=(l.y+c.y)*p,t+=3*p}return new o(n/t,r/t,0,e)}var s=e("tinyqueue"),u=e("point-geometry"),l=e("./intersection_tests").distToSegmentSquared;t.exports=function(e,t,n){t=t||1;for(var i,u,l,c,p=e[0],f=0;f<p.length;f++){var h=p[f];(!f||h.x<i)&&(i=h.x),(!f||h.y<u)&&(u=h.y),(!f||h.x>l)&&(l=h.x),(!f||h.y>c)&&(c=h.y)}var d=l-i,m=c-u,y=Math.min(d,m),g=y/2,v=new s(null,r);if(0===y)return[i,u];for(var b=i;l>b;b+=y)for(var _=u;c>_;_+=y)v.push(new o(b+g,_+g,g,e));for(var w=a(e),x=v.length;v.length;){var k=v.pop();(k.d>w.d||!w.d)&&(w=k,n&&console.log("found best %d after %d probes",Math.round(1e4*k.d)/1e4,x)),k.max-w.d<=t||(g=k.h/2,v.push(new o(k.p.x-g,k.p.y-g,g,e)),v.push(new o(k.p.x+g,k.p.y-g,g,e)),v.push(new o(k.p.x-g,k.p.y+g,g,e)),v.push(new o(k.p.x+g,k.p.y+g,g,e)),x+=4)}return n&&(console.log("num probes: "+x),console.log("best distance: "+w.d)),w.p}},{"./intersection_tests":207,"point-geometry":26,tinyqueue:30}],205:[function(e,t,n){"use strict";var r,o=e("./worker_pool");t.exports=function(){return r||(r=new o),r}},{"./worker_pool":218}],206:[function(e,t,n){"use strict";function r(e,t){this.stacks=e.readFields(o,[],t)}function o(e,t,n){if(1===e){var r=n.readMessage(i,{glyphs:{}});t.push(r)}}function i(e,t,n){if(1===e)t.name=n.readString();else if(2===e)t.range=n.readString();else if(3===e){var r=n.readMessage(a,{});t.glyphs[r.id]=r}}function a(e,t,n){1===e?t.id=n.readVarint():2===e?t.bitmap=n.readBytes():3===e?t.width=n.readVarint():4===e?t.height=n.readVarint():5===e?t.left=n.readSVarint():6===e?t.top=n.readSVarint():7===e&&(t.advance=n.readVarint())}t.exports=r},{}],207:[function(e,t,n){"use strict";function r(e,t){for(var n=0;n<e.length;n++)if(h(t,e[n]))return!0;for(var r=0;r<t.length;r++)if(h(e,t[r]))return!0;return!!u(e,t)}function o(e,t,n){for(var r=0;r<e.length;r++)for(var o=e[r],i=0;i<t.length;i++)for(var a=t[i],s=0;s<a.length;s++){var u=a[s];if(h(o,u))return!0;if(c(u,o,n))return!0}return!1}function i(e,t){if(1===e.length&&1===e[0].length)return f(t,e[0][0]);for(var n=0;n<t.length;n++)for(var r=t[n],o=0;o<r.length;o++)if(f(e,r[o]))return!0;for(var i=0;i<e.length;i++){for(var a=e[i],s=0;s<a.length;s++)if(f(t,a[s]))return!0;for(var l=0;l<t.length;l++)if(u(a,t[l]))return!0}return!1}function a(e,t,n){for(var r=0;r<t.length;r++)for(var o=t[r],i=0;i<e.length;i++){var a=e[i];if(a.length>=3)for(var u=0;u<o.length;u++)if(h(a,o[u]))return!0;if(s(a,o,n))return!0}return!1}function s(e,t,n){if(e.length>1){if(u(e,t))return!0;for(var r=0;r<t.length;r++)if(c(t[r],e,n))return!0}for(var o=0;o<e.length;o++)if(c(e[o],t,n))return!0;return!1}function u(e,t){if(0===e.length||0===t.length)return!1;for(var n=0;n<e.length-1;n++)for(var r=e[n],o=e[n+1],i=0;i<t.length-1;i++){var a=t[i],s=t[i+1];if(l(r,o,a,s))return!0}return!1}function l(e,t,n,r){return d(e,n,r)!==d(t,n,r)&&d(e,t,n)!==d(e,t,r)}function c(e,t,n){var r=n*n;if(1===t.length)return e.distSqr(t[0])<r;for(var o=1;o<t.length;o++){var i=t[o-1],a=t[o];if(p(e,i,a)<r)return!0}return!1}function p(e,t,n){var r=t.distSqr(n);if(0===r)return e.distSqr(t);var o=((e.x-t.x)*(n.x-t.x)+(e.y-t.y)*(n.y-t.y))/r;return 0>o?e.distSqr(t):o>1?e.distSqr(n):e.distSqr(n.sub(t)._mult(o)._add(t))}function f(e,t){for(var n,r,o,i=!1,a=0;a<e.length;a++){n=e[a];for(var s=0,u=n.length-1;s<n.length;u=s++)r=n[s],o=n[u],r.y>t.y!=o.y>t.y&&t.x<(o.x-r.x)*(t.y-r.y)/(o.y-r.y)+r.x&&(i=!i)}return i}function h(e,t){for(var n=!1,r=0,o=e.length-1;r<e.length;o=r++){var i=e[r],a=e[o];i.y>t.y!=a.y>t.y&&t.x<(a.x-i.x)*(t.y-i.y)/(a.y-i.y)+i.x&&(n=!n)}return n}var d=e("./util").isCounterClockwise;t.exports={multiPolygonIntersectsBufferedMultiPoint:o,multiPolygonIntersectsMultiPolygon:i,multiPolygonIntersectsBufferedMultiLine:a,polygonIntersectsPolygon:r,distToSegmentSquared:p}},{"./util":215}],208:[function(e,t,n){"use strict";var r={"Latin-1 Supplement":function(e){return e>=128&&255>=e},"Hangul Jamo":function(e){return e>=4352&&4607>=e},"Unified Canadian Aboriginal Syllabics":function(e){return e>=5120&&5759>=e},"Unified Canadian Aboriginal Syllabics Extended":function(e){return e>=6320&&6399>=e},"General Punctuation":function(e){return e>=8192&&8303>=e},"Letterlike Symbols":function(e){return e>=8448&&8527>=e},"Number Forms":function(e){return e>=8528&&8591>=e},"Miscellaneous Technical":function(e){return e>=8960&&9215>=e},"Control Pictures":function(e){return e>=9216&&9279>=e},"Optical Character Recognition":function(e){return e>=9280&&9311>=e},"Enclosed Alphanumerics":function(e){return e>=9312&&9471>=e},"Geometric Shapes":function(e){return e>=9632&&9727>=e},"Miscellaneous Symbols":function(e){return e>=9728&&9983>=e},"Miscellaneous Symbols and Arrows":function(e){return e>=11008&&11263>=e},"CJK Radicals Supplement":function(e){return e>=11904&&12031>=e},"Kangxi Radicals":function(e){return e>=12032&&12255>=e},"Ideographic Description Characters":function(e){return e>=12272&&12287>=e},"CJK Symbols and Punctuation":function(e){return e>=12288&&12351>=e},Hiragana:function(e){return e>=12352&&12447>=e},Katakana:function(e){return e>=12448&&12543>=e},Bopomofo:function(e){return e>=12544&&12591>=e},"Hangul Compatibility Jamo":function(e){return e>=12592&&12687>=e},Kanbun:function(e){return e>=12688&&12703>=e},"Bopomofo Extended":function(e){return e>=12704&&12735>=e},"CJK Strokes":function(e){return e>=12736&&12783>=e},"Katakana Phonetic Extensions":function(e){return e>=12784&&12799>=e},"Enclosed CJK Letters and Months":function(e){return e>=12800&&13055>=e},"CJK Compatibility":function(e){return e>=13056&&13311>=e},"CJK Unified Ideographs Extension A":function(e){return e>=13312&&19903>=e},"Yijing Hexagram Symbols":function(e){return e>=19904&&19967>=e},"CJK Unified Ideographs":function(e){return e>=19968&&40959>=e},"Yi Syllables":function(e){return e>=40960&&42127>=e},"Yi Radicals":function(e){return e>=42128&&42191>=e},"Hangul Jamo Extended-A":function(e){return e>=43360&&43391>=e},"Hangul Syllables":function(e){return e>=44032&&55215>=e},"Hangul Jamo Extended-B":function(e){return e>=55216&&55295>=e},"Private Use Area":function(e){return e>=57344&&63743>=e},"CJK Compatibility Ideographs":function(e){return e>=63744&&64255>=e},"Vertical Forms":function(e){return e>=65040&&65055>=e},"CJK Compatibility Forms":function(e){return e>=65072&&65103>=e},"Small Form Variants":function(e){return e>=65104&&65135>=e},"Halfwidth and Fullwidth Forms":function(e){return e>=65280&&65519>=e}};t.exports=r},{}],209:[function(e,t,n){"use strict";var r=function(e,t){this.max=e,this.onRemove=t,this.reset()};r.prototype.reset=function(){var e=this;for(var t in e.data)e.onRemove(e.data[t]);return this.data={},this.order=[],this},r.prototype.add=function(e,t){if(this.has(e))this.order.splice(this.order.indexOf(e),1),this.data[e]=t,this.order.push(e);else if(this.data[e]=t,this.order.push(e),this.order.length>this.max){var n=this.get(this.order[0]);n&&this.onRemove(n)}return this},r.prototype.has=function(e){return e in this.data},r.prototype.keys=function(){return this.order},r.prototype.get=function(e){if(!this.has(e))return null;var t=this.data[e];return delete this.data[e],this.order.splice(this.order.indexOf(e),1),t},r.prototype.getWithoutRemoving=function(e){if(!this.has(e))return null;var t=this.data[e];return t},r.prototype.remove=function(e){if(!this.has(e))return this;var t=this.data[e];return delete this.data[e],this.onRemove(t),this.order.splice(this.order.indexOf(e),1),this},r.prototype.setMaxSize=function(e){var t=this;for(this.max=e;this.order.length>this.max;){var n=t.get(t.order[0]);n&&t.onRemove(n)}return this},t.exports=r},{}],210:[function(e,t,n){"use strict";function r(e,t){var n=a(u.API_URL);if(e.protocol=n.protocol,e.authority=n.authority,!u.REQUIRE_ACCESS_TOKEN)return s(e);if(t=t||u.ACCESS_TOKEN,!t)throw new Error("An API access token is required to use Mapbox GL. "+c);if("s"===t[0])throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+c);return e.params.push("access_token="+t),s(e)}function o(e){return 0===e.indexOf("mapbox:")}function i(e){for(var t=0;t<e.length;t++)0===e[t].indexOf("access_token=tk.")&&(e[t]="access_token="+(u.ACCESS_TOKEN||""))}function a(e){var t=e.match(f);if(!t)throw new Error("Unable to parse URL object");return{protocol:t[1],authority:t[2],path:t[3]||"/",params:t[4]?t[4].split("&"):[]}}function s(e){var t=e.params.length?"?"+e.params.join("&"):"";return e.protocol+"://"+e.authority+e.path+t}var u=e("./config"),l=e("./browser"),c="See https://www.mapbox.com/api-documentation/#access-tokens";n.isMapboxURL=o,n.normalizeStyleURL=function(e,t){if(!o(e))return e;var n=a(e);return n.path="/styles/v1"+n.path,r(n,t)},n.normalizeGlyphsURL=function(e,t){if(!o(e))return e;var n=a(e);return n.path="/fonts/v1"+n.path,r(n,t)},n.normalizeSourceURL=function(e,t){if(!o(e))return e;var n=a(e);return n.path="/v4/"+n.authority+".json",n.params.push("secure"),r(n,t)},n.normalizeSpriteURL=function(e,t,n,i){var u=a(e);return o(e)?(u.path="/styles/v1"+u.path+"/sprite"+t+n,r(u,i)):(u.path+=""+t+n,s(u))};var p=/(\.(png|jpg)\d*)(?=$)/;n.normalizeTileURL=function(e,t,n){if(!t||!o(t))return e;var r=a(e),u=l.devicePixelRatio>=2||512===n?"@2x":"",c=l.supportsWebp?".webp":"$1";return r.path=r.path.replace(p,""+u+c),i(r.params),s(r)};var f=/^(\w+):\/\/([^\/?]*)(\/[^?]+)?\??(.+)?/},{"./browser":195,"./config":199}],211:[function(e,t,n){"use strict";var r=e("./is_char_in_unicode_block");t.exports.allowsIdeographicBreaking=function(e){for(var t=0,r=e;t<r.length;t+=1){var o=r[t];if(!n.charAllowsIdeographicBreaking(o.charCodeAt(0)))return!1}return!0},t.exports.allowsVerticalWritingMode=function(e){for(var t=0,r=e;t<r.length;t+=1){var o=r[t];if(n.charHasUprightVerticalOrientation(o.charCodeAt(0)))return!0}return!1},t.exports.charAllowsIdeographicBreaking=function(e){return!!(!(11904>e)&&(r["Bopomofo Extended"](e)||r.Bopomofo(e)||r["CJK Compatibility Forms"](e)||r["CJK Compatibility Ideographs"](e)||r["CJK Compatibility"](e)||r["CJK Radicals Supplement"](e)||r["CJK Strokes"](e)||r["CJK Symbols and Punctuation"](e)||r["CJK Unified Ideographs Extension A"](e)||r["CJK Unified Ideographs"](e)||r["Enclosed CJK Letters and Months"](e)||r["Halfwidth and Fullwidth Forms"](e)||r.Hiragana(e)||r["Ideographic Description Characters"](e)||r["Kangxi Radicals"](e)||r["Katakana Phonetic Extensions"](e)||r.Katakana(e)||r["Vertical Forms"](e)||r["Yi Radicals"](e)||r["Yi Syllables"](e)))},n.charHasUprightVerticalOrientation=function(e){return!!(746===e||747===e||!(4352>e)&&(r["Bopomofo Extended"](e)||r.Bopomofo(e)||r["CJK Compatibility Forms"](e)&&!(e>=65097&&65103>=e)||r["CJK Compatibility Ideographs"](e)||r["CJK Compatibility"](e)||r["CJK Radicals Supplement"](e)||r["CJK Strokes"](e)||!(!r["CJK Symbols and Punctuation"](e)||e>=12296&&12305>=e||e>=12308&&12319>=e||12336===e)||r["CJK Unified Ideographs Extension A"](e)||r["CJK Unified Ideographs"](e)||r["Enclosed CJK Letters and Months"](e)||r["Hangul Compatibility Jamo"](e)||r["Hangul Jamo Extended-A"](e)||r["Hangul Jamo Extended-B"](e)||r["Hangul Jamo"](e)||r["Hangul Syllables"](e)||r.Hiragana(e)||r["Ideographic Description Characters"](e)||r.Kanbun(e)||r["Kangxi Radicals"](e)||r["Katakana Phonetic Extensions"](e)||r.Katakana(e)&&12540!==e||!(!r["Halfwidth and Fullwidth Forms"](e)||65288===e||65289===e||65293===e||e>=65306&&65310>=e||65339===e||65341===e||65343===e||e>=65371&&65503>=e||65507===e||e>=65512&&65519>=e)||!(!r["Small Form Variants"](e)||e>=65112&&65118>=e||e>=65123&&65126>=e)||r["Unified Canadian Aboriginal Syllabics"](e)||r["Unified Canadian Aboriginal Syllabics Extended"](e)||r["Vertical Forms"](e)||r["Yijing Hexagram Symbols"](e)||r["Yi Syllables"](e)||r["Yi Radicals"](e)))},n.charHasNeutralVerticalOrientation=function(e){return!!(r["Latin-1 Supplement"](e)&&(167===e||169===e||174===e||177===e||188===e||189===e||190===e||215===e||247===e)||r["General Punctuation"](e)&&(8214===e||8224===e||8225===e||8240===e||8241===e||8251===e||8252===e||8258===e||8263===e||8264===e||8265===e||8273===e)||r["Letterlike Symbols"](e)||r["Number Forms"](e)||r["Miscellaneous Technical"](e)&&(e>=8960&&8967>=e||e>=8972&&8991>=e||e>=8996&&9e3>=e||9003===e||e>=9085&&9114>=e||e>=9150&&9165>=e||9167===e||e>=9169&&9179>=e||e>=9186&&9215>=e)||r["Control Pictures"](e)&&9251!==e||r["Optical Character Recognition"](e)||r["Enclosed Alphanumerics"](e)||r["Geometric Shapes"](e)||r["Miscellaneous Symbols"](e)&&!(e>=9754&&9759>=e)||r["Miscellaneous Symbols and Arrows"](e)&&(e>=11026&&11055>=e||e>=11088&&11097>=e||e>=11192&&11243>=e)||r["CJK Symbols and Punctuation"](e)||r.Katakana(e)||r["Private Use Area"](e)||r["CJK Compatibility Forms"](e)||r["Small Form Variants"](e)||r["Halfwidth and Fullwidth Forms"](e)||8734===e||8756===e||8757===e||e>=9984&&10087>=e||e>=10102&&10131>=e||65532===e||65533===e)},n.charHasRotatedVerticalOrientation=function(e){return!(n.charHasUprightVerticalOrientation(e)||n.charHasNeutralVerticalOrientation(e))}},{"./is_char_in_unicode_block":208}],212:[function(e,t,n){"use strict";var r=e("../geo/lng_lat");t.exports=function(e,t,n){if(e=new r(e.lng,e.lat),t){var o=new r(e.lng-360,e.lat),i=new r(e.lng+360,e.lat),a=n.locationPoint(e).distSqr(t);n.locationPoint(o).distSqr(t)<a?e=o:n.locationPoint(i).distSqr(t)<a&&(e=i)}for(;Math.abs(e.lng-n.center.lng)>180;){var s=n.locationPoint(e);if(s.x>=0&&s.y>=0&&s.x<=n.width&&s.y<=n.height)break;e.lng>n.center.lng?e.lng-=360:e.lng+=360}return e}},{"../geo/lng_lat":62}],213:[function(e,t,n){"use strict";function r(e){var t=JSON.stringify(e);if(y[t])return y[t];var n=void 0===e.alignment?1:e.alignment,r=0,a=0,u=["Uint8"],p=e.members.map(function(e){u.indexOf(e.type)<0&&u.push(e.type);var t=i(e.type),s=r=o(r,Math.max(n,t)),l=e.components||1;return a=Math.max(a,t),r+=t*l,{name:e.name,type:e.type,components:l,offset:s}}),h=o(r,Math.max(a,n)),d=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(f);d.prototype.alignment=n,d.prototype.size=h;for(var g=0,v=p;g<v.length;g+=1)for(var b=v[g],_=0;_<b.components;_++){var w=b.name+(1===b.components?"":_);Object.defineProperty(d.prototype,w,{get:l(b,_),set:c(b,_)})}var x=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(m);return x.prototype.members=p,x.prototype.StructType=d,x.prototype.bytesPerElement=h,x.prototype.emplaceBack=s(p,h),x.prototype._usedTypes=u,y[t]=x,x}function o(e,t){return Math.ceil(e/t)*t}function i(e){return p[e].BYTES_PER_ELEMENT}function a(e){return e.toLowerCase()}function s(e,t){for(var n=[],r=[],o="var i = this.length;\nthis.resize(this.length + 1);\n",s=0,u=e;s<u.length;s+=1){var l=u[s],c=i(l.type);n.indexOf(c)<0&&(n.push(c),o+="var o"+c.toFixed(0)+" = i * "+(t/c).toFixed(0)+";\n");for(var p=0;p<l.components;p++){var f="v"+r.length,h="o"+c.toFixed(0)+" + "+(l.offset/c+p).toFixed(0);o+="this."+a(l.type)+"["+h+"] = "+f+";\n",r.push(f)}}return o+="return i;",new Function(r.toString(),o)}function u(e,t){var n="this._pos"+i(e.type).toFixed(0),r=(e.offset/i(e.type)+t).toFixed(0),o=n+" + "+r;return"this._structArray."+a(e.type)+"["+o+"]"}function l(e,t){return new Function("return "+u(e,t)+";")}function c(e,t){return new Function("x",u(e,t)+" = x;")}t.exports=r;var p={Int8:Int8Array,Uint8:Uint8Array,Uint8Clamped:Uint8ClampedArray,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array,Float64:Float64Array},f=function(e,t){this._structArray=e,this._pos1=t*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},h=128,d=5,m=function(e){this.isTransferred=!1,void 0!==e?(this.arrayBuffer=e.arrayBuffer,this.length=e.length,this.capacity=this.arrayBuffer.byteLength/this.bytesPerElement,this._refreshViews()):(this.capacity=-1,this.resize(0))};m.serialize=function(){return{members:this.prototype.members,alignment:this.prototype.StructType.prototype.alignment,bytesPerElement:this.prototype.bytesPerElement}},m.prototype.serialize=function(e){return this._trim(),e&&(this.isTransferred=!0,e.push(this.arrayBuffer)),{length:this.length,arrayBuffer:this.arrayBuffer}},m.prototype.get=function(e){return new this.StructType(this,e)},m.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},m.prototype.resize=function(e){if(this.length=e,e>this.capacity){this.capacity=Math.max(e,Math.floor(this.capacity*d),h),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var t=this.uint8;this._refreshViews(),t&&this.uint8.set(t)}},m.prototype._refreshViews=function(){for(var e=this,t=0,n=e._usedTypes;t<n.length;t+=1){var r=n[t];e[a(r)]=new p[r](e.arrayBuffer)}},m.prototype.toArray=function(e,t){for(var n=this,r=[],o=e;t>o;o++){var i=n.get(o);r.push(i)}return r};var y={}},{}],214:[function(e,t,n){"use strict";function r(e,t){return t.replace(/{([^{}]+)}/g,function(t,n){return n in e?e[n]:""})}t.exports=r},{}],215:[function(e,t,n){"use strict";var r=e("@mapbox/unitbezier"),o=e("../geo/coordinate");e("point-geometry");n.easeCubicInOut=function(e){if(0>=e)return 0;if(e>=1)return 1;var t=e*e,n=t*e;return 4*(.5>e?n:3*(e-t)+n-.75)},n.bezier=function(e,t,n,o){var i=new r(e,t,n,o);return function(e){return i.solve(e)}},n.ease=n.bezier(.25,.1,.25,1),n.clamp=function(e,t,n){return Math.min(n,Math.max(t,e))},n.wrap=function(e,t,n){var r=n-t,o=((e-t)%r+r)%r+t;return o===t?n:o},n.asyncAll=function(e,t,n){if(!e.length)return n(null,[]);var r=e.length,o=new Array(e.length),i=null;e.forEach(function(e,a){t(e,function(e,t){e&&(i=e),o[a]=t,0===--r&&n(i,o)})})},n.values=function(e){var t=[];for(var n in e)t.push(e[n]);return t},n.keysDifference=function(e,t){var n=[];for(var r in e)r in t||n.push(r);return n},n.extend=function(e,t,n,r){for(var o=arguments,i=1;i<arguments.length;i++){var a=o[i];for(var s in a)e[s]=a[s]}return e},n.pick=function(e,t){for(var n={},r=0;r<t.length;r++){var o=t[r];o in e&&(n[o]=e[o])}return n};var i=1;n.uniqueId=function(){return i++},n.bindAll=function(e,t){e.forEach(function(e){t[e]&&(t[e]=t[e].bind(t))})},n.getCoordinatesCenter=function(e){for(var t=1/0,n=1/0,r=-(1/0),i=-(1/0),a=0;a<e.length;a++)t=Math.min(t,e[a].column),n=Math.min(n,e[a].row),r=Math.max(r,e[a].column),i=Math.max(i,e[a].row);var s=r-t,u=i-n,l=Math.max(s,u),c=Math.max(0,Math.floor(-Math.log(l)/Math.LN2));return new o((t+r)/2,(n+i)/2,0).zoomTo(c)},n.endsWith=function(e,t){return-1!==e.indexOf(t,e.length-t.length)},n.mapObject=function(e,t,n){var r=this,o={};for(var i in e)o[i]=t.call(n||r,e[i],i,e);return o},n.filterObject=function(e,t,n){var r=this,o={};for(var i in e)t.call(n||r,e[i],i,e)&&(o[i]=e[i]);return o},n.deepEqual=function(e,t){if(Array.isArray(e)){if(!Array.isArray(t)||e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!n.deepEqual(e[r],t[r]))return!1;return!0}if("object"==typeof e&&null!==e&&null!==t){if("object"!=typeof t)return!1;var o=Object.keys(e);if(o.length!==Object.keys(t).length)return!1;for(var i in e)if(!n.deepEqual(e[i],t[i]))return!1;return!0}return e===t},n.clone=function(e){return Array.isArray(e)?e.map(n.clone):"object"==typeof e&&e?n.mapObject(e,n.clone):e},n.arraysIntersect=function(e,t){for(var n=0;n<e.length;n++)if(t.indexOf(e[n])>=0)return!0;return!1};var a={};n.warnOnce=function(e){a[e]||("undefined"!=typeof console&&console.warn(e),a[e]=!0)},n.isCounterClockwise=function(e,t,n){return(n.y-e.y)*(t.x-e.x)>(t.y-e.y)*(n.x-e.x)},n.calculateSignedArea=function(e){for(var t=0,n=0,r=e.length,o=r-1,i=void 0,a=void 0;r>n;o=n++)i=e[n],a=e[o],t+=(a.x-i.x)*(i.y+a.y);return t},n.isClosedPolygon=function(e){if(e.length<4)return!1;var t=e[0],r=e[e.length-1];return!(Math.abs(t.x-r.x)>0||Math.abs(t.y-r.y)>0)&&Math.abs(n.calculateSignedArea(e))>.01},n.sphericalToCartesian=function(e){var t=e[0],n=e[1],r=e[2];return n+=90,n*=Math.PI/180,r*=Math.PI/180,[t*Math.cos(n)*Math.sin(r),t*Math.sin(n)*Math.sin(r),t*Math.cos(r)]},n.parseCacheControl=function(e){var t=/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,n={};
if(e.replace(t,function(e,t,r,o){var i=r||o;return n[t]=!i||i.toLowerCase(),""}),n["max-age"]){var r=parseInt(n["max-age"],10);isNaN(r)?delete n["max-age"]:n["max-age"]=r}return n}},{"../geo/coordinate":61,"@mapbox/unitbezier":3,"point-geometry":26}],216:[function(e,t,n){"use strict";var r=function(e,t,n,r){this.type="Feature",this._vectorTileFeature=e,e._z=t,e._x=n,e._y=r,this.properties=e.properties,null!=e.id&&(this.id=e.id)},o={geometry:{}};o.geometry.get=function(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},o.geometry.set=function(e){this._geometry=e},r.prototype.toJSON=function(){var e=this,t={geometry:this.geometry};for(var n in e)"_geometry"!==n&&"_vectorTileFeature"!==n&&(t[n]=e[n]);return t},Object.defineProperties(r.prototype,o),t.exports=r},{}],217:[function(e,t,n){"use strict";var r=e("./script_detection");t.exports=function(e){for(var n="",o=0;o<e.length;o++){var i=e.charCodeAt(o+1)||null,a=e.charCodeAt(o-1)||null,s=(!i||!r.charHasRotatedVerticalOrientation(i)||t.exports.lookup[e[o+1]])&&(!a||!r.charHasRotatedVerticalOrientation(a)||t.exports.lookup[e[o-1]]);n+=s&&t.exports.lookup[e[o]]?t.exports.lookup[e[o]]:e[o]}return n},t.exports.lookup={"!":"︕","#":"＃",$:"＄","%":"％","&":"＆","(":"︵",")":"︶","*":"＊","+":"＋",",":"︐","-":"︲",".":"・","/":"／",":":"︓",";":"︔","<":"︿","=":"＝",">":"﹀","?":"︖","@":"＠","[":"﹇","\\":"＼","]":"﹈","^":"＾",_:"︳","`":"｀","{":"︷","|":"―","}":"︸","~":"～","¢":"￠","£":"￡","¥":"￥","¦":"￤","¬":"￢","¯":"￣","–":"︲","—":"︱","‘":"﹃","’":"﹄","“":"﹁","”":"﹂","…":"︙","‧":"・","₩":"￦","、":"︑","。":"︒","〈":"︿","〉":"﹀","《":"︽","》":"︾","「":"﹁","」":"﹂","『":"﹃","』":"﹄","【":"︻","】":"︼","〔":"︹","〕":"︺","〖":"︗","〗":"︘","！":"︕","（":"︵","）":"︶","，":"︐","－":"︲","．":"・","：":"︓","；":"︔","＜":"︿","＞":"﹀","？":"︖","［":"﹇","］":"﹈","＿":"︳","｛":"︷","｜":"―","｝":"︸","｟":"︵","｠":"︶","｡":"︒","｢":"﹁","｣":"﹂"}},{"./script_detection":211}],218:[function(e,t,n){"use strict";var r=e("./web_worker"),o=function(){this.active={}};o.prototype.acquire=function(t){var n=this;if(!this.workers){var o=e("../").workerCount;for(this.workers=[];this.workers.length<o;)n.workers.push(new r)}return this.active[t]=!0,this.workers.slice()},o.prototype.release=function(e){delete this.active[e],0===Object.keys(this.active).length&&(this.workers.forEach(function(e){e.terminate()}),this.workers=null)},t.exports=o},{"../":65,"./web_worker":196}]},{},[65])(65)})}).call(t,function(){return this}(),n(88).Buffer)},function(e,t,n){"use strict";e.exports=n(260)},function(e,t,n){"use strict";t.__esModule=!0;var r=n(1);t["default"]=r.PropTypes.shape({subscribe:r.PropTypes.func.isRequired,dispatch:r.PropTypes.func.isRequired,getState:r.PropTypes.func.isRequired})},function(e,t){"use strict";function n(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e);try{throw new Error(e)}catch(t){}}t.__esModule=!0,t["default"]=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function i(e){return 0===e.button}function a(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function s(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function u(e,t){var n=t.query,r=t.hash,o=t.state;return n||r||o?{pathname:e,query:n,hash:r,state:o}:e}t.__esModule=!0;var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=n(1),p=r(c),f=n(7),h=(r(f),n(8)),d=r(h),m=n(54),y=p["default"].PropTypes,g=y.bool,v=y.object,b=y.string,_=y.func,w=y.oneOfType,x=p["default"].createClass({displayName:"Link",contextTypes:{router:m.routerShape},propTypes:{to:w([b,v]),query:v,hash:b,state:v,activeStyle:v,activeClassName:b,onlyActiveOnIndex:g.isRequired,onClick:_,target:b},getDefaultProps:function(){return{onlyActiveOnIndex:!1,style:{}}},handleClick:function(e){if(this.props.onClick&&this.props.onClick(e),!e.defaultPrevented&&(this.context.router?void 0:(0,d["default"])(!1),!a(e)&&i(e)&&!this.props.target)){e.preventDefault();var t=this.props,n=t.to,r=t.query,o=t.hash,s=t.state,l=u(n,{query:r,hash:o,state:s});this.context.router.push(l)}},render:function(){var e=this.props,t=e.to,n=e.query,r=e.hash,i=e.state,a=e.activeClassName,c=e.activeStyle,f=e.onlyActiveOnIndex,h=o(e,["to","query","hash","state","activeClassName","activeStyle","onlyActiveOnIndex"]),d=this.context.router;if(d){if(null==t)return p["default"].createElement("a",h);var m=u(t,{query:n,hash:r,state:i});h.href=d.createHref(m),(a||null!=c&&!s(c))&&d.isActive(m,f)&&(a&&(h.className?h.className+=" "+a:h.className=a),c&&(h.style=l({},h.style,c)))}return p["default"].createElement("a",l({},h,{onClick:this.handleClick}))}});t["default"]=x,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var o=n(1),i=r(o),a=n(8),s=r(a),u=n(20),l=n(26),c=n(24),p=i["default"].PropTypes,f=p.string,h=p.object,d=i["default"].createClass({displayName:"Redirect",statics:{createRouteFromReactElement:function(e){var t=(0,u.createRouteFromReactElement)(e);return t.from&&(t.path=t.from),t.onEnter=function(e,n){var r=e.location,o=e.params,i=void 0;if("/"===t.to.charAt(0))i=(0,l.formatPattern)(t.to,o);else if(t.to){var a=e.routes.indexOf(t),s=d.getRoutePattern(e.routes,a-1),u=s.replace(/\/*$/,"/")+t.to;i=(0,l.formatPattern)(u,o)}else i=r.pathname;n({pathname:i,query:t.query||r.query,state:t.state||r.state})},t},getRoutePattern:function(e,t){for(var n="",r=t;r>=0;r--){var o=e[r],i=o.path||"";if(n=i.replace(/\/*$/,"/")+n,0===i.indexOf("/"))break}return"/"+n}},propTypes:{path:f,from:f,to:f.isRequired,query:h,state:h,onEnter:c.falsy,children:c.falsy},render:function(){(0,s["default"])(!1)}});t["default"]=d,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){return a({},e,{setRouteLeaveHook:t.listenBeforeLeavingRoute,isActive:t.isActive})}function i(e,t){return e=a({},e,t)}t.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.createRouterObject=o,t.createRoutingHistory=i;var s=n(42);r(s)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){var t=(0,c["default"])(e),n=function(){return t},r=(0,a["default"])((0,u["default"])(n))(e);return r.__v2_compatible__=!0,r}t.__esModule=!0,t["default"]=o;var i=n(44),a=r(i),s=n(109),u=r(s),l=n(243),c=r(l);e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t["default"]=function(e){var t=void 0;return a&&(t=(0,i["default"])(e)()),t};var o=n(104),i=r(o),a=!("undefined"==typeof window||!window.document||!window.document.createElement);e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){return i({},e,t)}t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t["default"]=o;var a=(n(42),n(7));r(a);e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){return function(t){var n=(0,a["default"])((0,u["default"])(e))(t);return n.__v2_compatible__=!0,n}}t.__esModule=!0,t["default"]=o;var i=n(44),a=r(i),s=n(109),u=r(s);e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){return u+e}function i(e,t){try{null==t?window.sessionStorage.removeItem(o(e)):window.sessionStorage.setItem(o(e),JSON.stringify(t))}catch(n){if(n.name===c)return;if(l.indexOf(n.name)>=0&&0===window.sessionStorage.length)return;throw n}}function a(e){var t=void 0;try{t=window.sessionStorage.getItem(o(e))}catch(n){if(n.name===c)return null}if(t)try{return JSON.parse(t)}catch(n){}return null}t.__esModule=!0,t.saveState=i,t.readState=a;var s=n(14),u=(r(s),"@@History/"),l=["QuotaExceededError","QUOTA_EXCEEDED_ERR"],c="SecurityError"},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){function t(e){return u.canUseDOM?void 0:s["default"](!1),n.listen(e)}var n=p["default"](i({getUserConfirmation:l.getUserConfirmation},e,{go:l.go}));return i({},n,{listen:t})}t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(8),s=r(a),u=n(43),l=n(56),c=n(108),p=r(c);t["default"]=o,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){return"string"==typeof e&&"/"===e.charAt(0)}function i(){var e=g.getHashPath();return o(e)?!0:(g.replaceHashPath("/"+e),!1)}function a(e,t,n){return e+(-1===e.indexOf("?")?"?":"&")+(t+"="+n)}function s(e,t){return e.replace(new RegExp("[?&]?"+t+"=[a-zA-Z0-9]+"),"")}function u(e,t){var n=e.match(new RegExp("\\?.*?\\b"+t+"=(.+?)\\b"));return n&&n[1]}function l(){function e(){var e=g.getHashPath(),t=void 0,n=void 0;C?(t=u(e,C),e=s(e,C),t?n=v.readState(t):(n=null,t=M.createKey(),g.replaceHashPath(a(e,C,t)))):t=n=null;var r=m.parsePath(e);return M.createLocation(c({},r,{state:n}),void 0,t)}function t(t){function n(){i()&&r(e())}var r=t.transitionTo;return i(),g.addEventListener(window,"hashchange",n),function(){g.removeEventListener(window,"hashchange",n)}}function n(e){var t=e.basename,n=e.pathname,r=e.search,o=e.state,i=e.action,s=e.key;if(i!==d.POP){var u=(t||"")+n+r;C?(u=a(u,C,s),v.saveState(s,o)):e.key=e.state=null;var l=g.getHashPath();i===d.PUSH?l!==u&&(window.location.hash=u):l!==u&&g.replaceHashPath(u)}}function r(e){1===++P&&(A=t(M));var n=M.listenBefore(e);return function(){n(),0===--P&&A()}}function o(e){1===++P&&(A=t(M));var n=M.listen(e);return function(){n(),0===--P&&A()}}function l(e){M.push(e)}function p(e){M.replace(e)}function f(e){M.go(e)}function b(e){return"#"+M.createHref(e)}function x(e){1===++P&&(A=t(M)),M.registerTransitionHook(e)}function k(e){M.unregisterTransitionHook(e),0===--P&&A()}function E(e,t){M.pushState(e,t)}function T(e,t){M.replaceState(e,t)}var S=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];y.canUseDOM?void 0:h["default"](!1);var C=S.queryKey;(void 0===C||C)&&(C="string"==typeof C?C:w);var M=_["default"](c({},S,{getCurrentLocation:e,finishTransition:n,saveState:v.saveState})),P=0,A=void 0;g.supportsGoWithoutReloadUsingHash();return c({},M,{listenBefore:r,listen:o,push:l,replace:p,go:f,createHref:b,registerTransitionHook:x,unregisterTransitionHook:k,pushState:E,replaceState:T})}t.__esModule=!0;var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p=n(14),f=(r(p),n(8)),h=r(f),d=n(28),m=n(25),y=n(43),g=n(56),v=n(105),b=n(106),_=r(b),w="_k";t["default"]=l,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){return Math.random().toString(36).substr(2,e)}function i(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.key===t.key&&c["default"](e.state,t.state)}function a(){function e(e){return I.push(e),function(){I=I.filter(function(t){return t!==e})}}function t(){return V&&V.action===h.POP?F.indexOf(V.key):U?F.indexOf(U.key):-1}function n(e){var n=t();U=e,U.action===h.PUSH?F=[].concat(F.slice(0,n+1),[U.key]):U.action===h.REPLACE&&(F[n]=U.key),B.forEach(function(e){e(U)})}function r(e){if(B.push(e),U)e(U);else{var t=R();F=[t.key],n(t)}return function(){B=B.filter(function(t){return t!==e})}}function a(e,t){f.loopAsync(I.length,function(t,n,r){g["default"](I[t],e,function(e){null!=e?r(e):n()})},function(e){j&&"string"==typeof e?j(e,function(e){t(e!==!1)}):t(e!==!1)})}function u(e){U&&i(U,e)||(V=e,a(e,function(t){if(V===e)if(t){if(e.action===h.PUSH){var r=x(U),o=x(e);o===r&&c["default"](U.state,e.state)&&(e.action=h.REPLACE)}O(e)!==!1&&n(e)}else if(U&&e.action===h.POP){var i=F.indexOf(U.key),a=F.indexOf(e.key);-1!==i&&-1!==a&&D(i-a)}}))}function l(e){u(E(e,h.PUSH,w()))}function d(e){u(E(e,h.REPLACE,w()))}function y(){D(-1)}function v(){D(1)}function w(){return o(N)}function x(e){if(null==e||"string"==typeof e)return e;var t=e.pathname,n=e.search,r=e.hash,o=t;return n&&(o+=n),r&&(o+=r),o}function k(e){return x(e)}function E(e,t){var n=arguments.length<=2||void 0===arguments[2]?w():arguments[2];return"object"==typeof t&&("string"==typeof e&&(e=p.parsePath(e)),e=s({},e,{state:t}),t=n,n=arguments[3]||w()),m["default"](e,t,n)}function T(e){U?(S(U,e),n(U)):S(R(),e)}function S(e,t){e.state=s({},e.state,t),L(e.key,e.state)}function C(e){-1===I.indexOf(e)&&I.push(e)}function M(e){I=I.filter(function(t){return t!==e})}function P(e,t){"string"==typeof t&&(t=p.parsePath(t)),l(s({state:e},t))}function A(e,t){"string"==typeof t&&(t=p.parsePath(t)),d(s({state:e},t))}var z=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],R=z.getCurrentLocation,O=z.finishTransition,L=z.saveState,D=z.go,j=z.getUserConfirmation,N=z.keyLength;"number"!=typeof N&&(N=_);var I=[],F=[],B=[],U=void 0,V=void 0;return{listenBefore:e,listen:r,transitionTo:u,push:l,replace:d,go:D,goBack:y,goForward:v,createKey:w,createPath:x,createHref:k,createLocation:E,setState:b["default"](T,"setState is deprecated; use location.key to save state instead"),registerTransitionHook:b["default"](C,"registerTransitionHook is deprecated; use listenBefore instead"),unregisterTransitionHook:b["default"](M,"unregisterTransitionHook is deprecated; use the callback returned from listenBefore instead"),pushState:b["default"](P,"pushState is deprecated; use push instead"),replaceState:b["default"](A,"replaceState is deprecated; use replace instead")}}t.__esModule=!0;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=n(14),l=(r(u),n(237)),c=r(l),p=n(25),f=n(240),h=n(28),d=n(242),m=r(d),y=n(58),g=r(y),v=n(57),b=r(v),_=6;t["default"]=a,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){return function(){function t(){if(!w){if(null==_&&s.canUseDOM){var e=document.getElementsByTagName("base")[0],t=e&&e.getAttribute("href");null!=t&&(_=t)}w=!0}}function n(e){return t(),_&&null==e.basename&&(0===e.pathname.indexOf(_)?(e.pathname=e.pathname.substring(_.length),e.basename=_,""===e.pathname&&(e.pathname="/")):e.basename=""),e}function r(e){if(t(),!_)return e;"string"==typeof e&&(e=u.parsePath(e));var n=e.pathname,r="/"===_.slice(-1)?_:_+"/",o="/"===n.charAt(0)?n.slice(1):n,a=r+o;return i({},e,{pathname:a})}function o(e){return b.listenBefore(function(t,r){c["default"](e,n(t),r)})}function a(e){return b.listen(function(t){e(n(t))})}function l(e){b.push(r(e))}function p(e){b.replace(r(e))}function h(e){return b.createPath(r(e))}function d(e){return b.createHref(r(e))}function m(e){for(var t=arguments.length,o=Array(t>1?t-1:0),i=1;t>i;i++)o[i-1]=arguments[i];return n(b.createLocation.apply(b,[r(e)].concat(o)))}function y(e,t){"string"==typeof t&&(t=u.parsePath(t)),l(i({state:e},t))}function g(e,t){"string"==typeof t&&(t=u.parsePath(t)),p(i({state:e},t))}var v=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],b=e(v),_=v.basename,w=!1;return i({},b,{listenBefore:o,listen:a,push:l,replace:p,createPath:h,createHref:d,createLocation:m,pushState:f["default"](y,"pushState is deprecated; use push instead"),replaceState:f["default"](g,"replaceState is deprecated; use replace instead")})}}t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(14),s=(r(a),n(43)),u=n(25),l=n(58),c=r(l),p=n(57),f=r(p);t["default"]=o,e.exports=t["default"]},function(e,t){"use strict";function n(e,t){return e+t.charAt(0).toUpperCase()+t.substring(1)}var r={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridColumn:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},o=["Webkit","ms","Moz","O"];Object.keys(r).forEach(function(e){o.forEach(function(t){r[n(t,e)]=r[e]})});var i={background:{backgroundAttachment:!0,backgroundColor:!0,backgroundImage:!0,backgroundPositionX:!0,backgroundPositionY:!0,backgroundRepeat:!0},backgroundPosition:{backgroundPositionX:!0,backgroundPositionY:!0},border:{borderWidth:!0,borderStyle:!0,borderColor:!0},borderBottom:{borderBottomWidth:!0,borderBottomStyle:!0,borderBottomColor:!0},borderLeft:{borderLeftWidth:!0,borderLeftStyle:!0,borderLeftColor:!0},borderRight:{borderRightWidth:!0,borderRightStyle:!0,borderRightColor:!0},borderTop:{borderTopWidth:!0,borderTopStyle:!0,borderTopColor:!0},font:{fontStyle:!0,fontVariant:!0,fontWeight:!0,fontSize:!0,lineHeight:!0,fontFamily:!0},outline:{outlineWidth:!0,outlineStyle:!0,outlineColor:!0}},a={isUnitlessNumber:r,shorthandPropertyExpansions:i};e.exports=a},function(e,t,n){"use strict";function r(){this._callbacks=null,this._contexts=null}var o=n(3),i=n(5),a=n(21);n(2);i(r.prototype,{enqueue:function(e,t){this._callbacks=this._callbacks||[],this._contexts=this._contexts||[],this._callbacks.push(e),this._contexts.push(t)},notifyAll:function(){var e=this._callbacks,t=this._contexts;if(e){e.length!==t.length?o("24"):void 0,this._callbacks=null,this._contexts=null;for(var n=0;n<e.length;n++)e[n].call(t[n]);e.length=0,t.length=0}},checkpoint:function(){return this._callbacks?this._callbacks.length:0},rollback:function(e){this._callbacks&&(this._callbacks.length=e,this._contexts.length=e)},reset:function(){this._callbacks=null,this._contexts=null},destructor:function(){this.reset()}}),a.addPoolingTo(r),e.exports=r},function(e,t,n){"use strict";function r(e){return l.hasOwnProperty(e)?!0:u.hasOwnProperty(e)?!1:s.test(e)?(l[e]=!0,!0):(u[e]=!0,!1)}function o(e,t){return null==t||e.hasBooleanValue&&!t||e.hasNumericValue&&isNaN(t)||e.hasPositiveNumericValue&&1>t||e.hasOverloadedBooleanValue&&t===!1}var i=n(30),a=(n(6),n(11),n(310)),s=(n(4),new RegExp("^["+i.ATTRIBUTE_NAME_START_CHAR+"]["+i.ATTRIBUTE_NAME_CHAR+"]*$")),u={},l={},c={createMarkupForID:function(e){return i.ID_ATTRIBUTE_NAME+"="+a(e)},setAttributeForID:function(e,t){e.setAttribute(i.ID_ATTRIBUTE_NAME,t)},createMarkupForRoot:function(){return i.ROOT_ATTRIBUTE_NAME+'=""'},setAttributeForRoot:function(e){e.setAttribute(i.ROOT_ATTRIBUTE_NAME,"")},createMarkupForProperty:function(e,t){var n=i.properties.hasOwnProperty(e)?i.properties[e]:null;if(n){if(o(n,t))return"";var r=n.attributeName;return n.hasBooleanValue||n.hasOverloadedBooleanValue&&t===!0?r+'=""':r+"="+a(t)}return i.isCustomAttribute(e)?null==t?"":e+"="+a(t):null},createMarkupForCustomAttribute:function(e,t){return r(e)&&null!=t?e+"="+a(t):""},setValueForProperty:function(e,t,n){var r=i.properties.hasOwnProperty(t)?i.properties[t]:null;if(r){var a=r.mutationMethod;if(a)a(e,n);else{if(o(r,n))return void this.deleteValueForProperty(e,t);if(r.mustUseProperty)e[r.propertyName]=n;else{var s=r.attributeName,u=r.attributeNamespace;u?e.setAttributeNS(u,s,""+n):r.hasBooleanValue||r.hasOverloadedBooleanValue&&n===!0?e.setAttribute(s,""):e.setAttribute(s,""+n)}}}else if(i.isCustomAttribute(t))return void c.setValueForAttribute(e,t,n)},setValueForAttribute:function(e,t,n){if(r(t)){null==n?e.removeAttribute(t):e.setAttribute(t,""+n)}},deleteValueForAttribute:function(e,t){e.removeAttribute(t)},deleteValueForProperty:function(e,t){var n=i.properties.hasOwnProperty(t)?i.properties[t]:null;if(n){var r=n.mutationMethod;if(r)r(e,void 0);else if(n.mustUseProperty){var o=n.propertyName;n.hasBooleanValue?e[o]=!1:e[o]=""}else e.removeAttribute(n.attributeName)}else i.isCustomAttribute(t)&&e.removeAttribute(t)}};e.exports=c},function(e,t,n){"use strict";var r=n(5),o=n(114),i=n(65),a=n(282),s=n(115),u=n(265),l=n(15),c=n(125),p=n(126),f=n(309),h=(n(4),l.createElement),d=l.createFactory,m=l.cloneElement,y=r,g={Children:{map:o.map,forEach:o.forEach,count:o.count,toArray:o.toArray,only:f},Component:i,PureComponent:a,createElement:h,cloneElement:m,isValidElement:l.isValidElement,PropTypes:c,createClass:s.createClass,createFactory:d,createMixin:function(e){return e},DOM:u,version:p,__spread:y};e.exports=g},function(e,t,n){"use strict";function r(e){return(""+e).replace(_,"$&/")}function o(e,t){this.func=e,this.context=t,this.count=0}function i(e,t,n){var r=e.func,o=e.context;r.call(o,t,e.count++)}function a(e,t,n){if(null==e)return e;var r=o.getPooled(t,n);g(e,i,r),o.release(r)}function s(e,t,n,r){this.result=e,this.keyPrefix=t,this.func=n,this.context=r,this.count=0}function u(e,t,n){var o=e.result,i=e.keyPrefix,a=e.func,s=e.context,u=a.call(s,t,e.count++);Array.isArray(u)?l(u,o,n,y.thatReturnsArgument):null!=u&&(m.isValidElement(u)&&(u=m.cloneAndReplaceKey(u,i+(!u.key||t&&t.key===u.key?"":r(u.key)+"/")+n)),o.push(u))}function l(e,t,n,o,i){var a="";null!=n&&(a=r(n)+"/");var l=s.getPooled(t,a,o,i);g(e,u,l),s.release(l)}function c(e,t,n){if(null==e)return e;var r=[];return l(e,r,null,t,n),r}function p(e,t,n){return null}function f(e,t){return g(e,p,null)}function h(e){var t=[];return l(e,t,null,y.thatReturnsArgument),t}var d=n(21),m=n(15),y=n(10),g=n(80),v=d.twoArgumentPooler,b=d.fourArgumentPooler,_=/\/+/g;o.prototype.destructor=function(){this.func=null,this.context=null,this.count=0},d.addPoolingTo(o,v),s.prototype.destructor=function(){this.result=null,this.keyPrefix=null,this.func=null,this.context=null,this.count=0},d.addPoolingTo(s,b);var w={forEach:a,map:c,mapIntoWithKeyPrefixInternal:l,count:f,toArray:h};e.exports=w},function(e,t,n){"use strict";function r(e,t){var n=x.hasOwnProperty(t)?x[t]:null;E.hasOwnProperty(t)&&(n!==_.OVERRIDE_BASE?p("73",t):void 0),e&&(n!==_.DEFINE_MANY&&n!==_.DEFINE_MANY_MERGED?p("74",t):void 0)}function o(e,t){if(t){"function"==typeof t?p("75"):void 0,d.isValidElement(t)?p("76"):void 0;var n=e.prototype,o=n.__reactAutoBindPairs;t.hasOwnProperty(b)&&k.mixins(e,t.mixins);for(var i in t)if(t.hasOwnProperty(i)&&i!==b){var a=t[i],l=n.hasOwnProperty(i);if(r(l,i),k.hasOwnProperty(i))k[i](e,a);else{var c=x.hasOwnProperty(i),f="function"==typeof a,h=f&&!c&&!l&&t.autobind!==!1;if(h)o.push(i,a),n[i]=a;else if(l){var m=x[i];!c||m!==_.DEFINE_MANY_MERGED&&m!==_.DEFINE_MANY?p("77",m,i):void 0,m===_.DEFINE_MANY_MERGED?n[i]=s(n[i],a):m===_.DEFINE_MANY&&(n[i]=u(n[i],a))}else n[i]=a}}}else;}function i(e,t){if(t)for(var n in t){var r=t[n];if(t.hasOwnProperty(n)){var o=n in k;o?p("78",n):void 0;var i=n in e;i?p("79",n):void 0,e[n]=r}}}function a(e,t){e&&t&&"object"==typeof e&&"object"==typeof t?void 0:p("80");for(var n in t)t.hasOwnProperty(n)&&(void 0!==e[n]?p("81",n):void 0,e[n]=t[n]);return e}function s(e,t){return function(){var n=e.apply(this,arguments),r=t.apply(this,arguments);if(null==n)return r;if(null==r)return n;var o={};return a(o,n),a(o,r),o}}function u(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function l(e,t){var n=t.bind(e);return n}function c(e){for(var t=e.__reactAutoBindPairs,n=0;n<t.length;n+=2){var r=t[n],o=t[n+1];e[r]=l(e,o)}}var p=n(3),f=n(5),h=n(65),d=n(15),m=(n(71),n(70),n(69)),y=n(33),g=(n(2),n(39)),v=n(19),b=(n(4),v({mixins:null})),_=g({DEFINE_ONCE:null,DEFINE_MANY:null,OVERRIDE_BASE:null,DEFINE_MANY_MERGED:null}),w=[],x={mixins:_.DEFINE_MANY,statics:_.DEFINE_MANY,propTypes:_.DEFINE_MANY,contextTypes:_.DEFINE_MANY,childContextTypes:_.DEFINE_MANY,getDefaultProps:_.DEFINE_MANY_MERGED,getInitialState:_.DEFINE_MANY_MERGED,getChildContext:_.DEFINE_MANY_MERGED,render:_.DEFINE_ONCE,componentWillMount:_.DEFINE_MANY,componentDidMount:_.DEFINE_MANY,componentWillReceiveProps:_.DEFINE_MANY,shouldComponentUpdate:_.DEFINE_ONCE,componentWillUpdate:_.DEFINE_MANY,componentDidUpdate:_.DEFINE_MANY,componentWillUnmount:_.DEFINE_MANY,updateComponent:_.OVERRIDE_BASE},k={displayName:function(e,t){e.displayName=t},mixins:function(e,t){if(t)for(var n=0;n<t.length;n++)o(e,t[n])},childContextTypes:function(e,t){e.childContextTypes=f({},e.childContextTypes,t)},contextTypes:function(e,t){e.contextTypes=f({},e.contextTypes,t)},getDefaultProps:function(e,t){e.getDefaultProps?e.getDefaultProps=s(e.getDefaultProps,t):e.getDefaultProps=t},propTypes:function(e,t){e.propTypes=f({},e.propTypes,t)},statics:function(e,t){i(e,t)},autobind:function(){}},E={replaceState:function(e,t){this.updater.enqueueReplaceState(this,e),t&&this.updater.enqueueCallback(this,t,"replaceState")},isMounted:function(){return this.updater.isMounted(this)}},T=function(){};f(T.prototype,h.prototype,E);var S={createClass:function(e){var t=function(e,n,r){this.__reactAutoBindPairs.length&&c(this),this.props=e,this.context=n,this.refs=y,this.updater=r||m,this.state=null;var o=this.getInitialState?this.getInitialState():null;"object"!=typeof o||Array.isArray(o)?p("82",t.displayName||"ReactCompositeComponent"):void 0,this.state=o};t.prototype=new T,t.prototype.constructor=t,t.prototype.__reactAutoBindPairs=[],w.forEach(o.bind(null,t)),o(t,e),t.getDefaultProps&&(t.defaultProps=t.getDefaultProps()),t.prototype.render?void 0:p("83");for(var n in x)t.prototype[n]||(t.prototype[n]=null);return t},injection:{injectMixin:function(e){w.push(e)}}};e.exports=S},function(e,t){"use strict";var n={hasCachedChildNodes:1};e.exports=n},function(e,t,n){"use strict";function r(){if(this._rootNodeID&&this._wrapperState.pendingUpdate){this._wrapperState.pendingUpdate=!1;var e=this._currentElement.props,t=u.getValue(e);null!=t&&o(this,Boolean(e.multiple),t)}}function o(e,t,n){var r,o,i=l.getNodeFromInstance(e).options;if(t){for(r={},o=0;o<n.length;o++)r[""+n[o]]=!0;for(o=0;o<i.length;o++){var a=r.hasOwnProperty(i[o].value);i[o].selected!==a&&(i[o].selected=a)}}else{for(r=""+n,o=0;o<i.length;o++)if(i[o].value===r)return void(i[o].selected=!0);i.length&&(i[0].selected=!0)}}function i(e){var t=this._currentElement.props,n=u.executeOnChange(t,e);return this._rootNodeID&&(this._wrapperState.pendingUpdate=!0),c.asap(r,this),n}var a=n(5),s=n(45),u=n(64),l=n(6),c=n(16),p=(n(4),!1),f={getHostProps:function(e,t){return a({},s.getHostProps(e,t),{onChange:e._wrapperState.onChange,value:void 0})},mountWrapper:function(e,t){var n=u.getValue(t);e._wrapperState={pendingUpdate:!1,initialValue:null!=n?n:t.defaultValue,listeners:null,onChange:i.bind(e),wasMultiple:Boolean(t.multiple)},void 0===t.value||void 0===t.defaultValue||p||(p=!0)},getSelectValueContext:function(e){return e._wrapperState.initialValue},postUpdateWrapper:function(e){var t=e._currentElement.props;e._wrapperState.initialValue=void 0;var n=e._wrapperState.wasMultiple;e._wrapperState.wasMultiple=Boolean(t.multiple);var r=u.getValue(t);null!=r?(e._wrapperState.pendingUpdate=!1,o(e,Boolean(t.multiple),r)):n!==Boolean(t.multiple)&&(null!=t.defaultValue?o(e,Boolean(t.multiple),t.defaultValue):o(e,Boolean(t.multiple),t.multiple?[]:""))}};e.exports=f},function(e,t){"use strict";var n,r={injectEmptyComponentFactory:function(e){n=e}},o={create:function(e){return n(e)}};o.injection=r,e.exports=o},function(e,t){"use strict";var n={logTopLevelRenders:!1};e.exports=n},function(e,t,n){"use strict";function r(e){return u?void 0:a("111",e.type),new u(e)}function o(e){return new c(e)}function i(e){return e instanceof c}var a=n(3),s=n(5),u=(n(2),null),l={},c=null,p={injectGenericComponentClass:function(e){u=e},injectTextComponentClass:function(e){c=e},injectComponentClasses:function(e){s(l,e)}},f={createInternalComponent:r,createInstanceForText:o,isTextComponent:i,injection:p};e.exports=f},function(e,t,n){"use strict";function r(e){return i(document.documentElement,e)}var o=n(270),i=n(187),a=n(90),s=n(91),u={hasSelectionCapabilities:function(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&"text"===e.type||"textarea"===t||"true"===e.contentEditable)},getSelectionInformation:function(){var e=s();return{focusedElem:e,selectionRange:u.hasSelectionCapabilities(e)?u.getSelection(e):null}},restoreSelection:function(e){var t=s(),n=e.focusedElem,o=e.selectionRange;t!==n&&r(n)&&(u.hasSelectionCapabilities(n)&&u.setSelection(n,o),a(n))},getSelection:function(e){var t;if("selectionStart"in e)t={start:e.selectionStart,end:e.selectionEnd};else if(document.selection&&e.nodeName&&"input"===e.nodeName.toLowerCase()){var n=document.selection.createRange();n.parentElement()===e&&(t={start:-n.moveStart("character",-e.value.length),end:-n.moveEnd("character",-e.value.length)})}else t=o.getOffsets(e);return t||{start:0,end:0}},setSelection:function(e,t){var n=t.start,r=t.end;if(void 0===r&&(r=n),"selectionStart"in e)e.selectionStart=n,e.selectionEnd=Math.min(r,e.value.length);else if(document.selection&&e.nodeName&&"input"===e.nodeName.toLowerCase()){var i=e.createTextRange();i.collapse(!0),i.moveStart("character",n),i.moveEnd("character",r-n),i.select()}else o.setOffsets(e,t)}};e.exports=u},function(e,t,n){"use strict";function r(e,t){for(var n=Math.min(e.length,t.length),r=0;n>r;r++)if(e.charAt(r)!==t.charAt(r))return r;return e.length===t.length?-1:n}function o(e){return e?e.nodeType===L?e.documentElement:e.firstChild:null}function i(e){return e.getAttribute&&e.getAttribute(z)||""}function a(e,t,n,r,o){var i;if(w.logTopLevelRenders){var a=e._currentElement.props,s=a.type;i="React mount: "+("string"==typeof s?s:s.displayName||s.name),console.time(i)}var u=E.mountComponent(e,n,null,v(e,t),o,0);i&&console.timeEnd(i),e._renderedComponent._topLevelWrapper=e,F._mountImageIntoNode(u,t,e,r,n)}function s(e,t,n,r){var o=S.ReactReconcileTransaction.getPooled(!n&&b.useCreateElement);o.perform(a,null,e,t,o,n,r),S.ReactReconcileTransaction.release(o)}function u(e,t,n){for(E.unmountComponent(e,n),t.nodeType===L&&(t=t.documentElement);t.lastChild;)t.removeChild(t.lastChild)}function l(e){var t=o(e);if(t){var n=g.getInstanceFromNode(t);return!(!n||!n._hostParent)}}function c(e){return!(!e||e.nodeType!==O&&e.nodeType!==L&&e.nodeType!==D)}function p(e){var t=o(e),n=t&&g.getInstanceFromNode(t);return n&&!n._hostParent?n:null}function f(e){var t=p(e);return t?t._hostContainerInfo._topLevelWrapper:null}var h=n(3),d=n(29),m=n(30),y=n(46),g=(n(22),n(6)),v=n(263),b=n(266),_=n(15),w=n(119),x=n(31),k=(n(11),n(279)),E=n(32),T=n(73),S=n(16),C=n(33),M=n(135),P=(n(2),n(49)),A=n(79),z=(n(4),m.ID_ATTRIBUTE_NAME),R=m.ROOT_ATTRIBUTE_NAME,O=1,L=9,D=11,j={},N=1,I=function(){this.rootID=N++};I.prototype.isReactComponent={},I.prototype.render=function(){return this.props};var F={TopLevelWrapper:I,_instancesByReactRootID:j,scrollMonitor:function(e,t){t()},_updateRootComponent:function(e,t,n,r,o){return F.scrollMonitor(r,function(){T.enqueueElementInternal(e,t,n),o&&T.enqueueCallbackInternal(e,o)}),e},_renderNewRootComponent:function(e,t,n,r){c(t)?void 0:h("37"),y.ensureScrollValueMonitoring();var o=M(e,!1);S.batchedUpdates(s,o,t,n,r);var i=o._instance.rootID;return j[i]=o,o},renderSubtreeIntoContainer:function(e,t,n,r){return null!=e&&x.has(e)?void 0:h("38"),F._renderSubtreeIntoContainer(e,t,n,r)},_renderSubtreeIntoContainer:function(e,t,n,r){T.validateCallback(r,"ReactDOM.render"),_.isValidElement(t)?void 0:h("39","string"==typeof t?" Instead of passing a string like 'div', pass React.createElement('div') or <div />.":"function"==typeof t?" Instead of passing a class like Foo, pass React.createElement(Foo) or <Foo />.":null!=t&&void 0!==t.props?" This may be caused by unintentionally loading two independent copies of React.":"");
var a,s=_(I,null,null,null,null,null,t);if(e){var u=x.get(e);a=u._processChildContext(u._context)}else a=C;var c=f(n);if(c){var p=c._currentElement,d=p.props;if(A(d,t)){var m=c._renderedComponent.getPublicInstance(),y=r&&function(){r.call(m)};return F._updateRootComponent(c,s,a,n,y),m}F.unmountComponentAtNode(n)}var g=o(n),v=g&&!!i(g),b=l(n),w=v&&!c&&!b,k=F._renderNewRootComponent(s,n,w,a)._renderedComponent.getPublicInstance();return r&&r.call(k),k},render:function(e,t,n){return F._renderSubtreeIntoContainer(null,e,t,n)},unmountComponentAtNode:function(e){c(e)?void 0:h("40");var t=f(e);if(!t){l(e),1===e.nodeType&&e.hasAttribute(R);return!1}return delete j[t._instance.rootID],S.batchedUpdates(u,t,e,!1),!0},_mountImageIntoNode:function(e,t,n,i,a){if(c(t)?void 0:h("41"),i){var s=o(t);if(k.canReuseMarkup(e,s))return void g.precacheNode(n,s);var u=s.getAttribute(k.CHECKSUM_ATTR_NAME);s.removeAttribute(k.CHECKSUM_ATTR_NAME);var l=s.outerHTML;s.setAttribute(k.CHECKSUM_ATTR_NAME,u);var p=e,f=r(p,l),m=" (client) "+p.substring(f-20,f+20)+"\n (server) "+l.substring(f-20,f+20);t.nodeType===L?h("42",m):void 0}if(t.nodeType===L?h("43"):void 0,a.useCreateElement){for(;t.lastChild;)t.removeChild(t.lastChild);d.insertTreeBefore(t,e,null)}else P(t,e),g.precacheNode(n,t.firstChild)}};e.exports=F},function(e,t,n){"use strict";var r=n(39),o=r({INSERT_MARKUP:null,MOVE_EXISTING:null,REMOVE_NODE:null,SET_MARKUP:null,TEXT_CONTENT:null});e.exports=o},function(e,t,n){"use strict";var r=n(3),o=n(15),i=(n(2),{HOST:0,COMPOSITE:1,EMPTY:2,getType:function(e){return null===e||e===!1?i.EMPTY:o.isValidElement(e)?"function"==typeof e.type?i.COMPOSITE:i.HOST:void r("26",e)}});e.exports=i},function(e,t,n){"use strict";function r(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}function o(e){this.message=e,this.stack=""}function i(e){function t(t,n,r,i,a,s,u){i=i||S,s=s||r;if(null==n[r]){var l=x[a];return t?new o("Required "+l+" `"+s+"` was not specified in "+("`"+i+"`.")):null}return e(n,r,i,a,s)}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n}function a(e){function t(t,n,r,i,a,s){var u=t[n],l=v(u);if(l!==e){var c=x[i],p=b(u);return new o("Invalid "+c+" `"+a+"` of type "+("`"+p+"` supplied to `"+r+"`, expected ")+("`"+e+"`."))}return null}return i(t)}function s(){return i(E.thatReturns(null))}function u(e){function t(t,n,r,i,a){if("function"!=typeof e)return new o("Property `"+a+"` of component `"+r+"` has invalid PropType notation inside arrayOf.");var s=t[n];if(!Array.isArray(s)){var u=x[i],l=v(s);return new o("Invalid "+u+" `"+a+"` of type "+("`"+l+"` supplied to `"+r+"`, expected an array."))}for(var c=0;c<s.length;c++){var p=e(s,c,r,i,a+"["+c+"]",k);if(p instanceof Error)return p}return null}return i(t)}function l(){function e(e,t,n,r,i){var a=e[t];if(!w.isValidElement(a)){var s=x[r],u=v(a);return new o("Invalid "+s+" `"+i+"` of type "+("`"+u+"` supplied to `"+n+"`, expected a single ReactElement."))}return null}return i(e)}function c(e){function t(t,n,r,i,a){if(!(t[n]instanceof e)){var s=x[i],u=e.name||S,l=_(t[n]);return new o("Invalid "+s+" `"+a+"` of type "+("`"+l+"` supplied to `"+r+"`, expected ")+("instance of `"+u+"`."))}return null}return i(t)}function p(e){function t(t,n,i,a,s){for(var u=t[n],l=0;l<e.length;l++)if(r(u,e[l]))return null;var c=x[a],p=JSON.stringify(e);return new o("Invalid "+c+" `"+s+"` of value `"+u+"` "+("supplied to `"+i+"`, expected one of "+p+"."))}return Array.isArray(e)?i(t):E.thatReturnsNull}function f(e){function t(t,n,r,i,a){if("function"!=typeof e)return new o("Property `"+a+"` of component `"+r+"` has invalid PropType notation inside objectOf.");var s=t[n],u=v(s);if("object"!==u){var l=x[i];return new o("Invalid "+l+" `"+a+"` of type "+("`"+u+"` supplied to `"+r+"`, expected an object."))}for(var c in s)if(s.hasOwnProperty(c)){var p=e(s,c,r,i,a+"."+c,k);if(p instanceof Error)return p}return null}return i(t)}function h(e){function t(t,n,r,i,a){for(var s=0;s<e.length;s++){var u=e[s];if(null==u(t,n,r,i,a,k))return null}var l=x[i];return new o("Invalid "+l+" `"+a+"` supplied to "+("`"+r+"`."))}return Array.isArray(e)?i(t):E.thatReturnsNull}function d(){function e(e,t,n,r,i){if(!y(e[t])){var a=x[r];return new o("Invalid "+a+" `"+i+"` supplied to "+("`"+n+"`, expected a ReactNode."))}return null}return i(e)}function m(e){function t(t,n,r,i,a){var s=t[n],u=v(s);if("object"!==u){var l=x[i];return new o("Invalid "+l+" `"+a+"` of type `"+u+"` "+("supplied to `"+r+"`, expected `object`."))}for(var c in e){var p=e[c];if(p){var f=p(s,c,r,i,a+"."+c,k);if(f)return f}}return null}return i(t)}function y(e){switch(typeof e){case"number":case"string":case"undefined":return!0;case"boolean":return!e;case"object":if(Array.isArray(e))return e.every(y);if(null===e||w.isValidElement(e))return!0;var t=T(e);if(!t)return!1;var n,r=t.call(e);if(t!==e.entries){for(;!(n=r.next()).done;)if(!y(n.value))return!1}else for(;!(n=r.next()).done;){var o=n.value;if(o&&!y(o[1]))return!1}return!0;default:return!1}}function g(e,t){return"symbol"===e?!0:"Symbol"===t["@@toStringTag"]?!0:"function"==typeof Symbol&&t instanceof Symbol}function v(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":g(t,e)?"symbol":t}function b(e){var t=v(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function _(e){return e.constructor&&e.constructor.name?e.constructor.name:S}var w=n(15),x=n(70),k=n(72),E=n(10),T=n(133),S=(n(4),"<<anonymous>>"),C={array:a("array"),bool:a("boolean"),func:a("function"),number:a("number"),object:a("object"),string:a("string"),symbol:a("symbol"),any:s(),arrayOf:u,element:l(),instanceOf:c,node:d(),objectOf:f,oneOf:p,oneOfType:h,shape:m};o.prototype=Error.prototype,e.exports=C},function(e,t){"use strict";e.exports="15.3.2"},function(e,t){"use strict";var n={currentScrollLeft:0,currentScrollTop:0,refreshScrollValues:function(e){n.currentScrollLeft=e.x,n.currentScrollTop=e.y}};e.exports=n},function(e,t,n){"use strict";function r(e,t){return null==t?o("30"):void 0,null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}var o=n(3);n(2);e.exports=r},function(e,t,n){"use strict";var r=!1;e.exports=r},function(e,t,n){(function(t){"use strict";function r(e,t,n,r){if(e&&"object"==typeof e){var o=e,i=void 0===o[n];i&&null!=t&&(o[n]=t)}}function o(e,t){if(null==e)return e;var n={};return i(e,r,n),n}var i=(n(63),n(80));n(4);e.exports=o}).call(t,n(40))},function(e,t){"use strict";function n(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}e.exports=n},function(e,t,n){"use strict";function r(e){for(var t;(t=e._renderedNodeType)===o.COMPOSITE;)e=e._renderedComponent;return t===o.HOST?e._renderedComponent:t===o.EMPTY?null:void 0}var o=n(124);e.exports=r},function(e,t){"use strict";function n(e){var t=e&&(r&&e[r]||e[o]);return"function"==typeof t?t:void 0}var r="function"==typeof Symbol&&Symbol.iterator,o="@@iterator";e.exports=n},function(e,t,n){"use strict";function r(){return!i&&o.canUseDOM&&(i="textContent"in document.documentElement?"textContent":"innerText"),i}var o=n(9),i=null;e.exports=r},function(e,t,n){"use strict";function r(e){if(e){var t=e.getName();if(t)return" Check the render method of `"+t+"`."}return""}function o(e){return"function"==typeof e&&"undefined"!=typeof e.prototype&&"function"==typeof e.prototype.mountComponent&&"function"==typeof e.prototype.receiveComponent}function i(e,t){var n;if(null===e||e===!1)n=l.create(i);else if("object"==typeof e){var s=e;!s||"function"!=typeof s.type&&"string"!=typeof s.type?a("130",null==s.type?s.type:typeof s.type,r(s._owner)):void 0,"string"==typeof s.type?n=c.createInternalComponent(s):o(s.type)?(n=new s.type(s),n.getHostNode||(n.getHostNode=n.getNativeNode)):n=new p(s)}else"string"==typeof e||"number"==typeof e?n=c.createInstanceForText(e):a("131",typeof e);return n._mountIndex=0,n._mountImage=null,n}var a=n(3),s=n(5),u=n(259),l=n(118),c=n(120),p=(n(2),n(4),function(e){this.construct(e)});s(p.prototype,u.Mixin,{_instantiateReactComponent:i});e.exports=i},function(e,t){"use strict";function n(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!r[e.type]:"textarea"===t}var r={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};e.exports=n},function(e,t,n){"use strict";var r=n(9),o=n(48),i=n(49),a=function(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t};r.canUseDOM&&("textContent"in document.documentElement||(a=function(e,t){i(e,o(t))})),e.exports=a},function(e,t){"use strict";function n(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];if(0===t.length)return function(e){return e};var r=function(){var e=t[t.length-1],n=t.slice(0,-1);return{v:function(){return n.reduceRight(function(e,t){return t(e)},e.apply(void 0,arguments))}}}();return"object"==typeof r?r.v:void 0}t.__esModule=!0,t["default"]=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t,n){function r(){g===y&&(g=y.slice())}function i(){return m}function s(e){if("function"!=typeof e)throw new Error("Expected listener to be a function.");var t=!0;return r(),g.push(e),function(){if(t){t=!1,r();var n=g.indexOf(e);g.splice(n,1)}}}function c(e){if(!(0,a["default"])(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if("undefined"==typeof e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(v)throw new Error("Reducers may not dispatch actions.");try{v=!0,m=d(m,e)}finally{v=!1}for(var t=y=g,n=0;n<t.length;n++)t[n]();return e}function p(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");d=e,c({type:l.INIT})}function f(){var e,t=s;return e={subscribe:function(e){function n(){e.next&&e.next(i())}if("object"!=typeof e)throw new TypeError("Expected the observer to be an object.");n();var r=t(n);return{unsubscribe:r}}},e[u["default"]]=function(){return this},e}var h;if("function"==typeof t&&"undefined"==typeof n&&(n=t,t=void 0),"undefined"!=typeof n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(o)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var d=e,m=t,y=[],g=y,v=!1;return c({type:l.INIT}),h={dispatch:c,subscribe:s,getState:i,replaceReducer:p},h[u["default"]]=f,h}t.__esModule=!0,t.ActionTypes=void 0,t["default"]=o;var i=n(52),a=r(i),s=n(318),u=r(s),l=t.ActionTypes={INIT:"@@redux/INIT"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t.compose=t.applyMiddleware=t.bindActionCreators=t.combineReducers=t.createStore=void 0;var o=n(139),i=r(o),a=n(315),s=r(a),u=n(314),l=r(u),c=n(313),p=r(c),f=n(138),h=r(f),d=n(141);r(d);t.createStore=i["default"],t.combineReducers=s["default"],t.bindActionCreators=l["default"],t.applyMiddleware=p["default"],t.compose=h["default"]},function(e,t){"use strict";function n(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e);try{throw new Error(e)}catch(t){}}t.__esModule=!0,t["default"]=n},function(e,t,n){var r,o;(function(){function n(e){function t(t,n,r,o,i,a){for(;i>=0&&a>i;i+=e){var s=o?o[i]:i;r=n(r,t[s],s,t)}return r}return function(n,r,o,i){r=k(r,i,4);var a=!A(n)&&x.keys(n),s=(a||n).length,u=e>0?0:s-1;return arguments.length<3&&(o=n[a?a[u]:u],u+=e),t(n,r,o,a,u,s)}}function i(e){return function(t,n,r){n=E(n,r);for(var o=P(t),i=e>0?0:o-1;i>=0&&o>i;i+=e)if(n(t[i],i,t))return i;return-1}}function a(e,t,n){return function(r,o,i){var a=0,s=P(r);if("number"==typeof i)e>0?a=i>=0?i:Math.max(i+s,a):s=i>=0?Math.min(i+1,s):i+s+1;else if(n&&i&&s)return i=n(r,o),r[i]===o?i:-1;if(o!==o)return i=t(d.call(r,a,s),x.isNaN),i>=0?i+a:-1;for(i=e>0?a:s-1;i>=0&&s>i;i+=e)if(r[i]===o)return i;return-1}}function s(e,t){var n=D.length,r=e.constructor,o=x.isFunction(r)&&r.prototype||p,i="constructor";for(x.has(e,i)&&!x.contains(t,i)&&t.push(i);n--;)i=D[n],i in e&&e[i]!==o[i]&&!x.contains(t,i)&&t.push(i)}var u=this,l=u._,c=Array.prototype,p=Object.prototype,f=Function.prototype,h=c.push,d=c.slice,m=p.toString,y=p.hasOwnProperty,g=Array.isArray,v=Object.keys,b=f.bind,_=Object.create,w=function(){},x=function(e){return e instanceof x?e:this instanceof x?void(this._wrapped=e):new x(e)};"undefined"!=typeof e&&e.exports&&(t=e.exports=x),t._=x,x.VERSION="1.8.3";var k=function(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)};case 4:return function(n,r,o,i){return e.call(t,n,r,o,i)}}return function(){return e.apply(t,arguments)}},E=function(e,t,n){return null==e?x.identity:x.isFunction(e)?k(e,t,n):x.isObject(e)?x.matcher(e):x.property(e)};x.iteratee=function(e,t){return E(e,t,1/0)};var T=function(e,t){return function(n){var r=arguments.length;if(2>r||null==n)return n;for(var o=1;r>o;o++)for(var i=arguments[o],a=e(i),s=a.length,u=0;s>u;u++){var l=a[u];t&&void 0!==n[l]||(n[l]=i[l])}return n}},S=function(e){if(!x.isObject(e))return{};if(_)return _(e);w.prototype=e;var t=new w;return w.prototype=null,t},C=function(e){return function(t){return null==t?void 0:t[e]}},M=Math.pow(2,53)-1,P=C("length"),A=function(e){var t=P(e);return"number"==typeof t&&t>=0&&M>=t};x.each=x.forEach=function(e,t,n){t=k(t,n);var r,o;if(A(e))for(r=0,o=e.length;o>r;r++)t(e[r],r,e);else{var i=x.keys(e);for(r=0,o=i.length;o>r;r++)t(e[i[r]],i[r],e)}return e},x.map=x.collect=function(e,t,n){t=E(t,n);for(var r=!A(e)&&x.keys(e),o=(r||e).length,i=Array(o),a=0;o>a;a++){var s=r?r[a]:a;i[a]=t(e[s],s,e)}return i},x.reduce=x.foldl=x.inject=n(1),x.reduceRight=x.foldr=n(-1),x.find=x.detect=function(e,t,n){var r;return r=A(e)?x.findIndex(e,t,n):x.findKey(e,t,n),void 0!==r&&-1!==r?e[r]:void 0},x.filter=x.select=function(e,t,n){var r=[];return t=E(t,n),x.each(e,function(e,n,o){t(e,n,o)&&r.push(e)}),r},x.reject=function(e,t,n){return x.filter(e,x.negate(E(t)),n)},x.every=x.all=function(e,t,n){t=E(t,n);for(var r=!A(e)&&x.keys(e),o=(r||e).length,i=0;o>i;i++){var a=r?r[i]:i;if(!t(e[a],a,e))return!1}return!0},x.some=x.any=function(e,t,n){t=E(t,n);for(var r=!A(e)&&x.keys(e),o=(r||e).length,i=0;o>i;i++){var a=r?r[i]:i;if(t(e[a],a,e))return!0}return!1},x.contains=x.includes=x.include=function(e,t,n,r){return A(e)||(e=x.values(e)),("number"!=typeof n||r)&&(n=0),x.indexOf(e,t,n)>=0},x.invoke=function(e,t){var n=d.call(arguments,2),r=x.isFunction(t);return x.map(e,function(e){var o=r?t:e[t];return null==o?o:o.apply(e,n)})},x.pluck=function(e,t){return x.map(e,x.property(t))},x.where=function(e,t){return x.filter(e,x.matcher(t))},x.findWhere=function(e,t){return x.find(e,x.matcher(t))},x.max=function(e,t,n){var r,o,i=-(1/0),a=-(1/0);if(null==t&&null!=e){e=A(e)?e:x.values(e);for(var s=0,u=e.length;u>s;s++)r=e[s],r>i&&(i=r)}else t=E(t,n),x.each(e,function(e,n,r){o=t(e,n,r),(o>a||o===-(1/0)&&i===-(1/0))&&(i=e,a=o)});return i},x.min=function(e,t,n){var r,o,i=1/0,a=1/0;if(null==t&&null!=e){e=A(e)?e:x.values(e);for(var s=0,u=e.length;u>s;s++)r=e[s],i>r&&(i=r)}else t=E(t,n),x.each(e,function(e,n,r){o=t(e,n,r),(a>o||o===1/0&&i===1/0)&&(i=e,a=o)});return i},x.shuffle=function(e){for(var t,n=A(e)?e:x.values(e),r=n.length,o=Array(r),i=0;r>i;i++)t=x.random(0,i),t!==i&&(o[i]=o[t]),o[t]=n[i];return o},x.sample=function(e,t,n){return null==t||n?(A(e)||(e=x.values(e)),e[x.random(e.length-1)]):x.shuffle(e).slice(0,Math.max(0,t))},x.sortBy=function(e,t,n){return t=E(t,n),x.pluck(x.map(e,function(e,n,r){return{value:e,index:n,criteria:t(e,n,r)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(r>n||void 0===r)return-1}return e.index-t.index}),"value")};var z=function(e){return function(t,n,r){var o={};return n=E(n,r),x.each(t,function(r,i){var a=n(r,i,t);e(o,r,a)}),o}};x.groupBy=z(function(e,t,n){x.has(e,n)?e[n].push(t):e[n]=[t]}),x.indexBy=z(function(e,t,n){e[n]=t}),x.countBy=z(function(e,t,n){x.has(e,n)?e[n]++:e[n]=1}),x.toArray=function(e){return e?x.isArray(e)?d.call(e):A(e)?x.map(e,x.identity):x.values(e):[]},x.size=function(e){return null==e?0:A(e)?e.length:x.keys(e).length},x.partition=function(e,t,n){t=E(t,n);var r=[],o=[];return x.each(e,function(e,n,i){(t(e,n,i)?r:o).push(e)}),[r,o]},x.first=x.head=x.take=function(e,t,n){return null!=e?null==t||n?e[0]:x.initial(e,e.length-t):void 0},x.initial=function(e,t,n){return d.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))},x.last=function(e,t,n){return null!=e?null==t||n?e[e.length-1]:x.rest(e,Math.max(0,e.length-t)):void 0},x.rest=x.tail=x.drop=function(e,t,n){return d.call(e,null==t||n?1:t)},x.compact=function(e){return x.filter(e,x.identity)};var R=function(e,t,n,r){for(var o=[],i=0,a=r||0,s=P(e);s>a;a++){var u=e[a];if(A(u)&&(x.isArray(u)||x.isArguments(u))){t||(u=R(u,t,n));var l=0,c=u.length;for(o.length+=c;c>l;)o[i++]=u[l++]}else n||(o[i++]=u)}return o};x.flatten=function(e,t){return R(e,t,!1)},x.without=function(e){return x.difference(e,d.call(arguments,1))},x.uniq=x.unique=function(e,t,n,r){x.isBoolean(t)||(r=n,n=t,t=!1),null!=n&&(n=E(n,r));for(var o=[],i=[],a=0,s=P(e);s>a;a++){var u=e[a],l=n?n(u,a,e):u;t?(a&&i===l||o.push(u),i=l):n?x.contains(i,l)||(i.push(l),o.push(u)):x.contains(o,u)||o.push(u)}return o},x.union=function(){return x.uniq(R(arguments,!0,!0))},x.intersection=function(e){for(var t=[],n=arguments.length,r=0,o=P(e);o>r;r++){var i=e[r];if(!x.contains(t,i)){for(var a=1;n>a&&x.contains(arguments[a],i);a++);a===n&&t.push(i)}}return t},x.difference=function(e){var t=R(arguments,!0,!0,1);return x.filter(e,function(e){return!x.contains(t,e)})},x.zip=function(){return x.unzip(arguments)},x.unzip=function(e){for(var t=e&&x.max(e,P).length||0,n=Array(t),r=0;t>r;r++)n[r]=x.pluck(e,r);return n},x.object=function(e,t){for(var n={},r=0,o=P(e);o>r;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n},x.findIndex=i(1),x.findLastIndex=i(-1),x.sortedIndex=function(e,t,n,r){n=E(n,r,1);for(var o=n(t),i=0,a=P(e);a>i;){var s=Math.floor((i+a)/2);n(e[s])<o?i=s+1:a=s}return i},x.indexOf=a(1,x.findIndex,x.sortedIndex),x.lastIndexOf=a(-1,x.findLastIndex),x.range=function(e,t,n){null==t&&(t=e||0,e=0),n=n||1;for(var r=Math.max(Math.ceil((t-e)/n),0),o=Array(r),i=0;r>i;i++,e+=n)o[i]=e;return o};var O=function(e,t,n,r,o){if(!(r instanceof t))return e.apply(n,o);var i=S(e.prototype),a=e.apply(i,o);return x.isObject(a)?a:i};x.bind=function(e,t){if(b&&e.bind===b)return b.apply(e,d.call(arguments,1));if(!x.isFunction(e))throw new TypeError("Bind must be called on a function");var n=d.call(arguments,2),r=function(){return O(e,r,t,this,n.concat(d.call(arguments)))};return r},x.partial=function(e){var t=d.call(arguments,1),n=function(){for(var r=0,o=t.length,i=Array(o),a=0;o>a;a++)i[a]=t[a]===x?arguments[r++]:t[a];for(;r<arguments.length;)i.push(arguments[r++]);return O(e,n,this,this,i)};return n},x.bindAll=function(e){var t,n,r=arguments.length;if(1>=r)throw new Error("bindAll must be passed function names");for(t=1;r>t;t++)n=arguments[t],e[n]=x.bind(e[n],e);return e},x.memoize=function(e,t){var n=function(r){var o=n.cache,i=""+(t?t.apply(this,arguments):r);return x.has(o,i)||(o[i]=e.apply(this,arguments)),o[i]};return n.cache={},n},x.delay=function(e,t){var n=d.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},x.defer=x.partial(x.delay,x,1),x.throttle=function(e,t,n){var r,o,i,a=null,s=0;n||(n={});var u=function(){s=n.leading===!1?0:x.now(),a=null,i=e.apply(r,o),a||(r=o=null)};return function(){var l=x.now();s||n.leading!==!1||(s=l);var c=t-(l-s);return r=this,o=arguments,0>=c||c>t?(a&&(clearTimeout(a),a=null),s=l,i=e.apply(r,o),a||(r=o=null)):a||n.trailing===!1||(a=setTimeout(u,c)),i}},x.debounce=function(e,t,n){var r,o,i,a,s,u=function(){var l=x.now()-a;t>l&&l>=0?r=setTimeout(u,t-l):(r=null,n||(s=e.apply(i,o),r||(i=o=null)))};return function(){i=this,o=arguments,a=x.now();var l=n&&!r;return r||(r=setTimeout(u,t)),l&&(s=e.apply(i,o),i=o=null),s}},x.wrap=function(e,t){return x.partial(t,e)},x.negate=function(e){return function(){return!e.apply(this,arguments)}},x.compose=function(){var e=arguments,t=e.length-1;return function(){for(var n=t,r=e[t].apply(this,arguments);n--;)r=e[n].call(this,r);return r}},x.after=function(e,t){return function(){return--e<1?t.apply(this,arguments):void 0}},x.before=function(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),1>=e&&(t=null),n}},x.once=x.partial(x.before,2);var L=!{toString:null}.propertyIsEnumerable("toString"),D=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];x.keys=function(e){if(!x.isObject(e))return[];if(v)return v(e);var t=[];for(var n in e)x.has(e,n)&&t.push(n);return L&&s(e,t),t},x.allKeys=function(e){if(!x.isObject(e))return[];var t=[];for(var n in e)t.push(n);return L&&s(e,t),t},x.values=function(e){for(var t=x.keys(e),n=t.length,r=Array(n),o=0;n>o;o++)r[o]=e[t[o]];return r},x.mapObject=function(e,t,n){t=E(t,n);for(var r,o=x.keys(e),i=o.length,a={},s=0;i>s;s++)r=o[s],a[r]=t(e[r],r,e);return a},x.pairs=function(e){for(var t=x.keys(e),n=t.length,r=Array(n),o=0;n>o;o++)r[o]=[t[o],e[t[o]]];return r},x.invert=function(e){for(var t={},n=x.keys(e),r=0,o=n.length;o>r;r++)t[e[n[r]]]=n[r];return t},x.functions=x.methods=function(e){var t=[];for(var n in e)x.isFunction(e[n])&&t.push(n);return t.sort()},x.extend=T(x.allKeys),x.extendOwn=x.assign=T(x.keys),x.findKey=function(e,t,n){t=E(t,n);for(var r,o=x.keys(e),i=0,a=o.length;a>i;i++)if(r=o[i],t(e[r],r,e))return r},x.pick=function(e,t,n){var r,o,i={},a=e;if(null==a)return i;x.isFunction(t)?(o=x.allKeys(a),r=k(t,n)):(o=R(arguments,!1,!1,1),r=function(e,t,n){return t in n},a=Object(a));for(var s=0,u=o.length;u>s;s++){var l=o[s],c=a[l];r(c,l,a)&&(i[l]=c)}return i},x.omit=function(e,t,n){if(x.isFunction(t))t=x.negate(t);else{var r=x.map(R(arguments,!1,!1,1),String);t=function(e,t){return!x.contains(r,t)}}return x.pick(e,t,n)},x.defaults=T(x.allKeys,!0),x.create=function(e,t){var n=S(e);return t&&x.extendOwn(n,t),n},x.clone=function(e){return x.isObject(e)?x.isArray(e)?e.slice():x.extend({},e):e},x.tap=function(e,t){return t(e),e},x.isMatch=function(e,t){var n=x.keys(t),r=n.length;if(null==e)return!r;for(var o=Object(e),i=0;r>i;i++){var a=n[i];if(t[a]!==o[a]||!(a in o))return!1}return!0};var j=function(e,t,n,r){if(e===t)return 0!==e||1/e===1/t;if(null==e||null==t)return e===t;e instanceof x&&(e=e._wrapped),t instanceof x&&(t=t._wrapped);var o=m.call(e);if(o!==m.call(t))return!1;switch(o){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!==+e?+t!==+t:0===+e?1/+e===1/t:+e===+t;case"[object Date]":case"[object Boolean]":return+e===+t}var i="[object Array]"===o;if(!i){if("object"!=typeof e||"object"!=typeof t)return!1;var a=e.constructor,s=t.constructor;if(a!==s&&!(x.isFunction(a)&&a instanceof a&&x.isFunction(s)&&s instanceof s)&&"constructor"in e&&"constructor"in t)return!1}n=n||[],r=r||[];for(var u=n.length;u--;)if(n[u]===e)return r[u]===t;if(n.push(e),r.push(t),i){if(u=e.length,u!==t.length)return!1;for(;u--;)if(!j(e[u],t[u],n,r))return!1}else{var l,c=x.keys(e);if(u=c.length,x.keys(t).length!==u)return!1;for(;u--;)if(l=c[u],!x.has(t,l)||!j(e[l],t[l],n,r))return!1}return n.pop(),r.pop(),!0};x.isEqual=function(e,t){return j(e,t)},x.isEmpty=function(e){return null==e?!0:A(e)&&(x.isArray(e)||x.isString(e)||x.isArguments(e))?0===e.length:0===x.keys(e).length},x.isElement=function(e){return!(!e||1!==e.nodeType)},x.isArray=g||function(e){return"[object Array]"===m.call(e)},x.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},x.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(e){x["is"+e]=function(t){return m.call(t)==="[object "+e+"]"}}),x.isArguments(arguments)||(x.isArguments=function(e){return x.has(e,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(x.isFunction=function(e){return"function"==typeof e||!1}),x.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},x.isNaN=function(e){return x.isNumber(e)&&e!==+e},x.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"===m.call(e)},x.isNull=function(e){return null===e},x.isUndefined=function(e){return void 0===e},x.has=function(e,t){return null!=e&&y.call(e,t)},x.noConflict=function(){return u._=l,this},x.identity=function(e){return e},x.constant=function(e){return function(){return e}},x.noop=function(){},x.property=C,x.propertyOf=function(e){return null==e?function(){}:function(t){return e[t]}},x.matcher=x.matches=function(e){return e=x.extendOwn({},e),function(t){return x.isMatch(t,e)}},x.times=function(e,t,n){var r=Array(Math.max(0,e));t=k(t,n,1);for(var o=0;e>o;o++)r[o]=t(o);return r},x.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},x.now=Date.now||function(){return(new Date).getTime()};var N={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},I=x.invert(N),F=function(e){var t=function(t){return e[t]},n="(?:"+x.keys(e).join("|")+")",r=RegExp(n),o=RegExp(n,"g");return function(e){return e=null==e?"":""+e,r.test(e)?e.replace(o,t):e}};x.escape=F(N),x.unescape=F(I),x.result=function(e,t,n){var r=null==e?void 0:e[t];return void 0===r&&(r=n),x.isFunction(r)?r.call(e):r};var B=0;x.uniqueId=function(e){var t=++B+"";return e?e+t:t},x.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var U=/(.)^/,V={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},Y=/\\|'|\r|\n|\u2028|\u2029/g,q=function(e){return"\\"+V[e]};x.template=function(e,t,n){!t&&n&&(t=n),t=x.defaults({},t,x.templateSettings);var r=RegExp([(t.escape||U).source,(t.interpolate||U).source,(t.evaluate||U).source].join("|")+"|$","g"),o=0,i="__p+='";e.replace(r,function(t,n,r,a,s){return i+=e.slice(o,s).replace(Y,q),o=s+t.length,n?i+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?i+="'+\n((__t=("+r+"))==null?'':__t)+\n'":a&&(i+="';\n"+a+"\n__p+='"),t}),i+="';\n",t.variable||(i="with(obj||{}){\n"+i+"}\n"),i="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+i+"return __p;\n";try{var a=new Function(t.variable||"obj","_",i)}catch(s){throw s.source=i,s}var u=function(e){return a.call(this,e,x)},l=t.variable||"obj";return u.source="function("+l+"){\n"+i+"}",u},x.chain=function(e){var t=x(e);return t._chain=!0,t};var W=function(e,t){return e._chain?x(t).chain():t};x.mixin=function(e){x.each(x.functions(e),function(t){var n=x[t]=e[t];x.prototype[t]=function(){var e=[this._wrapped];return h.apply(e,arguments),W(this,n.apply(x,e))}})},x.mixin(x),x.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=c[e];x.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0],W(this,n)}}),x.each(["concat","join","slice"],function(e){var t=c[e];x.prototype[e]=function(){return W(this,t.apply(this._wrapped,arguments))}}),x.prototype.value=function(){return this._wrapped},x.prototype.valueOf=x.prototype.toJSON=x.prototype.value,x.prototype.toString=function(){return""+this._wrapped},r=[],o=function(){return x}.apply(t,r),!(void 0!==o&&(e.exports=o))}).call(this)},function(e,t,n){e.exports=n(144)},function(e,t,n){"use strict";function r(e){this.defaults=i.merge({},e),this.interceptors={request:new s,response:new s}}var o=n(147),i=n(12),a=n(146),s=n(145),u=n(153),l=n(151),c=n(148),p=n(83);r.prototype.request=function(e){"string"==typeof e&&(e=i.merge({url:arguments[0]},arguments[1])),e=i.merge(o,this.defaults,{method:"get"},e),e.baseURL&&!u(e.url)&&(e.url=l(e.baseURL,e.url)),e.withCredentials=e.withCredentials||this.defaults.withCredentials,e.data=p(e.data,e.headers,e.transformRequest),e.headers=i.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),i.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]});var t=[a,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach(function(e){t.unshift(e.fulfilled,e.rejected)}),this.interceptors.response.forEach(function(e){t.push(e.fulfilled,e.rejected)});t.length;)n=n.then(t.shift(),t.shift());return n};var f=new r(o),h=e.exports=c(r.prototype.request,f);h.request=c(r.prototype.request,f),h.Axios=r,h.defaults=f.defaults,h.interceptors=f.interceptors,h.create=function(e){return new r(e)},h.all=function(e){return Promise.all(e)},h.spread=n(158),i.forEach(["delete","get","head"],function(e){r.prototype[e]=function(t,n){return this.request(i.merge(n||{},{method:e,url:t}))},h[e]=c(r.prototype[e],f)}),i.forEach(["post","put","patch"],function(e){r.prototype[e]=function(t,n,r){return this.request(i.merge(r||{},{method:e,url:t,data:n}))},h[e]=c(r.prototype[e],f)})},function(e,t,n){"use strict";function r(){this.handlers=[]}var o=n(12);r.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},r.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},r.prototype.forEach=function(e){o.forEach(this.handlers,function(t){null!==t&&e(t)})},e.exports=r},function(e,t,n){(function(t){"use strict";e.exports=function(e){return new Promise(function(r,o){try{var i;"function"==typeof e.adapter?i=e.adapter:"undefined"!=typeof XMLHttpRequest?i=n(82):"undefined"!=typeof t&&(i=n(82)),"function"==typeof i&&i(r,o,e)}catch(a){o(a)}})}}).call(t,n(40))},function(e,t,n){"use strict";function r(e,t){!o.isUndefined(e)&&o.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var o=n(12),i=n(155),a=/^\)\]\}',?\n/,s={"Content-Type":"application/x-www-form-urlencoded"};e.exports={transformRequest:[function(e,t){return i(t,"Content-Type"),o.isFormData(e)||o.isArrayBuffer(e)||o.isStream(e)||o.isFile(e)||o.isBlob(e)?e:o.isArrayBufferView(e)?e.buffer:o.isURLSearchParams(e)?(r(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):o.isObject(e)?(r(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e){e=e.replace(a,"");try{e=JSON.parse(e)}catch(t){}}return e}],headers:{common:{Accept:"application/json, text/plain, */*"},patch:o.merge(s),post:o.merge(s),put:o.merge(s)},timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&300>e}}},function(e,t){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},function(e,t){"use strict";function n(){this.message="String contains an invalid character"}function r(e){for(var t,r,i=String(e),a="",s=0,u=o;i.charAt(0|s)||(u="=",s%1);a+=u.charAt(63&t>>8-s%1*8)){if(r=i.charCodeAt(s+=.75),r>255)throw new n;t=t<<8|r}return a}var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.prototype=new Error,n.prototype.code=5,n.prototype.name="InvalidCharacterError",e.exports=r},function(e,t,n){"use strict";function r(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var o=n(12);e.exports=function(e,t,n){if(!t)return e;var i;if(n)i=n(t);else if(o.isURLSearchParams(t))i=t.toString();else{var a=[];o.forEach(t,function(e,t){null!==e&&"undefined"!=typeof e&&(o.isArray(e)&&(t+="[]"),o.isArray(e)||(e=[e]),o.forEach(e,function(e){o.isDate(e)?e=e.toISOString():o.isObject(e)&&(e=JSON.stringify(e)),a.push(r(t)+"="+r(e))}))}),i=a.join("&")}return i&&(e+=(-1===e.indexOf("?")?"?":"&")+i),e}},function(e,t){"use strict";e.exports=function(e,t){return e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,"")}},function(e,t,n){"use strict";var r=n(12);e.exports=r.isStandardBrowserEnv()?function(){return{write:function(e,t,n,o,i,a){var s=[];s.push(e+"="+encodeURIComponent(t)),
r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(o)&&s.push("path="+o),r.isString(i)&&s.push("domain="+i),a===!0&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()},function(e,t){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,n){"use strict";var r=n(12);e.exports=r.isStandardBrowserEnv()?function(){function e(e){var t=e;return n&&(o.setAttribute("href",t),t=o.href),o.setAttribute("href",t),{href:o.href,protocol:o.protocol?o.protocol.replace(/:$/,""):"",host:o.host,search:o.search?o.search.replace(/^\?/,""):"",hash:o.hash?o.hash.replace(/^#/,""):"",hostname:o.hostname,port:o.port,pathname:"/"===o.pathname.charAt(0)?o.pathname:"/"+o.pathname}}var t,n=/(msie|trident)/i.test(navigator.userAgent),o=document.createElement("a");return t=e(window.location.href),function(n){var o=r.isString(n)?e(n):n;return o.protocol===t.protocol&&o.host===t.host}}():function(){return function(){return!0}}()},function(e,t,n){"use strict";var r=n(12);e.exports=function(e,t){r.forEach(e,function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])})}},function(e,t,n){"use strict";var r=n(12);e.exports=function(e){var t,n,o,i={};return e?(r.forEach(e.split("\n"),function(e){o=e.indexOf(":"),t=r.trim(e.substr(0,o)).toLowerCase(),n=r.trim(e.substr(o+1)),t&&(i[t]=i[t]?i[t]+", "+n:n)}),i):i}},function(e,t){"use strict";e.exports=function(e,t,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(n):e(n)}},function(e,t){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?function(e){return"undefined"==typeof e?"undefined":r(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":"undefined"==typeof e?"undefined":r(e)},i=n(320);t.topoToGeojson=function(e){var t=Object.keys(e.objects)[0];return i.feature(e,e.objects[t])},t.filterListByProperty=function(e,t,n){if("string"==typeof n)return Object.keys(e).map(function(r){return e[r][t]===n?e[r]:null}).filter(function(e){return e});if("object"===("undefined"==typeof n?"undefined":o(n))&&n.length){var r=n.map(function(n){return Object.keys(e).map(function(r){return e[r][t]===n?e[r]:null}).filter(function(e){return e})});return[].concat.apply([],r)}return[]},t.randomColor=function(){return"#"+Math.floor(16*Math.random()).toString(16)+"\n            "+Math.floor(16*Math.random()).toString(16)+"\n            "+Math.floor(16*Math.random()).toString(16)+"\n            "+Math.floor(16*Math.random()).toString(16)+"\n            "+Math.floor(16*Math.random()).toString(16)+"\n            "+Math.floor(16*Math.random()).toString(16)},t.arraysEqual=function(e,t){if(e.length!==t.length)return!1;for(var n=e.length;n--;)if(e[n]!==t[n])return!1;return!0},t.symDiff=function(){var e=[],t=[],n=void 0;if("function"==typeof Set)try{var r=new Set([1,2,3]);3===r.size&&(n=Set)}catch(o){console.warn(o)}n||(n=function(e){this.has=function(t){return-1!==e.indexOf(t)}});var i=Array.prototype.slice.call(arguments,0);return i.forEach(function(t){e.push(new n(t))}),i.forEach(function(n,r){n.forEach(function(n){for(var o=!1,i=0;i<e.length;i++)if(i!==r&&e[i].has(n)){o=!0;break}o||t.push(n)})}),t}},function(e,t){"use strict";function n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?function(e){return"undefined"==typeof e?"undefined":r(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":"undefined"==typeof e?"undefined":r(e)},i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.mapReducer=function(){var e=arguments.length<=0||void 0===arguments[0]?{center:[-74.0193459,40.6809955],zoom:10,pitch:0,bearing:0}:arguments[0],t=arguments[1];switch(t.type){case"SET_MAP_CENTER":return i({},e,{center:t.center});case"SET_MAP_BOUNDS":return i({},e,{bounds:t.bounds});default:return e}},t.adminReducer=function(){var e=arguments.length<=0||void 0===arguments[0]?{isAdmin:!1,ids:[]}:arguments[0],t=arguments[1];switch(t.type){case"IS_ADMIN":return{isAdmin:!0,ids:t.ids};default:return e}},t.impactScreenReducer=function(){var e=arguments.length<=0||void 0===arguments[0]?!1:arguments[0],t=arguments[1];switch(t.type){case"TOGGLE_IMPACT":return!e;case"CLOSE_IMPACT":return!1;case"OPEN_IMPACT":return!0;default:return e}},t.loadingReducer=function(){var e=arguments.length<=0||void 0===arguments[0]?!1:arguments[0],t=arguments[1];switch(t.type){case"START_LOADING":return!0;case"STOP_LOADING":return!1;default:return e}},t.dataLoadingReducer=function(){var e=arguments.length<=0||void 0===arguments[0]?!1:arguments[0],t=arguments[1];switch(t.type){case"LOADING_DATA":return t.isLoading;default:return e}},t.caseStudyPopupReducer=function(){var e=arguments.length<=0||void 0===arguments[0]?{visible:!1,point:{x:0,y:0}}:arguments[0],t=arguments[1];switch(t.type){case"SHOW_CASE_STUDY_POPUP_WITH_CONTENT":return{visible:!0,content:t.content,point:t.point};case"HIDE_CASE_STUDY_POPUP":return{visible:!1,content:{header:"",content:""},point:{x:0,y:0}};default:return e}},t.popupReducer=function(){var e=arguments.length<=0||void 0===arguments[0]?{visible:!1}:arguments[0],t=arguments[1];switch(t.type){case"HIDE_POPUP":return{visible:!1,currentProject:"",point:{}};case"SHOW_POPUP_WITH_PROJECT":return{visible:!0,currentProject:t.id,point:t.point};default:return e}},t.sideNavReducer=function(){var e=arguments.length<=0||void 0===arguments[0]?!1:arguments[0],t=arguments[1];switch(t.type){case"TOGGLE_SIDE_NAV":return!e;default:return e}},t.projectsReducer=function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=arguments[1];switch(t.type){case"INITIALIZE_PROJECT_LIST":var r=function(){var e={};return t.projects.forEach(function(t){e[t.id]=i({},t,{visible:!1,id:t.id})}),{v:e}}();if("object"===("undefined"==typeof r?"undefined":o(r)))return r.v;case"ADD_PROJECT":return i({},e,n({},t.project.id,t.project));case"UPDATE_PROJECT":var a=function(){var r=e[t.id],o=i({},r);return Object.keys(t.updates).forEach(function(e){o[e]=t.updates[e]}),{v:i({},e,n({},t.id,i({},o)))}}();if("object"===("undefined"==typeof a?"undefined":o(a)))return a.v;default:return e}},t.categoriesReducer=function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=arguments[1];switch(t.type){case"ADD_CATEGORIES":return t.categories;case"TOGGLE_CATEGORY":return i({},e,n({},t.category,i({},e[t.category],{visible:!e[t.category].visible})));case"HIDE_ALL_CATEGORIES":return Object.keys(e).reduce(function(t,n){return t[n]=i({},e[n]),t[n].visible=!1,t},{});default:return e}},t.categoriesDescriptorsReducer=function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=arguments[1];switch(t.type){case"ADD_CATEGORY_DESCRIPTOR":return i({},e,n({},t.category,t.descriptor));default:return e}},t.currentCategoryReducer=function(){var e=arguments.length<=0||void 0===arguments[0]?"":arguments[0],t=arguments[1];switch(t.type){case"SET_CURRENT_CATEGORY":return t.cat;default:return e}},t.projectListActiveReducer=function(){var e=arguments.length<=0||void 0===arguments[0]?"":arguments[0],t=arguments[1];switch(t.type){case"MOVE_TO_PROJECT":return t.id;case"REMOVE_HOVERED_PROJECT":return"";default:return e}},t.selectedProjectReducer=function(){var e=arguments.length<=0||void 0===arguments[0]?"":arguments[0],t=arguments[1];switch(t.type){case"SET_SELECTED_PROJECT":return t.id;case"CLEAR_SELECTED_PROJECT":return"";default:return e}},t.mapDisplayReducer=function(){var e=arguments.length<=0||void 0===arguments[0]?{labels:!1,connections:!0}:arguments[0],t=arguments[1];switch(t.type){case"TOGGLE_MAP_DISPLAY":return i({},e,n({},t.labelName,!e[t.labelName]));default:return e}},t.showLabelsReducer=function(){var e=arguments.length<=0||void 0===arguments[0]?!1:arguments[0],t=arguments[1];switch(t.type){case"TOGGLE_MAP_LABELS":return!e;default:return e}},t.showLinesReducer=function(){var e=arguments.length<=0||void 0===arguments[0]?!0:arguments[0],t=arguments[1];switch(t.type){case"TOGGLE_MAP_LINES":return!e;default:return e}},t.menuReducer=function(){var e=arguments.length<=0||void 0===arguments[0]?!1:arguments[0],t=arguments[1];switch(t.type){case"TOGGLE_MENU":return!e;default:return e}},t.bottomNavContentReducer=function(){var e=arguments.length<=0||void 0===arguments[0]?"":arguments[0],t=arguments[1];switch(t.type){case"SET_BOTTOM_NAV_CONTENT":return t.id;default:return e}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}Object.defineProperty(t,"__esModule",{value:!0});var i=n(140),a=o(i),s=n(312),u=r(s),l=n(160),c=function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=a.combineReducers({popup:l.popupReducer,map:l.mapReducer,isLoading:l.loadingReducer,dataIsLoading:l.dataLoadingReducer,projects:l.projectsReducer,categories:l.categoriesReducer,categoriesDescriptors:l.categoriesDescriptorsReducer,currentCategory:l.currentCategoryReducer,projectListActive:l.projectListActiveReducer,selectedProject:l.selectedProjectReducer,mapDisplay:l.mapDisplayReducer,menu:l.menuReducer,impactOpen:l.impactScreenReducer,bottomNavContent:l.bottomNavContentReducer,admin:l.adminReducer,caseStudyPopup:l.caseStudyPopupReducer}),n=a.createStore(t,e,a.compose(a.applyMiddleware(u["default"]),window.devToolsExtension?window.devToolsExtension():function(e){return e}));return window.store=n,n};t["default"]=c},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(1),p=o(c),f=n(13),h=n(23),d=r(h),m=n(329),y=o(m),g=n(328),v=o(g),b=function(e){function t(e){a(this,t);var n=s(this,Object.getPrototypeOf(t).call(this,e));return n.handleCategoryClick=n.handleCategoryClick.bind(n),n.handleItemClick=n.handleItemClick.bind(n),n}return u(t,e),l(t,[{key:"handleCategoryClick",value:function(e,t){var n=this.props.dispatch;n(d.toggleCategory(t))}},{key:"handleItemClick",value:function(e,t){var n=this.props.dispatch;e.stopPropagation(),n(d.setSelectedProject(t))}},{key:"render",value:function(){var e=this,t=this.props,n=t.categories,r=t.projects,o=t.selectedProject;return p["default"].createElement("div",{className:"categories-list"},p["default"].createElement("div",{className:"intro-text"},p["default"].createElement("h1",null,"Explore..."),p["default"].createElement("p",null,"...our list of organizations, artists, greenspaces, and more, that are taking the food system into their own hands.")),p["default"].createElement("ul",null,Object.keys(n).map(function(t){var a=n[t].projects,s=n[t].visible;n[t].color;return""!==t?p["default"].createElement("li",{key:t,className:s?"category active":"category",onClick:function(n){e.handleCategoryClick(n,t)}},p["default"].createElement("div",{className:"category-title"},p["default"].createElement("h3",null,t," (",a.length,")"),p["default"].createElement("img",{src:s?y["default"]:v["default"]})),p["default"].createElement("ul",null,s&&a.map(function(t){return p["default"].createElement("li",i({key:t,className:""+(t===o?"active":""),onClick:function(n){e.handleItemClick(n,t)}},"key",t),r[t].id,". ",r[t].name)}))):void 0})))}}]),t}(p["default"].Component);t["default"]=(0,f.connect)(function(e){return{categories:e.categories,projects:e.projects,selectedProject:e.selectedProject}})(b)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),l=r(u),c=n(86),p=r(c),f=n(50),h=r(f),d=n(13),m=n(162),y=r(m),g=n(173),v=r(g),b=function(e){function t(e){o(this,t);var n=i(this,Object.getPrototypeOf(t).call(this,e));return n.state={navStack:[]},n}return a(t,e),s(t,[{key:"render",value:function(){var e=this.props,t=e.location,n=e.projects,r=e.selectedProject;return l["default"].createElement("div",{className:"page explore-page"},l["default"].createElement("div",{className:"bg-img"}),l["default"].createElement(h["default"],{activePath:t.pathname,title:"Explore"}),l["default"].createElement("div",{className:"explore-content col-2"},l["default"].createElement("div",{className:"sidebar"},""!==r?l["default"].createElement(v["default"],{dispatch:this.props.dispatch,projects:n,selectedProject:r}):l["default"].createElement(y["default"],null)),l["default"].createElement(p["default"],null)))}}]),t}(l["default"].Component);b.propTypes={projects:l["default"].PropTypes.object.isRequired,selectedProject:l["default"].PropTypes.string.isRequired,dispatch:l["default"].PropTypes.func.isRequired},t["default"]=(0,d.connect)(function(e){return{selectedProject:e.selectedProject,projects:e.projects}})(b)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),l=r(u),c=n(50),p=r(c),f=function(e){function t(){return o(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),s(t,[{key:"render",value:function(){var e=this.props.location;return l["default"].createElement("div",{className:"page"},l["default"].createElement(p["default"],{activePath:e.pathname,title:"Get Involved"}))}}]),t}(l["default"].Component);t["default"]=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(){return a["default"].createElement("div",{className:"landing"},a["default"].createElement("section",{className:"landing-page full-height"},a["default"].createElement("div",{className:"centered"},a["default"].createElement("div",{className:"bg-overlay"}),a["default"].createElement("div",null,a["default"].createElement("h1",null,"NO FREE LUNCH"),a["default"].createElement("p",null,"OUR FOOD SYSTEM IS A COMPLEX MACHINE.",a["default"].createElement("br",null),"WE'RE HERE TO HELP YOU MAKE SENSE OF IT ALL.")),a["default"].createElement("ul",null,a["default"].createElement("li",{id:"learn-button"},a["default"].createElement(s.Link,{to:"/learn"},a["default"].createElement("h2",null,"LEARN"),a["default"].createElement("p",null,"See the food system through a few hand picked case studies"))),a["default"].createElement("li",{id:"explore-button",className:"middle-item"},a["default"].createElement(s.Link,{to:"/explore"},a["default"].createElement("h2",null,"EXPLORE"),a["default"].createElement("p",null,"Freely search through our entire dataset."))),a["default"].createElement("li",{id:"engage-button"},a["default"].createElement(s.Link,{to:"/get-involved"},a["default"].createElement("h2",null,"ENGAGE"),a["default"].createElement("p",null,"Want to get your hands dirty?  Find out what you can do.")))))))}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=r(i),s=(n(13),n(27)),u=n(321),l=(r(u),n(324)),c=(r(l),n(327));r(c);t["default"]=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),l=r(u),c=n(87),p=(r(c),n(169)),f=r(p),h=n(85),d=r(h),m=n(322),y=r(m),g=n(326),v=r(g),b=n(84),_=function(e){function t(e){o(this,t);var n=i(this,Object.getPrototypeOf(t).call(this,e));return n.state={currentCaseStudy:b.caseStudies[n.props.params.caseStudy].id,storyCategory:b.caseStudies[n.props.params.caseStudy].initialStory,pageNumber:1},n.handlePageNumberChange=n.handlePageNumberChange.bind(n),n.changeStory=n.changeStory.bind(n),n.changePageNumber=n.changePageNumber.bind(n),n}return a(t,e),s(t,[{key:"handlePageNumberChange",value:function(e){this.setState({pageNumber:e.pageNumber})}},{key:"changeCaseStudy",value:function(e){"next"===e?console.log("next"):console.log("prev")}},{key:"getNextElement",value:function(e,t){return e[t+1]||e[0]}},{key:"getPreviousElement",value:function(e,t){return e[t-1]||e[e.length-1]}},{key:"changePageNumber",value:function(e){var t=this,n=b.caseStudies[this.state.currentCaseStudy],r=n.pages,o=(n.stories,r.filter(function(e){return e.story===t.state.storyCategory.id})),i=void 0;switch(e){case"next":i=this.state.pageNumber+1,i>o.length&&(i=1);break;case"prev":i=this.state.pageNumber-1,1>i&&(i=o.length);break;default:return}this.setState({pageNumber:i})}},{key:"changeStory",value:function(e){var t=this,n=b.caseStudies[this.state.currentCaseStudy],r=(n.pages,n.stories),o=void 0,i=void 0;r.forEach(function(e,n){e.id===t.state.storyCategory.id&&(i=n)}),void 0!==i&&("next"===e?o=this.getNextElement(r,i):"prev"===e?o=this.getPreviousElement(r,i):e&&(o=e),this.setState({storyCategory:o,pageNumber:1}))}},{key:"render",value:function(){var e=this,t=b.caseStudies[this.props.params.caseStudy],n=b.nodes[t.id][this.state.storyCategory.id],r=t.pages.filter(function(t){return t.story===e.state.storyCategory.id?t.pageNumber===e.state.pageNumber:!1})[0],o=void 0,i=void 0;switch(n.forEach(function(t){t.pageNumber===parseInt(e.state.pageNumber,10)&&(o=t.id,i=t)}),t.type){case b.CASE_STUDY_TYPES.REGULAR:return l["default"].createElement("div",{className:"case-study-container"},l["default"].createElement("section",{style:{background:"url('/images/lighthousebrooklyn.jpg')",backgroundSize:"cover",backgroundPosition:"50% 50%",backgroundRepeat:"no-repeat",display:"flex",justifyContent:"center",alignItems:"center"},className:"case-study-section"},l["default"].createElement("div",{className:"bg-overlay"}),l["default"].createElement("div",{style:{position:"relative",zIndex:2},className:"panel left-col"},l["default"].createElement("h1",null,t.headers.sectionOne),l["default"].createElement("p",null,t.introText))),l["default"].createElement("section",{style:{display:"flex",flexDirection:"column",justifyContent:"center"},className:"case-study-section-dark height-80 white"},l["default"].createElement("div",{style:{width:"100%"},className:"centered"},l["default"].createElement("div",{className:"video-wrapper"},l["default"].createElement("iframe",{src:t.videoSrc,width:"100%",frameBorder:"0",allowFullScreen:!0})))),l["default"].createElement("section",{style:{background:"url('/images/joanna-kosinska-127887.png')",backgroundSize:"cover",backgroundPosition:"50% 50%",backgroundRepeat:"no-repeat",padding:"0 4rem"},className:"case-study-section full-height story-section"},l["default"].createElement("div",{className:"bg-overlay"}),l["default"].createElement("div",{className:"top"},l["default"].createElement("div",{className:"story-header row center col-20"},l["default"].createElement("h1",null,"EXPLORE THE FOOD SYSTEM"),l["default"].createElement("p",null,t.storySubHeader)),l["default"].createElement("div",{className:"row col-80"},l["default"].createElement("div",{className:"row-20 flex-full-center"},l["default"].createElement("div",{className:"case-study-story-list"},t.stories.map(function(t){return l["default"].createElement("div",{className:e.state.storyCategory.id===t.id?"case-study-icon active":"case-study-icon",key:t.id,onClick:function(){return e.changeStory(t)}},l["default"].createElement("p",null,t.display),l["default"].createElement("img",{src:e.state.storyCategory.id===t.id?t.activeImg:t.inactiveImg}))}))),l["default"].createElement("div",{className:"row-80 node-container"},l["default"].createElement(d["default"],{handleClick:this.handlePageNumberChange,activeId:o,nodes:n}),l["default"].createElement("div",{className:"node-text"},l["default"].createElement("div",{className:"node-blurred-bg"}),l["default"].createElement("img",{onClick:function(){return e.changePageNumber("prev")},className:"arrow left",src:y["default"],alt:"go to next page in the case study"}),l["default"].createElement("div",null,l["default"].createElement("h2",null,r.content.header),l["default"].createElement("p",null,r.content.text)),l["default"].createElement("img",{onClick:function(){return e.changePageNumber("next")},className:"arrow right",src:v["default"],alt:"go to previous page in the case study"}))))),l["default"].createElement("div",{className:"bottom"},l["default"].createElement(f["default"],{id:this.props.params.caseStudy,category:this.state.storyCategory.id,handlePageNumberChange:this.handlePageNumberChange,pageNumber:this.state.pageNumber}))));case b.CASE_STUDY_TYPES.SLIDESHOW:return l["default"].createElement("div",null,"slideshow");default:return l["default"].createElement("div",null)}}}]),t}(l["default"].Component);_.propTypes={params:l["default"].PropTypes.object.isRequired},t["default"]=_},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),l=r(u),c=n(27),p=function(e){function t(e){return o(this,t),i(this,Object.getPrototypeOf(t).call(this,e))}return a(t,e),s(t,[{key:"render",value:function(){return l["default"].createElement("div",{className:"case-study-list section-light"},l["default"].createElement("h1",null,"Choose a Case Study"),l["default"].createElement("p",null,"We've hand selected a few key case studies to help make things a bit easier to sift through. Start by Selecting a case study below."),l["default"].createElement("div",null,l["default"].createElement(c.Link,{to:"/learn/lighthouse"},l["default"].createElement("div",{className:"card",style:{background:"url('/images/lighthousebrooklyn.jpg')",backgroundSize:"cover",backgroundPosition:"50% 50%",backgroundRepeat:"no-repeat"}},l["default"].createElement("div",{className:"bg-overlay"}),l["default"].createElement("div",{className:"title"},l["default"].createElement("h2",null,"LIGHTHOUSE RESTAURANT"),l["default"].createElement("p",null,"One restaurant's approach to the tangled web of food.")))),l["default"].createElement(c.Link,{to:"/learn"},l["default"].createElement("div",{className:"card",style:{background:"url('/images/tractor.jpg')",backgroundSize:"cover",backgroundPosition:"50% 50%",backgroundRepeat:"no-repeat"}},l["default"].createElement("div",{className:"bg-overlay"}),l["default"].createElement("div",{className:"title"},l["default"].createElement("h2",null,"A WHEAT STATE OF MIND"),l["default"].createElement("p",null,"COMING SOON")))),l["default"].createElement(c.Link,{to:"/learn"},l["default"].createElement("div",{className:"card",style:{background:"url('/images/happy-cow.jpg')",backgroundSize:"cover",backgroundPosition:"50% 50%",backgroundRepeat:"no-repeat"}},l["default"].createElement("div",{className:"bg-overlay"}),l["default"].createElement("div",{className:"title"},l["default"].createElement("h2",null,"HAPPY VALLEY MEATS"),l["default"].createElement("p",null,"COMING SOON"))))))}}]),t}(l["default"].Component);t["default"]=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),l=r(u),c=n(13),p=function(e){function t(){return o(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),s(t,[{key:"componentDidUpdate",value:function(){var e=this.props.popup,t=e.point;if(this._elt&&this.props.containerId){var n=this._elt.offsetWidth,r=this._elt.offsetHeight,o=0,i=0;if(o=document.getElementById(this.props.containerId).offsetLeft,t){var a=t.x+-n+o+"px",s=t.y-r+"px";t.x<n&&(a=t.x+o+"px"),t.y<r&&(s=t.y+i+"px"),this._elt.style.left=a,this._elt.style.top=s}}}},{key:"render",value:function(){var e=this,t=this.props.popup,n={visibility:t.visible?"visible":"hidden"},r=function(){if(t.content.POPUPFIELDS){var e=t.content.POPUPFIELDS.split(",");return e.map(function(e){var n=" "===e[0]?e.slice(1):e;return l["default"].createElement("div",{className:"property-field",key:e},l["default"].createElement("h4",null,n),l["default"].createElement("p",null,t.content[n]))})}return t.content.POPUPCONTENT?l["default"].createElement("p",null,t.content.POPUPCONTENT):null};return l["default"].createElement("div",{style:n,className:"case-study-popup",ref:function(t){return e._elt=t}},t.content&&l["default"].createElement("div",null,l["default"].createElement("h1",null,t.content.POPUPHEADER),r()))}}]),t}(l["default"].Component);p.defaultProps={containerId:""},p.propTypes={popup:l["default"].PropTypes.object.isRequired,containerId:l["default"].PropTypes.string},t["default"]=(0,c.connect)(function(e){return{popup:e.caseStudyPopup}})(p)},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),c=o(l),p=n(84),f=n(13),h=n(87),d=o(h),m=n(85),y=(o(m),n(168)),g=o(y),v=n(23),b=r(v),_=function(e){function t(e){i(this,t);var n=a(this,Object.getPrototypeOf(t).call(this,e));return n.handleMouseMove=n.handleMouseMove.bind(n),n.changePage=n.changePage.bind(n),n}return s(t,e),u(t,[{key:"getPageData",value:function(e,t,n){return p.pages.filter(function(r){return r.id===e&&r.story===t&&r.pageNumber==n})[0]}},{key:"handleMouseMove",value:function(e,t){var n=this.props,r=n.popup,o=n.dispatch;if(t.length){var i=t[0],a=i.properties;a.HASPOPUP&&o(b.showCaseStudyPopupWithContent(a,e.point))}else 0===t.length&&r.visible&&o(b.hideCaseStudyPopup());
}},{key:"changePage",value:function(e){this.props.handlePageNumberChange(e.pageNumber)}},{key:"render",value:function(){console.log("rerendering case study page");var e=this.props,t=(e.params,e.router,e.id),n=e.category,r=e.pageNumber,o=p.caseStudies[t],i=o.pages.filter(function(e){return e.story===n?e.pageNumber===r:!1})[0],a=p.nodes[o.id][n],s=void 0,u=void 0;a.forEach(function(e){e.pageNumber===parseInt(r,10)&&(s=e.id,u=e)});var l=function(){if(i.floatingText){var e={};switch(i.floatingText.position){case"top-left":e.top="100px",e.left="100px";break;case"top-center":e.top="0px",e.left="50%";break;case"top-right":e.top="100px",e.right="100px";break;case"center-left":e.top="40%",e.left="100px";break;case"center":e.top="40%",e.left="50%";break;case"center-right":e.top="40%",e.right="100px";break;case"bottom-left":e.bottom="100px",e.left="100px";break;case"bottom-center":e.bottom="100px",e.left="50%";break;case"bottom-right":e.bottom="100px",e.right="100px"}return c["default"].createElement("div",{style:e,className:"floating-text"},c["default"].createElement("h3",null,i.floatingText.title),c["default"].createElement("p",null,i.floatingText.text))}};return c["default"].createElement("div",{id:"case-study-story",className:"case-study-story"},c["default"].createElement(d["default"],{mapId:"case-study-map",onMouseMove:this.handleMouseMove,mapData:i.mapData}),l(),i.floatingText&&i.floatingText.image&&c["default"].createElement("img",{className:"floating-image",src:i.floatingText.image}),c["default"].createElement(g["default"],{containerId:"case-study-story"}))}}]),t}(c["default"].Component);_.contextTypes={router:c["default"].PropTypes.object},t["default"]=(0,f.connect)(function(e){return{popup:e.caseStudyPopup}})(_)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),l=r(u),c=n(86),p=(r(c),n(50)),f=r(p),h=function(e){function t(){return o(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),s(t,[{key:"render",value:function(){var e=this.props,t=(e.router,e.location);return l["default"].createElement("div",{className:"page"},l["default"].createElement(f["default"],{activePath:t.pathname,title:"Learn"}),this.props.children)}}]),t}(l["default"].Component);t["default"]=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),l=r(u),c=n(13),p=function(e){function t(){return o(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),s(t,[{key:"render",value:function(){var e=this.props.waitFor,t=!1;return e.forEach(function(e){e===!0&&(t=!0)}),l["default"].createElement("div",{className:t?"loading-overlay visible":"loading-overlay hidden"},l["default"].createElement("div",null,l["default"].createElement("p",null),l["default"].createElement("p",null),l["default"].createElement("p",null),l["default"].createElement("p",null),l["default"].createElement("p",null),l["default"].createElement("p",null),l["default"].createElement("p",null),l["default"].createElement("p",null),l["default"].createElement("p",null),l["default"].createElement("p",null),l["default"].createElement("p",null),l["default"].createElement("p",null),l["default"].createElement("p",null),l["default"].createElement("p",null),l["default"].createElement("p",null),l["default"].createElement("p",null),l["default"].createElement("p",null),l["default"].createElement("p",null),l["default"].createElement("p",null),l["default"].createElement("p",null),l["default"].createElement("p",null),l["default"].createElement("p",null),l["default"].createElement("p",null),l["default"].createElement("p",null),l["default"].createElement("p",null),l["default"].createElement("p",null),l["default"].createElement("p",null),l["default"].createElement("p",null),l["default"].createElement("p",null),l["default"].createElement("p",null),l["default"].createElement("p",null),l["default"].createElement("p",null),l["default"].createElement("p",null),l["default"].createElement("p",null),l["default"].createElement("p",null),l["default"].createElement("p",null)))}}]),t}(l["default"].Component);t["default"]=(0,c.connect)(function(e){return{dataIsLoading:e.dataIsLoading}})(p)},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e){return{map:e.map,popup:e.popup,mapDisplay:e.mapDisplay,projectListActive:e.projectListActive,dataIsLoading:e.dataIsLoading}}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(1),p=o(c),f=n(95),h=o(f),d=n(13),m=n(94),y=o(m),g=n(142),v=o(g),b=n(23),_=r(b),w=n(159),x=n(38),k=function(e){function t(e){i(this,t);var n=a(this,Object.getPrototypeOf(t).call(this,e));return n.showProjects=n.showProjects.bind(n),n.isolateProject=n.isolateProject.bind(n),n.allLayers=[],n.isolationLayers=[],n.projectsDiff=[],n.initMouseMove=n.initMouseMove.bind(n),n.initMapZoom=n.initMapZoom.bind(n),n.layerGroups={},n.labelGroups={},n.idGroups={},n.lineGroups={},n.connections=[],n.projectConnections=[],n.initializeLayers=n.initializeLayers.bind(n),n.initializeGroups=n.initializeGroups.bind(n),n.showConnections=n.showConnections.bind(n),n.clearConnections=n.clearConnections.bind(n),n.updateMapData=n.updateMapData.bind(n),n.toggleLabels=n.toggleLabels.bind(n),n.getVisibleCategories=n.getVisibleCategories.bind(n),n.circleRad=12,n.circleColor=x.COLORS.PRIMARY_COLOR,n.circleColorSecondary=x.COLORS.SECONDARY_COLOR,n.groups={},n.categoryColors={},n.hoverableLayers=[],n.mouseState={isDragging:!1,mouseDown:!1},window.m=n,n}return s(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this;console.log("map mounted");var t=this.props,n=t.containerId,r=t.map,o=t.dispatch;this.elt=h["default"].findDOMNode(),y["default"].accessToken="pk.eyJ1IjoiamNoYXJyeSIsImEiOiJjaXE4OG1jMmEwMHZrZm5ra29sOXYxbXp1In0.BQMZZ9aI39WOAzLgdYZF3A",this.visibleLayers=[],this.map=new y["default"].Map({container:n,style:"mapbox://styles/mapbox/light-v9",center:r.center,zoom:r.zoom,pitch:r.pitch}),this.mapLoaded=!1,this.map.on("load",function(){o(_.stopLoading()),e.mapLoaded=!0,e.updateMapData()}),window.map=this.map,this.initMapZoom()}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.categories,r=t.projects,o=t.mapDisplay,i=t.dataIsLoading,a=t.selectedProject;v["default"].isEqual(e.selectedProject,a)||"undefined"!=typeof a&&(this.clearConnections(),this.isolateProject(a),""!==a&&this.moveToProject(a)),v["default"].isEqual(e.dataIsLoading,i)||i!==!1||this.updateMapData(),v["default"].isEqual(e.mapDisplay,o)||(e.mapDisplay.labels!==o.labels&&this.toggleLabels(),e.mapDisplay.connections!==o.connections),v["default"].isEqual(e.projects,r)||console.log("projects changed"),v["default"].isEqual(e.categories,n)||this.showProjects(e)}},{key:"componentWillUnmount",value:function(){var e=this.props.dispatch;e(_.setSelectedProject("")),e(_.hideAllCategories())}},{key:"setMapPosition",value:function(){var e=this.props.map;this.map.flyTo({center:e.center,zoom:e.zoom,pitch:e.pitch||0,bearing:e.bearing||0})}},{key:"setMapBounds",value:function(){var e=this.props.map;this.map.fitBounds(e.bounds)}},{key:"getVisibleCategories",value:function(){var e=this.props.categories;return Object.keys(e).filter(function(t){return e[t].visible})}},{key:"moveToProject",value:function(e){var t=this.props,n=t.projects,r=t.map,o=n[e],i=void 0;if("points"===o.pointType){var a=o.locations;i=[a[0].lon,a[0].lat]}else i=[o.longitude,o.latitude-.11];this.map.flyTo({center:i,zoom:8,pitch:r.pitch||0,bearing:r.bearing||0})}},{key:"clearConnections",value:function(){var e=this;this.connections.forEach(function(t){e.map.getLayer(t)&&e.map.setLayoutProperty(t,"visibility","none")}),this.connections=[]}},{key:"showConnections",value:function(){var e=this,t=this.props,n=t.selectedProject,r=t.projects,o=t.categories,i=r[n],a=[];""!==i.connections&&(a=i.connections.split(",")),a.forEach(function(t){var n=r[t],a=[i.longitude,i.latitude],s=[n.longitude,n.latitude];if("points"===i.pointType){var u=i.locations;a=[u[0].lon,u[0].lat]}if("points"===n.pointType){var l=n.locations;s=[l[0].lon,l[0].lat]}var c={type:"Feature",geometry:{type:"LineString",coordinates:[a,s]},properties:{prjId:n.id}},p=i.id+n.id;e.map.getSource(p)||e.map.addSource(p,{type:"geojson",data:c}),e.map.getLayer(p)?e.map.setLayoutProperty(p,"visibility","visible"):e.map.addLayer({id:p,source:p,type:"line",paint:{"line-width":1,"line-color":o[n.category].color},layout:{visibility:"visible"}},i.id),e.connections.push(p)}),console.log("connections length",this.connections.length)}},{key:"initializeLayers",value:function(){var e=this,t=this.props,n=t.projects;t.categories;this.allLayers.forEach(function(t){e.map.getLayer(t)&&e.map.removeLayer(t),e.map.getLayer(t+"-text")&&e.map.removeLayer(t+"-text"),e.map.getLayer(t+"-number")&&e.map.removeLayer(t+"-number"),e.map.getSource(t)&&e.map.removeSource(t)}),this.allLayers=[],Object.keys(this.layerGroups).forEach(function(t){var r=e.layerGroups[t];r.forEach(function(t){n[t]&&!function(){var r=n[t],o=r.id;switch(e.allLayers.push(o),r.pointType){case"point":e.map.addSource(o,{type:"geojson",data:{type:"Feature",geometry:{type:"Point",coordinates:[r.longitude,r.latitude]},properties:{title:r.name,prjId:r.id}}}),e.map.addLayer({id:o,type:"circle",interactive:!0,source:o,paint:{"circle-radius":e.circleRad,"circle-color":e.circleColor},layout:{visibility:"none"}}),e.map.addLayer({id:o+"-number",type:"symbol",interactive:!0,source:o,layout:{visibility:"none","text-field":""+o.split("").slice(3).join(""),"text-font":["Open Sans Semibold","Arial Unicode MS Bold"],"text-size":12},paint:{"text-color":"#ffffff"}}),e.map.addLayer({id:o+"-text",type:"symbol",interactive:!0,source:o,layout:{visibility:"none","text-field":"{title}","text-font":["Open Sans Semibold","Arial Unicode MS Bold"],"text-size":24,"text-offset":[1,0],"text-anchor":"left"},paint:{"text-color":"black"}});break;case"points":var i=JSON.parse(r.locations),a={type:"geojson",data:{type:"FeatureCollection",features:i.map(function(e){return{type:"Feature",geometry:{type:"Point",coordinates:[e.lon,e.lat]},properties:{title:r.name}}})}};e.map.addSource(o,a),e.map.addLayer({id:o,type:"circle",interactive:!0,source:o,paint:{"circle-radius":e.circleRad,"circle-color":e.circleColor},layout:{visibility:"none"}}),e.map.addLayer({id:o+"-text",type:"symbol",interactive:!0,source:o,layout:{visibility:"none","text-field":"{title}","text-font":["Open Sans Semibold","Arial Unicode MS Bold"],"text-offset":[1,0],"text-anchor":"left","text-size":24},paint:{"text-color":"black"}}),e.map.addLayer({id:o+"-number",type:"symbol",interactive:!0,source:o,layout:{visibility:"none","text-field":""+r.id.split("").slice(3).join(""),"text-font":["Open Sans Semibold","Arial Unicode MS Bold"],"text-size":12},paint:{"text-color":"#ffffff"}})}}()})})}},{key:"toggleLabels",value:function(){var e=this,t=this.props.mapDisplay,n=this.getVisibleCategories();n.forEach(function(n){e.labelGroups[n].forEach(function(n){-1!==n.indexOf("-text")&&(t.labels===!1?e.map.setLayoutProperty(n,"visibility","none"):e.map.setLayoutProperty(n,"visibility","visible"))})})}},{key:"toggleLines",value:function(){var e=this,t=this.props.mapDisplay,n=this.getVisibleCategories();n.forEach(function(n){e.lineGroups[n].forEach(function(n){t.connections===!1?e.map.setLayoutProperty(n,"visibility","none"):e.map.setLayoutProperty(n,"visibility","visible")})})}},{key:"initializeGroups",value:function(){var e=this,t=this.props.projects;this.layerGroups={},this.labelGroups={},this.idGroups={},Object.keys(t).forEach(function(n){var r=t[n],o=r.category,i=r.id;"point"!==r.pointType&&"points"!==r.pointType||(e.layerGroups[o]?(e.layerGroups[o].push(i),e.idGroups[o].push(i+"-number"),e.labelGroups[o].push(i+"-text")):(e.layerGroups[o]=[i],e.idGroups[o]=[i+"-number"],e.labelGroups[o]=[i+"-text"]))})}},{key:"updateMapData",value:function(){console.log("map data updated"),this.initializeGroups(),this.initializeLayers(),this.initMouseMove(),this.initMouseDown(),this.initMouseUp()}},{key:"exitIsolation",value:function(){console.log(this)}},{key:"isolateProject",value:function(e){var t=this;console.log("isolating project");var n=this.props,r=n.projects;n.categories;if(e){this.map.getLayer(e)&&(this.map.setLayoutProperty(e+"-text","text-size",14),this.map.setLayoutProperty(e+"-text","visibility","visible"),this.map.setLayoutProperty(e+"-number","visibility","visible"),this.map.setPaintProperty(e,"circle-color",this.circleColorSecondary)),console.log("visible layers",this.visibleLayers),this.isolationLayers.length>0&&(this.isolationLayers.forEach(function(e){t.map.getLayer(e)&&(t.map.setLayoutProperty(e,"visibility","none"),t.map.setLayoutProperty(e+"-text","visibility","none"),t.map.setLayoutProperty(e+"-number","visibility","none"),t.hoverableLayers.splice(t.hoverableLayers.indexOf(e),1))}),this.isolationLayers=[]),this.visibleLayers.forEach(function(n){n!==e&&(t.map.setLayoutProperty(n,"visibility","none"),t.map.setLayoutProperty(n+"-number","visibility","none")),t.map.setLayoutProperty(e,"visibility","visible"),t.map.setLayoutProperty(e+"-text","visibility","visible"),t.map.setLayoutProperty(e+"-number","visibility","visible")}),this.isolationLayers.push(e),this.hoverableLayers.push(e);var o=r[e];this.showConnections(),o.connections.split(",").length>0&&o.connections.split(",").forEach(function(e){t.map.getLayer(e)&&(t.map.setLayoutProperty(e,"visibility","visible"),t.map.setLayoutProperty(e+"-number","visibility","visible"),t.isolationLayers.push(e),t.hoverableLayers.push(e))})}else this.isolationLayers.forEach(function(e){t.map.getLayer(e)&&(t.map.setLayoutProperty(e,"visibility","none"),t.map.setLayoutProperty(e+"-text","visibility","none"),t.map.setLayoutProperty(e+"-number","visibility","none"),t.hoverableLayers.splice(t.hoverableLayers.indexOf(e),1))}),this.isolationLayers=[],this.visibleLayers.forEach(function(n){n!==e&&(t.map.setLayoutProperty(n,"visibility","visible"),t.map.setLayoutProperty(n+"-number","visibility","visible"),t.map.setPaintProperty(n,"circle-radius",t.circleRad),t.map.setPaintProperty(n,"circle-color",t.circleColor))})}},{key:"showProjects",value:function(e){var t=this,n=this.props,r=n.categories,o=n.projects,i=n.mapDisplay,a=n.selectedProject;if(!a){var s=e.categories,u=this.getVisibleCategories(),l=(0,w.filterListByProperty)(o,"category",u);this.hoverableLayers=l.map(function(e){return e.id});var c=Object.keys(s).filter(function(e){return r[e].visible===!1&&s[e].visible===!0});console.log("show projects"),this.visibleLayers=[],u.forEach(function(e){var n=t.layerGroups[e],r=t.labelGroups[e],o=t.idGroups[e],a=t.lineGroups[e];n&&0!==n.length&&n.forEach(function(e){t.map.setLayoutProperty(e,"visibility","visible"),t.map.setPaintProperty(e,"circle-color",t.circleColor),t.visibleLayers.push(e)}),r&&0!==r.length&&r.forEach(function(e){i.labels&&(t.map.setLayoutProperty(e,"visibility","visible"),t.map.setLayoutProperty(e,"text-size",11))}),o&&0!==o.length&&o.forEach(function(e){t.map.setLayoutProperty(e,"visibility","visible")}),a&&0!==a.length&&a.forEach(function(e){i.connections&&t.map.setLayoutProperty(e,"visibility","visible")})}),c.forEach(function(e){var n=t.layerGroups[e],r=t.labelGroups[e],o=t.idGroups[e],i=t.lineGroups[e];n&&0!==n.length&&n.forEach(function(e){t.map.setLayoutProperty(e,"visibility","none")}),r&&0!==r.length&&r.forEach(function(e){t.map.setLayoutProperty(e,"visibility","none")}),o&&0!==o.length&&o.forEach(function(e){t.map.setLayoutProperty(e,"visibility","none")}),i&&0!==i.length&&i.forEach(function(e){t.map.setLayoutProperty(e,"visibility","none")})}),console.log(this.visibleLayers)}}},{key:"initMouseUp",value:function(){var e=this,t=this.props.dispatch;this.map.on("mouseup",function(n){var r=e.map.queryRenderedFeatures(n.point,{layers:e.hoverableLayers});if(r.length){console.log(r);var o=r[0].layer.id;e.map.setPaintProperty(o,"circle-color","#654321"),e.map.setPaintProperty(o,"circle-radius",e.circleRad+3),t(_.setSelectedProject(o)),t(_.hidePopup())}e.mouseState.isDragging=!1,e.mouseState.isMouseDown=!1})}},{key:"initMouseDown",value:function(){var e=this;this.map.on("mousedown",function(){e.mouseState.isMouseDown=!0})}},{key:"initMapZoom",value:function(){var e=this,t=this.props.dispatch;this.map.on("zoom",function(){var n=e.props.mapDisplay,r=e.map.getZoom();r>=12&&n.labels===!1?t(_.toggleMapDisplay("labels")):12>r&&n.labels===!0&&t(_.toggleMapDisplay("labels"))})}},{key:"initMouseMove",value:function(){var e=this,t=this.props,n=t.dispatch,r=t.projects;t.categories;this.map.on("mousemove",function(t){var o=e.props.popup;e.mouseState.isMouseDown&&(e.mouseState.isDragging=!0);var i=e.map.queryRenderedFeatures(t.point,{layers:e.hoverableLayers});if(i.length){var a=i[0],s=a.layer.id;r[s]&&o.currentProject!==s&&(o.currentProject&&(e.map.setPaintProperty(o.currentProject,"circle-color",e.circleColor),e.map.setPaintProperty(o.currentProject,"circle-radius",e.circleRad)),e.hoveredProjectId=s,n(_.showPopupWithProject(s,t.point)),e.map.setPaintProperty(s,"circle-color","#123456"),e.map.setPaintProperty(s,"circle-radius",e.circleRad+4))}else o.visible===!0&&(n(_.hidePopup()),e.hoveredProjectId&&(e.map.setPaintProperty(e.hoveredProjectId,"circle-color",e.circleColor),e.map.setPaintProperty(e.hoveredProjectId,"circle-radius",e.circleRad),e.hoveredProjectId=null))})}},{key:"render",value:function(){return p["default"].createElement("div",{className:"map",id:this.props.containerId})}}]),t}(p["default"].Component);k.propTypes={map:p["default"].PropTypes.object.isRequired,popup:p["default"].PropTypes.object.isRequired,categories:p["default"].PropTypes.object.isRequired,projects:p["default"].PropTypes.object.isRequired,mapDisplay:p["default"].PropTypes.object,dataIsLoading:p["default"].PropTypes.bool,containerId:p["default"].PropTypes.string,dispatch:p["default"].PropTypes.func.isRequired,selectedProject:p["default"].PropTypes.string},t["default"]=(0,d.connect)(u)(k)},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),c=o(l),p=n(176),f=o(p),h=n(23),d=r(h),m=n(175),y=o(m),g=n(177),v=o(g),b=function(e){function t(e){i(this,t);var n=a(this,Object.getPrototypeOf(t).call(this,e));return n.handleBack=n.handleBack.bind(n),n}return s(t,e),u(t,[{key:"handleBack",value:function(){var e=this.props.dispatch;e(d.setSelectedProject(""))}},{key:"render",value:function(){var e=this.props,t=e.selectedProject,n=e.projects,r=n[t],o={},i=[];return""!==r.connections&&(i=r.connections.split(",")),i.length&&i.forEach(function(e){var t=n[e],r=t.category;o[r]?o[r].push(t):o[r]=[t]}),c["default"].createElement("div",{className:"project-details"},c["default"].createElement("div",{className:"title"},c["default"].createElement("h2",null,r.name),c["default"].createElement(f["default"],{onClick:this.handleBack})),c["default"].createElement("div",{className:"content"},c["default"].createElement("div",{className:"contact"},c["default"].createElement("p",null,r.address),c["default"].createElement(v["default"],{url:r.link},r.link)),c["default"].createElement("p",null,r.description),0!==Object.keys(o).length?c["default"].createElement("h4",null,r.name," is connected to, or works with, the following organizations:"):null,Object.keys(o).map(function(e){return c["default"].createElement(y["default"],{key:e,projectList:o[e],showDescriptions:!0})})))}}]),t}(c["default"].Component);t["default"]=b},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),c=o(l),p=n(13),f=n(23),h=r(f),d=function(e){function t(e){i(this,t);var n=a(this,Object.getPrototypeOf(t).call(this,e));return n.handleClick=n.handleClick.bind(n),n}return s(t,e),u(t,[{key:"handleClick",value:function(e){var t=this.props,n=t.dispatch,r=t.project;e.preventDefault(),n(h.moveToProject(r._id)),n(h.setSelectedProject(r._id))}},{key:"render",value:function(){var e=this.props,t=e.project,n=e.showDescription,r=n||!1;return console.log("inside item",t),c["default"].createElement("li",{onClick:this.handleClick},c["default"].createElement("h3",null,t.id,": ",t.name),r&&c["default"].createElement("p",null,t.shortDesc))}}]),t}(c["default"].Component);d.propTypes={dispatch:c["default"].PropTypes.func.isRequired,project:c["default"].PropTypes.object.isRequired,showDescription:c["default"].PropTypes.bool},t["default"]=(0,p.connect)()(d)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),l=r(u),c=n(174),p=r(c),f=function(e){function t(){return o(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),s(t,[{key:"render",value:function(){var e=this.props,t=e.projectList,n=e.showDescriptions,r=n||!1;return console.log("inside list",r),l["default"].createElement("ul",{className:"project-list"},t.length>0&&t[0].category,t.map(function(e){return l["default"].createElement(p["default"],{showDescription:r,key:e.id,project:e})}))}}]),t}(l["default"].Component);f.propTypes={projectList:l["default"].PropTypes.array.isRequired,showDescriptions:l["default"].PropTypes.bool},t["default"]=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){return a["default"].createElement("div",{className:"back-button",onClick:e.onClick})}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=r(i);o.propTypes={onClick:a["default"].PropTypes.func.isRequired},t["default"]=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),l=r(u),c=function(e){function t(){return o(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),s(t,[{key:"render",value:function(){var e=this.props,t=e.url,n=e.children;return l["default"].createElement("a",{className:"link",onClick:function(){window.open(t,"_blank")}},n)}}]),t}(l["default"].Component);c.propTypes={url:l["default"].PropTypes.string.isRequired,children:l["default"].PropTypes.string.isRequired},t["default"]=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=r(o),a=n(27),s=n(323),u=r(s),l=function(e){return i["default"].createElement(a.Link,{className:"logo",to:e.to},i["default"].createElement("img",{src:"/"+u["default"],alt:"Logo - click to go home"}))};l.defaultProps={to:"/"},l.propTypes={to:i["default"].PropTypes.string},t["default"]=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=r(o),a=n(27),s=n(165),u=r(s),l=n(163),c=r(l),p=n(164),f=r(p),h=n(170),d=r(h),m=n(167),y=r(m),g=n(166),v=r(g);t["default"]=i["default"].createElement(a.Router,{onUpdate:function(){return window.scrollTo(0,0)},history:a.browserHistory},i["default"].createElement(a.Route,{path:"/"},i["default"].createElement(a.Route,{path:"/learn",component:d["default"]},i["default"].createElement(a.IndexRoute,{component:y["default"]}),i["default"].createElement(a.Route,{path:"/learn/:caseStudy"},i["default"].createElement(a.IndexRoute,{component:v["default"]}))),i["default"].createElement(a.Route,{path:"/explore",component:c["default"]}),i["default"].createElement(a.Route,{path:"/get-involved",component:f["default"]}),i["default"].createElement(a.IndexRoute,{component:u["default"]})))},function(e,t,n){var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";!function(e){"use strict";function t(e){var t=e.charCodeAt(0);return t===a||t===p?62:t===s||t===f?63:u>t?-1:u+10>t?t-u+26+26:c+26>t?t-c:l+26>t?t-l+26:void 0}function n(e){function n(e){l[p++]=e}var r,o,a,s,u,l;if(e.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var c=e.length;u="="===e.charAt(c-2)?2:"="===e.charAt(c-1)?1:0,l=new i(3*e.length/4-u),a=u>0?e.length-4:e.length;var p=0;for(r=0,o=0;a>r;r+=4,o+=3)s=t(e.charAt(r))<<18|t(e.charAt(r+1))<<12|t(e.charAt(r+2))<<6|t(e.charAt(r+3)),n((16711680&s)>>16),n((65280&s)>>8),n(255&s);return 2===u?(s=t(e.charAt(r))<<2|t(e.charAt(r+1))>>4,n(255&s)):1===u&&(s=t(e.charAt(r))<<10|t(e.charAt(r+1))<<4|t(e.charAt(r+2))>>2,n(s>>8&255),n(255&s)),l}function o(e){function t(e){return r.charAt(e)}function n(e){return t(e>>18&63)+t(e>>12&63)+t(e>>6&63)+t(63&e)}var o,i,a,s=e.length%3,u="";for(o=0,a=e.length-s;a>o;o+=3)i=(e[o]<<16)+(e[o+1]<<8)+e[o+2],u+=n(i);switch(s){case 1:i=e[e.length-1],u+=t(i>>2),u+=t(i<<4&63),u+="==";break;case 2:i=(e[e.length-2]<<8)+e[e.length-1],u+=t(i>>10),u+=t(i>>4&63),u+=t(i<<2&63),u+="="}return u}var i="undefined"!=typeof Uint8Array?Uint8Array:Array,a="+".charCodeAt(0),s="/".charCodeAt(0),u="0".charCodeAt(0),l="a".charCodeAt(0),c="A".charCodeAt(0),p="-".charCodeAt(0),f="_".charCodeAt(0);e.toByteArray=n,e.fromByteArray=o}(t)},function(e,t,n){t=e.exports=n(182)(),t.push([e.id,"@import url(https://fonts.googleapis.com/css?family=Raleway:Thin,Extra-Light,Light,Semi-Bold,Black);",""]),t.push([e.id,"@import url(https://fonts.googleapis.com/css?family=Montserrat:200,400,900);",""]),t.push([e.id,'/*!\n * Hamburgers\n * @description Tasty CSS-animated hamburgers\n * @author Jonathan Suh @jonsuh\n * @site https://jonsuh.com/hamburgers\n * @link https://github.com/jonsuh/hamburgers\n */.hamburger{padding:15px;display:inline-block;cursor:pointer;-webkit-transition-property:opacity,-webkit-filter;transition-property:opacity,-webkit-filter;transition-property:opacity,filter;transition-property:opacity,filter,-webkit-filter;-webkit-transition-duration:.15s;transition-duration:.15s;-webkit-transition-timing-function:linear;transition-timing-function:linear;font:inherit;color:inherit;text-transform:none;background-color:transparent;border:0;margin:0;overflow:visible}.hamburger:hover{opacity:.7}.hamburger-box{width:40px;height:24px;display:inline-block;position:relative}.hamburger-inner{display:block;top:50%;margin-top:-2px}.hamburger-inner,.hamburger-inner:after,.hamburger-inner:before{width:40px;height:4px;background-color:#000;border-radius:4px;position:absolute;-webkit-transition-property:-webkit-transform;transition-property:-webkit-transform;transition-property:transform;transition-property:transform,-webkit-transform;-webkit-transition-duration:.15s;transition-duration:.15s;-webkit-transition-timing-function:ease;transition-timing-function:ease}.hamburger-inner:after,.hamburger-inner:before{content:"";display:block}.hamburger-inner:before{top:-10px}.hamburger-inner:after{bottom:-10px}.hamburger--3dx .hamburger-box{-webkit-perspective:80px;perspective:80px}.hamburger--3dx .hamburger-inner{-webkit-transition:background-color 0s cubic-bezier(.645,.045,.355,1) .1s,-webkit-transform .2s cubic-bezier(.645,.045,.355,1);transition:background-color 0s cubic-bezier(.645,.045,.355,1) .1s,-webkit-transform .2s cubic-bezier(.645,.045,.355,1);transition:transform .2s cubic-bezier(.645,.045,.355,1),background-color 0s cubic-bezier(.645,.045,.355,1) .1s;transition:transform .2s cubic-bezier(.645,.045,.355,1),background-color 0s cubic-bezier(.645,.045,.355,1) .1s,-webkit-transform .2s cubic-bezier(.645,.045,.355,1)}.hamburger--3dx .hamburger-inner:after,.hamburger--3dx .hamburger-inner:before{-webkit-transition:-webkit-transform 0s cubic-bezier(.645,.045,.355,1) .1s;transition:-webkit-transform 0s cubic-bezier(.645,.045,.355,1) .1s;transition:transform 0s cubic-bezier(.645,.045,.355,1) .1s;transition:transform 0s cubic-bezier(.645,.045,.355,1) .1s,-webkit-transform 0s cubic-bezier(.645,.045,.355,1) .1s}.hamburger--3dx.is-active .hamburger-inner{background-color:transparent;-webkit-transform:rotateY(180deg);transform:rotateY(180deg)}.hamburger--3dx.is-active .hamburger-inner:before{-webkit-transform:translate3d(0,10px,0) rotate(45deg);transform:translate3d(0,10px,0) rotate(45deg)}.hamburger--3dx.is-active .hamburger-inner:after{-webkit-transform:translate3d(0,-10px,0) rotate(-45deg);transform:translate3d(0,-10px,0) rotate(-45deg)}.hamburger--3dx-r .hamburger-box{-webkit-perspective:80px;perspective:80px}.hamburger--3dx-r .hamburger-inner{-webkit-transition:background-color 0s cubic-bezier(.645,.045,.355,1) .1s,-webkit-transform .2s cubic-bezier(.645,.045,.355,1);transition:background-color 0s cubic-bezier(.645,.045,.355,1) .1s,-webkit-transform .2s cubic-bezier(.645,.045,.355,1);transition:transform .2s cubic-bezier(.645,.045,.355,1),background-color 0s cubic-bezier(.645,.045,.355,1) .1s;transition:transform .2s cubic-bezier(.645,.045,.355,1),background-color 0s cubic-bezier(.645,.045,.355,1) .1s,-webkit-transform .2s cubic-bezier(.645,.045,.355,1)}.hamburger--3dx-r .hamburger-inner:after,.hamburger--3dx-r .hamburger-inner:before{-webkit-transition:-webkit-transform 0s cubic-bezier(.645,.045,.355,1) .1s;transition:-webkit-transform 0s cubic-bezier(.645,.045,.355,1) .1s;transition:transform 0s cubic-bezier(.645,.045,.355,1) .1s;transition:transform 0s cubic-bezier(.645,.045,.355,1) .1s,-webkit-transform 0s cubic-bezier(.645,.045,.355,1) .1s}.hamburger--3dx-r.is-active .hamburger-inner{background-color:transparent;-webkit-transform:rotateY(-180deg);transform:rotateY(-180deg)}.hamburger--3dx-r.is-active .hamburger-inner:before{-webkit-transform:translate3d(0,10px,0) rotate(45deg);transform:translate3d(0,10px,0) rotate(45deg)}.hamburger--3dx-r.is-active .hamburger-inner:after{-webkit-transform:translate3d(0,-10px,0) rotate(-45deg);transform:translate3d(0,-10px,0) rotate(-45deg)}.hamburger--3dy .hamburger-box{-webkit-perspective:80px;perspective:80px}.hamburger--3dy .hamburger-inner{-webkit-transition:background-color 0s cubic-bezier(.645,.045,.355,1) .1s,-webkit-transform .2s cubic-bezier(.645,.045,.355,1);transition:background-color 0s cubic-bezier(.645,.045,.355,1) .1s,-webkit-transform .2s cubic-bezier(.645,.045,.355,1);transition:transform .2s cubic-bezier(.645,.045,.355,1),background-color 0s cubic-bezier(.645,.045,.355,1) .1s;transition:transform .2s cubic-bezier(.645,.045,.355,1),background-color 0s cubic-bezier(.645,.045,.355,1) .1s,-webkit-transform .2s cubic-bezier(.645,.045,.355,1)}.hamburger--3dy .hamburger-inner:after,.hamburger--3dy .hamburger-inner:before{-webkit-transition:-webkit-transform 0s cubic-bezier(.645,.045,.355,1) .1s;transition:-webkit-transform 0s cubic-bezier(.645,.045,.355,1) .1s;transition:transform 0s cubic-bezier(.645,.045,.355,1) .1s;transition:transform 0s cubic-bezier(.645,.045,.355,1) .1s,-webkit-transform 0s cubic-bezier(.645,.045,.355,1) .1s}.hamburger--3dy.is-active .hamburger-inner{background-color:transparent;-webkit-transform:rotateX(-180deg);transform:rotateX(-180deg)}.hamburger--3dy.is-active .hamburger-inner:before{-webkit-transform:translate3d(0,10px,0) rotate(45deg);transform:translate3d(0,10px,0) rotate(45deg)}.hamburger--3dy.is-active .hamburger-inner:after{-webkit-transform:translate3d(0,-10px,0) rotate(-45deg);transform:translate3d(0,-10px,0) rotate(-45deg)}.hamburger--3dy-r .hamburger-box{-webkit-perspective:80px;perspective:80px}.hamburger--3dy-r .hamburger-inner{-webkit-transition:background-color 0s cubic-bezier(.645,.045,.355,1) .1s,-webkit-transform .2s cubic-bezier(.645,.045,.355,1);transition:background-color 0s cubic-bezier(.645,.045,.355,1) .1s,-webkit-transform .2s cubic-bezier(.645,.045,.355,1);transition:transform .2s cubic-bezier(.645,.045,.355,1),background-color 0s cubic-bezier(.645,.045,.355,1) .1s;transition:transform .2s cubic-bezier(.645,.045,.355,1),background-color 0s cubic-bezier(.645,.045,.355,1) .1s,-webkit-transform .2s cubic-bezier(.645,.045,.355,1)}.hamburger--3dy-r .hamburger-inner:after,.hamburger--3dy-r .hamburger-inner:before{-webkit-transition:-webkit-transform 0s cubic-bezier(.645,.045,.355,1) .1s;transition:-webkit-transform 0s cubic-bezier(.645,.045,.355,1) .1s;transition:transform 0s cubic-bezier(.645,.045,.355,1) .1s;transition:transform 0s cubic-bezier(.645,.045,.355,1) .1s,-webkit-transform 0s cubic-bezier(.645,.045,.355,1) .1s}.hamburger--3dy-r.is-active .hamburger-inner{background-color:transparent;-webkit-transform:rotateX(180deg);transform:rotateX(180deg)}.hamburger--3dy-r.is-active .hamburger-inner:before{-webkit-transform:translate3d(0,10px,0) rotate(45deg);transform:translate3d(0,10px,0) rotate(45deg)}.hamburger--3dy-r.is-active .hamburger-inner:after{-webkit-transform:translate3d(0,-10px,0) rotate(-45deg);transform:translate3d(0,-10px,0) rotate(-45deg)}.hamburger--arrow.is-active .hamburger-inner:before{-webkit-transform:translate3d(-8px,0,0) rotate(-45deg) scaleX(.7);transform:translate3d(-8px,0,0) rotate(-45deg) scaleX(.7)}.hamburger--arrow.is-active .hamburger-inner:after{-webkit-transform:translate3d(-8px,0,0) rotate(45deg) scaleX(.7);transform:translate3d(-8px,0,0) rotate(45deg) scaleX(.7)}.hamburger--arrow-r.is-active .hamburger-inner:before{-webkit-transform:translate3d(8px,0,0) rotate(45deg) scaleX(.7);transform:translate3d(8px,0,0) rotate(45deg) scaleX(.7)}.hamburger--arrow-r.is-active .hamburger-inner:after{-webkit-transform:translate3d(8px,0,0) rotate(-45deg) scaleX(.7);transform:translate3d(8px,0,0) rotate(-45deg) scaleX(.7)}.hamburger--arrowalt .hamburger-inner:before{-webkit-transition:top .1s ease .15s,-webkit-transform .15s cubic-bezier(.165,.84,.44,1);transition:top .1s ease .15s,-webkit-transform .15s cubic-bezier(.165,.84,.44,1);transition:top .1s ease .15s,transform .15s cubic-bezier(.165,.84,.44,1);transition:top .1s ease .15s,transform .15s cubic-bezier(.165,.84,.44,1),-webkit-transform .15s cubic-bezier(.165,.84,.44,1)}.hamburger--arrowalt .hamburger-inner:after{-webkit-transition:bottom .1s ease .15s,-webkit-transform .15s cubic-bezier(.165,.84,.44,1);transition:bottom .1s ease .15s,-webkit-transform .15s cubic-bezier(.165,.84,.44,1);transition:bottom .1s ease .15s,transform .15s cubic-bezier(.165,.84,.44,1);transition:bottom .1s ease .15s,transform .15s cubic-bezier(.165,.84,.44,1),-webkit-transform .15s cubic-bezier(.165,.84,.44,1)}.hamburger--arrowalt.is-active .hamburger-inner:before{top:0;-webkit-transform:translate3d(-8px,-10px,0) rotate(-45deg) scaleX(.7);transform:translate3d(-8px,-10px,0) rotate(-45deg) scaleX(.7);-webkit-transition:top .1s ease,-webkit-transform .15s cubic-bezier(.895,.03,.685,.22) .1s;transition:top .1s ease,-webkit-transform .15s cubic-bezier(.895,.03,.685,.22) .1s;transition:top .1s ease,transform .15s cubic-bezier(.895,.03,.685,.22) .1s;transition:top .1s ease,transform .15s cubic-bezier(.895,.03,.685,.22) .1s,-webkit-transform .15s cubic-bezier(.895,.03,.685,.22) .1s}.hamburger--arrowalt.is-active .hamburger-inner:after{bottom:0;-webkit-transform:translate3d(-8px,10px,0) rotate(45deg) scaleX(.7);transform:translate3d(-8px,10px,0) rotate(45deg) scaleX(.7);-webkit-transition:bottom .1s ease,-webkit-transform .15s cubic-bezier(.895,.03,.685,.22) .1s;transition:bottom .1s ease,-webkit-transform .15s cubic-bezier(.895,.03,.685,.22) .1s;transition:bottom .1s ease,transform .15s cubic-bezier(.895,.03,.685,.22) .1s;transition:bottom .1s ease,transform .15s cubic-bezier(.895,.03,.685,.22) .1s,-webkit-transform .15s cubic-bezier(.895,.03,.685,.22) .1s}.hamburger--arrowalt-r .hamburger-inner:before{-webkit-transition:top .1s ease .15s,-webkit-transform .15s cubic-bezier(.165,.84,.44,1);transition:top .1s ease .15s,-webkit-transform .15s cubic-bezier(.165,.84,.44,1);transition:top .1s ease .15s,transform .15s cubic-bezier(.165,.84,.44,1);transition:top .1s ease .15s,transform .15s cubic-bezier(.165,.84,.44,1),-webkit-transform .15s cubic-bezier(.165,.84,.44,1)}.hamburger--arrowalt-r .hamburger-inner:after{-webkit-transition:bottom .1s ease .15s,-webkit-transform .15s cubic-bezier(.165,.84,.44,1);transition:bottom .1s ease .15s,-webkit-transform .15s cubic-bezier(.165,.84,.44,1);transition:bottom .1s ease .15s,transform .15s cubic-bezier(.165,.84,.44,1);transition:bottom .1s ease .15s,transform .15s cubic-bezier(.165,.84,.44,1),-webkit-transform .15s cubic-bezier(.165,.84,.44,1)}.hamburger--arrowalt-r.is-active .hamburger-inner:before{top:0;-webkit-transform:translate3d(8px,-10px,0) rotate(45deg) scaleX(.7);transform:translate3d(8px,-10px,0) rotate(45deg) scaleX(.7);-webkit-transition:top .1s ease,-webkit-transform .15s cubic-bezier(.895,.03,.685,.22) .1s;transition:top .1s ease,-webkit-transform .15s cubic-bezier(.895,.03,.685,.22) .1s;transition:top .1s ease,transform .15s cubic-bezier(.895,.03,.685,.22) .1s;transition:top .1s ease,transform .15s cubic-bezier(.895,.03,.685,.22) .1s,-webkit-transform .15s cubic-bezier(.895,.03,.685,.22) .1s}.hamburger--arrowalt-r.is-active .hamburger-inner:after{bottom:0;-webkit-transform:translate3d(8px,10px,0) rotate(-45deg) scaleX(.7);transform:translate3d(8px,10px,0) rotate(-45deg) scaleX(.7);-webkit-transition:bottom .1s ease,-webkit-transform .15s cubic-bezier(.895,.03,.685,.22) .1s;transition:bottom .1s ease,-webkit-transform .15s cubic-bezier(.895,.03,.685,.22) .1s;transition:bottom .1s ease,transform .15s cubic-bezier(.895,.03,.685,.22) .1s;transition:bottom .1s ease,transform .15s cubic-bezier(.895,.03,.685,.22) .1s,-webkit-transform .15s cubic-bezier(.895,.03,.685,.22) .1s}.hamburger--boring .hamburger-inner,.hamburger--boring .hamburger-inner:after,.hamburger--boring .hamburger-inner:before{-webkit-transition-property:none;transition-property:none}.hamburger--boring.is-active .hamburger-inner{-webkit-transform:rotate(45deg);transform:rotate(45deg)}.hamburger--boring.is-active .hamburger-inner:before{top:0;opacity:0}.hamburger--boring.is-active .hamburger-inner:after{bottom:0;-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}.hamburger--collapse .hamburger-inner{top:auto;bottom:0;-webkit-transition-duration:.15s;transition-duration:.15s;-webkit-transition-delay:.15s;transition-delay:.15s;-webkit-transition-timing-function:cubic-bezier(.55,.055,.675,.19);transition-timing-function:cubic-bezier(.55,.055,.675,.19)}.hamburger--collapse .hamburger-inner:after{top:-20px;-webkit-transition:top .3s cubic-bezier(.33333,.66667,.66667,1) .3s,opacity .1s linear;transition:top .3s cubic-bezier(.33333,.66667,.66667,1) .3s,opacity .1s linear}.hamburger--collapse .hamburger-inner:before{-webkit-transition:top .12s cubic-bezier(.33333,.66667,.66667,1) .3s,-webkit-transform .15s cubic-bezier(.55,.055,.675,.19);transition:top .12s cubic-bezier(.33333,.66667,.66667,1) .3s,-webkit-transform .15s cubic-bezier(.55,.055,.675,.19);transition:top .12s cubic-bezier(.33333,.66667,.66667,1) .3s,transform .15s cubic-bezier(.55,.055,.675,.19);transition:top .12s cubic-bezier(.33333,.66667,.66667,1) .3s,transform .15s cubic-bezier(.55,.055,.675,.19),-webkit-transform .15s cubic-bezier(.55,.055,.675,.19)}.hamburger--collapse.is-active .hamburger-inner{-webkit-transform:translate3d(0,-10px,0) rotate(-45deg);transform:translate3d(0,-10px,0) rotate(-45deg);-webkit-transition-delay:.32s;transition-delay:.32s;-webkit-transition-timing-function:cubic-bezier(.215,.61,.355,1);transition-timing-function:cubic-bezier(.215,.61,.355,1)}.hamburger--collapse.is-active .hamburger-inner:after{top:0;opacity:0;-webkit-transition:top .3s cubic-bezier(.33333,0,.66667,.33333),opacity .1s linear .27s;transition:top .3s cubic-bezier(.33333,0,.66667,.33333),opacity .1s linear .27s}.hamburger--collapse.is-active .hamburger-inner:before{top:0;-webkit-transform:rotate(-90deg);transform:rotate(-90deg);-webkit-transition:top .12s cubic-bezier(.33333,0,.66667,.33333) .18s,-webkit-transform .15s cubic-bezier(.215,.61,.355,1) .42s;transition:top .12s cubic-bezier(.33333,0,.66667,.33333) .18s,-webkit-transform .15s cubic-bezier(.215,.61,.355,1) .42s;transition:top .12s cubic-bezier(.33333,0,.66667,.33333) .18s,transform .15s cubic-bezier(.215,.61,.355,1) .42s;transition:top .12s cubic-bezier(.33333,0,.66667,.33333) .18s,transform .15s cubic-bezier(.215,.61,.355,1) .42s,-webkit-transform .15s cubic-bezier(.215,.61,.355,1) .42s}.hamburger--collapse-r .hamburger-inner{top:auto;bottom:0;-webkit-transition-duration:.15s;transition-duration:.15s;-webkit-transition-delay:.15s;transition-delay:.15s;-webkit-transition-timing-function:cubic-bezier(.55,.055,.675,.19);transition-timing-function:cubic-bezier(.55,.055,.675,.19)}.hamburger--collapse-r .hamburger-inner:after{top:-20px;-webkit-transition:top .3s cubic-bezier(.33333,.66667,.66667,1) .3s,opacity .1s linear;transition:top .3s cubic-bezier(.33333,.66667,.66667,1) .3s,opacity .1s linear}.hamburger--collapse-r .hamburger-inner:before{-webkit-transition:top .12s cubic-bezier(.33333,.66667,.66667,1) .3s,-webkit-transform .15s cubic-bezier(.55,.055,.675,.19);transition:top .12s cubic-bezier(.33333,.66667,.66667,1) .3s,-webkit-transform .15s cubic-bezier(.55,.055,.675,.19);transition:top .12s cubic-bezier(.33333,.66667,.66667,1) .3s,transform .15s cubic-bezier(.55,.055,.675,.19);transition:top .12s cubic-bezier(.33333,.66667,.66667,1) .3s,transform .15s cubic-bezier(.55,.055,.675,.19),-webkit-transform .15s cubic-bezier(.55,.055,.675,.19)}.hamburger--collapse-r.is-active .hamburger-inner{-webkit-transform:translate3d(0,-10px,0) rotate(45deg);transform:translate3d(0,-10px,0) rotate(45deg);-webkit-transition-delay:.32s;transition-delay:.32s;-webkit-transition-timing-function:cubic-bezier(.215,.61,.355,1);transition-timing-function:cubic-bezier(.215,.61,.355,1)}.hamburger--collapse-r.is-active .hamburger-inner:after{top:0;opacity:0;-webkit-transition:top .3s cubic-bezier(.33333,0,.66667,.33333),opacity .1s linear .27s;transition:top .3s cubic-bezier(.33333,0,.66667,.33333),opacity .1s linear .27s}.hamburger--collapse-r.is-active .hamburger-inner:before{top:0;-webkit-transform:rotate(90deg);transform:rotate(90deg);-webkit-transition:top .12s cubic-bezier(.33333,0,.66667,.33333) .18s,-webkit-transform .15s cubic-bezier(.215,.61,.355,1) .42s;transition:top .12s cubic-bezier(.33333,0,.66667,.33333) .18s,-webkit-transform .15s cubic-bezier(.215,.61,.355,1) .42s;transition:top .12s cubic-bezier(.33333,0,.66667,.33333) .18s,transform .15s cubic-bezier(.215,.61,.355,1) .42s;transition:top .12s cubic-bezier(.33333,0,.66667,.33333) .18s,transform .15s cubic-bezier(.215,.61,.355,1) .42s,-webkit-transform .15s cubic-bezier(.215,.61,.355,1) .42s}.hamburger--elastic .hamburger-inner{top:2px;-webkit-transition-duration:.4s;transition-duration:.4s;-webkit-transition-timing-function:cubic-bezier(.68,-.55,.265,1.55);transition-timing-function:cubic-bezier(.68,-.55,.265,1.55)}.hamburger--elastic .hamburger-inner:before{top:10px;-webkit-transition:opacity .15s ease .4s;transition:opacity .15s ease .4s}.hamburger--elastic .hamburger-inner:after{top:20px;-webkit-transition:-webkit-transform .4s cubic-bezier(.68,-.55,.265,1.55);transition:-webkit-transform .4s cubic-bezier(.68,-.55,.265,1.55);transition:transform .4s cubic-bezier(.68,-.55,.265,1.55);transition:transform .4s cubic-bezier(.68,-.55,.265,1.55),-webkit-transform .4s cubic-bezier(.68,-.55,.265,1.55)}.hamburger--elastic.is-active .hamburger-inner{-webkit-transform:translate3d(0,10px,0) rotate(135deg);transform:translate3d(0,10px,0) rotate(135deg);-webkit-transition-delay:.1s;transition-delay:.1s}.hamburger--elastic.is-active .hamburger-inner:before{-webkit-transition-delay:0s;transition-delay:0s;opacity:0}.hamburger--elastic.is-active .hamburger-inner:after{-webkit-transform:translate3d(0,-20px,0) rotate(-270deg);transform:translate3d(0,-20px,0) rotate(-270deg);-webkit-transition-delay:.1s;transition-delay:.1s}.hamburger--elastic-r .hamburger-inner{top:2px;-webkit-transition-duration:.4s;transition-duration:.4s;-webkit-transition-timing-function:cubic-bezier(.68,-.55,.265,1.55);transition-timing-function:cubic-bezier(.68,-.55,.265,1.55)}.hamburger--elastic-r .hamburger-inner:before{top:10px;-webkit-transition:opacity .15s ease .4s;transition:opacity .15s ease .4s}.hamburger--elastic-r .hamburger-inner:after{top:20px;-webkit-transition:-webkit-transform .4s cubic-bezier(.68,-.55,.265,1.55);transition:-webkit-transform .4s cubic-bezier(.68,-.55,.265,1.55);transition:transform .4s cubic-bezier(.68,-.55,.265,1.55);transition:transform .4s cubic-bezier(.68,-.55,.265,1.55),-webkit-transform .4s cubic-bezier(.68,-.55,.265,1.55)}.hamburger--elastic-r.is-active .hamburger-inner{-webkit-transform:translate3d(0,10px,0) rotate(-135deg);transform:translate3d(0,10px,0) rotate(-135deg);-webkit-transition-delay:.1s;transition-delay:.1s}.hamburger--elastic-r.is-active .hamburger-inner:before{-webkit-transition-delay:0s;transition-delay:0s;opacity:0}.hamburger--elastic-r.is-active .hamburger-inner:after{-webkit-transform:translate3d(0,-20px,0) rotate(270deg);transform:translate3d(0,-20px,0) rotate(270deg);-webkit-transition-delay:.1s;transition-delay:.1s}.hamburger--emphatic{overflow:hidden}.hamburger--emphatic .hamburger-inner{-webkit-transition:background-color .2s ease-in .25s;transition:background-color .2s ease-in .25s}.hamburger--emphatic .hamburger-inner:before{left:0;-webkit-transition:top .05s linear .2s,left .2s ease-in .25s,-webkit-transform .2s cubic-bezier(.6,.04,.98,.335);transition:top .05s linear .2s,left .2s ease-in .25s,-webkit-transform .2s cubic-bezier(.6,.04,.98,.335);transition:transform .2s cubic-bezier(.6,.04,.98,.335),top .05s linear .2s,left .2s ease-in .25s;transition:transform .2s cubic-bezier(.6,.04,.98,.335),top .05s linear .2s,left .2s ease-in .25s,-webkit-transform .2s cubic-bezier(.6,.04,.98,.335)}.hamburger--emphatic .hamburger-inner:after{top:10px;right:0;-webkit-transition:top .05s linear .2s,right .2s ease-in .25s,-webkit-transform .2s cubic-bezier(.6,.04,.98,.335);transition:top .05s linear .2s,right .2s ease-in .25s,-webkit-transform .2s cubic-bezier(.6,.04,.98,.335);transition:transform .2s cubic-bezier(.6,.04,.98,.335),top .05s linear .2s,right .2s ease-in .25s;transition:transform .2s cubic-bezier(.6,.04,.98,.335),top .05s linear .2s,right .2s ease-in .25s,-webkit-transform .2s cubic-bezier(.6,.04,.98,.335)}.hamburger--emphatic.is-active .hamburger-inner{-webkit-transition-delay:0s;transition-delay:0s;-webkit-transition-timing-function:ease-out;transition-timing-function:ease-out;background-color:transparent}.hamburger--emphatic.is-active .hamburger-inner:before{left:-80px;top:-80px;-webkit-transform:translate3d(80px,80px,0) rotate(45deg);transform:translate3d(80px,80px,0) rotate(45deg);-webkit-transition:left .2s ease-out,top .05s linear .2s,-webkit-transform .2s cubic-bezier(.075,.82,.165,1) .25s;transition:left .2s ease-out,top .05s linear .2s,-webkit-transform .2s cubic-bezier(.075,.82,.165,1) .25s;transition:left .2s ease-out,top .05s linear .2s,transform .2s cubic-bezier(.075,.82,.165,1) .25s;transition:left .2s ease-out,top .05s linear .2s,transform .2s cubic-bezier(.075,.82,.165,1) .25s,-webkit-transform .2s cubic-bezier(.075,.82,.165,1) .25s}.hamburger--emphatic.is-active .hamburger-inner:after{right:-80px;top:-80px;-webkit-transform:translate3d(-80px,80px,0) rotate(-45deg);transform:translate3d(-80px,80px,0) rotate(-45deg);-webkit-transition:right .2s ease-out,top .05s linear .2s,-webkit-transform .2s cubic-bezier(.075,.82,.165,1) .25s;transition:right .2s ease-out,top .05s linear .2s,-webkit-transform .2s cubic-bezier(.075,.82,.165,1) .25s;transition:right .2s ease-out,top .05s linear .2s,transform .2s cubic-bezier(.075,.82,.165,1) .25s;transition:right .2s ease-out,top .05s linear .2s,transform .2s cubic-bezier(.075,.82,.165,1) .25s,-webkit-transform .2s cubic-bezier(.075,.82,.165,1) .25s}.hamburger--emphatic-r{overflow:hidden}.hamburger--emphatic-r .hamburger-inner{-webkit-transition:background-color .2s ease-in .25s;transition:background-color .2s ease-in .25s}.hamburger--emphatic-r .hamburger-inner:before{left:0;-webkit-transition:top .05s linear .2s,left .2s ease-in .25s,-webkit-transform .2s cubic-bezier(.6,.04,.98,.335);transition:top .05s linear .2s,left .2s ease-in .25s,-webkit-transform .2s cubic-bezier(.6,.04,.98,.335);transition:transform .2s cubic-bezier(.6,.04,.98,.335),top .05s linear .2s,left .2s ease-in .25s;transition:transform .2s cubic-bezier(.6,.04,.98,.335),top .05s linear .2s,left .2s ease-in .25s,-webkit-transform .2s cubic-bezier(.6,.04,.98,.335)}.hamburger--emphatic-r .hamburger-inner:after{top:10px;right:0;-webkit-transition:top .05s linear .2s,right .2s ease-in .25s,-webkit-transform .2s cubic-bezier(.6,.04,.98,.335);transition:top .05s linear .2s,right .2s ease-in .25s,-webkit-transform .2s cubic-bezier(.6,.04,.98,.335);transition:transform .2s cubic-bezier(.6,.04,.98,.335),top .05s linear .2s,right .2s ease-in .25s;transition:transform .2s cubic-bezier(.6,.04,.98,.335),top .05s linear .2s,right .2s ease-in .25s,-webkit-transform .2s cubic-bezier(.6,.04,.98,.335)}.hamburger--emphatic-r.is-active .hamburger-inner{-webkit-transition-delay:0s;transition-delay:0s;-webkit-transition-timing-function:ease-out;transition-timing-function:ease-out;background-color:transparent}.hamburger--emphatic-r.is-active .hamburger-inner:before{left:-80px;top:80px;-webkit-transform:translate3d(80px,-80px,0) rotate(-45deg);transform:translate3d(80px,-80px,0) rotate(-45deg);-webkit-transition:left .2s ease-out,top .05s linear .2s,-webkit-transform .2s cubic-bezier(.075,.82,.165,1) .25s;transition:left .2s ease-out,top .05s linear .2s,-webkit-transform .2s cubic-bezier(.075,.82,.165,1) .25s;transition:left .2s ease-out,top .05s linear .2s,transform .2s cubic-bezier(.075,.82,.165,1) .25s;transition:left .2s ease-out,top .05s linear .2s,transform .2s cubic-bezier(.075,.82,.165,1) .25s,-webkit-transform .2s cubic-bezier(.075,.82,.165,1) .25s}.hamburger--emphatic-r.is-active .hamburger-inner:after{right:-80px;top:80px;-webkit-transform:translate3d(-80px,-80px,0) rotate(45deg);transform:translate3d(-80px,-80px,0) rotate(45deg);-webkit-transition:right .2s ease-out,top .05s linear .2s,-webkit-transform .2s cubic-bezier(.075,.82,.165,1) .25s;transition:right .2s ease-out,top .05s linear .2s,-webkit-transform .2s cubic-bezier(.075,.82,.165,1) .25s;transition:right .2s ease-out,top .05s linear .2s,transform .2s cubic-bezier(.075,.82,.165,1) .25s;transition:right .2s ease-out,top .05s linear .2s,transform .2s cubic-bezier(.075,.82,.165,1) .25s,-webkit-transform .2s cubic-bezier(.075,.82,.165,1) .25s}.hamburger--slider .hamburger-inner{top:2px}.hamburger--slider .hamburger-inner:before{top:10px;-webkit-transition-property:opacity,-webkit-transform;transition-property:opacity,-webkit-transform;transition-property:transform,opacity;transition-property:transform,opacity,-webkit-transform;-webkit-transition-timing-function:ease;transition-timing-function:ease;-webkit-transition-duration:.2s;transition-duration:.2s}.hamburger--slider .hamburger-inner:after{top:20px}.hamburger--slider.is-active .hamburger-inner{-webkit-transform:translate3d(0,10px,0) rotate(45deg);transform:translate3d(0,10px,0) rotate(45deg)}.hamburger--slider.is-active .hamburger-inner:before{-webkit-transform:rotate(-45deg) translate3d(-5.71429px,-6px,0);transform:rotate(-45deg) translate3d(-5.71429px,-6px,0);opacity:0}.hamburger--slider.is-active .hamburger-inner:after{-webkit-transform:translate3d(0,-20px,0) rotate(-90deg);transform:translate3d(0,-20px,0) rotate(-90deg)}.hamburger--slider-r .hamburger-inner{top:2px}.hamburger--slider-r .hamburger-inner:before{top:10px;-webkit-transition-property:opacity,-webkit-transform;transition-property:opacity,-webkit-transform;transition-property:transform,opacity;transition-property:transform,opacity,-webkit-transform;-webkit-transition-timing-function:ease;transition-timing-function:ease;-webkit-transition-duration:.2s;transition-duration:.2s}.hamburger--slider-r .hamburger-inner:after{top:20px}.hamburger--slider-r.is-active .hamburger-inner{-webkit-transform:translate3d(0,10px,0) rotate(-45deg);transform:translate3d(0,10px,0) rotate(-45deg)}.hamburger--slider-r.is-active .hamburger-inner:before{-webkit-transform:rotate(45deg) translate3d(5.71429px,-6px,0);transform:rotate(45deg) translate3d(5.71429px,-6px,0);opacity:0}.hamburger--slider-r.is-active .hamburger-inner:after{-webkit-transform:translate3d(0,-20px,0) rotate(90deg);transform:translate3d(0,-20px,0) rotate(90deg)}.hamburger--spring .hamburger-inner{top:2px;-webkit-transition:background-color 0s linear .15s;transition:background-color 0s linear .15s}.hamburger--spring .hamburger-inner:before{top:10px;-webkit-transition:top .12s cubic-bezier(.33333,.66667,.66667,1) .3s,-webkit-transform .15s cubic-bezier(.55,.055,.675,.19);transition:top .12s cubic-bezier(.33333,.66667,.66667,1) .3s,-webkit-transform .15s cubic-bezier(.55,.055,.675,.19);transition:top .12s cubic-bezier(.33333,.66667,.66667,1) .3s,transform .15s cubic-bezier(.55,.055,.675,.19);transition:top .12s cubic-bezier(.33333,.66667,.66667,1) .3s,transform .15s cubic-bezier(.55,.055,.675,.19),-webkit-transform .15s cubic-bezier(.55,.055,.675,.19)}.hamburger--spring .hamburger-inner:after{top:20px;-webkit-transition:top .3s cubic-bezier(.33333,.66667,.66667,1) .3s,-webkit-transform .15s cubic-bezier(.55,.055,.675,.19);transition:top .3s cubic-bezier(.33333,.66667,.66667,1) .3s,-webkit-transform .15s cubic-bezier(.55,.055,.675,.19);transition:top .3s cubic-bezier(.33333,.66667,.66667,1) .3s,transform .15s cubic-bezier(.55,.055,.675,.19);transition:top .3s cubic-bezier(.33333,.66667,.66667,1) .3s,transform .15s cubic-bezier(.55,.055,.675,.19),-webkit-transform .15s cubic-bezier(.55,.055,.675,.19)}.hamburger--spring.is-active .hamburger-inner{-webkit-transition-delay:.32s;transition-delay:.32s;background-color:transparent}.hamburger--spring.is-active .hamburger-inner:before{top:0;-webkit-transition:top .12s cubic-bezier(.33333,0,.66667,.33333) .18s,-webkit-transform .15s cubic-bezier(.215,.61,.355,1) .32s;transition:top .12s cubic-bezier(.33333,0,.66667,.33333) .18s,-webkit-transform .15s cubic-bezier(.215,.61,.355,1) .32s;transition:top .12s cubic-bezier(.33333,0,.66667,.33333) .18s,transform .15s cubic-bezier(.215,.61,.355,1) .32s;transition:top .12s cubic-bezier(.33333,0,.66667,.33333) .18s,transform .15s cubic-bezier(.215,.61,.355,1) .32s,-webkit-transform .15s cubic-bezier(.215,.61,.355,1) .32s;-webkit-transform:translate3d(0,10px,0) rotate(45deg);transform:translate3d(0,10px,0) rotate(45deg)}.hamburger--spring.is-active .hamburger-inner:after{top:0;-webkit-transition:top .3s cubic-bezier(.33333,0,.66667,.33333),-webkit-transform .15s cubic-bezier(.215,.61,.355,1) .32s;transition:top .3s cubic-bezier(.33333,0,.66667,.33333),-webkit-transform .15s cubic-bezier(.215,.61,.355,1) .32s;transition:top .3s cubic-bezier(.33333,0,.66667,.33333),transform .15s cubic-bezier(.215,.61,.355,1) .32s;transition:top .3s cubic-bezier(.33333,0,.66667,.33333),transform .15s cubic-bezier(.215,.61,.355,1) .32s,-webkit-transform .15s cubic-bezier(.215,.61,.355,1) .32s;-webkit-transform:translate3d(0,10px,0) rotate(-45deg);transform:translate3d(0,10px,0) rotate(-45deg)}.hamburger--spring-r .hamburger-inner{top:auto;bottom:0;-webkit-transition-duration:.15s;transition-duration:.15s;-webkit-transition-delay:0s;transition-delay:0s;-webkit-transition-timing-function:cubic-bezier(.55,.055,.675,.19);transition-timing-function:cubic-bezier(.55,.055,.675,.19)}.hamburger--spring-r .hamburger-inner:after{top:-20px;-webkit-transition:top .3s cubic-bezier(.33333,.66667,.66667,1) .3s,opacity 0s linear;transition:top .3s cubic-bezier(.33333,.66667,.66667,1) .3s,opacity 0s linear}.hamburger--spring-r .hamburger-inner:before{-webkit-transition:top .12s cubic-bezier(.33333,.66667,.66667,1) .3s,-webkit-transform .15s cubic-bezier(.55,.055,.675,.19);transition:top .12s cubic-bezier(.33333,.66667,.66667,1) .3s,-webkit-transform .15s cubic-bezier(.55,.055,.675,.19);transition:top .12s cubic-bezier(.33333,.66667,.66667,1) .3s,transform .15s cubic-bezier(.55,.055,.675,.19);transition:top .12s cubic-bezier(.33333,.66667,.66667,1) .3s,transform .15s cubic-bezier(.55,.055,.675,.19),-webkit-transform .15s cubic-bezier(.55,.055,.675,.19)}.hamburger--spring-r.is-active .hamburger-inner{-webkit-transform:translate3d(0,-10px,0) rotate(-45deg);transform:translate3d(0,-10px,0) rotate(-45deg);-webkit-transition-delay:.32s;transition-delay:.32s;-webkit-transition-timing-function:cubic-bezier(.215,.61,.355,1);transition-timing-function:cubic-bezier(.215,.61,.355,1)}.hamburger--spring-r.is-active .hamburger-inner:after{top:0;opacity:0;-webkit-transition:top .3s cubic-bezier(.33333,0,.66667,.33333),opacity 0s linear .32s;transition:top .3s cubic-bezier(.33333,0,.66667,.33333),opacity 0s linear .32s}.hamburger--spring-r.is-active .hamburger-inner:before{top:0;-webkit-transform:rotate(90deg);transform:rotate(90deg);-webkit-transition:top .12s cubic-bezier(.33333,0,.66667,.33333) .18s,-webkit-transform .15s cubic-bezier(.215,.61,.355,1) .32s;transition:top .12s cubic-bezier(.33333,0,.66667,.33333) .18s,-webkit-transform .15s cubic-bezier(.215,.61,.355,1) .32s;transition:top .12s cubic-bezier(.33333,0,.66667,.33333) .18s,transform .15s cubic-bezier(.215,.61,.355,1) .32s;transition:top .12s cubic-bezier(.33333,0,.66667,.33333) .18s,transform .15s cubic-bezier(.215,.61,.355,1) .32s,-webkit-transform .15s cubic-bezier(.215,.61,.355,1) .32s}.hamburger--stand .hamburger-inner{-webkit-transition:background-color 0s linear .1s,-webkit-transform .1s cubic-bezier(.55,.055,.675,.19) .22s;transition:background-color 0s linear .1s,-webkit-transform .1s cubic-bezier(.55,.055,.675,.19) .22s;transition:transform .1s cubic-bezier(.55,.055,.675,.19) .22s,background-color 0s linear .1s;transition:transform .1s cubic-bezier(.55,.055,.675,.19) .22s,background-color 0s linear .1s,-webkit-transform .1s cubic-bezier(.55,.055,.675,.19) .22s}.hamburger--stand .hamburger-inner:before{-webkit-transition:top .1s ease-in .1s,-webkit-transform .1s cubic-bezier(.55,.055,.675,.19) 0s;transition:top .1s ease-in .1s,-webkit-transform .1s cubic-bezier(.55,.055,.675,.19) 0s;transition:top .1s ease-in .1s,transform .1s cubic-bezier(.55,.055,.675,.19) 0s;transition:top .1s ease-in .1s,transform .1s cubic-bezier(.55,.055,.675,.19) 0s,-webkit-transform .1s cubic-bezier(.55,.055,.675,.19) 0s}.hamburger--stand .hamburger-inner:after{-webkit-transition:bottom .1s ease-in .1s,-webkit-transform .1s cubic-bezier(.55,.055,.675,.19) 0s;transition:bottom .1s ease-in .1s,-webkit-transform .1s cubic-bezier(.55,.055,.675,.19) 0s;transition:bottom .1s ease-in .1s,transform .1s cubic-bezier(.55,.055,.675,.19) 0s;transition:bottom .1s ease-in .1s,transform .1s cubic-bezier(.55,.055,.675,.19) 0s,-webkit-transform .1s cubic-bezier(.55,.055,.675,.19) 0s}.hamburger--stand.is-active .hamburger-inner{-webkit-transform:rotate(90deg);transform:rotate(90deg);background-color:transparent;-webkit-transition:background-color 0s linear .22s,-webkit-transform .1s cubic-bezier(.215,.61,.355,1) 0s;transition:background-color 0s linear .22s,-webkit-transform .1s cubic-bezier(.215,.61,.355,1) 0s;transition:transform .1s cubic-bezier(.215,.61,.355,1) 0s,background-color 0s linear .22s;transition:transform .1s cubic-bezier(.215,.61,.355,1) 0s,background-color 0s linear .22s,-webkit-transform .1s cubic-bezier(.215,.61,.355,1) 0s}.hamburger--stand.is-active .hamburger-inner:before{top:0;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);-webkit-transition:top .1s ease-out .12s,-webkit-transform .1s cubic-bezier(.215,.61,.355,1) .22s;transition:top .1s ease-out .12s,-webkit-transform .1s cubic-bezier(.215,.61,.355,1) .22s;transition:top .1s ease-out .12s,transform .1s cubic-bezier(.215,.61,.355,1) .22s;transition:top .1s ease-out .12s,transform .1s cubic-bezier(.215,.61,.355,1) .22s,-webkit-transform .1s cubic-bezier(.215,.61,.355,1) .22s}.hamburger--stand.is-active .hamburger-inner:after{bottom:0;-webkit-transform:rotate(45deg);transform:rotate(45deg);-webkit-transition:bottom .1s ease-out .12s,-webkit-transform .1s cubic-bezier(.215,.61,.355,1) .22s;transition:bottom .1s ease-out .12s,-webkit-transform .1s cubic-bezier(.215,.61,.355,1) .22s;transition:bottom .1s ease-out .12s,transform .1s cubic-bezier(.215,.61,.355,1) .22s;transition:bottom .1s ease-out .12s,transform .1s cubic-bezier(.215,.61,.355,1) .22s,-webkit-transform .1s cubic-bezier(.215,.61,.355,1) .22s}.hamburger--stand-r .hamburger-inner{-webkit-transition:background-color 0s linear .1s,-webkit-transform .1s cubic-bezier(.55,.055,.675,.19) .22s;transition:background-color 0s linear .1s,-webkit-transform .1s cubic-bezier(.55,.055,.675,.19) .22s;transition:transform .1s cubic-bezier(.55,.055,.675,.19) .22s,background-color 0s linear .1s;transition:transform .1s cubic-bezier(.55,.055,.675,.19) .22s,background-color 0s linear .1s,-webkit-transform .1s cubic-bezier(.55,.055,.675,.19) .22s}.hamburger--stand-r .hamburger-inner:before{-webkit-transition:top .1s ease-in .1s,-webkit-transform .1s cubic-bezier(.55,.055,.675,.19) 0s;transition:top .1s ease-in .1s,-webkit-transform .1s cubic-bezier(.55,.055,.675,.19) 0s;transition:top .1s ease-in .1s,transform .1s cubic-bezier(.55,.055,.675,.19) 0s;transition:top .1s ease-in .1s,transform .1s cubic-bezier(.55,.055,.675,.19) 0s,-webkit-transform .1s cubic-bezier(.55,.055,.675,.19) 0s}.hamburger--stand-r .hamburger-inner:after{-webkit-transition:bottom .1s ease-in .1s,-webkit-transform .1s cubic-bezier(.55,.055,.675,.19) 0s;transition:bottom .1s ease-in .1s,-webkit-transform .1s cubic-bezier(.55,.055,.675,.19) 0s;transition:bottom .1s ease-in .1s,transform .1s cubic-bezier(.55,.055,.675,.19) 0s;transition:bottom .1s ease-in .1s,transform .1s cubic-bezier(.55,.055,.675,.19) 0s,-webkit-transform .1s cubic-bezier(.55,.055,.675,.19) 0s}.hamburger--stand-r.is-active .hamburger-inner{-webkit-transform:rotate(-90deg);transform:rotate(-90deg);background-color:transparent;-webkit-transition:background-color 0s linear .22s,-webkit-transform .1s cubic-bezier(.215,.61,.355,1) 0s;transition:background-color 0s linear .22s,-webkit-transform .1s cubic-bezier(.215,.61,.355,1) 0s;transition:transform .1s cubic-bezier(.215,.61,.355,1) 0s,background-color 0s linear .22s;transition:transform .1s cubic-bezier(.215,.61,.355,1) 0s,background-color 0s linear .22s,-webkit-transform .1s cubic-bezier(.215,.61,.355,1) 0s}.hamburger--stand-r.is-active .hamburger-inner:before{top:0;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);-webkit-transition:top .1s ease-out .12s,-webkit-transform .1s cubic-bezier(.215,.61,.355,1) .22s;transition:top .1s ease-out .12s,-webkit-transform .1s cubic-bezier(.215,.61,.355,1) .22s;transition:top .1s ease-out .12s,transform .1s cubic-bezier(.215,.61,.355,1) .22s;transition:top .1s ease-out .12s,transform .1s cubic-bezier(.215,.61,.355,1) .22s,-webkit-transform .1s cubic-bezier(.215,.61,.355,1) .22s}.hamburger--stand-r.is-active .hamburger-inner:after{bottom:0;-webkit-transform:rotate(45deg);transform:rotate(45deg);-webkit-transition:bottom .1s ease-out .12s,-webkit-transform .1s cubic-bezier(.215,.61,.355,1) .22s;transition:bottom .1s ease-out .12s,-webkit-transform .1s cubic-bezier(.215,.61,.355,1) .22s;transition:bottom .1s ease-out .12s,transform .1s cubic-bezier(.215,.61,.355,1) .22s;transition:bottom .1s ease-out .12s,transform .1s cubic-bezier(.215,.61,.355,1) .22s,-webkit-transform .1s cubic-bezier(.215,.61,.355,1) .22s}.hamburger--spin .hamburger-inner{-webkit-transition-duration:.3s;transition-duration:.3s;-webkit-transition-timing-function:cubic-bezier(.55,.055,.675,.19);transition-timing-function:cubic-bezier(.55,.055,.675,.19)}.hamburger--spin .hamburger-inner:before{-webkit-transition:top .1s ease-in .34s,opacity .1s ease-in;transition:top .1s ease-in .34s,opacity .1s ease-in}.hamburger--spin .hamburger-inner:after{-webkit-transition:bottom .1s ease-in .34s,-webkit-transform .3s cubic-bezier(.55,.055,.675,.19);transition:bottom .1s ease-in .34s,-webkit-transform .3s cubic-bezier(.55,.055,.675,.19);transition:bottom .1s ease-in .34s,transform .3s cubic-bezier(.55,.055,.675,.19);transition:bottom .1s ease-in .34s,transform .3s cubic-bezier(.55,.055,.675,.19),-webkit-transform .3s cubic-bezier(.55,.055,.675,.19)}.hamburger--spin.is-active .hamburger-inner{-webkit-transform:rotate(225deg);transform:rotate(225deg);-webkit-transition-delay:.14s;transition-delay:.14s;-webkit-transition-timing-function:cubic-bezier(.215,.61,.355,1);transition-timing-function:cubic-bezier(.215,.61,.355,1)}.hamburger--spin.is-active .hamburger-inner:before{top:0;opacity:0;-webkit-transition:top .1s ease-out,opacity .1s ease-out .14s;transition:top .1s ease-out,opacity .1s ease-out .14s}.hamburger--spin.is-active .hamburger-inner:after{bottom:0;-webkit-transform:rotate(-90deg);transform:rotate(-90deg);-webkit-transition:bottom .1s ease-out,-webkit-transform .3s cubic-bezier(.215,.61,.355,1) .14s;transition:bottom .1s ease-out,-webkit-transform .3s cubic-bezier(.215,.61,.355,1) .14s;transition:bottom .1s ease-out,transform .3s cubic-bezier(.215,.61,.355,1) .14s;transition:bottom .1s ease-out,transform .3s cubic-bezier(.215,.61,.355,1) .14s,-webkit-transform .3s cubic-bezier(.215,.61,.355,1) .14s}.hamburger--spin-r .hamburger-inner{-webkit-transition-duration:.3s;transition-duration:.3s;-webkit-transition-timing-function:cubic-bezier(.55,.055,.675,.19);transition-timing-function:cubic-bezier(.55,.055,.675,.19)}.hamburger--spin-r .hamburger-inner:before{-webkit-transition:top .1s ease-in .34s,opacity .1s ease-in;transition:top .1s ease-in .34s,opacity .1s ease-in}.hamburger--spin-r .hamburger-inner:after{-webkit-transition:bottom .1s ease-in .34s,-webkit-transform .3s cubic-bezier(.55,.055,.675,.19);transition:bottom .1s ease-in .34s,-webkit-transform .3s cubic-bezier(.55,.055,.675,.19);transition:bottom .1s ease-in .34s,transform .3s cubic-bezier(.55,.055,.675,.19);transition:bottom .1s ease-in .34s,transform .3s cubic-bezier(.55,.055,.675,.19),-webkit-transform .3s cubic-bezier(.55,.055,.675,.19)}.hamburger--spin-r.is-active .hamburger-inner{-webkit-transform:rotate(-225deg);transform:rotate(-225deg);-webkit-transition-delay:.14s;transition-delay:.14s;-webkit-transition-timing-function:cubic-bezier(.215,.61,.355,1);transition-timing-function:cubic-bezier(.215,.61,.355,1)}.hamburger--spin-r.is-active .hamburger-inner:before{top:0;opacity:0;-webkit-transition:top .1s ease-out,opacity .1s ease-out .14s;transition:top .1s ease-out,opacity .1s ease-out .14s}.hamburger--spin-r.is-active .hamburger-inner:after{bottom:0;-webkit-transform:rotate(90deg);transform:rotate(90deg);-webkit-transition:bottom .1s ease-out,-webkit-transform .3s cubic-bezier(.215,.61,.355,1) .14s;transition:bottom .1s ease-out,-webkit-transform .3s cubic-bezier(.215,.61,.355,1) .14s;transition:bottom .1s ease-out,transform .3s cubic-bezier(.215,.61,.355,1) .14s;transition:bottom .1s ease-out,transform .3s cubic-bezier(.215,.61,.355,1) .14s,-webkit-transform .3s cubic-bezier(.215,.61,.355,1) .14s}.hamburger--squeeze .hamburger-inner{-webkit-transition-duration:.1s;transition-duration:.1s;-webkit-transition-timing-function:cubic-bezier(.55,.055,.675,.19);transition-timing-function:cubic-bezier(.55,.055,.675,.19)}.hamburger--squeeze .hamburger-inner:before{-webkit-transition:top .1s ease .14s,opacity .1s ease;transition:top .1s ease .14s,opacity .1s ease}.hamburger--squeeze .hamburger-inner:after{-webkit-transition:bottom .1s ease .14s,-webkit-transform .1s cubic-bezier(.55,.055,.675,.19);transition:bottom .1s ease .14s,-webkit-transform .1s cubic-bezier(.55,.055,.675,.19);transition:bottom .1s ease .14s,transform .1s cubic-bezier(.55,.055,.675,.19);transition:bottom .1s ease .14s,transform .1s cubic-bezier(.55,.055,.675,.19),-webkit-transform .1s cubic-bezier(.55,.055,.675,.19)}.hamburger--squeeze.is-active .hamburger-inner{-webkit-transform:rotate(45deg);transform:rotate(45deg);-webkit-transition-delay:.14s;transition-delay:.14s;-webkit-transition-timing-function:cubic-bezier(.215,.61,.355,1);transition-timing-function:cubic-bezier(.215,.61,.355,1)}.hamburger--squeeze.is-active .hamburger-inner:before{top:0;opacity:0;-webkit-transition:top .1s ease,opacity .1s ease .14s;transition:top .1s ease,opacity .1s ease .14s}.hamburger--squeeze.is-active .hamburger-inner:after{bottom:0;-webkit-transform:rotate(-90deg);transform:rotate(-90deg);-webkit-transition:bottom .1s ease,-webkit-transform .1s cubic-bezier(.215,.61,.355,1) .14s;transition:bottom .1s ease,-webkit-transform .1s cubic-bezier(.215,.61,.355,1) .14s;transition:bottom .1s ease,transform .1s cubic-bezier(.215,.61,.355,1) .14s;transition:bottom .1s ease,transform .1s cubic-bezier(.215,.61,.355,1) .14s,-webkit-transform .1s cubic-bezier(.215,.61,.355,1) .14s}.hamburger--vortex .hamburger-inner{-webkit-transition-duration:.3s;transition-duration:.3s;-webkit-transition-timing-function:cubic-bezier(.19,1,.22,1);transition-timing-function:cubic-bezier(.19,1,.22,1)}.hamburger--vortex .hamburger-inner:after,.hamburger--vortex .hamburger-inner:before{-webkit-transition-duration:0s;transition-duration:0s;-webkit-transition-delay:.1s;transition-delay:.1s;-webkit-transition-timing-function:linear;transition-timing-function:linear}.hamburger--vortex .hamburger-inner:before{-webkit-transition-property:top,opacity;transition-property:top,opacity}.hamburger--vortex .hamburger-inner:after{-webkit-transition-property:bottom,-webkit-transform;transition-property:bottom,-webkit-transform;transition-property:bottom,transform;transition-property:bottom,transform,-webkit-transform}.hamburger--vortex.is-active .hamburger-inner{-webkit-transform:rotate(765deg);transform:rotate(765deg);-webkit-transition-timing-function:cubic-bezier(.19,1,.22,1);transition-timing-function:cubic-bezier(.19,1,.22,1)}.hamburger--vortex.is-active .hamburger-inner:after,.hamburger--vortex.is-active .hamburger-inner:before{-webkit-transition-delay:0s;transition-delay:0s}.hamburger--vortex.is-active .hamburger-inner:before{top:0;opacity:0}.hamburger--vortex.is-active .hamburger-inner:after{bottom:0;-webkit-transform:rotate(90deg);transform:rotate(90deg)}.hamburger--vortex-r .hamburger-inner{-webkit-transition-duration:.3s;transition-duration:.3s;-webkit-transition-timing-function:cubic-bezier(.19,1,.22,1);transition-timing-function:cubic-bezier(.19,1,.22,1)}.hamburger--vortex-r .hamburger-inner:after,.hamburger--vortex-r .hamburger-inner:before{-webkit-transition-duration:0s;transition-duration:0s;-webkit-transition-delay:.1s;transition-delay:.1s;-webkit-transition-timing-function:linear;transition-timing-function:linear}.hamburger--vortex-r .hamburger-inner:before{-webkit-transition-property:top,opacity;transition-property:top,opacity}.hamburger--vortex-r .hamburger-inner:after{-webkit-transition-property:bottom,-webkit-transform;transition-property:bottom,-webkit-transform;transition-property:bottom,transform;transition-property:bottom,transform,-webkit-transform}.hamburger--vortex-r.is-active .hamburger-inner{-webkit-transform:rotate(-765deg);transform:rotate(-765deg);-webkit-transition-timing-function:cubic-bezier(.19,1,.22,1);transition-timing-function:cubic-bezier(.19,1,.22,1)}.hamburger--vortex-r.is-active .hamburger-inner:after,.hamburger--vortex-r.is-active .hamburger-inner:before{-webkit-transition-delay:0s;transition-delay:0s}.hamburger--vortex-r.is-active .hamburger-inner:before{top:0;opacity:0}.hamburger--vortex-r.is-active .hamburger-inner:after{bottom:0;-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}#map,.map{width:100%;height:100%;top:0;left:0;margin:0;padding:0}.map-container .back-button{position:absolute;top:10px;right:10px;color:#fff}#hover-popup{position:fixed;display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:left;-ms-flex-align:left;align-items:left;z-index:101;background-color:#074c00;visibility:hidden;border:4px solid #074c00;border-radius:5px;width:300px;padding:.5rem}#hover-popup a,#hover-popup button,#hover-popup h2,#hover-popup p{padding:.5rem;margin:0;font-size:1rem}#hover-popup .hover-popup-bg{height:100%;width:100%;-webkit-filter:blur(3px);filter:blur(3px)}#hover-popup h2,#hover-popup p{color:#fff}#hover-popup h2{text-align:center}#hover-popup .hover-section{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}#hover-popup .hover-section>h4:first-child{border-right:1px solid #fff;color:#fff;padding:.3rem;-webkit-box-align:center;-ms-flex-align:center;-ms-grid-row-align:center;align-items:center}#hover-popup .hover-section p{color:#fff;font-size:.8rem}#hover-popup button{width:50%;padding:0;height:30px;border:none;background-color:#000;color:#fff;-webkit-transition:all .5s;transition:all .5s}#hover-popup button:hover{background-color:#fff;color:#000}#hover-popup .edit-project{width:auto;background:transparent;color:#96d7ff;font-size:1rem;position:absolute;top:0;right:0;height:auto;border:none}.side-nav{background:#551a8b;background:-webkit-gradient(linear,left top,left bottom,color-stop(0,#551a8b),color-stop(100%,#000));background:-webkit-linear-gradient(top,#551a8b,#000);background:linear-gradient(180deg,#551a8b 0,#000);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=\'#ffffff\',endColorstr=\'#000000\',GradientType=0);color:#d3d3d3;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-ms-flex-preferred-size:50%;flex-basis:50%;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;-ms-flex-negative:1;flex-shrink:1;max-width:300px;height:100vh;overflow-x:hidden;overflow-y:auto;-webkit-transition:right .5s;transition:right .5s;-webkit-transition:left .3s;transition:left .3s}.side-nav p{padding:1rem;margin:0}.side-nav .menu-item{cursor:pointer;border-bottom:1px solid rgba(85,26,139,.8);-webkit-transition:all .5s;transition:all .5s}.side-nav .menu-item:hover{background-color:#fff;color:#551a8b}.side-nav .menu-header{padding-left:1rem;padding-right:1rem}.side-nav img{margin-left:.5rem}.side-nav .menu-back-btn{position:absolute;color:#fff;border:none;background:transparent;font-size:12pt}.nav{height:60px;position:fixed;top:0;left:0;right:0;background-color:transparent;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-ms-flex-align:center;align-items:center;z-index:30;padding:0 1rem}.nav a,.nav h1{padding:0}.nav h1{color:#fff;font-size:2rem;margin:0}.nav .nav-items{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex}.nav .nav-items .nav-item{color:#fff;font-size:1rem;padding:1rem}.nav .nav-items .nav-item.active{color:#50e3c2}.nav .logo{height:100%;padding:0;margin:0}.nav .logo img{height:100%;padding:.3rem 0}.nav .menu .hamburger-box{width:35px}.nav .menu .hamburger-inner,.nav .menu .hamburger-inner:after,.nav .menu .hamburger-inner:before{width:35px;height:2px}.page-overlay{position:fixed;top:0;left:0;background-color:rgba(0,0,0,.6);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;width:100vw;height:100vh;font-family:sans-serif;color:#fff}.page-overlay .button{background-color:hsla(0,0%,39%,.8);border:none;width:100vw;height:50px}.page-overlay .button,.page-overlay h1,.page-overlay h3{color:tomato;font-family:sans-serif}.fully-centered{-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;-ms-grid-row-align:center;align-items:center}video#bgvid{position:fixed;top:50%;left:50%;min-width:100%;min-height:100%;width:auto;height:auto;z-index:-100;-webkit-transform:translateX(-50%) translateY(-50%);transform:translateX(-50%) translateY(-50%);background-size:cover}.landing .full-height{height:100vh}.landing h1{font-family:Norwester,sans-serif;font-weight:400;font-size:4rem;color:#fff}.landing .landing-page{-webkit-box-align:center;-ms-flex-align:center;align-items:center;position:fixed;width:100vw;height:100vh;background:url("/images/ricardo-gomez-angel-215895.png");background-size:cover;background-repeat:no-repeat;background-position:50% 50%;z-index:-1}.landing .centered,.landing .landing-page{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.landing .centered{-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:start;-ms-flex-align:start;align-items:flex-start}.landing .bg-overlay{position:absolute;background-color:rgba(0,0,0,.5);top:0;left:0}.landing .bg,.landing .bg-overlay{width:100vw;height:100vh;z-index:-1}.landing .bg{position:fixed;background:url("/images/ricardo-gomez-angel-215895.png");background-size:cover;background-repeat:no-repeat;background-position:50% 50%}.landing .logo{max-width:400px;padding-right:1rem;border-right:4px solid blue}.landing p{color:#fff;font-size:1.4rem}.landing #learn-button{background:url("/images/learn-button.png")}.landing #explore-button{background:url("/images/explore-button.png")}.landing #engage-button{background:url("/images/engage-button.png")}.landing ul{list-style:none;margin:0;padding:0;display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-pack:distribute;justify-content:space-around}.landing ul .middle-item{margin-left:2rem;margin-right:2rem}.landing ul li{max-width:300px;min-height:300px;border-radius:10px}.landing ul li a{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;padding:2rem}.landing ul li a h2{-webkit-box-flex:1;-ms-flex:1 1 30%;flex:1 1 30%;font-size:1.7rem;margin-bottom:1rem;font-family:Norwester,sans-serif;color:#fff}.landing ul li a p{-webkit-box-flex:1;-ms-flex:1 1 50%;flex:1 1 50%;font-size:.9rem;color:#000}.layer-checkbox{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding-top:10px;padding-bottom:10px;margin:0;cursor:pointer;-webkit-transition:background-color .5s;transition:background-color .5s}.layer-checkbox p{margin:0;padding-left:3rem;padding-right:3rem}.layer-list{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;border:1px solid hsla(0,0%,100%,.4)}.layer-list h1,.layer-list h2{padding-left:1rem;cursor:pointer}.lists-enter{opacity:.01;height:0}.lists-enter.lists-enter-active{scale:1;opacity:1;-webkit-transition:all .5s ease-in;transition:all .5s ease-in}.lists-leave{opacity:1;height:auto}.lists-leave.lists-leave-active{opacity:.01;height:0;-webkit-transition:all .5s ease-out;transition:all .5s ease-out}.card{color:#fff;height:30vh;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin:0;padding:0;background-color:#551a8b;-webkit-transition:opacity .2s,width 1s,height 1s,top 1s,left 1s;transition:opacity .2s,width 1s,height 1s,top 1s,left 1s}.card h1,.card p{color:#fff;text-align:center}.card .card-content{padding:0 2rem;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.card .column{-webkit-box-orient:vertical;-ms-flex-direction:column;flex-direction:column}.card .column,.card .row{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-direction:normal}.card .row{-webkit-box-orient:horizontal;-ms-flex-direction:row;flex-direction:row}.card button{border:none;color:#fff;background:transparent;font-size:12pt}.card button:hover{background-color:#fff;color:#551a8b}.card .card-close-btn{position:absolute;top:5px;left:5px}.card-hover:hover{background-color:#fff;color:#551a8b}.card-hover:hover h1{color:#551a8b}.card-list{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;margin:0;padding:0}.project-panel{position:absolute;top:0;left:0;background-color:#292929;width:100%;height:100%}.project-panel h1,.project-panel h2,.project-panel p{color:#d3d3d3;padding:1rem}.project-panel .project-panel-back-btn{position:absolute;color:#fff;background:transparent;font-size:12pt;border:none}.link{cursor:pointer}.loading-screen{position:fixed;top:0;left:0;background-color:rgba(0,0,0,.5);width:100vw;height:100vh;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.loading-screen .loader,.loading-screen .loader:after,.loading-screen .loader:before{border-radius:50%;width:2.5em;height:2.5em;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation:load7 1.8s infinite ease-in-out;animation:load7 1.8s infinite ease-in-out}.loading-screen .loader{color:#fff;font-size:10px;margin:80px auto;position:relative;text-indent:-9999em;-webkit-transform:translateZ(0);transform:translateZ(0);-webkit-animation-delay:-.16s;animation-delay:-.16s}.loading-screen .loader:before{left:-3.5em;-webkit-animation-delay:-.32s;animation-delay:-.32s}.loading-screen .loader:after{left:3.5em}.loading-screen .loader:after,.loading-screen .loader:before{content:\'\';position:absolute;top:0}@-webkit-keyframes load7{0%,80%,to{box-shadow:0 2.5em 0 -1.3em}40%{box-shadow:0 2.5em 0 0}}@keyframes load7{0%,80%,to{box-shadow:0 2.5em 0 -1.3em}40%{box-shadow:0 2.5em 0 0}}.project-list{height:auto;padding:0;margin:0;color:#fff}.project-list h1,.project-list h2,.project-list h3,.project-list h4,.project-list p{color:#fff}.project-list li{cursor:pointer;-webkit-transition:all .3s;transition:all .3s;font-size:.9rem;list-style:none;margin:.5rem;padding:.5rem;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.project-list li h3{color:#fff;font-size:1rem;margin:0;margin-top:10px}.project-list li p{color:#fff;-ms-flex-preferred-size:50%;flex-basis:50%;font-size:.8rem}.project-list li:hover{background-color:#50e3c2;color:#000}.project-list li:hover h3,.project-list li:hover p{color:#000}.add-item-form{width:100%;height:100%;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;position:fixed;top:0;left:0;background:transparent}.add-item-form,.add-item-form form{display:-webkit-box;display:-ms-flexbox;display:flex}.add-item-form form{background-color:#000;padding:1rem;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.add-item-form input{height:1.4rem;font-size:1rem;border:none;padding-left:.5rem}.add-item-form label{color:#fff;margin-top:1rem;margin-bottom:3px;font-size:1rem}.add-item-form select{border:none;border-radius:0;font-size:.8rem;height:1.4rem;margin:3px 0;max-width:300px}.add-item-form .row button{width:50%;padding:0;height:30px;border:none;background-color:#000;color:#fff;-webkit-transition:all .5s;transition:all .5s}.add-item-form .row button:hover{background-color:#fff;color:#000}.impact-container{position:fixed;overflow-y:scroll;z-index:100;height:100vh;width:100vw;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-transition:all .5s ease-in-out;transition:all .5s ease-in-out}.impact-container,.impact-container.open{display:-webkit-box;display:-ms-flexbox;display:flex}.impact-container.open{opacity:1;visibility:visible}.impact-container.closed{visibility:none;opacity:0;pointer-events:none}.impact{position:absolute;background-color:#046380;width:80vw;top:100px;-webkit-transition:all .5s ease-in-out;transition:all .5s ease-in-out;color:#fff}.impact .light-button{float:right;width:25%;margin:1rem}.impact .impact-content{padding:1rem}.impact .back-button{position:absolute;top:0;right:0;margin:1rem}.impact.open{opacity:1;visibility:visible;margin-top:0}.impact.closed{opacity:0;visibility:hidden;pointer-events:none;margin-top:100px}.impact h1,.impact h2,.impact h3,.impact p{color:#fff}.impact .impact-list{padding:0;margin:0}.impact .impact-list .impact-item{background-color:#efecca;position:relative;list-style:none;padding:.5rem;margin:.5rem 0;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.impact .impact-list .impact-item button{position:absolute;top:0;right:0}.impact .impact-list .impact-item input{width:30px}.impact .impact-list .impact-item>div{-ms-flex-preferred-size:50%;flex-basis:50%;padding:.3rem}.impact .impact-list .impact-item h3,.impact .impact-list .impact-item p,.impact .impact-list .impact-item span{color:#046380}.map-banner{position:fixed;overflow-y:auto;background-color:#046380;color:#efecca;bottom:0;height:40vh;width:100%;opacity:1;-webkit-transition:height .3s ease-in-out,opacity .3s ease-in-out;transition:height .3s ease-in-out,opacity .3s ease-in-out;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;z-index:100}.map-banner button{position:absolute;left:45%;top:0}.map-banner .map-banner-content{padding:1rem}.map-banner h1,.map-banner h2,.map-banner h3,.map-banner h4,.map-banner p{color:#efecca}.map-banner h2{font-size:1.2rem}.map-banner h3{font-size:1.1rem}.map-banner p{font-size:.9rem}.map-banner .back-button{position:absolute;right:0;top:0;margin:1rem}.map-banner.closed{height:0;opacity:0}.map-banner.expanded{height:100vh}.back-button{cursor:pointer;height:30px;width:30px;margin:0;box-sizing:border-box;line-height:30px;display:inline-block;z-index:100}.back-button:after,.back-button:before{-webkit-transform:rotate(-45deg);transform:rotate(-45deg);content:\'\';position:absolute;top:50%;left:50%;margin-top:-1px;margin-left:-15px;display:block;height:2px;width:30px;background-color:#074c00;-webkit-transition:all .25s ease-out;transition:all .25s ease-out}.back-button:after{-webkit-transform:rotate(45deg);transform:rotate(45deg)}.back-button:hover:after,.back-button:hover:before{-webkit-transform:rotate(0deg);transform:rotate(0deg)}.Select{position:relative}.Select,.Select div,.Select input,.Select span{box-sizing:border-box}.Select.is-disabled>.Select-control{background-color:#f9f9f9}.Select.is-disabled>.Select-control:hover{box-shadow:none}.Select.is-disabled .Select-arrow-zone{cursor:default;pointer-events:none}.Select-control{background-color:#fff;border-color:#d9d9d9 #ccc #b3b3b3;border-radius:4px;border:1px solid #ccc;color:#333;cursor:default;display:table;border-spacing:0;border-collapse:separate;height:36px;outline:none;overflow:hidden;position:relative;width:100%}.Select-control:hover{box-shadow:0 1px 0 rgba(0,0,0,.06)}.Select-control .Select-input:focus{outline:none}.is-searchable.is-open>.Select-control{cursor:text}.is-open>.Select-control{border-bottom-right-radius:0;border-bottom-left-radius:0;background:#fff;border-color:#b3b3b3 #ccc #d9d9d9}.is-open>.Select-control>.Select-arrow{border-color:transparent transparent #999;border-width:0 5px 5px}.is-searchable.is-focused:not(.is-open)>.Select-control{cursor:text}.is-focused:not(.is-open)>.Select-control{border-color:#08c #0099e6 #0099e6;box-shadow:inset 0 1px 2px rgba(0,0,0,.1),0 0 5px -1px fade(#08c,50%)}.Select--single>.Select-control .Select-value,.Select-placeholder{bottom:0;color:#aaa;left:0;line-height:34px;padding-left:10px;padding-right:10px;position:absolute;right:0;top:0;max-width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.has-value.is-pseudo-focused.Select--single>.Select-control .Select-value .Select-value-label,.has-value.Select--single>.Select-control .Select-value .Select-value-label{color:#333}.has-value.is-pseudo-focused.Select--single>.Select-control .Select-value a.Select-value-label,.has-value.Select--single>.Select-control .Select-value a.Select-value-label{cursor:pointer;text-decoration:none}.has-value.is-pseudo-focused.Select--single>.Select-control .Select-value a.Select-value-label:focus,.has-value.is-pseudo-focused.Select--single>.Select-control .Select-value a.Select-value-label:hover,.has-value.Select--single>.Select-control .Select-value a.Select-value-label:focus,.has-value.Select--single>.Select-control .Select-value a.Select-value-label:hover{color:#08c;outline:none;text-decoration:underline}.Select-input{height:34px;padding-left:10px;padding-right:10px;vertical-align:middle}.Select-input>input{background:none transparent;border:0 none;box-shadow:none;cursor:default;display:inline-block;font-family:inherit;font-size:inherit;margin:0;outline:none;line-height:14px;padding:8px 0 12px;-webkit-appearance:none}.is-focused .Select-input>input{cursor:text}.has-value.is-pseudo-focused .Select-input{opacity:0}.Select-control:not(.is-searchable)>.Select-input{outline:none}.Select-loading-zone{cursor:pointer;display:table-cell;text-align:center}.Select-loading,.Select-loading-zone{position:relative;vertical-align:middle;width:16px}.Select-loading{-webkit-animation:Select-animation-spin .4s infinite linear;animation:Select-animation-spin .4s infinite linear;height:16px;box-sizing:border-box;border-radius:50%;border:2px solid #ccc;border-right-color:#333;display:inline-block}.Select-clear-zone{-webkit-animation:Select-animation-fadeIn .2s;animation:Select-animation-fadeIn .2s;color:#999;cursor:pointer;display:table-cell;position:relative;text-align:center;vertical-align:middle;width:17px}.Select-clear-zone:hover{color:#d0021b}.Select-clear{display:inline-block;font-size:18px;line-height:1}.Select--multi .Select-clear-zone{width:17px}.Select--multi .Select-multi-value-wrapper{display:inline-block}.Select .Select-aria-only{display:inline-block;height:1px;width:1px;margin:-1px;clip:rect(0,0,0,0);overflow:hidden}.Select-arrow-zone{cursor:pointer;display:table-cell;position:relative;text-align:center;vertical-align:middle;width:25px;padding-right:5px}.Select-arrow{border-color:#999 transparent transparent;border-style:solid;border-width:5px 5px 2.5px;display:inline-block;height:0;width:0}.is-open .Select-arrow,.Select-arrow-zone:hover>.Select-arrow{border-top-color:#666}@-webkit-keyframes Select-animation-fadeIn{0%{opacity:0}to{opacity:1}}@keyframes Select-animation-fadeIn{0%{opacity:0}to{opacity:1}}.Select-menu-outer{border-bottom-right-radius:4px;border-bottom-left-radius:4px;background-color:#fff;border:1px solid #ccc;border-top-color:#e6e6e6;box-shadow:0 1px 0 rgba(0,0,0,.06);box-sizing:border-box;margin-top:-1px;max-height:200px;position:absolute;top:100%;width:100%;z-index:1000;-webkit-overflow-scrolling:touch}.Select-menu{max-height:198px;overflow-y:auto}.Select-option{box-sizing:border-box;background-color:#fff;color:#666;cursor:pointer;display:block;padding:8px 10px}.Select-option:last-child{border-bottom-right-radius:4px;border-bottom-left-radius:4px}.Select-option.is-selected{background-color:#f5faff;color:#333}.Select-option.is-focused{background-color:#f2f9fc;color:#333}.Select-option.is-disabled{color:#ccc;cursor:default}.Select-noresults{box-sizing:border-box;color:#999;cursor:default;display:block;padding:8px 10px}.Select--multi .Select-input{vertical-align:middle;margin-left:10px;padding:0}.Select--multi.has-value .Select-input{margin-left:5px}.Select--multi .Select-value{background-color:#f2f9fc;border-radius:2px;border:1px solid #c9e6f2;color:#08c;display:inline-block;font-size:.6rem;margin-left:5px;margin-top:5px;vertical-align:top}.Select--multi .Select-value-icon,.Select--multi .Select-value-label{display:inline-block;vertical-align:middle}.Select--multi .Select-value-label{border-bottom-right-radius:2px;border-top-right-radius:2px;cursor:default;padding:2px 5px}.Select--multi a.Select-value-label{color:#08c;cursor:pointer;text-decoration:none}.Select--multi a.Select-value-label:hover{text-decoration:underline}.Select--multi .Select-value-icon{cursor:pointer;border-bottom-left-radius:2px;border-top-left-radius:2px;border-right:1px solid #c9e6f2;padding:1px 5px 3px}.Select--multi .Select-value-icon:focus,.Select--multi .Select-value-icon:hover{background-color:#ddeff7;color:#0077b3}.Select--multi .Select-value-icon:active{background-color:#c9e6f2}.Select--multi.is-disabled .Select-value{background-color:#fcfcfc;border:1px solid #e3e3e3;color:#333}.Select--multi.is-disabled .Select-value-icon{cursor:not-allowed;border-right:1px solid #e3e3e3}.Select--multi.is-disabled .Select-value-icon:active,.Select--multi.is-disabled .Select-value-icon:focus,.Select--multi.is-disabled .Select-value-icon:hover{background-color:#fcfcfc}@keyframes Select-animation-spin{to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes Select-animation-spin{to{-webkit-transform:rotate(1turn)}}.searchbar{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:30px}.searchbar input{background-color:#046380;border:none;height:100%;color:#efecca}.searchbar .input-bar{display:block;height:1px;width:0;background-color:#efecca;-webkit-transition:width .2s ease-in-out;transition:width .2s ease-in-out}.searchbar input:focus{outline:none}.searchbar input:focus~.input-bar{width:100%}.categories-list{padding:1rem 0}.categories-list .intro-text{padding:0 1rem}.categories-list h1,.categories-list h2,.categories-list h3,.categories-list h4,.categories-list p{color:#fff}.categories-list .category .category-title{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:.5rem 1rem}.categories-list .category .category-title:hover{background-color:#50e3c2}.categories-list .category .category-title h3,.categories-list .category .category-title p{margin:0}.categories-list .category .category-title h3{font-family:Raleway-light;font-size:.9rem;color:#fff}.categories-list .category .category-title img{width:12px;height:12px}.categories-list .category.active .category-title{background-color:#50e3c2}.categories-list .category.active .category-title h3,.categories-list .category.active .category-title p{color:#fff}.categories-list .category ul{padding:0 1rem}.categories-list .category li{padding:.2rem 1rem;color:#fff;font-size:.8rem}.categories-list .category li:hover{background-color:#50e3c2}.categories-list .category li.active{color:#000}.categories-list ul{padding:0;list-style:none;cursor:pointer}.project-details{margin-top:20px;position:relative}.project-details h1,.project-details h2,.project-details h3,.project-details h4,.project-details p{color:#fff}.project-details .title{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;padding:0 1rem}.project-details .back-button{position:relative}.project-details .content{padding:0 1rem}.project-details .content h4{font-size:.9rem}.project-details .content p{font-size:.8rem}.explore-page .bg-img{position:absolute;top:0;left:0;right:0;bottom:0;background:url("/images/marta-reis-46688.png");background-size:cover;background-position:50% 50%;background-repeat:no-repeat}.explore-page .bg-img-overlay{position:absolute;top:0;left:0;right:0;bottom:0;background:-webkit-linear-gradient(45deg,#0f5284,#021700);background:linear-gradient(45deg,#0f5284,#021700)}.explore-page .explore-content{position:absolute;top:60px;left:0;right:0;bottom:0}.explore-page .explore-content.col-2{display:-webkit-box;display:-ms-flexbox;display:flex}.explore-page .explore-content.col-2 .map-container{-webkit-box-flex:2;-ms-flex:2 1 70%;flex:2 1 70%;height:100%}.explore-page .explore-content.col-2 .sidebar{-webkit-box-flex:1;-ms-flex:1 1 30%;flex:1 1 30%;background-color:rgba(30,30,30,.5);overflow-y:auto}.full-page-absolute{position:absolute}.full-page-absolute,.full-page-fixed{top:0;left:0;width:100vw;height:100vh}.full-page-fixed{position:fixed}.menu{outline:none}.menu .hamburger-inner,.menu .hamburger-inner:after,.menu .hamburger-inner:before{background-color:#fff}.loading-overlay{position:fixed;top:0;left:0;width:100vw;height:100vh;z-index:100;background-color:rgba(30,30,30,.5)}.loading-overlay.hidden{visibility:hidden}.loading-overlay body{background:#292b37}.loading-overlay div{position:relative;width:70px;height:34px;margin:50vh auto;-webkit-transform:scale(1.3);transform:scale(1.3)}.loading-overlay p,.loading-overlay span{motion-path:path("M67.3,17.8c0-9.3-4.8-14.5-13.8-14.5C41.9,3.2,35.7,17,35.7,17s-6.2,13.8-17.8,13.8C10,30.8,4,25.5,4,17.7 C4, 9.6, 10, 3.2, 17.8, 3.2C29.4, 3.2, 35.7, 17, 35.7, 17s6.2, 13.8, 17.8, 13.8C61.4, 30.8, 67.3, 24.8, 67.3, 17.8z");position:absolute}.loading-overlay span{color:#fff;font-size:12px;-webkit-animation:path 1.4s linear infinite;animation:path 1.4s linear infinite}.loading-overlay p{width:5px;height:5px;border-radius:50%;opacity:0;motion-rotation:auto 45deg;background:#fff;-webkit-animation:path 1.4s linear infinite,dot linear forwards;animation:path 1.4s linear infinite,dot linear forwards}.loading-overlay p:nth-of-type(1){background:#bf4040;-webkit-animation-delay:15ms;animation-delay:15ms}.loading-overlay p:nth-of-type(2){background:#bf5540;-webkit-animation-delay:.03s;animation-delay:.03s}.loading-overlay p:nth-of-type(3){background:#bf6a40;-webkit-animation-delay:45ms;animation-delay:45ms}.loading-overlay p:nth-of-type(4){background:#bf8040;-webkit-animation-delay:.06s;animation-delay:.06s}.loading-overlay p:nth-of-type(5){background:#bf9540;-webkit-animation-delay:75ms;animation-delay:75ms}.loading-overlay p:nth-of-type(6){background:#bfaa40;-webkit-animation-delay:.09s;animation-delay:.09s}.loading-overlay p:nth-of-type(7){background:#bfbf40;-webkit-animation-delay:.105s;animation-delay:.105s}.loading-overlay p:nth-of-type(8){background:#aabf40;-webkit-animation-delay:.12s;animation-delay:.12s}.loading-overlay p:nth-of-type(9){background:#95bf40;-webkit-animation-delay:.135s;animation-delay:.135s}.loading-overlay p:nth-of-type(10){background:#80bf40;-webkit-animation-delay:.15s;animation-delay:.15s}.loading-overlay p:nth-of-type(11){background:#6abf40;-webkit-animation-delay:.165s;animation-delay:.165s}.loading-overlay p:nth-of-type(12){background:#55bf40;-webkit-animation-delay:.18s;animation-delay:.18s}.loading-overlay p:nth-of-type(13){background:#40bf40;-webkit-animation-delay:.195s;animation-delay:.195s}.loading-overlay p:nth-of-type(14){background:#40bf55;-webkit-animation-delay:.21s;animation-delay:.21s}.loading-overlay p:nth-of-type(15){background:#40bf6a;-webkit-animation-delay:.225s;animation-delay:.225s}.loading-overlay p:nth-of-type(16){background:#40bf80;-webkit-animation-delay:.24s;animation-delay:.24s}.loading-overlay p:nth-of-type(17){background:#40bf95;-webkit-animation-delay:.255s;animation-delay:.255s}.loading-overlay p:nth-of-type(18){background:#40bfaa;-webkit-animation-delay:.27s;animation-delay:.27s}.loading-overlay p:nth-of-type(19){background:#40bfbf;-webkit-animation-delay:.285s;animation-delay:.285s}.loading-overlay p:nth-of-type(20){background:#40aabf;-webkit-animation-delay:.3s;animation-delay:.3s}.loading-overlay p:nth-of-type(21){background:#4095bf;-webkit-animation-delay:.315s;animation-delay:.315s}.loading-overlay p:nth-of-type(22){background:#4080bf;-webkit-animation-delay:.33s;animation-delay:.33s}.loading-overlay p:nth-of-type(23){background:#406abf;-webkit-animation-delay:.345s;animation-delay:.345s}.loading-overlay p:nth-of-type(24){background:#4055bf;-webkit-animation-delay:.36s;animation-delay:.36s}.loading-overlay p:nth-of-type(25){background:#4040bf;-webkit-animation-delay:.375s;animation-delay:.375s}.loading-overlay p:nth-of-type(26){background:#5540bf;-webkit-animation-delay:.39s;animation-delay:.39s}.loading-overlay p:nth-of-type(27){background:#6a40bf;-webkit-animation-delay:.405s;animation-delay:.405s}.loading-overlay p:nth-of-type(28){background:#8040bf;-webkit-animation-delay:.42s;animation-delay:.42s}.loading-overlay p:nth-of-type(29){background:#9540bf;-webkit-animation-delay:.435s;animation-delay:.435s}.loading-overlay p:nth-of-type(30){background:#aa40bf;-webkit-animation-delay:.45s;animation-delay:.45s}.loading-overlay p:nth-of-type(31){background:#bf40bf;-webkit-animation-delay:.465s;animation-delay:.465s}.loading-overlay p:nth-of-type(32){background:#bf40aa;-webkit-animation-delay:.48s;animation-delay:.48s}.loading-overlay p:nth-of-type(33){background:#bf4095;-webkit-animation-delay:.495s;animation-delay:.495s}.loading-overlay p:nth-of-type(34){background:#bf4080;-webkit-animation-delay:.51s;animation-delay:.51s}.loading-overlay p:nth-of-type(35){background:#bf406a;-webkit-animation-delay:.525s;animation-delay:.525s}@-webkit-keyframes path{to{motion-offset:100%}}@keyframes path{to{motion-offset:100%}}@-webkit-keyframes dot{to{opacity:1}}@keyframes dot{to{opacity:1}}@supports not (motion-rotation:auto){.loading-overlay body:before{content:\'Sorry! you browser not supports!\';background:#dc3b3b;padding:10px 0;text-align:center;display:block;color:#fff}}.node-list,.node-list .node{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.node-list .node{cursor:pointer;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;margin:10px;padding:0;border-radius:50%;height:20px;width:20px;margin-top:10px;background-color:#b8e986}.node-list .node:hover{opacity:.7}.node-list .node .node-inner{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.node-list .node .node-inner p{text-align:center;font-size:1rem;padding:.5rem;margin:0}.node-list .node.active{background-color:#50e3c2}.node-list .node:hover .node-circle{background-color:#ff0}.case-study-list{padding:60px 1rem 2rem;background:-webkit-linear-gradient(45deg,#85e2d4,#b5dc8f);background:linear-gradient(45deg,#85e2d4,#b5dc8f)}.case-study-list>div{position:absolute;left:0;width:100vw}.case-study-list a{padding:0;margin:0;width:100vw;height:400px;position:relative}.case-study-list a .bg-overlay{position:absolute;top:0;left:0;width:100%;height:400px;z-index:1;background:-webkit-linear-gradient(left,#1e1e1e,#021700);background:linear-gradient(90deg,#1e1e1e,#021700);opacity:.5}.case-study-list a .title{z-index:2;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.case-study-list a .card{height:400px;position:relative;background-size:cover;background-position:50% 50%;background-repeat:no-repeat;padding:2rem}.case-study-list a .card h2{font-size:1.7rem;color:#fff;letter-spacing:2pt}.case-study-list a .card p{font-size:1.3rem;color:#fff;letter-spacing:2pt}.case-study-container{background-color:#f3f2f0}.case-study-container h1{color:#fff;font-size:1.8rem;letter-spacing:2pt;margin:0}.case-study-container h2{color:#fff;font-size:1.5rem;letter-spacing:2pt;margin:0}.case-study-container p{color:#fff;font-size:1rem}.case-study-container .height-80{height:80vh!important}.case-study-container .full-height{height:100vh!important}.case-study-container .white{background-color:#fff}.case-study-container .case-study-story-list{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;list-style-type:none}.case-study-container .case-study-story-list .case-study-icon{cursor:pointer;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;margin-right:10px;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.case-study-container .case-study-story-list .case-study-icon:hover{opacity:.7}.case-study-container .case-study-story-list .case-study-icon.active p{color:#50e3c2}.case-study-container .case-study-story-list .case-study-icon img{-webkit-box-flex:0;-ms-flex:0 0 50px;flex:0 0 50px;width:50px;height:50px}.case-study-container .case-study-story-list .case-study-icon p{-webkit-box-flex:1;-ms-flex:1 1 100%;flex:1 1 100%}.case-study-container .case-study-story-list li{color:#fff;border:2px solid #074c00;border-radius:25px;margin:0 1rem;padding:.5rem 1rem;cursor:pointer;font-size:.9rem}.case-study-container .case-study-story-list li.active{background-color:#074c00;color:#fff}.case-study-container .two-column{-webkit-box-orient:horizontal;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.case-study-container .two-column,.case-study-container .two-column .left-col{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-direction:normal;height:100%}.case-study-container .two-column .left-col{-webkit-box-orient:vertical;-ms-flex-direction:column;flex-direction:column;-webkit-box-flex:1;-ms-flex:1 1 30%;flex:1 1 30%;padding-right:1rem}.case-study-container .two-column .right-col{padding-left:1rem;-webkit-box-flex:1;-ms-flex:1 0 70%;flex:1 0 70%;height:100%;position:relative}.case-study-container .case-study-section,.case-study-container .case-study-section-dark{height:60vh;position:relative;padding:4rem}.case-study-container .case-study-section-dark{background-color:#141414}.case-study-container .case-study-section-dark h1,.case-study-container .case-study-section-dark h2,.case-study-container .case-study-section-dark h3,.case-study-container .case-study-section-dark p{color:#fff}.case-study-container .story-section{-webkit-box-orient:vertical;-ms-flex-direction:column;flex-direction:column;padding:0!important}.case-study-container .story-section,.case-study-container .story-section .row{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-direction:normal}.case-study-container .story-section .row{-webkit-box-orient:horizontal;-ms-flex-direction:row;flex-direction:row}.case-study-container .story-section .center{-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.case-study-container .story-section .row-20{-webkit-box-flex:0;-ms-flex:0 0 20%;flex:0 0 20%}.case-study-container .story-section .row-80{-webkit-box-flex:0;-ms-flex:0 0 80%;flex:0 0 80%}.case-study-container .story-section .col-20{-webkit-box-flex:0;-ms-flex:0 0 20%;flex:0 0 20%}.case-study-container .story-section .col-80{-webkit-box-flex:0;-ms-flex:0 1 80%;flex:0 1 80%}.case-study-container .story-section .top{-webkit-box-flex:0;-ms-flex:0 0 50%;flex:0 0 50%;padding:4rem 4rem 0;position:relative;z-index:2;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.case-study-container .story-section .bottom{-webkit-box-flex:0;-ms-flex:0 0 50%;flex:0 0 50%;position:relative;z-index:2}.case-study-container .story-section .story-header h1{font-family:Norwester,sans-serif;text-align:right}.case-study-container .story-section .story-header p{margin-left:10px}.case-study-container .story-section .node-text{position:relative;padding:2rem;height:80%;borderRadius:10px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border-radius:10px}.case-study-container .story-section .node-text .node-blurred-bg{position:absolute;top:0;left:0;right:0;bottom:0;background-color:hsla(0,0%,85%,.4);z-index:-1;-webkit-filter:blur(5px);filter:blur(5px)}.case-study-container .story-section .node-text .arrow{cursor:pointer;margin:1rem;height:50px}.case-study-container .story-section .node-text h2{font-family:Norwester,sans-serif}.case-study-container .story-section .node-text p{font-size:.9rem}.case-study-container .flex-full-center{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.case-study-container .centered{max-width:1200px;margin:0 auto}.case-study-container .bg-overlay{position:absolute;top:0;left:0;width:100%;height:100%;background:-webkit-linear-gradient(45deg,#0f5284,#021700);background:linear-gradient(45deg,#0f5284,#021700);opacity:.7;z-index:1}.case-study-container .case-study-story-layout{width:100%;height:100%;-ms-flex-direction:column;flex-direction:column;position:relative;z-index:2}.case-study-container .case-study-story-intro,.case-study-container .case-study-story-layout{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal}.case-study-container .case-study-story-intro{-webkit-box-flex:0;-ms-flex:0 0 50%;flex:0 0 50%;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.case-study-container .case-study-story-intro h1{font-size:1.8rem;letter-spacing:2pt;margin:0;padding:0}.case-study-container .video-wrapper{position:relative;padding-bottom:56.25%;padding-top:25px;height:0;width:100%}.case-study-container .video-wrapper iframe{position:absolute;top:0;left:0;width:100%;height:100%;max-height:60vh}.case-study-container .case-study-story{padding:0;margin:0;height:100%;width:100%;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-flex:0;-ms-flex:0 0 50%;flex:0 0 50%}.case-study-container .case-study-story .case-study-map-container{width:100%;height:100%;border:4px solid #074c00;position:relative}.case-study-container .case-study-story .floating-text{position:absolute;max-width:400px}.case-study-container .case-study-story .floating-text p{font-family:Montserrat,sans-serif;font-weight:900;color:#000}.case-study-container .case-study-story .floating-image{position:absolute;bottom:10px;left:40px;max-width:200px}.case-study-container .case-study-story .case-study-popup{max-width:500px;position:absolute;padding:1rem;z-index:100;background-color:#074c00;box-shadow:3px 3px 5px 0 rgba(50,50,50,.75);border-radius:25px;pointer-events:none}.case-study-container .case-study-story .case-study-popup .property-field{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-ms-flex-pack:distribute;justify-content:space-around}.case-study-container .case-study-story .case-study-popup .property-field h4{-webkit-box-flex:1;-ms-flex:1 1 50%;flex:1 1 50%;font-size:.9rem}.case-study-container .case-study-story .case-study-popup .property-field p{text-align:right;-webkit-box-flex:1;-ms-flex:1 1 50%;flex:1 1 50%;font-size:.9rem}.case-study-container .case-study-story .case-study-popup h1,.case-study-container .case-study-story .case-study-popup h2,.case-study-container .case-study-story .case-study-popup h3,.case-study-container .case-study-story .case-study-popup h4,.case-study-container .case-study-story .case-study-popup p{color:#fff}.case-study-container .case-study-story .case-study-popup p{font-size:9pt}@font-face{font-family:Norwester;src:url('+n(92)+");src:url("+n(92)+'?#iefix) format("embedded-opentype"),url('+n(198)+') format("woff"),url('+n(197)+') format("truetype")}.Select-option{font-size:.8rem}html{box-sizing:border-box}*,:after,:before{box-sizing:inherit}body{font-family:Montserrat,sans-serif;background:#f3f2f0;padding:0;margin:0;-webkit-font-smoothing:antialiased;-moz-font-smoothing:antialiased;-o-font-smoothing:antialiased}a{color:#96d7ff;text-decoration:none;padding:1rem}button{cursor:pointer}h1{font-size:1.2rem}h2{font-size:1rem}h3{font-size:1.1rem}h1,h2,h3,h4{font-family:Norwester,sans-serif}h1,h2,h3,p{color:#021700}.blurred{-webkit-transition:-webkit-filter .5s;transition:-webkit-filter .5s;transition:filter .5s;transition:filter .5s,-webkit-filter .5s;-webkit-filter:blur(3px);filter:blur(3px);-moz-filter:blur(3px)}.light-button{background-color:#efecca;color:#046380;height:35px;border:none;-webkit-transition:background-color .3s ease-in-out;transition:background-color .3s ease-in-out}.light-button:hover{background-color:#fff}.section-dark{background-color:#0f5284}.section-dark>h1,.section-dark>h2,.section-dark>h3,.section-dark>p{color:#fff}.section-light{background-color:#f3f2f0}.section-light>h1,.section-light>h2,.section-light>h3,.section-light>p{color:#021700}.min-full-height{min-height:100vh}.border-blue-4{border:4px solid #0f5284}.border-primary{border:4px solid #074c00}',""]);
},function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t];n[2]?e.push("@media "+n[2]+"{"+n[1]+"}"):e.push(n[1])}return e.join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},o=0;o<this.length;o++){var i=this[o][0];"number"==typeof i&&(r[i]=!0)}for(o=0;o<t.length;o++){var a=t[o];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),e.push(a))}},e}},function(e,t,n){var r,o;!function(){function i(e){return e&&(e.ownerDocument||e.document||e).documentElement}function a(e){return e&&(e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView)}function s(e,t){return t>e?-1:e>t?1:e>=t?0:NaN}function u(e){return null===e?NaN:+e}function l(e){return!isNaN(e)}function c(e){return{left:function(t,n,r,o){for(arguments.length<3&&(r=0),arguments.length<4&&(o=t.length);o>r;){var i=r+o>>>1;e(t[i],n)<0?r=i+1:o=i}return r},right:function(t,n,r,o){for(arguments.length<3&&(r=0),arguments.length<4&&(o=t.length);o>r;){var i=r+o>>>1;e(t[i],n)>0?o=i:r=i+1}return r}}}function p(e){return e.length}function f(e){for(var t=1;e*t%1;)t*=10;return t}function h(e,t){for(var n in t)Object.defineProperty(e.prototype,n,{value:t[n],enumerable:!1})}function d(){this._=Object.create(null)}function m(e){return(e+="")===Sa||e[0]===Ca?Ca+e:e}function y(e){return(e+="")[0]===Ca?e.slice(1):e}function g(e){return m(e)in this._}function v(e){return(e=m(e))in this._&&delete this._[e]}function b(){var e=[];for(var t in this._)e.push(y(t));return e}function _(){var e=0;for(var t in this._)++e;return e}function w(){for(var e in this._)return!1;return!0}function x(){this._=Object.create(null)}function k(e){return e}function E(e,t,n){return function(){var r=n.apply(t,arguments);return r===t?e:r}}function T(e,t){if(t in e)return t;t=t.charAt(0).toUpperCase()+t.slice(1);for(var n=0,r=Ma.length;r>n;++n){var o=Ma[n]+t;if(o in e)return o}}function S(){}function C(){}function M(e){function t(){for(var t,r=n,o=-1,i=r.length;++o<i;)(t=r[o].on)&&t.apply(this,arguments);return e}var n=[],r=new d;return t.on=function(t,o){var i,a=r.get(t);return arguments.length<2?a&&a.on:(a&&(a.on=null,n=n.slice(0,i=n.indexOf(a)).concat(n.slice(i+1)),r.remove(t)),o&&n.push(r.set(t,{on:o})),e)},t}function P(){ha.event.preventDefault()}function A(){for(var e,t=ha.event;e=t.sourceEvent;)t=e;return t}function z(e){for(var t=new C,n=0,r=arguments.length;++n<r;)t[arguments[n]]=M(t);return t.of=function(n,r){return function(o){try{var i=o.sourceEvent=ha.event;o.target=e,ha.event=o,t[o.type].apply(n,r)}finally{ha.event=i}}},t}function R(e){return Aa(e,La),e}function O(e){return"function"==typeof e?e:function(){return za(e,this)}}function L(e){return"function"==typeof e?e:function(){return Ra(e,this)}}function D(e,t){function n(){this.removeAttribute(e)}function r(){this.removeAttributeNS(e.space,e.local)}function o(){this.setAttribute(e,t)}function i(){this.setAttributeNS(e.space,e.local,t)}function a(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}function s(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}return e=ha.ns.qualify(e),null==t?e.local?r:n:"function"==typeof t?e.local?s:a:e.local?i:o}function j(e){return e.trim().replace(/\s+/g," ")}function N(e){return new RegExp("(?:^|\\s+)"+ha.requote(e)+"(?:\\s+|$)","g")}function I(e){return(e+"").trim().split(/^|\s+/)}function F(e,t){function n(){for(var n=-1;++n<o;)e[n](this,t)}function r(){for(var n=-1,r=t.apply(this,arguments);++n<o;)e[n](this,r)}e=I(e).map(B);var o=e.length;return"function"==typeof t?r:n}function B(e){var t=N(e);return function(n,r){if(o=n.classList)return r?o.add(e):o.remove(e);var o=n.getAttribute("class")||"";r?(t.lastIndex=0,t.test(o)||n.setAttribute("class",j(o+" "+e))):n.setAttribute("class",j(o.replace(t," ")))}}function U(e,t,n){function r(){this.style.removeProperty(e)}function o(){this.style.setProperty(e,t,n)}function i(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}return null==t?r:"function"==typeof t?i:o}function V(e,t){function n(){delete this[e]}function r(){this[e]=t}function o(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}return null==t?n:"function"==typeof t?o:r}function Y(e){function t(){var t=this.ownerDocument,n=this.namespaceURI;return n===Da&&t.documentElement.namespaceURI===Da?t.createElement(e):t.createElementNS(n,e)}function n(){return this.ownerDocument.createElementNS(e.space,e.local)}return"function"==typeof e?e:(e=ha.ns.qualify(e)).local?n:t}function q(){var e=this.parentNode;e&&e.removeChild(this)}function W(e){return{__data__:e}}function H(e){return function(){return Oa(this,e)}}function G(e){return arguments.length||(e=s),function(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}}function Z(e,t){for(var n=0,r=e.length;r>n;n++)for(var o,i=e[n],a=0,s=i.length;s>a;a++)(o=i[a])&&t(o,a,n);return e}function X(e){return Aa(e,Na),e}function K(e){var t,n;return function(r,o,i){var a,s=e[i].update,u=s.length;for(i!=n&&(n=i,t=0),o>=t&&(t=o+1);!(a=s[t])&&++t<u;);return a}}function J(e,t,n){function r(){var t=this[a];t&&(this.removeEventListener(e,t,t.$),delete this[a])}function o(){var o=u(t,ma(arguments));r.call(this),this.addEventListener(e,this[a]=o,o.$=n),o._=t}function i(){var t,n=new RegExp("^__on([^.]+)"+ha.requote(e)+"$");for(var r in this)if(t=r.match(n)){var o=this[r];this.removeEventListener(t[1],o,o.$),delete this[r]}}var a="__on"+e,s=e.indexOf("."),u=Q;s>0&&(e=e.slice(0,s));var l=Ia.get(e);return l&&(e=l,u=$),s?t?o:r:t?S:i}function Q(e,t){return function(n){var r=ha.event;ha.event=n,t[0]=this.__data__;try{e.apply(this,t)}finally{ha.event=r}}}function $(e,t){var n=Q(e,t);return function(e){var t=this,r=e.relatedTarget;r&&(r===t||8&r.compareDocumentPosition(t))||n.call(t,e)}}function ee(e){var t=".dragsuppress-"+ ++Ba,n="click"+t,r=ha.select(a(e)).on("touchmove"+t,P).on("dragstart"+t,P).on("selectstart"+t,P);if(null==Fa&&(Fa="onselectstart"in e?!1:T(e.style,"userSelect")),Fa){var o=i(e).style,s=o[Fa];o[Fa]="none"}return function(e){if(r.on(t,null),Fa&&(o[Fa]=s),e){var i=function(){r.on(n,null)};r.on(n,function(){P(),i()},!0),setTimeout(i,0)}}}function te(e,t){t.changedTouches&&(t=t.changedTouches[0]);var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();if(0>Ua){var o=a(e);if(o.scrollX||o.scrollY){n=ha.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var i=n[0][0].getScreenCTM();Ua=!(i.f||i.e),n.remove()}}return Ua?(r.x=t.pageX,r.y=t.pageY):(r.x=t.clientX,r.y=t.clientY),r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}var s=e.getBoundingClientRect();return[t.clientX-s.left-e.clientLeft,t.clientY-s.top-e.clientTop]}function ne(){return ha.event.changedTouches[0].identifier}function re(e){return e>0?1:0>e?-1:0}function oe(e,t,n){return(t[0]-e[0])*(n[1]-e[1])-(t[1]-e[1])*(n[0]-e[0])}function ie(e){return e>1?0:-1>e?qa:Math.acos(e)}function ae(e){return e>1?Ga:-1>e?-Ga:Math.asin(e)}function se(e){return((e=Math.exp(e))-1/e)/2}function ue(e){return((e=Math.exp(e))+1/e)/2}function le(e){return((e=Math.exp(2*e))-1)/(e+1)}function ce(e){return(e=Math.sin(e/2))*e}function pe(){}function fe(e,t,n){return this instanceof fe?(this.h=+e,this.s=+t,void(this.l=+n)):arguments.length<2?e instanceof fe?new fe(e.h,e.s,e.l):Se(""+e,Ce,fe):new fe(e,t,n)}function he(e,t,n){function r(e){return e>360?e-=360:0>e&&(e+=360),60>e?i+(a-i)*e/60:180>e?a:240>e?i+(a-i)*(240-e)/60:i}function o(e){return Math.round(255*r(e))}var i,a;return e=isNaN(e)?0:(e%=360)<0?e+360:e,t=isNaN(t)?0:0>t?0:t>1?1:t,n=0>n?0:n>1?1:n,a=.5>=n?n*(1+t):n+t-n*t,i=2*n-a,new xe(o(e+120),o(e),o(e-120))}function de(e,t,n){return this instanceof de?(this.h=+e,this.c=+t,void(this.l=+n)):arguments.length<2?e instanceof de?new de(e.h,e.c,e.l):e instanceof ye?ve(e.l,e.a,e.b):ve((e=Me((e=ha.rgb(e)).r,e.g,e.b)).l,e.a,e.b):new de(e,t,n)}function me(e,t,n){return isNaN(e)&&(e=0),isNaN(t)&&(t=0),new ye(n,Math.cos(e*=Za)*t,Math.sin(e)*t)}function ye(e,t,n){return this instanceof ye?(this.l=+e,this.a=+t,void(this.b=+n)):arguments.length<2?e instanceof ye?new ye(e.l,e.a,e.b):e instanceof de?me(e.h,e.c,e.l):Me((e=xe(e)).r,e.g,e.b):new ye(e,t,n)}function ge(e,t,n){var r=(e+16)/116,o=r+t/500,i=r-n/200;return o=be(o)*is,r=be(r)*as,i=be(i)*ss,new xe(we(3.2404542*o-1.5371385*r-.4985314*i),we(-.969266*o+1.8760108*r+.041556*i),we(.0556434*o-.2040259*r+1.0572252*i))}function ve(e,t,n){return e>0?new de(Math.atan2(n,t)*Xa,Math.sqrt(t*t+n*n),e):new de(NaN,NaN,e)}function be(e){return e>.206893034?e*e*e:(e-4/29)/7.787037}function _e(e){return e>.008856?Math.pow(e,1/3):7.787037*e+4/29}function we(e){return Math.round(255*(.00304>=e?12.92*e:1.055*Math.pow(e,1/2.4)-.055))}function xe(e,t,n){return this instanceof xe?(this.r=~~e,this.g=~~t,void(this.b=~~n)):arguments.length<2?e instanceof xe?new xe(e.r,e.g,e.b):Se(""+e,xe,he):new xe(e,t,n)}function ke(e){return new xe(e>>16,e>>8&255,255&e)}function Ee(e){return ke(e)+""}function Te(e){return 16>e?"0"+Math.max(0,e).toString(16):Math.min(255,e).toString(16)}function Se(e,t,n){var r,o,i,a=0,s=0,u=0;if(r=/([a-z]+)\((.*)\)/.exec(e=e.toLowerCase()))switch(o=r[2].split(","),r[1]){case"hsl":return n(parseFloat(o[0]),parseFloat(o[1])/100,parseFloat(o[2])/100);case"rgb":return t(Ae(o[0]),Ae(o[1]),Ae(o[2]))}return(i=cs.get(e))?t(i.r,i.g,i.b):(null==e||"#"!==e.charAt(0)||isNaN(i=parseInt(e.slice(1),16))||(4===e.length?(a=(3840&i)>>4,a=a>>4|a,s=240&i,s=s>>4|s,u=15&i,u=u<<4|u):7===e.length&&(a=(16711680&i)>>16,s=(65280&i)>>8,u=255&i)),t(a,s,u))}function Ce(e,t,n){var r,o,i=Math.min(e/=255,t/=255,n/=255),a=Math.max(e,t,n),s=a-i,u=(a+i)/2;return s?(o=.5>u?s/(a+i):s/(2-a-i),r=e==a?(t-n)/s+(n>t?6:0):t==a?(n-e)/s+2:(e-t)/s+4,r*=60):(r=NaN,o=u>0&&1>u?0:r),new fe(r,o,u)}function Me(e,t,n){e=Pe(e),t=Pe(t),n=Pe(n);var r=_e((.4124564*e+.3575761*t+.1804375*n)/is),o=_e((.2126729*e+.7151522*t+.072175*n)/as),i=_e((.0193339*e+.119192*t+.9503041*n)/ss);return ye(116*o-16,500*(r-o),200*(o-i))}function Pe(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function Ae(e){var t=parseFloat(e);return"%"===e.charAt(e.length-1)?Math.round(2.55*t):t}function ze(e){return"function"==typeof e?e:function(){return e}}function Re(e){return function(t,n,r){return 2===arguments.length&&"function"==typeof n&&(r=n,n=null),Oe(t,n,e,r)}}function Oe(e,t,n,r){function o(){var e,t=u.status;if(!t&&De(u)||t>=200&&300>t||304===t){try{e=n.call(i,u)}catch(r){return void a.error.call(i,r)}a.load.call(i,e)}else a.error.call(i,u)}var i={},a=ha.dispatch("beforesend","progress","load","error"),s={},u=new XMLHttpRequest,l=null;return!this.XDomainRequest||"withCredentials"in u||!/^(http(s)?:)?\/\//.test(e)||(u=new XDomainRequest),"onload"in u?u.onload=u.onerror=o:u.onreadystatechange=function(){u.readyState>3&&o()},u.onprogress=function(e){var t=ha.event;ha.event=e;try{a.progress.call(i,u)}finally{ha.event=t}},i.header=function(e,t){return e=(e+"").toLowerCase(),arguments.length<2?s[e]:(null==t?delete s[e]:s[e]=t+"",i)},i.mimeType=function(e){return arguments.length?(t=null==e?null:e+"",i):t},i.responseType=function(e){return arguments.length?(l=e,i):l},i.response=function(e){return n=e,i},["get","post"].forEach(function(e){i[e]=function(){return i.send.apply(i,[e].concat(ma(arguments)))}}),i.send=function(n,r,o){if(2===arguments.length&&"function"==typeof r&&(o=r,r=null),u.open(n,e,!0),null==t||"accept"in s||(s.accept=t+",*/*"),u.setRequestHeader)for(var c in s)u.setRequestHeader(c,s[c]);return null!=t&&u.overrideMimeType&&u.overrideMimeType(t),null!=l&&(u.responseType=l),null!=o&&i.on("error",o).on("load",function(e){o(null,e)}),a.beforesend.call(i,u),u.send(null==r?null:r),i},i.abort=function(){return u.abort(),i},ha.rebind(i,a,"on"),null==r?i:i.get(Le(r))}function Le(e){return 1===e.length?function(t,n){e(null==t?n:null)}:e}function De(e){var t=e.responseType;return t&&"text"!==t?e.response:e.responseText}function je(e,t,n){var r=arguments.length;2>r&&(t=0),3>r&&(n=Date.now());var o=n+t,i={c:e,t:o,n:null};return fs?fs.n=i:ps=i,fs=i,hs||(ds=clearTimeout(ds),hs=1,ms(Ne)),i}function Ne(){var e=Ie(),t=Fe()-e;t>24?(isFinite(t)&&(clearTimeout(ds),ds=setTimeout(Ne,t)),hs=0):(hs=1,ms(Ne))}function Ie(){for(var e=Date.now(),t=ps;t;)e>=t.t&&t.c(e-t.t)&&(t.c=null),t=t.n;return e}function Fe(){for(var e,t=ps,n=1/0;t;)t.c?(t.t<n&&(n=t.t),t=(e=t).n):t=e?e.n=t.n:ps=t.n;return fs=e,n}function Be(e,t){return t-(e?Math.ceil(Math.log(e)/Math.LN10):1)}function Ue(e,t){var n=Math.pow(10,3*Ta(8-t));return{scale:t>8?function(e){return e/n}:function(e){return e*n},symbol:e}}function Ve(e){var t=e.decimal,n=e.thousands,r=e.grouping,o=e.currency,i=r&&n?function(e,t){for(var o=e.length,i=[],a=0,s=r[0],u=0;o>0&&s>0&&(u+s+1>t&&(s=Math.max(1,t-u)),i.push(e.substring(o-=s,o+s)),!((u+=s+1)>t));)s=r[a=(a+1)%r.length];return i.reverse().join(n)}:k;return function(e){var n=gs.exec(e),r=n[1]||" ",a=n[2]||">",s=n[3]||"-",u=n[4]||"",l=n[5],c=+n[6],p=n[7],f=n[8],h=n[9],d=1,m="",y="",g=!1,v=!0;switch(f&&(f=+f.substring(1)),(l||"0"===r&&"="===a)&&(l=r="0",a="="),h){case"n":p=!0,h="g";break;case"%":d=100,y="%",h="f";break;case"p":d=100,y="%",h="r";break;case"b":case"o":case"x":case"X":"#"===u&&(m="0"+h.toLowerCase());case"c":v=!1;case"d":g=!0,f=0;break;case"s":d=-1,h="r"}"$"===u&&(m=o[0],y=o[1]),"r"!=h||f||(h="g"),null!=f&&("g"==h?f=Math.max(1,Math.min(21,f)):"e"!=h&&"f"!=h||(f=Math.max(0,Math.min(20,f)))),h=vs.get(h)||Ye;var b=l&&p;return function(e){var n=y;if(g&&e%1)return"";var o=0>e||0===e&&0>1/e?(e=-e,"-"):"-"===s?"":s;if(0>d){var u=ha.formatPrefix(e,f);e=u.scale(e),n=u.symbol+y}else e*=d;e=h(e,f);var _,w,x=e.lastIndexOf(".");if(0>x){var k=v?e.lastIndexOf("e"):-1;0>k?(_=e,w=""):(_=e.substring(0,k),w=e.substring(k))}else _=e.substring(0,x),w=t+e.substring(x+1);!l&&p&&(_=i(_,1/0));var E=m.length+_.length+w.length+(b?0:o.length),T=c>E?new Array(E=c-E+1).join(r):"";return b&&(_=i(T+_,T.length?c-w.length:1/0)),o+=m,e=_+w,("<"===a?o+e+T:">"===a?T+o+e:"^"===a?T.substring(0,E>>=1)+o+e+T.substring(E):o+(b?e:T+e))+n}}}function Ye(e){return e+""}function qe(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function We(e,t,n){function r(t){var n=e(t),r=i(n,1);return r-t>t-n?n:r}function o(n){return t(n=e(new _s(n-1)),1),n}function i(e,n){return t(e=new _s(+e),n),e}function a(e,r,i){var a=o(e),s=[];if(i>1)for(;r>a;)n(a)%i||s.push(new Date(+a)),t(a,1);else for(;r>a;)s.push(new Date(+a)),t(a,1);return s}function s(e,t,n){try{_s=qe;var r=new qe;return r._=e,a(r,t,n)}finally{_s=Date}}e.floor=e,e.round=r,e.ceil=o,e.offset=i,e.range=a;var u=e.utc=He(e);return u.floor=u,u.round=He(r),u.ceil=He(o),u.offset=He(i),u.range=s,e}function He(e){return function(t,n){try{_s=qe;var r=new qe;return r._=t,e(r,n)._}finally{_s=Date}}}function Ge(e){function t(e){function t(t){for(var n,o,i,a=[],s=-1,u=0;++s<r;)37===e.charCodeAt(s)&&(a.push(e.slice(u,s)),null!=(o=xs[n=e.charAt(++s)])&&(n=e.charAt(++s)),(i=M[n])&&(n=i(t,null==o?"e"===n?" ":"0":o)),a.push(n),u=s+1);return a.push(e.slice(u,s)),a.join("")}var r=e.length;return t.parse=function(t){var r={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},o=n(r,e,t,0);if(o!=t.length)return null;"p"in r&&(r.H=r.H%12+12*r.p);var i=null!=r.Z&&_s!==qe,a=new(i?qe:_s);return"j"in r?a.setFullYear(r.y,0,r.j):"W"in r||"U"in r?("w"in r||(r.w="W"in r?1:0),a.setFullYear(r.y,0,1),a.setFullYear(r.y,0,"W"in r?(r.w+6)%7+7*r.W-(a.getDay()+5)%7:r.w+7*r.U-(a.getDay()+6)%7)):a.setFullYear(r.y,r.m,r.d),a.setHours(r.H+(r.Z/100|0),r.M+r.Z%100,r.S,r.L),i?a._:a},t.toString=function(){return e},t}function n(e,t,n,r){for(var o,i,a,s=0,u=t.length,l=n.length;u>s;){if(r>=l)return-1;if(o=t.charCodeAt(s++),37===o){if(a=t.charAt(s++),i=P[a in xs?t.charAt(s++):a],!i||(r=i(e,n,r))<0)return-1}else if(o!=n.charCodeAt(r++))return-1}return r}function r(e,t,n){x.lastIndex=0;var r=x.exec(t.slice(n));return r?(e.w=k.get(r[0].toLowerCase()),n+r[0].length):-1}function o(e,t,n){_.lastIndex=0;var r=_.exec(t.slice(n));return r?(e.w=w.get(r[0].toLowerCase()),n+r[0].length):-1}function i(e,t,n){S.lastIndex=0;var r=S.exec(t.slice(n));return r?(e.m=C.get(r[0].toLowerCase()),n+r[0].length):-1}function a(e,t,n){E.lastIndex=0;var r=E.exec(t.slice(n));return r?(e.m=T.get(r[0].toLowerCase()),n+r[0].length):-1}function s(e,t,r){return n(e,M.c.toString(),t,r)}function u(e,t,r){return n(e,M.x.toString(),t,r)}function l(e,t,r){return n(e,M.X.toString(),t,r)}function c(e,t,n){var r=b.get(t.slice(n,n+=2).toLowerCase());return null==r?-1:(e.p=r,n)}var p=e.dateTime,f=e.date,h=e.time,d=e.periods,m=e.days,y=e.shortDays,g=e.months,v=e.shortMonths;t.utc=function(e){function n(e){try{_s=qe;var t=new _s;return t._=e,r(t)}finally{_s=Date}}var r=t(e);return n.parse=function(e){try{_s=qe;var t=r.parse(e);return t&&t._}finally{_s=Date}},n.toString=r.toString,n},t.multi=t.utc.multi=ht;var b=ha.map(),_=Xe(m),w=Ke(m),x=Xe(y),k=Ke(y),E=Xe(g),T=Ke(g),S=Xe(v),C=Ke(v);d.forEach(function(e,t){b.set(e.toLowerCase(),t)});var M={a:function(e){return y[e.getDay()]},A:function(e){return m[e.getDay()]},b:function(e){return v[e.getMonth()]},B:function(e){return g[e.getMonth()]},c:t(p),d:function(e,t){return Ze(e.getDate(),t,2)},e:function(e,t){return Ze(e.getDate(),t,2)},H:function(e,t){return Ze(e.getHours(),t,2)},I:function(e,t){return Ze(e.getHours()%12||12,t,2)},j:function(e,t){return Ze(1+bs.dayOfYear(e),t,3)},L:function(e,t){return Ze(e.getMilliseconds(),t,3)},m:function(e,t){return Ze(e.getMonth()+1,t,2)},M:function(e,t){return Ze(e.getMinutes(),t,2)},p:function(e){return d[+(e.getHours()>=12)]},S:function(e,t){return Ze(e.getSeconds(),t,2)},U:function(e,t){return Ze(bs.sundayOfYear(e),t,2)},w:function(e){return e.getDay()},W:function(e,t){return Ze(bs.mondayOfYear(e),t,2)},x:t(f),X:t(h),y:function(e,t){return Ze(e.getFullYear()%100,t,2)},Y:function(e,t){return Ze(e.getFullYear()%1e4,t,4)},Z:pt,"%":function(){return"%"}},P={a:r,A:o,b:i,B:a,c:s,d:it,e:it,H:st,I:st,j:at,L:ct,m:ot,M:ut,p:c,S:lt,U:Qe,w:Je,W:$e,x:u,X:l,y:tt,Y:et,Z:nt,"%":ft};return t}function Ze(e,t,n){var r=0>e?"-":"",o=(r?-e:e)+"",i=o.length;return r+(n>i?new Array(n-i+1).join(t)+o:o)}function Xe(e){return new RegExp("^(?:"+e.map(ha.requote).join("|")+")","i")}function Ke(e){for(var t=new d,n=-1,r=e.length;++n<r;)t.set(e[n].toLowerCase(),n);return t}function Je(e,t,n){ks.lastIndex=0;var r=ks.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Qe(e,t,n){ks.lastIndex=0;var r=ks.exec(t.slice(n));return r?(e.U=+r[0],n+r[0].length):-1}function $e(e,t,n){ks.lastIndex=0;var r=ks.exec(t.slice(n));return r?(e.W=+r[0],n+r[0].length):-1}function et(e,t,n){ks.lastIndex=0;var r=ks.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function tt(e,t,n){ks.lastIndex=0;var r=ks.exec(t.slice(n,n+2));return r?(e.y=rt(+r[0]),n+r[0].length):-1}function nt(e,t,n){return/^[+-]\d{4}$/.test(t=t.slice(n,n+5))?(e.Z=-t,n+5):-1}function rt(e){return e+(e>68?1900:2e3)}function ot(e,t,n){ks.lastIndex=0;var r=ks.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function it(e,t,n){ks.lastIndex=0;var r=ks.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function at(e,t,n){ks.lastIndex=0;var r=ks.exec(t.slice(n,n+3));return r?(e.j=+r[0],n+r[0].length):-1}function st(e,t,n){ks.lastIndex=0;var r=ks.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function ut(e,t,n){ks.lastIndex=0;var r=ks.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function lt(e,t,n){ks.lastIndex=0;var r=ks.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function ct(e,t,n){ks.lastIndex=0;var r=ks.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function pt(e){var t=e.getTimezoneOffset(),n=t>0?"-":"+",r=Ta(t)/60|0,o=Ta(t)%60;return n+Ze(r,"0",2)+Ze(o,"0",2)}function ft(e,t,n){Es.lastIndex=0;var r=Es.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function ht(e){for(var t=e.length,n=-1;++n<t;)e[n][0]=this(e[n][0]);return function(t){for(var n=0,r=e[n];!r[1](t);)r=e[++n];return r[0](t)}}function dt(){}function mt(e,t,n){var r=n.s=e+t,o=r-e,i=r-o;n.t=e-i+(t-o)}function yt(e,t){e&&Ms.hasOwnProperty(e.type)&&Ms[e.type](e,t)}function gt(e,t,n){var r,o=-1,i=e.length-n;for(t.lineStart();++o<i;)r=e[o],t.point(r[0],r[1],r[2]);t.lineEnd()}function vt(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)gt(e[n],t,1);t.polygonEnd()}function bt(){function e(e,t){e*=Za,t=t*Za/2+qa/4;var n=e-r,a=n>=0?1:-1,s=a*n,u=Math.cos(t),l=Math.sin(t),c=i*l,p=o*u+c*Math.cos(s),f=c*a*Math.sin(s);As.add(Math.atan2(f,p)),r=e,o=u,i=l}var t,n,r,o,i;zs.point=function(a,s){zs.point=e,r=(t=a)*Za,o=Math.cos(s=(n=s)*Za/2+qa/4),i=Math.sin(s)},zs.lineEnd=function(){e(t,n)}}function _t(e){var t=e[0],n=e[1],r=Math.cos(n);return[r*Math.cos(t),r*Math.sin(t),Math.sin(n)]}function wt(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function xt(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function kt(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function Et(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function Tt(e){var t=Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function St(e){return[Math.atan2(e[1],e[0]),ae(e[2])]}function Ct(e,t){return Ta(e[0]-t[0])<Va&&Ta(e[1]-t[1])<Va}function Mt(e,t){e*=Za;var n=Math.cos(t*=Za);Pt(n*Math.cos(e),n*Math.sin(e),Math.sin(t))}function Pt(e,t,n){++Rs,Ls+=(e-Ls)/Rs,Ds+=(t-Ds)/Rs,js+=(n-js)/Rs}function At(){function e(e,o){e*=Za;var i=Math.cos(o*=Za),a=i*Math.cos(e),s=i*Math.sin(e),u=Math.sin(o),l=Math.atan2(Math.sqrt((l=n*u-r*s)*l+(l=r*a-t*u)*l+(l=t*s-n*a)*l),t*a+n*s+r*u);Os+=l,Ns+=l*(t+(t=a)),Is+=l*(n+(n=s)),Fs+=l*(r+(r=u)),Pt(t,n,r)}var t,n,r;Ys.point=function(o,i){o*=Za;var a=Math.cos(i*=Za);t=a*Math.cos(o),n=a*Math.sin(o),r=Math.sin(i),Ys.point=e,Pt(t,n,r)}}function zt(){Ys.point=Mt}function Rt(){function e(e,t){e*=Za;var n=Math.cos(t*=Za),a=n*Math.cos(e),s=n*Math.sin(e),u=Math.sin(t),l=o*u-i*s,c=i*a-r*u,p=r*s-o*a,f=Math.sqrt(l*l+c*c+p*p),h=r*a+o*s+i*u,d=f&&-ie(h)/f,m=Math.atan2(f,h);Bs+=d*l,Us+=d*c,Vs+=d*p,Os+=m,Ns+=m*(r+(r=a)),Is+=m*(o+(o=s)),Fs+=m*(i+(i=u)),Pt(r,o,i)}var t,n,r,o,i;Ys.point=function(a,s){t=a,n=s,Ys.point=e,a*=Za;var u=Math.cos(s*=Za);r=u*Math.cos(a),o=u*Math.sin(a),i=Math.sin(s),Pt(r,o,i)},Ys.lineEnd=function(){e(t,n),Ys.lineEnd=zt,Ys.point=Mt}}function Ot(e,t){function n(n,r){return n=e(n,r),t(n[0],n[1])}return e.invert&&t.invert&&(n.invert=function(n,r){return n=t.invert(n,r),n&&e.invert(n[0],n[1])}),n}function Lt(){return!0}function Dt(e,t,n,r,o){var i=[],a=[];if(e.forEach(function(e){if(!((t=e.length-1)<=0)){var t,n=e[0],r=e[t];if(Ct(n,r)){o.lineStart();for(var s=0;t>s;++s)o.point((n=e[s])[0],n[1]);return void o.lineEnd()}var u=new Nt(n,e,null,!0),l=new Nt(n,null,u,!1);u.o=l,i.push(u),a.push(l),u=new Nt(r,e,null,!1),l=new Nt(r,null,u,!0),u.o=l,i.push(u),a.push(l)}}),a.sort(t),jt(i),jt(a),i.length){for(var s=0,u=n,l=a.length;l>s;++s)a[s].e=u=!u;for(var c,p,f=i[0];;){for(var h=f,d=!0;h.v;)if((h=h.n)===f)return;c=h.z,o.lineStart();do{if(h.v=h.o.v=!0,h.e){if(d)for(var s=0,l=c.length;l>s;++s)o.point((p=c[s])[0],p[1]);else r(h.x,h.n.x,1,o);h=h.n}else{if(d){c=h.p.z;for(var s=c.length-1;s>=0;--s)o.point((p=c[s])[0],p[1])}else r(h.x,h.p.x,-1,o);h=h.p}h=h.o,c=h.z,d=!d}while(!h.v);o.lineEnd()}}}function jt(e){if(t=e.length){for(var t,n,r=0,o=e[0];++r<t;)o.n=n=e[r],n.p=o,o=n;o.n=n=e[0],n.p=o}}function Nt(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function It(e,t,n,r){return function(o,i){function a(t,n){var r=o(t,n);e(t=r[0],n=r[1])&&i.point(t,n)}function s(e,t){var n=o(e,t);y.point(n[0],n[1])}function u(){v.point=s,y.lineStart()}function l(){v.point=a,y.lineEnd()}function c(e,t){m.push([e,t]);var n=o(e,t);_.point(n[0],n[1])}function p(){_.lineStart(),m=[]}function f(){c(m[0][0],m[0][1]),_.lineEnd();var e,t=_.clean(),n=b.buffer(),r=n.length;if(m.pop(),d.push(m),m=null,r)if(1&t){e=n[0];var o,r=e.length-1,a=-1;if(r>0){for(w||(i.polygonStart(),w=!0),i.lineStart();++a<r;)i.point((o=e[a])[0],o[1]);i.lineEnd()}}else r>1&&2&t&&n.push(n.pop().concat(n.shift())),h.push(n.filter(Ft))}var h,d,m,y=t(i),g=o.invert(r[0],r[1]),v={point:a,lineStart:u,lineEnd:l,polygonStart:function(){v.point=c,v.lineStart=p,v.lineEnd=f,h=[],d=[]},polygonEnd:function(){v.point=a,v.lineStart=u,v.lineEnd=l,h=ha.merge(h);var e=Wt(g,d);h.length?(w||(i.polygonStart(),w=!0),Dt(h,Ut,e,n,i)):e&&(w||(i.polygonStart(),w=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),w&&(i.polygonEnd(),w=!1),h=d=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}},b=Bt(),_=t(b),w=!1;return v}}function Ft(e){return e.length>1}function Bt(){var e,t=[];return{lineStart:function(){t.push(e=[])},point:function(t,n){e.push([t,n])},lineEnd:S,buffer:function(){var n=t;return t=[],e=null,n},rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))}}}function Ut(e,t){return((e=e.x)[0]<0?e[1]-Ga-Va:Ga-e[1])-((t=t.x)[0]<0?t[1]-Ga-Va:Ga-t[1])}function Vt(e){var t,n=NaN,r=NaN,o=NaN;return{lineStart:function(){e.lineStart(),t=1},point:function(i,a){var s=i>0?qa:-qa,u=Ta(i-n);Ta(u-qa)<Va?(e.point(n,r=(r+a)/2>0?Ga:-Ga),e.point(o,r),e.lineEnd(),e.lineStart(),e.point(s,r),e.point(i,r),t=0):o!==s&&u>=qa&&(Ta(n-o)<Va&&(n-=o*Va),Ta(i-s)<Va&&(i-=s*Va),r=Yt(n,r,i,a),e.point(o,r),e.lineEnd(),e.lineStart(),e.point(s,r),t=0),e.point(n=i,r=a),o=s},lineEnd:function(){e.lineEnd(),n=r=NaN},clean:function(){return 2-t}}}function Yt(e,t,n,r){var o,i,a=Math.sin(e-n);return Ta(a)>Va?Math.atan((Math.sin(t)*(i=Math.cos(r))*Math.sin(n)-Math.sin(r)*(o=Math.cos(t))*Math.sin(e))/(o*i*a)):(t+r)/2}function qt(e,t,n,r){var o;if(null==e)o=n*Ga,r.point(-qa,o),r.point(0,o),r.point(qa,o),r.point(qa,0),r.point(qa,-o),r.point(0,-o),r.point(-qa,-o),r.point(-qa,0),r.point(-qa,o);else if(Ta(e[0]-t[0])>Va){var i=e[0]<t[0]?qa:-qa;o=n*i/2,r.point(-i,o),r.point(0,o),r.point(i,o)}else r.point(t[0],t[1])}function Wt(e,t){var n=e[0],r=e[1],o=[Math.sin(n),-Math.cos(n),0],i=0,a=0;As.reset();for(var s=0,u=t.length;u>s;++s){var l=t[s],c=l.length;if(c)for(var p=l[0],f=p[0],h=p[1]/2+qa/4,d=Math.sin(h),m=Math.cos(h),y=1;;){y===c&&(y=0),e=l[y];var g=e[0],v=e[1]/2+qa/4,b=Math.sin(v),_=Math.cos(v),w=g-f,x=w>=0?1:-1,k=x*w,E=k>qa,T=d*b;if(As.add(Math.atan2(T*x*Math.sin(k),m*_+T*Math.cos(k))),i+=E?w+x*Wa:w,E^f>=n^g>=n){var S=xt(_t(p),_t(e));Tt(S);var C=xt(o,S);Tt(C);var M=(E^w>=0?-1:1)*ae(C[2]);(r>M||r===M&&(S[0]||S[1]))&&(a+=E^w>=0?1:-1)}if(!y++)break;f=g,d=b,m=_,p=e}}return(-Va>i||Va>i&&-Va>As)^1&a}function Ht(e){function t(e,t){return Math.cos(e)*Math.cos(t)>i}function n(e){var n,i,u,l,c;return{lineStart:function(){l=u=!1,c=1},point:function(p,f){var h,d=[p,f],m=t(p,f),y=a?m?0:o(p,f):m?o(p+(0>p?qa:-qa),f):0;if(!n&&(l=u=m)&&e.lineStart(),m!==u&&(h=r(n,d),(Ct(n,h)||Ct(d,h))&&(d[0]+=Va,d[1]+=Va,m=t(d[0],d[1]))),m!==u)c=0,m?(e.lineStart(),h=r(d,n),e.point(h[0],h[1])):(h=r(n,d),e.point(h[0],h[1]),e.lineEnd()),n=h;else if(s&&n&&a^m){var g;y&i||!(g=r(d,n,!0))||(c=0,a?(e.lineStart(),e.point(g[0][0],g[0][1]),e.point(g[1][0],g[1][1]),e.lineEnd()):(e.point(g[1][0],g[1][1]),e.lineEnd(),e.lineStart(),e.point(g[0][0],g[0][1])))}!m||n&&Ct(n,d)||e.point(d[0],d[1]),n=d,u=m,i=y},lineEnd:function(){u&&e.lineEnd(),n=null},clean:function(){return c|(l&&u)<<1}}}function r(e,t,n){var r=_t(e),o=_t(t),a=[1,0,0],s=xt(r,o),u=wt(s,s),l=s[0],c=u-l*l;if(!c)return!n&&e;var p=i*u/c,f=-i*l/c,h=xt(a,s),d=Et(a,p),m=Et(s,f);kt(d,m);var y=h,g=wt(d,y),v=wt(y,y),b=g*g-v*(wt(d,d)-1);if(!(0>b)){var _=Math.sqrt(b),w=Et(y,(-g-_)/v);if(kt(w,d),w=St(w),!n)return w;var x,k=e[0],E=t[0],T=e[1],S=t[1];k>E&&(x=k,k=E,E=x);var C=E-k,M=Ta(C-qa)<Va,P=M||Va>C;if(!M&&T>S&&(x=T,T=S,S=x),P?M?T+S>0^w[1]<(Ta(w[0]-k)<Va?T:S):T<=w[1]&&w[1]<=S:C>qa^(k<=w[0]&&w[0]<=E)){var A=Et(y,(-g+_)/v);return kt(A,d),[w,St(A)]}}}function o(t,n){var r=a?e:qa-e,o=0;return-r>t?o|=1:t>r&&(o|=2),-r>n?o|=4:n>r&&(o|=8),o}var i=Math.cos(e),a=i>0,s=Ta(i)>Va,u=_n(e,6*Za);return It(t,n,u,a?[0,-e]:[-qa,e-qa])}function Gt(e,t,n,r){return function(o){var i,a=o.a,s=o.b,u=a.x,l=a.y,c=s.x,p=s.y,f=0,h=1,d=c-u,m=p-l;if(i=e-u,d||!(i>0)){if(i/=d,0>d){if(f>i)return;h>i&&(h=i)}else if(d>0){if(i>h)return;i>f&&(f=i)}if(i=n-u,d||!(0>i)){if(i/=d,0>d){if(i>h)return;i>f&&(f=i)}else if(d>0){if(f>i)return;h>i&&(h=i)}if(i=t-l,m||!(i>0)){if(i/=m,0>m){if(f>i)return;h>i&&(h=i)}else if(m>0){if(i>h)return;i>f&&(f=i)}if(i=r-l,m||!(0>i)){if(i/=m,0>m){if(i>h)return;i>f&&(f=i)}else if(m>0){if(f>i)return;h>i&&(h=i)}return f>0&&(o.a={x:u+f*d,y:l+f*m}),1>h&&(o.b={x:u+h*d,y:l+h*m}),o}}}}}}function Zt(e,t,n,r){function o(r,o){return Ta(r[0]-e)<Va?o>0?0:3:Ta(r[0]-n)<Va?o>0?2:1:Ta(r[1]-t)<Va?o>0?1:0:o>0?3:2}function i(e,t){return a(e.x,t.x)}function a(e,t){var n=o(e,1),r=o(t,1);return n!==r?n-r:0===n?t[1]-e[1]:1===n?e[0]-t[0]:2===n?e[1]-t[1]:t[0]-e[0]}return function(s){function u(e){for(var t=0,n=y.length,r=e[1],o=0;n>o;++o)for(var i,a=1,s=y[o],u=s.length,l=s[0];u>a;++a)i=s[a],l[1]<=r?i[1]>r&&oe(l,i,e)>0&&++t:i[1]<=r&&oe(l,i,e)<0&&--t,l=i;return 0!==t}function l(i,s,u,l){var c=0,p=0;if(null==i||(c=o(i,u))!==(p=o(s,u))||a(i,s)<0^u>0){do l.point(0===c||3===c?e:n,c>1?r:t);while((c=(c+u+4)%4)!==p)}else l.point(s[0],s[1])}function c(o,i){return o>=e&&n>=o&&i>=t&&r>=i}function p(e,t){c(e,t)&&s.point(e,t)}function f(){P.point=d,y&&y.push(g=[]),E=!0,k=!1,w=x=NaN}function h(){m&&(d(v,b),_&&k&&C.rejoin(),m.push(C.buffer())),P.point=p,k&&s.lineEnd()}function d(e,t){e=Math.max(-Ws,Math.min(Ws,e)),t=Math.max(-Ws,Math.min(Ws,t));var n=c(e,t);if(y&&g.push([e,t]),E)v=e,b=t,_=n,E=!1,n&&(s.lineStart(),s.point(e,t));else if(n&&k)s.point(e,t);else{var r={a:{x:w,y:x},b:{x:e,y:t}};M(r)?(k||(s.lineStart(),s.point(r.a.x,r.a.y)),s.point(r.b.x,r.b.y),n||s.lineEnd(),T=!1):n&&(s.lineStart(),s.point(e,t),T=!1)}w=e,x=t,k=n}var m,y,g,v,b,_,w,x,k,E,T,S=s,C=Bt(),M=Gt(e,t,n,r),P={point:p,lineStart:f,lineEnd:h,polygonStart:function(){s=C,m=[],y=[],T=!0},polygonEnd:function(){s=S,m=ha.merge(m);var t=u([e,r]),n=T&&t,o=m.length;(n||o)&&(s.polygonStart(),n&&(s.lineStart(),l(null,null,1,s),s.lineEnd()),o&&Dt(m,i,t,l,s),s.polygonEnd()),m=y=g=null}};return P}}function Xt(e){var t=0,n=qa/3,r=fn(e),o=r(t,n);return o.parallels=function(e){return arguments.length?r(t=e[0]*qa/180,n=e[1]*qa/180):[t/qa*180,n/qa*180]},o}function Kt(e,t){function n(e,t){var n=Math.sqrt(i-2*o*Math.sin(t))/o;return[n*Math.sin(e*=o),a-n*Math.cos(e)]}var r=Math.sin(e),o=(r+Math.sin(t))/2,i=1+r*(2*o-r),a=Math.sqrt(i)/o;return n.invert=function(e,t){var n=a-t;return[Math.atan2(e,n)/o,ae((i-(e*e+n*n)*o*o)/(2*o))]},n}function Jt(){function e(e,t){Gs+=o*e-r*t,r=e,o=t}var t,n,r,o;Qs.point=function(i,a){Qs.point=e,t=r=i,n=o=a},Qs.lineEnd=function(){e(t,n)}}function Qt(e,t){Zs>e&&(Zs=e),e>Ks&&(Ks=e),Xs>t&&(Xs=t),t>Js&&(Js=t)}function $t(){function e(e,t){a.push("M",e,",",t,i)}function t(e,t){a.push("M",e,",",t),s.point=n}function n(e,t){a.push("L",e,",",t)}function r(){s.point=e}function o(){a.push("Z")}var i=en(4.5),a=[],s={point:e,lineStart:function(){s.point=t},lineEnd:r,polygonStart:function(){s.lineEnd=o},polygonEnd:function(){s.lineEnd=r,s.point=e},pointRadius:function(e){return i=en(e),s},result:function(){if(a.length){var e=a.join("");return a=[],e}}};return s}function en(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}function tn(e,t){Ls+=e,Ds+=t,++js}function nn(){function e(e,r){var o=e-t,i=r-n,a=Math.sqrt(o*o+i*i);Ns+=a*(t+e)/2,Is+=a*(n+r)/2,Fs+=a,tn(t=e,n=r)}var t,n;eu.point=function(r,o){eu.point=e,tn(t=r,n=o)}}function rn(){eu.point=tn}function on(){function e(e,t){var n=e-r,i=t-o,a=Math.sqrt(n*n+i*i);Ns+=a*(r+e)/2,Is+=a*(o+t)/2,Fs+=a,a=o*e-r*t,Bs+=a*(r+e),Us+=a*(o+t),Vs+=3*a,tn(r=e,o=t)}var t,n,r,o;eu.point=function(i,a){eu.point=e,tn(t=r=i,n=o=a)},eu.lineEnd=function(){e(t,n)}}function an(e){function t(t,n){e.moveTo(t+a,n),e.arc(t,n,a,0,Wa)}function n(t,n){e.moveTo(t,n),s.point=r}function r(t,n){e.lineTo(t,n)}function o(){s.point=t}function i(){e.closePath()}var a=4.5,s={point:t,lineStart:function(){s.point=n},lineEnd:o,polygonStart:function(){
s.lineEnd=i},polygonEnd:function(){s.lineEnd=o,s.point=t},pointRadius:function(e){return a=e,s},result:S};return s}function sn(e){function t(e){return(s?r:n)(e)}function n(t){return cn(t,function(n,r){n=e(n,r),t.point(n[0],n[1])})}function r(t){function n(n,r){n=e(n,r),t.point(n[0],n[1])}function r(){b=NaN,E.point=i,t.lineStart()}function i(n,r){var i=_t([n,r]),a=e(n,r);o(b,_,v,w,x,k,b=a[0],_=a[1],v=n,w=i[0],x=i[1],k=i[2],s,t),t.point(b,_)}function a(){E.point=n,t.lineEnd()}function u(){r(),E.point=l,E.lineEnd=c}function l(e,t){i(p=e,f=t),h=b,d=_,m=w,y=x,g=k,E.point=i}function c(){o(b,_,v,w,x,k,h,d,p,m,y,g,s,t),E.lineEnd=a,a()}var p,f,h,d,m,y,g,v,b,_,w,x,k,E={point:n,lineStart:r,lineEnd:a,polygonStart:function(){t.polygonStart(),E.lineStart=u},polygonEnd:function(){t.polygonEnd(),E.lineStart=r}};return E}function o(t,n,r,s,u,l,c,p,f,h,d,m,y,g){var v=c-t,b=p-n,_=v*v+b*b;if(_>4*i&&y--){var w=s+h,x=u+d,k=l+m,E=Math.sqrt(w*w+x*x+k*k),T=Math.asin(k/=E),S=Ta(Ta(k)-1)<Va||Ta(r-f)<Va?(r+f)/2:Math.atan2(x,w),C=e(S,T),M=C[0],P=C[1],A=M-t,z=P-n,R=b*A-v*z;(R*R/_>i||Ta((v*A+b*z)/_-.5)>.3||a>s*h+u*d+l*m)&&(o(t,n,r,s,u,l,M,P,S,w/=E,x/=E,k,y,g),g.point(M,P),o(M,P,S,w,x,k,c,p,f,h,d,m,y,g))}}var i=.5,a=Math.cos(30*Za),s=16;return t.precision=function(e){return arguments.length?(s=(i=e*e)>0&&16,t):Math.sqrt(i)},t}function un(e){var t=sn(function(t,n){return e([t*Xa,n*Xa])});return function(e){return hn(t(e))}}function ln(e){this.stream=e}function cn(e,t){return{point:t,sphere:function(){e.sphere()},lineStart:function(){e.lineStart()},lineEnd:function(){e.lineEnd()},polygonStart:function(){e.polygonStart()},polygonEnd:function(){e.polygonEnd()}}}function pn(e){return fn(function(){return e})()}function fn(e){function t(e){return e=s(e[0]*Za,e[1]*Za),[e[0]*f+u,l-e[1]*f]}function n(e){return e=s.invert((e[0]-u)/f,(l-e[1])/f),e&&[e[0]*Xa,e[1]*Xa]}function r(){s=Ot(a=yn(g,v,b),i);var e=i(m,y);return u=h-e[0]*f,l=d+e[1]*f,o()}function o(){return c&&(c.valid=!1,c=null),t}var i,a,s,u,l,c,p=sn(function(e,t){return e=i(e,t),[e[0]*f+u,l-e[1]*f]}),f=150,h=480,d=250,m=0,y=0,g=0,v=0,b=0,_=qs,w=k,x=null,E=null;return t.stream=function(e){return c&&(c.valid=!1),c=hn(_(a,p(w(e)))),c.valid=!0,c},t.clipAngle=function(e){return arguments.length?(_=null==e?(x=e,qs):Ht((x=+e)*Za),o()):x},t.clipExtent=function(e){return arguments.length?(E=e,w=e?Zt(e[0][0],e[0][1],e[1][0],e[1][1]):k,o()):E},t.scale=function(e){return arguments.length?(f=+e,r()):f},t.translate=function(e){return arguments.length?(h=+e[0],d=+e[1],r()):[h,d]},t.center=function(e){return arguments.length?(m=e[0]%360*Za,y=e[1]%360*Za,r()):[m*Xa,y*Xa]},t.rotate=function(e){return arguments.length?(g=e[0]%360*Za,v=e[1]%360*Za,b=e.length>2?e[2]%360*Za:0,r()):[g*Xa,v*Xa,b*Xa]},ha.rebind(t,p,"precision"),function(){return i=e.apply(this,arguments),t.invert=i.invert&&n,r()}}function hn(e){return cn(e,function(t,n){e.point(t*Za,n*Za)})}function dn(e,t){return[e,t]}function mn(e,t){return[e>qa?e-Wa:-qa>e?e+Wa:e,t]}function yn(e,t,n){return e?t||n?Ot(vn(e),bn(t,n)):vn(e):t||n?bn(t,n):mn}function gn(e){return function(t,n){return t+=e,[t>qa?t-Wa:-qa>t?t+Wa:t,n]}}function vn(e){var t=gn(e);return t.invert=gn(-e),t}function bn(e,t){function n(e,t){var n=Math.cos(t),s=Math.cos(e)*n,u=Math.sin(e)*n,l=Math.sin(t),c=l*r+s*o;return[Math.atan2(u*i-c*a,s*r-l*o),ae(c*i+u*a)]}var r=Math.cos(e),o=Math.sin(e),i=Math.cos(t),a=Math.sin(t);return n.invert=function(e,t){var n=Math.cos(t),s=Math.cos(e)*n,u=Math.sin(e)*n,l=Math.sin(t),c=l*i-u*a;return[Math.atan2(u*i+l*a,s*r+c*o),ae(c*r-s*o)]},n}function _n(e,t){var n=Math.cos(e),r=Math.sin(e);return function(o,i,a,s){var u=a*t;null!=o?(o=wn(n,o),i=wn(n,i),(a>0?i>o:o>i)&&(o+=a*Wa)):(o=e+a*Wa,i=e-.5*u);for(var l,c=o;a>0?c>i:i>c;c-=u)s.point((l=St([n,-r*Math.cos(c),-r*Math.sin(c)]))[0],l[1])}}function wn(e,t){var n=_t(t);n[0]-=e,Tt(n);var r=ie(-n[1]);return((-n[2]<0?-r:r)+2*Math.PI-Va)%(2*Math.PI)}function xn(e,t,n){var r=ha.range(e,t-Va,n).concat(t);return function(e){return r.map(function(t){return[e,t]})}}function kn(e,t,n){var r=ha.range(e,t-Va,n).concat(t);return function(e){return r.map(function(t){return[t,e]})}}function En(e){return e.source}function Tn(e){return e.target}function Sn(e,t,n,r){var o=Math.cos(t),i=Math.sin(t),a=Math.cos(r),s=Math.sin(r),u=o*Math.cos(e),l=o*Math.sin(e),c=a*Math.cos(n),p=a*Math.sin(n),f=2*Math.asin(Math.sqrt(ce(r-t)+o*a*ce(n-e))),h=1/Math.sin(f),d=f?function(e){var t=Math.sin(e*=f)*h,n=Math.sin(f-e)*h,r=n*u+t*c,o=n*l+t*p,a=n*i+t*s;return[Math.atan2(o,r)*Xa,Math.atan2(a,Math.sqrt(r*r+o*o))*Xa]}:function(){return[e*Xa,t*Xa]};return d.distance=f,d}function Cn(){function e(e,o){var i=Math.sin(o*=Za),a=Math.cos(o),s=Ta((e*=Za)-t),u=Math.cos(s);tu+=Math.atan2(Math.sqrt((s=a*Math.sin(s))*s+(s=r*i-n*a*u)*s),n*i+r*a*u),t=e,n=i,r=a}var t,n,r;nu.point=function(o,i){t=o*Za,n=Math.sin(i*=Za),r=Math.cos(i),nu.point=e},nu.lineEnd=function(){nu.point=nu.lineEnd=S}}function Mn(e,t){function n(t,n){var r=Math.cos(t),o=Math.cos(n),i=e(r*o);return[i*o*Math.sin(t),i*Math.sin(n)]}return n.invert=function(e,n){var r=Math.sqrt(e*e+n*n),o=t(r),i=Math.sin(o),a=Math.cos(o);return[Math.atan2(e*i,r*a),Math.asin(r&&n*i/r)]},n}function Pn(e,t){function n(e,t){a>0?-Ga+Va>t&&(t=-Ga+Va):t>Ga-Va&&(t=Ga-Va);var n=a/Math.pow(o(t),i);return[n*Math.sin(i*e),a-n*Math.cos(i*e)]}var r=Math.cos(e),o=function(e){return Math.tan(qa/4+e/2)},i=e===t?Math.sin(e):Math.log(r/Math.cos(t))/Math.log(o(t)/o(e)),a=r*Math.pow(o(e),i)/i;return i?(n.invert=function(e,t){var n=a-t,r=re(i)*Math.sqrt(e*e+n*n);return[Math.atan2(e,n)/i,2*Math.atan(Math.pow(a/r,1/i))-Ga]},n):zn}function An(e,t){function n(e,t){var n=i-t;return[n*Math.sin(o*e),i-n*Math.cos(o*e)]}var r=Math.cos(e),o=e===t?Math.sin(e):(r-Math.cos(t))/(t-e),i=r/o+e;return Ta(o)<Va?dn:(n.invert=function(e,t){var n=i-t;return[Math.atan2(e,n)/o,i-re(o)*Math.sqrt(e*e+n*n)]},n)}function zn(e,t){return[e,Math.log(Math.tan(qa/4+t/2))]}function Rn(e){var t,n=pn(e),r=n.scale,o=n.translate,i=n.clipExtent;return n.scale=function(){var e=r.apply(n,arguments);return e===n?t?n.clipExtent(null):n:e},n.translate=function(){var e=o.apply(n,arguments);return e===n?t?n.clipExtent(null):n:e},n.clipExtent=function(e){var a=i.apply(n,arguments);if(a===n){if(t=null==e){var s=qa*r(),u=o();i([[u[0]-s,u[1]-s],[u[0]+s,u[1]+s]])}}else t&&(a=null);return a},n.clipExtent(null)}function On(e,t){return[Math.log(Math.tan(qa/4+t/2)),-e]}function Ln(e){return e[0]}function Dn(e){return e[1]}function jn(e){for(var t=e.length,n=[0,1],r=2,o=2;t>o;o++){for(;r>1&&oe(e[n[r-2]],e[n[r-1]],e[o])<=0;)--r;n[r++]=o}return n.slice(0,r)}function Nn(e,t){return e[0]-t[0]||e[1]-t[1]}function In(e,t,n){return(n[0]-t[0])*(e[1]-t[1])<(n[1]-t[1])*(e[0]-t[0])}function Fn(e,t,n,r){var o=e[0],i=n[0],a=t[0]-o,s=r[0]-i,u=e[1],l=n[1],c=t[1]-u,p=r[1]-l,f=(s*(u-l)-p*(o-i))/(p*a-s*c);return[o+f*a,u+f*c]}function Bn(e){var t=e[0],n=e[e.length-1];return!(t[0]-n[0]||t[1]-n[1])}function Un(){ur(this),this.edge=this.site=this.circle=null}function Vn(e){var t=du.pop()||new Un;return t.site=e,t}function Yn(e){$n(e),pu.remove(e),du.push(e),ur(e)}function qn(e){var t=e.circle,n=t.x,r=t.cy,o={x:n,y:r},i=e.P,a=e.N,s=[e];Yn(e);for(var u=i;u.circle&&Ta(n-u.circle.x)<Va&&Ta(r-u.circle.cy)<Va;)i=u.P,s.unshift(u),Yn(u),u=i;s.unshift(u),$n(u);for(var l=a;l.circle&&Ta(n-l.circle.x)<Va&&Ta(r-l.circle.cy)<Va;)a=l.N,s.push(l),Yn(l),l=a;s.push(l),$n(l);var c,p=s.length;for(c=1;p>c;++c)l=s[c],u=s[c-1],ir(l.edge,u.site,l.site,o);u=s[0],l=s[p-1],l.edge=rr(u.site,l.site,null,o),Qn(u),Qn(l)}function Wn(e){for(var t,n,r,o,i=e.x,a=e.y,s=pu._;s;)if(r=Hn(s,a)-i,r>Va)s=s.L;else{if(o=i-Gn(s,a),!(o>Va)){r>-Va?(t=s.P,n=s):o>-Va?(t=s,n=s.N):t=n=s;break}if(!s.R){t=s;break}s=s.R}var u=Vn(e);if(pu.insert(t,u),t||n){if(t===n)return $n(t),n=Vn(t.site),pu.insert(u,n),u.edge=n.edge=rr(t.site,u.site),Qn(t),void Qn(n);if(!n)return void(u.edge=rr(t.site,u.site));$n(t),$n(n);var l=t.site,c=l.x,p=l.y,f=e.x-c,h=e.y-p,d=n.site,m=d.x-c,y=d.y-p,g=2*(f*y-h*m),v=f*f+h*h,b=m*m+y*y,_={x:(y*v-h*b)/g+c,y:(f*b-m*v)/g+p};ir(n.edge,l,d,_),u.edge=rr(l,e,null,_),n.edge=rr(e,d,null,_),Qn(t),Qn(n)}}function Hn(e,t){var n=e.site,r=n.x,o=n.y,i=o-t;if(!i)return r;var a=e.P;if(!a)return-(1/0);n=a.site;var s=n.x,u=n.y,l=u-t;if(!l)return s;var c=s-r,p=1/i-1/l,f=c/l;return p?(-f+Math.sqrt(f*f-2*p*(c*c/(-2*l)-u+l/2+o-i/2)))/p+r:(r+s)/2}function Gn(e,t){var n=e.N;if(n)return Hn(n,t);var r=e.site;return r.y===t?r.x:1/0}function Zn(e){this.site=e,this.edges=[]}function Xn(e){for(var t,n,r,o,i,a,s,u,l,c,p=e[0][0],f=e[1][0],h=e[0][1],d=e[1][1],m=cu,y=m.length;y--;)if(i=m[y],i&&i.prepare())for(s=i.edges,u=s.length,a=0;u>a;)c=s[a].end(),r=c.x,o=c.y,l=s[++a%u].start(),t=l.x,n=l.y,(Ta(r-t)>Va||Ta(o-n)>Va)&&(s.splice(a,0,new ar(or(i.site,c,Ta(r-p)<Va&&d-o>Va?{x:p,y:Ta(t-p)<Va?n:d}:Ta(o-d)<Va&&f-r>Va?{x:Ta(n-d)<Va?t:f,y:d}:Ta(r-f)<Va&&o-h>Va?{x:f,y:Ta(t-f)<Va?n:h}:Ta(o-h)<Va&&r-p>Va?{x:Ta(n-h)<Va?t:p,y:h}:null),i.site,null)),++u)}function Kn(e,t){return t.angle-e.angle}function Jn(){ur(this),this.x=this.y=this.arc=this.site=this.cy=null}function Qn(e){var t=e.P,n=e.N;if(t&&n){var r=t.site,o=e.site,i=n.site;if(r!==i){var a=o.x,s=o.y,u=r.x-a,l=r.y-s,c=i.x-a,p=i.y-s,f=2*(u*p-l*c);if(!(f>=-Ya)){var h=u*u+l*l,d=c*c+p*p,m=(p*h-l*d)/f,y=(u*d-c*h)/f,p=y+s,g=mu.pop()||new Jn;g.arc=e,g.site=o,g.x=m+a,g.y=p+Math.sqrt(m*m+y*y),g.cy=p,e.circle=g;for(var v=null,b=hu._;b;)if(g.y<b.y||g.y===b.y&&g.x<=b.x){if(!b.L){v=b.P;break}b=b.L}else{if(!b.R){v=b;break}b=b.R}hu.insert(v,g),v||(fu=g)}}}}function $n(e){var t=e.circle;t&&(t.P||(fu=t.N),hu.remove(t),mu.push(t),ur(t),e.circle=null)}function er(e){for(var t,n=lu,r=Gt(e[0][0],e[0][1],e[1][0],e[1][1]),o=n.length;o--;)t=n[o],(!tr(t,e)||!r(t)||Ta(t.a.x-t.b.x)<Va&&Ta(t.a.y-t.b.y)<Va)&&(t.a=t.b=null,n.splice(o,1))}function tr(e,t){var n=e.b;if(n)return!0;var r,o,i=e.a,a=t[0][0],s=t[1][0],u=t[0][1],l=t[1][1],c=e.l,p=e.r,f=c.x,h=c.y,d=p.x,m=p.y,y=(f+d)/2,g=(h+m)/2;if(m===h){if(a>y||y>=s)return;if(f>d){if(i){if(i.y>=l)return}else i={x:y,y:u};n={x:y,y:l}}else{if(i){if(i.y<u)return}else i={x:y,y:l};n={x:y,y:u}}}else if(r=(f-d)/(m-h),o=g-r*y,-1>r||r>1)if(f>d){if(i){if(i.y>=l)return}else i={x:(u-o)/r,y:u};n={x:(l-o)/r,y:l}}else{if(i){if(i.y<u)return}else i={x:(l-o)/r,y:l};n={x:(u-o)/r,y:u}}else if(m>h){if(i){if(i.x>=s)return}else i={x:a,y:r*a+o};n={x:s,y:r*s+o}}else{if(i){if(i.x<a)return}else i={x:s,y:r*s+o};n={x:a,y:r*a+o}}return e.a=i,e.b=n,!0}function nr(e,t){this.l=e,this.r=t,this.a=this.b=null}function rr(e,t,n,r){var o=new nr(e,t);return lu.push(o),n&&ir(o,e,t,n),r&&ir(o,t,e,r),cu[e.i].edges.push(new ar(o,e,t)),cu[t.i].edges.push(new ar(o,t,e)),o}function or(e,t,n){var r=new nr(e,null);return r.a=t,r.b=n,lu.push(r),r}function ir(e,t,n,r){e.a||e.b?e.l===n?e.b=r:e.a=r:(e.a=r,e.l=t,e.r=n)}function ar(e,t,n){var r=e.a,o=e.b;this.edge=e,this.site=t,this.angle=n?Math.atan2(n.y-t.y,n.x-t.x):e.l===t?Math.atan2(o.x-r.x,r.y-o.y):Math.atan2(r.x-o.x,o.y-r.y)}function sr(){this._=null}function ur(e){e.U=e.C=e.L=e.R=e.P=e.N=null}function lr(e,t){var n=t,r=t.R,o=n.U;o?o.L===n?o.L=r:o.R=r:e._=r,r.U=o,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function cr(e,t){var n=t,r=t.L,o=n.U;o?o.L===n?o.L=r:o.R=r:e._=r,r.U=o,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function pr(e){for(;e.L;)e=e.L;return e}function fr(e,t){var n,r,o,i=e.sort(hr).pop();for(lu=[],cu=new Array(e.length),pu=new sr,hu=new sr;;)if(o=fu,i&&(!o||i.y<o.y||i.y===o.y&&i.x<o.x))i.x===n&&i.y===r||(cu[i.i]=new Zn(i),Wn(i),n=i.x,r=i.y),i=e.pop();else{if(!o)break;qn(o.arc)}t&&(er(t),Xn(t));var a={cells:cu,edges:lu};return pu=hu=lu=cu=null,a}function hr(e,t){return t.y-e.y||t.x-e.x}function dr(e,t,n){return(e.x-n.x)*(t.y-e.y)-(e.x-t.x)*(n.y-e.y)}function mr(e){return e.x}function yr(e){return e.y}function gr(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function vr(e,t,n,r,o,i){if(!e(t,n,r,o,i)){var a=.5*(n+o),s=.5*(r+i),u=t.nodes;u[0]&&vr(e,u[0],n,r,a,s),u[1]&&vr(e,u[1],a,r,o,s),u[2]&&vr(e,u[2],n,s,a,i),u[3]&&vr(e,u[3],a,s,o,i)}}function br(e,t,n,r,o,i,a){var s,u=1/0;return function l(e,c,p,f,h){if(!(c>i||p>a||r>f||o>h)){if(d=e.point){var d,m=t-e.x,y=n-e.y,g=m*m+y*y;if(u>g){var v=Math.sqrt(u=g);r=t-v,o=n-v,i=t+v,a=n+v,s=d}}for(var b=e.nodes,_=.5*(c+f),w=.5*(p+h),x=t>=_,k=n>=w,E=k<<1|x,T=E+4;T>E;++E)if(e=b[3&E])switch(3&E){case 0:l(e,c,p,_,w);break;case 1:l(e,_,p,f,w);break;case 2:l(e,c,w,_,h);break;case 3:l(e,_,w,f,h)}}}(e,r,o,i,a),s}function _r(e,t){e=ha.rgb(e),t=ha.rgb(t);var n=e.r,r=e.g,o=e.b,i=t.r-n,a=t.g-r,s=t.b-o;return function(e){return"#"+Te(Math.round(n+i*e))+Te(Math.round(r+a*e))+Te(Math.round(o+s*e))}}function wr(e,t){var n,r={},o={};for(n in e)n in t?r[n]=Er(e[n],t[n]):o[n]=e[n];for(n in t)n in e||(o[n]=t[n]);return function(e){for(n in r)o[n]=r[n](e);return o}}function xr(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function kr(e,t){var n,r,o,i=gu.lastIndex=vu.lastIndex=0,a=-1,s=[],u=[];for(e+="",t+="";(n=gu.exec(e))&&(r=vu.exec(t));)(o=r.index)>i&&(o=t.slice(i,o),s[a]?s[a]+=o:s[++a]=o),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,u.push({i:a,x:xr(n,r)})),i=vu.lastIndex;return i<t.length&&(o=t.slice(i),s[a]?s[a]+=o:s[++a]=o),s.length<2?u[0]?(t=u[0].x,function(e){return t(e)+""}):function(){return t}:(t=u.length,function(e){for(var n,r=0;t>r;++r)s[(n=u[r]).i]=n.x(e);return s.join("")})}function Er(e,t){for(var n,r=ha.interpolators.length;--r>=0&&!(n=ha.interpolators[r](e,t)););return n}function Tr(e,t){var n,r=[],o=[],i=e.length,a=t.length,s=Math.min(e.length,t.length);for(n=0;s>n;++n)r.push(Er(e[n],t[n]));for(;i>n;++n)o[n]=e[n];for(;a>n;++n)o[n]=t[n];return function(e){for(n=0;s>n;++n)o[n]=r[n](e);return o}}function Sr(e){return function(t){return 0>=t?0:t>=1?1:e(t)}}function Cr(e){return function(t){return 1-e(1-t)}}function Mr(e){return function(t){return.5*(.5>t?e(2*t):2-e(2-2*t))}}function Pr(e){return e*e}function Ar(e){return e*e*e}function zr(e){if(0>=e)return 0;if(e>=1)return 1;var t=e*e,n=t*e;return 4*(.5>e?n:3*(e-t)+n-.75)}function Rr(e){return function(t){return Math.pow(t,e)}}function Or(e){return 1-Math.cos(e*Ga)}function Lr(e){return Math.pow(2,10*(e-1))}function Dr(e){return 1-Math.sqrt(1-e*e)}function jr(e,t){var n;return arguments.length<2&&(t=.45),arguments.length?n=t/Wa*Math.asin(1/e):(e=1,n=t/4),function(r){return 1+e*Math.pow(2,-10*r)*Math.sin((r-n)*Wa/t)}}function Nr(e){return e||(e=1.70158),function(t){return t*t*((e+1)*t-e)}}function Ir(e){return 1/2.75>e?7.5625*e*e:2/2.75>e?7.5625*(e-=1.5/2.75)*e+.75:2.5/2.75>e?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}function Fr(e,t){e=ha.hcl(e),t=ha.hcl(t);var n=e.h,r=e.c,o=e.l,i=t.h-n,a=t.c-r,s=t.l-o;return isNaN(a)&&(a=0,r=isNaN(r)?t.c:r),isNaN(i)?(i=0,n=isNaN(n)?t.h:n):i>180?i-=360:-180>i&&(i+=360),function(e){return me(n+i*e,r+a*e,o+s*e)+""}}function Br(e,t){e=ha.hsl(e),t=ha.hsl(t);var n=e.h,r=e.s,o=e.l,i=t.h-n,a=t.s-r,s=t.l-o;return isNaN(a)&&(a=0,r=isNaN(r)?t.s:r),isNaN(i)?(i=0,n=isNaN(n)?t.h:n):i>180?i-=360:-180>i&&(i+=360),function(e){return he(n+i*e,r+a*e,o+s*e)+""}}function Ur(e,t){e=ha.lab(e),t=ha.lab(t);var n=e.l,r=e.a,o=e.b,i=t.l-n,a=t.a-r,s=t.b-o;return function(e){return ge(n+i*e,r+a*e,o+s*e)+""}}function Vr(e,t){return t-=e,function(n){return Math.round(e+t*n)}}function Yr(e){var t=[e.a,e.b],n=[e.c,e.d],r=Wr(t),o=qr(t,n),i=Wr(Hr(n,t,-o))||0;t[0]*n[1]<n[0]*t[1]&&(t[0]*=-1,t[1]*=-1,r*=-1,o*=-1),this.rotate=(r?Math.atan2(t[1],t[0]):Math.atan2(-n[0],n[1]))*Xa,this.translate=[e.e,e.f],this.scale=[r,i],this.skew=i?Math.atan2(o,i)*Xa:0}function qr(e,t){return e[0]*t[0]+e[1]*t[1]}function Wr(e){var t=Math.sqrt(qr(e,e));return t&&(e[0]/=t,e[1]/=t),t}function Hr(e,t,n){return e[0]+=n*t[0],e[1]+=n*t[1],e}function Gr(e){return e.length?e.pop()+",":""}function Zr(e,t,n,r){if(e[0]!==t[0]||e[1]!==t[1]){var o=n.push("translate(",null,",",null,")");r.push({i:o-4,x:xr(e[0],t[0])},{i:o-2,x:xr(e[1],t[1])})}else(t[0]||t[1])&&n.push("translate("+t+")")}function Xr(e,t,n,r){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),r.push({i:n.push(Gr(n)+"rotate(",null,")")-2,x:xr(e,t)})):t&&n.push(Gr(n)+"rotate("+t+")")}function Kr(e,t,n,r){e!==t?r.push({i:n.push(Gr(n)+"skewX(",null,")")-2,x:xr(e,t)}):t&&n.push(Gr(n)+"skewX("+t+")")}function Jr(e,t,n,r){if(e[0]!==t[0]||e[1]!==t[1]){var o=n.push(Gr(n)+"scale(",null,",",null,")");r.push({i:o-4,x:xr(e[0],t[0])},{i:o-2,x:xr(e[1],t[1])})}else 1===t[0]&&1===t[1]||n.push(Gr(n)+"scale("+t+")")}function Qr(e,t){var n=[],r=[];return e=ha.transform(e),t=ha.transform(t),Zr(e.translate,t.translate,n,r),Xr(e.rotate,t.rotate,n,r),Kr(e.skew,t.skew,n,r),Jr(e.scale,t.scale,n,r),e=t=null,function(e){for(var t,o=-1,i=r.length;++o<i;)n[(t=r[o]).i]=t.x(e);return n.join("")}}function $r(e,t){return t=(t-=e=+e)||1/t,function(n){return(n-e)/t}}function eo(e,t){return t=(t-=e=+e)||1/t,function(n){return Math.max(0,Math.min(1,(n-e)/t))}}function to(e){for(var t=e.source,n=e.target,r=ro(t,n),o=[t];t!==r;)t=t.parent,o.push(t);for(var i=o.length;n!==r;)o.splice(i,0,n),n=n.parent;return o}function no(e){for(var t=[],n=e.parent;null!=n;)t.push(e),e=n,n=n.parent;return t.push(e),t}function ro(e,t){if(e===t)return e;for(var n=no(e),r=no(t),o=n.pop(),i=r.pop(),a=null;o===i;)a=o,o=n.pop(),i=r.pop();return a}function oo(e){e.fixed|=2}function io(e){e.fixed&=-7}function ao(e){e.fixed|=4,e.px=e.x,e.py=e.y}function so(e){e.fixed&=-5}function uo(e,t,n){var r=0,o=0;if(e.charge=0,!e.leaf)for(var i,a=e.nodes,s=a.length,u=-1;++u<s;)i=a[u],null!=i&&(uo(i,t,n),e.charge+=i.charge,r+=i.charge*i.cx,o+=i.charge*i.cy);if(e.point){e.leaf||(e.point.x+=Math.random()-.5,e.point.y+=Math.random()-.5);var l=t*n[e.point.index];e.charge+=e.pointCharge=l,r+=l*e.point.x,o+=l*e.point.y}e.cx=r/e.charge,e.cy=o/e.charge}function lo(e,t){return ha.rebind(e,t,"sort","children","value"),e.nodes=e,e.links=yo,e}function co(e,t){for(var n=[e];null!=(e=n.pop());)if(t(e),(o=e.children)&&(r=o.length))for(var r,o;--r>=0;)n.push(o[r])}function po(e,t){for(var n=[e],r=[];null!=(e=n.pop());)if(r.push(e),(i=e.children)&&(o=i.length))for(var o,i,a=-1;++a<o;)n.push(i[a]);for(;null!=(e=r.pop());)t(e)}function fo(e){return e.children}function ho(e){return e.value}function mo(e,t){return t.value-e.value}function yo(e){return ha.merge(e.map(function(e){return(e.children||[]).map(function(t){return{source:e,target:t}})}))}function go(e){return e.x}function vo(e){return e.y}function bo(e,t,n){e.y0=t,e.y=n}function _o(e){return ha.range(e.length)}function wo(e){for(var t=-1,n=e[0].length,r=[];++t<n;)r[t]=0;return r}function xo(e){for(var t,n=1,r=0,o=e[0][1],i=e.length;i>n;++n)(t=e[n][1])>o&&(r=n,o=t);return r}function ko(e){return e.reduce(Eo,0)}function Eo(e,t){return e+t[1]}function To(e,t){return So(e,Math.ceil(Math.log(t.length)/Math.LN2+1))}function So(e,t){for(var n=-1,r=+e[0],o=(e[1]-r)/t,i=[];++n<=t;)i[n]=o*n+r;return i}function Co(e){return[ha.min(e),ha.max(e)]}function Mo(e,t){return e.value-t.value}function Po(e,t){var n=e._pack_next;e._pack_next=t,t._pack_prev=e,t._pack_next=n,n._pack_prev=t}function Ao(e,t){e._pack_next=t,t._pack_prev=e}function zo(e,t){var n=t.x-e.x,r=t.y-e.y,o=e.r+t.r;return.999*o*o>n*n+r*r}function Ro(e){function t(e){c=Math.min(e.x-e.r,c),p=Math.max(e.x+e.r,p),f=Math.min(e.y-e.r,f),h=Math.max(e.y+e.r,h)}if((n=e.children)&&(l=n.length)){var n,r,o,i,a,s,u,l,c=1/0,p=-(1/0),f=1/0,h=-(1/0);if(n.forEach(Oo),r=n[0],r.x=-r.r,r.y=0,t(r),l>1&&(o=n[1],o.x=o.r,o.y=0,t(o),l>2))for(i=n[2],jo(r,o,i),t(i),Po(r,i),r._pack_prev=i,Po(i,o),o=r._pack_next,a=3;l>a;a++){jo(r,o,i=n[a]);var d=0,m=1,y=1;for(s=o._pack_next;s!==o;s=s._pack_next,m++)if(zo(s,i)){d=1;break}if(1==d)for(u=r._pack_prev;u!==s._pack_prev&&!zo(u,i);u=u._pack_prev,y++);d?(y>m||m==y&&o.r<r.r?Ao(r,o=s):Ao(r=u,o),a--):(Po(r,i),o=i,t(i))}var g=(c+p)/2,v=(f+h)/2,b=0;for(a=0;l>a;a++)i=n[a],i.x-=g,i.y-=v,b=Math.max(b,i.r+Math.sqrt(i.x*i.x+i.y*i.y));e.r=b,n.forEach(Lo)}}function Oo(e){e._pack_next=e._pack_prev=e}function Lo(e){delete e._pack_next,delete e._pack_prev}function Do(e,t,n,r){var o=e.children;if(e.x=t+=r*e.x,e.y=n+=r*e.y,e.r*=r,o)for(var i=-1,a=o.length;++i<a;)Do(o[i],t,n,r)}function jo(e,t,n){var r=e.r+n.r,o=t.x-e.x,i=t.y-e.y;if(r&&(o||i)){var a=t.r+n.r,s=o*o+i*i;a*=a,r*=r;var u=.5+(r-a)/(2*s),l=Math.sqrt(Math.max(0,2*a*(r+s)-(r-=s)*r-a*a))/(2*s);n.x=e.x+u*o+l*i,n.y=e.y+u*i-l*o}else n.x=e.x+r,n.y=e.y}function No(e,t){return e.parent==t.parent?1:2}function Io(e){var t=e.children;return t.length?t[0]:e.t}function Fo(e){var t,n=e.children;return(t=n.length)?n[t-1]:e.t}function Bo(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}function Uo(e){for(var t,n=0,r=0,o=e.children,i=o.length;--i>=0;)t=o[i],t.z+=n,t.m+=n,n+=t.s+(r+=t.c)}function Vo(e,t,n){return e.a.parent===t.parent?e.a:n}function Yo(e){return 1+ha.max(e,function(e){return e.y})}function qo(e){return e.reduce(function(e,t){return e+t.x},0)/e.length}function Wo(e){var t=e.children;return t&&t.length?Wo(t[0]):e}function Ho(e){var t,n=e.children;return n&&(t=n.length)?Ho(n[t-1]):e}function Go(e){return{x:e.x,y:e.y,dx:e.dx,dy:e.dy}}function Zo(e,t){var n=e.x+t[3],r=e.y+t[0],o=e.dx-t[1]-t[3],i=e.dy-t[0]-t[2];return 0>o&&(n+=o/2,o=0),0>i&&(r+=i/2,i=0),{x:n,y:r,dx:o,dy:i}}function Xo(e){var t=e[0],n=e[e.length-1];return n>t?[t,n]:[n,t]}function Ko(e){return e.rangeExtent?e.rangeExtent():Xo(e.range())}function Jo(e,t,n,r){var o=n(e[0],e[1]),i=r(t[0],t[1]);return function(e){return i(o(e))}}function Qo(e,t){var n,r=0,o=e.length-1,i=e[r],a=e[o];return i>a&&(n=r,r=o,o=n,n=i,i=a,a=n),e[r]=t.floor(i),e[o]=t.ceil(a),e}function $o(e){return e?{floor:function(t){return Math.floor(t/e)*e},ceil:function(t){return Math.ceil(t/e)*e}}:Pu}function ei(e,t,n,r){var o=[],i=[],a=0,s=Math.min(e.length,t.length)-1;for(e[s]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<=s;)o.push(n(e[a-1],e[a])),i.push(r(t[a-1],t[a]));return function(t){var n=ha.bisect(e,t,1,s)-1;return i[n](o[n](t))}}function ti(e,t,n,r){function o(){var o=Math.min(e.length,t.length)>2?ei:Jo,u=r?eo:$r;return a=o(e,t,u,n),s=o(t,e,u,Er),i}function i(e){return a(e)}var a,s;return i.invert=function(e){return s(e)},i.domain=function(t){return arguments.length?(e=t.map(Number),o()):e},i.range=function(e){return arguments.length?(t=e,o()):t},i.rangeRound=function(e){return i.range(e).interpolate(Vr)},i.clamp=function(e){return arguments.length?(r=e,o()):r},i.interpolate=function(e){return arguments.length?(n=e,o()):n},i.ticks=function(t){return ii(e,t)},i.tickFormat=function(t,n){return ai(e,t,n)},i.nice=function(t){return ri(e,t),o()},i.copy=function(){return ti(e,t,n,r)},o()}function ni(e,t){return ha.rebind(e,t,"range","rangeRound","interpolate","clamp")}function ri(e,t){return Qo(e,$o(oi(e,t)[2])),Qo(e,$o(oi(e,t)[2])),e}function oi(e,t){null==t&&(t=10);var n=Xo(e),r=n[1]-n[0],o=Math.pow(10,Math.floor(Math.log(r/t)/Math.LN10)),i=t/r*o;return.15>=i?o*=10:.35>=i?o*=5:.75>=i&&(o*=2),n[0]=Math.ceil(n[0]/o)*o,n[1]=Math.floor(n[1]/o)*o+.5*o,n[2]=o,n}function ii(e,t){return ha.range.apply(ha,oi(e,t))}function ai(e,t,n){var r=oi(e,t);if(n){var o=gs.exec(n);if(o.shift(),"s"===o[8]){var i=ha.formatPrefix(Math.max(Ta(r[0]),Ta(r[1])));return o[7]||(o[7]="."+si(i.scale(r[2]))),o[8]="f",n=ha.format(o.join("")),function(e){return n(i.scale(e))+i.symbol}}o[7]||(o[7]="."+ui(o[8],r)),n=o.join("")}else n=",."+si(r[2])+"f";return ha.format(n)}function si(e){return-Math.floor(Math.log(e)/Math.LN10+.01)}function ui(e,t){var n=si(t[2]);return e in Au?Math.abs(n-si(Math.max(Ta(t[0]),Ta(t[1]))))+ +("e"!==e):n-2*("%"===e)}function li(e,t,n,r){function o(e){return(n?Math.log(0>e?0:e):-Math.log(e>0?0:-e))/Math.log(t)}function i(e){return n?Math.pow(t,e):-Math.pow(t,-e)}function a(t){return e(o(t))}return a.invert=function(t){return i(e.invert(t))},a.domain=function(t){return arguments.length?(n=t[0]>=0,e.domain((r=t.map(Number)).map(o)),a):r},a.base=function(n){return arguments.length?(t=+n,e.domain(r.map(o)),a):t},a.nice=function(){var t=Qo(r.map(o),n?Math:Ru);return e.domain(t),r=t.map(i),a},a.ticks=function(){var e=Xo(r),a=[],s=e[0],u=e[1],l=Math.floor(o(s)),c=Math.ceil(o(u)),p=t%1?2:t;if(isFinite(c-l)){if(n){for(;c>l;l++)for(var f=1;p>f;f++)a.push(i(l)*f);a.push(i(l))}else for(a.push(i(l));l++<c;)for(var f=p-1;f>0;f--)a.push(i(l)*f);for(l=0;a[l]<s;l++);for(c=a.length;a[c-1]>u;c--);a=a.slice(l,c)}return a},a.tickFormat=function(e,n){if(!arguments.length)return zu;arguments.length<2?n=zu:"function"!=typeof n&&(n=ha.format(n));var r=Math.max(1,t*e/a.ticks().length);return function(e){var a=e/i(Math.round(o(e)));return t-.5>a*t&&(a*=t),r>=a?n(e):""}},a.copy=function(){return li(e.copy(),t,n,r)},ni(a,e)}function ci(e,t,n){function r(t){return e(o(t))}var o=pi(t),i=pi(1/t);return r.invert=function(t){return i(e.invert(t))},r.domain=function(t){return arguments.length?(e.domain((n=t.map(Number)).map(o)),r):n},r.ticks=function(e){return ii(n,e)},r.tickFormat=function(e,t){return ai(n,e,t)},r.nice=function(e){return r.domain(ri(n,e))},r.exponent=function(a){return arguments.length?(o=pi(t=a),i=pi(1/t),e.domain(n.map(o)),r):t},r.copy=function(){return ci(e.copy(),t,n)},ni(r,e)}function pi(e){return function(t){return 0>t?-Math.pow(-t,e):Math.pow(t,e)}}function fi(e,t){function n(n){return i[((o.get(n)||("range"===t.t?o.set(n,e.push(n)):NaN))-1)%i.length]}function r(t,n){return ha.range(e.length).map(function(e){return t+n*e})}var o,i,a;return n.domain=function(r){if(!arguments.length)return e;e=[],o=new d;for(var i,a=-1,s=r.length;++a<s;)o.has(i=r[a])||o.set(i,e.push(i));return n[t.t].apply(n,t.a)},n.range=function(e){return arguments.length?(i=e,a=0,t={t:"range",a:arguments},n):i},n.rangePoints=function(o,s){arguments.length<2&&(s=0);var u=o[0],l=o[1],c=e.length<2?(u=(u+l)/2,0):(l-u)/(e.length-1+s);return i=r(u+c*s/2,c),a=0,t={t:"rangePoints",a:arguments},n},n.rangeRoundPoints=function(o,s){arguments.length<2&&(s=0);var u=o[0],l=o[1],c=e.length<2?(u=l=Math.round((u+l)/2),0):(l-u)/(e.length-1+s)|0;return i=r(u+Math.round(c*s/2+(l-u-(e.length-1+s)*c)/2),c),a=0,t={t:"rangeRoundPoints",a:arguments},n},n.rangeBands=function(o,s,u){arguments.length<2&&(s=0),arguments.length<3&&(u=s);var l=o[1]<o[0],c=o[l-0],p=o[1-l],f=(p-c)/(e.length-s+2*u);return i=r(c+f*u,f),l&&i.reverse(),a=f*(1-s),t={t:"rangeBands",a:arguments},n},n.rangeRoundBands=function(o,s,u){arguments.length<2&&(s=0),arguments.length<3&&(u=s);var l=o[1]<o[0],c=o[l-0],p=o[1-l],f=Math.floor((p-c)/(e.length-s+2*u));return i=r(c+Math.round((p-c-(e.length-s)*f)/2),f),l&&i.reverse(),a=Math.round(f*(1-s)),t={t:"rangeRoundBands",a:arguments},n},n.rangeBand=function(){return a},n.rangeExtent=function(){return Xo(t.a[0])},n.copy=function(){return fi(e,t)},n.domain(e)}function hi(e,t){function n(){var n=0,i=t.length;for(o=[];++n<i;)o[n-1]=ha.quantile(e,n/i);return r}function r(e){return isNaN(e=+e)?void 0:t[ha.bisect(o,e)]}var o;return r.domain=function(t){return arguments.length?(e=t.map(u).filter(l).sort(s),n()):e},r.range=function(e){return arguments.length?(t=e,n()):t},r.quantiles=function(){return o},r.invertExtent=function(n){return n=t.indexOf(n),0>n?[NaN,NaN]:[n>0?o[n-1]:e[0],n<o.length?o[n]:e[e.length-1]]},r.copy=function(){return hi(e,t)},n()}function di(e,t,n){function r(t){return n[Math.max(0,Math.min(a,Math.floor(i*(t-e))))]}function o(){return i=n.length/(t-e),a=n.length-1,r}var i,a;return r.domain=function(n){return arguments.length?(e=+n[0],t=+n[n.length-1],o()):[e,t]},r.range=function(e){return arguments.length?(n=e,o()):n},r.invertExtent=function(t){return t=n.indexOf(t),t=0>t?NaN:t/i+e,[t,t+1/i]},r.copy=function(){return di(e,t,n)},o()}function mi(e,t){function n(n){return n>=n?t[ha.bisect(e,n)]:void 0}return n.domain=function(t){return arguments.length?(e=t,n):e},n.range=function(e){return arguments.length?(t=e,n):t},n.invertExtent=function(n){return n=t.indexOf(n),[e[n-1],e[n]]},n.copy=function(){return mi(e,t)},n}function yi(e){function t(e){return+e}return t.invert=t,t.domain=t.range=function(n){return arguments.length?(e=n.map(t),t):e},t.ticks=function(t){return ii(e,t)},t.tickFormat=function(t,n){return ai(e,t,n)},t.copy=function(){return yi(e)},t}function gi(){return 0}function vi(e){return e.innerRadius}function bi(e){return e.outerRadius}function _i(e){return e.startAngle}function wi(e){return e.endAngle}function xi(e){return e&&e.padAngle}function ki(e,t,n,r){return(e-n)*t-(t-r)*e>0?0:1}function Ei(e,t,n,r,o){var i=e[0]-t[0],a=e[1]-t[1],s=(o?r:-r)/Math.sqrt(i*i+a*a),u=s*a,l=-s*i,c=e[0]+u,p=e[1]+l,f=t[0]+u,h=t[1]+l,d=(c+f)/2,m=(p+h)/2,y=f-c,g=h-p,v=y*y+g*g,b=n-r,_=c*h-f*p,w=(0>g?-1:1)*Math.sqrt(Math.max(0,b*b*v-_*_)),x=(_*g-y*w)/v,k=(-_*y-g*w)/v,E=(_*g+y*w)/v,T=(-_*y+g*w)/v,S=x-d,C=k-m,M=E-d,P=T-m;return S*S+C*C>M*M+P*P&&(x=E,k=T),[[x-u,k-l],[x*n/b,k*n/b]]}function Ti(e){function t(t){function a(){l.push("M",i(e(c),s))}for(var u,l=[],c=[],p=-1,f=t.length,h=ze(n),d=ze(r);++p<f;)o.call(this,u=t[p],p)?c.push([+h.call(this,u,p),+d.call(this,u,p)]):c.length&&(a(),c=[]);return c.length&&a(),l.length?l.join(""):null}var n=Ln,r=Dn,o=Lt,i=Si,a=i.key,s=.7;return t.x=function(e){return arguments.length?(n=e,t):n},t.y=function(e){return arguments.length?(r=e,t):r},t.defined=function(e){return arguments.length?(o=e,t):o},t.interpolate=function(e){return arguments.length?(a="function"==typeof e?i=e:(i=Iu.get(e)||Si).key,t):a},t.tension=function(e){return arguments.length?(s=e,t):s},t}function Si(e){return e.length>1?e.join("L"):e+"Z"}function Ci(e){return e.join("L")+"Z"}function Mi(e){for(var t=0,n=e.length,r=e[0],o=[r[0],",",r[1]];++t<n;)o.push("H",(r[0]+(r=e[t])[0])/2,"V",r[1]);return n>1&&o.push("H",r[0]),o.join("")}function Pi(e){for(var t=0,n=e.length,r=e[0],o=[r[0],",",r[1]];++t<n;)o.push("V",(r=e[t])[1],"H",r[0]);return o.join("")}function Ai(e){for(var t=0,n=e.length,r=e[0],o=[r[0],",",r[1]];++t<n;)o.push("H",(r=e[t])[0],"V",r[1]);return o.join("")}function zi(e,t){return e.length<4?Si(e):e[1]+Li(e.slice(1,-1),Di(e,t))}function Ri(e,t){return e.length<3?Ci(e):e[0]+Li((e.push(e[0]),e),Di([e[e.length-2]].concat(e,[e[1]]),t))}function Oi(e,t){return e.length<3?Si(e):e[0]+Li(e,Di(e,t))}function Li(e,t){if(t.length<1||e.length!=t.length&&e.length!=t.length+2)return Si(e);var n=e.length!=t.length,r="",o=e[0],i=e[1],a=t[0],s=a,u=1;if(n&&(r+="Q"+(i[0]-2*a[0]/3)+","+(i[1]-2*a[1]/3)+","+i[0]+","+i[1],o=e[1],u=2),t.length>1){s=t[1],i=e[u],u++,r+="C"+(o[0]+a[0])+","+(o[1]+a[1])+","+(i[0]-s[0])+","+(i[1]-s[1])+","+i[0]+","+i[1];for(var l=2;l<t.length;l++,u++)i=e[u],s=t[l],r+="S"+(i[0]-s[0])+","+(i[1]-s[1])+","+i[0]+","+i[1]}if(n){var c=e[u];r+="Q"+(i[0]+2*s[0]/3)+","+(i[1]+2*s[1]/3)+","+c[0]+","+c[1]}return r}function Di(e,t){for(var n,r=[],o=(1-t)/2,i=e[0],a=e[1],s=1,u=e.length;++s<u;)n=i,i=a,a=e[s],r.push([o*(a[0]-n[0]),o*(a[1]-n[1])]);return r}function ji(e){if(e.length<3)return Si(e);var t=1,n=e.length,r=e[0],o=r[0],i=r[1],a=[o,o,o,(r=e[1])[0]],s=[i,i,i,r[1]],u=[o,",",i,"L",Bi(Uu,a),",",Bi(Uu,s)];for(e.push(e[n-1]);++t<=n;)r=e[t],a.shift(),a.push(r[0]),s.shift(),s.push(r[1]),Ui(u,a,s);return e.pop(),u.push("L",r),u.join("")}function Ni(e){if(e.length<4)return Si(e);for(var t,n=[],r=-1,o=e.length,i=[0],a=[0];++r<3;)t=e[r],i.push(t[0]),a.push(t[1]);for(n.push(Bi(Uu,i)+","+Bi(Uu,a)),--r;++r<o;)t=e[r],i.shift(),i.push(t[0]),a.shift(),a.push(t[1]),Ui(n,i,a);return n.join("")}function Ii(e){for(var t,n,r=-1,o=e.length,i=o+4,a=[],s=[];++r<4;)n=e[r%o],a.push(n[0]),s.push(n[1]);for(t=[Bi(Uu,a),",",Bi(Uu,s)],--r;++r<i;)n=e[r%o],a.shift(),a.push(n[0]),s.shift(),s.push(n[1]),Ui(t,a,s);return t.join("")}function Fi(e,t){var n=e.length-1;if(n)for(var r,o,i=e[0][0],a=e[0][1],s=e[n][0]-i,u=e[n][1]-a,l=-1;++l<=n;)r=e[l],o=l/n,r[0]=t*r[0]+(1-t)*(i+o*s),r[1]=t*r[1]+(1-t)*(a+o*u);return ji(e)}function Bi(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function Ui(e,t,n){e.push("C",Bi(Fu,t),",",Bi(Fu,n),",",Bi(Bu,t),",",Bi(Bu,n),",",Bi(Uu,t),",",Bi(Uu,n))}function Vi(e,t){return(t[1]-e[1])/(t[0]-e[0])}function Yi(e){for(var t=0,n=e.length-1,r=[],o=e[0],i=e[1],a=r[0]=Vi(o,i);++t<n;)r[t]=(a+(a=Vi(o=i,i=e[t+1])))/2;return r[t]=a,r}function qi(e){for(var t,n,r,o,i=[],a=Yi(e),s=-1,u=e.length-1;++s<u;)t=Vi(e[s],e[s+1]),Ta(t)<Va?a[s]=a[s+1]=0:(n=a[s]/t,
r=a[s+1]/t,o=n*n+r*r,o>9&&(o=3*t/Math.sqrt(o),a[s]=o*n,a[s+1]=o*r));for(s=-1;++s<=u;)o=(e[Math.min(u,s+1)][0]-e[Math.max(0,s-1)][0])/(6*(1+a[s]*a[s])),i.push([o||0,a[s]*o||0]);return i}function Wi(e){return e.length<3?Si(e):e[0]+Li(e,qi(e))}function Hi(e){for(var t,n,r,o=-1,i=e.length;++o<i;)t=e[o],n=t[0],r=t[1]-Ga,t[0]=n*Math.cos(r),t[1]=n*Math.sin(r);return e}function Gi(e){function t(t){function u(){m.push("M",s(e(g),p),c,l(e(y.reverse()),p),"Z")}for(var f,h,d,m=[],y=[],g=[],v=-1,b=t.length,_=ze(n),w=ze(o),x=n===r?function(){return h}:ze(r),k=o===i?function(){return d}:ze(i);++v<b;)a.call(this,f=t[v],v)?(y.push([h=+_.call(this,f,v),d=+w.call(this,f,v)]),g.push([+x.call(this,f,v),+k.call(this,f,v)])):y.length&&(u(),y=[],g=[]);return y.length&&u(),m.length?m.join(""):null}var n=Ln,r=Ln,o=0,i=Dn,a=Lt,s=Si,u=s.key,l=s,c="L",p=.7;return t.x=function(e){return arguments.length?(n=r=e,t):r},t.x0=function(e){return arguments.length?(n=e,t):n},t.x1=function(e){return arguments.length?(r=e,t):r},t.y=function(e){return arguments.length?(o=i=e,t):i},t.y0=function(e){return arguments.length?(o=e,t):o},t.y1=function(e){return arguments.length?(i=e,t):i},t.defined=function(e){return arguments.length?(a=e,t):a},t.interpolate=function(e){return arguments.length?(u="function"==typeof e?s=e:(s=Iu.get(e)||Si).key,l=s.reverse||s,c=s.closed?"M":"L",t):u},t.tension=function(e){return arguments.length?(p=e,t):p},t}function Zi(e){return e.radius}function Xi(e){return[e.x,e.y]}function Ki(e){return function(){var t=e.apply(this,arguments),n=t[0],r=t[1]-Ga;return[n*Math.cos(r),n*Math.sin(r)]}}function Ji(){return 64}function Qi(){return"circle"}function $i(e){var t=Math.sqrt(e/qa);return"M0,"+t+"A"+t+","+t+" 0 1,1 0,"+-t+"A"+t+","+t+" 0 1,1 0,"+t+"Z"}function ea(e){return function(){var t,n,r;(t=this[e])&&(r=t[n=t.active])&&(r.timer.c=null,r.timer.t=NaN,--t.count?delete t[n]:delete this[e],t.active+=.5,r.event&&r.event.interrupt.call(this,this.__data__,r.index))}}function ta(e,t,n){return Aa(e,Zu),e.namespace=t,e.id=n,e}function na(e,t,n,r){var o=e.id,i=e.namespace;return Z(e,"function"==typeof n?function(e,a,s){e[i][o].tween.set(t,r(n.call(e,e.__data__,a,s)))}:(n=r(n),function(e){e[i][o].tween.set(t,n)}))}function ra(e){return null==e&&(e=""),function(){this.textContent=e}}function oa(e){return null==e?"__transition__":"__transition_"+e+"__"}function ia(e,t,n,r,o){function i(e){var t=m.delay;return l.t=t+u,e>=t?a(e-t):void(l.c=a)}function a(n){var o=h.active,i=h[o];i&&(i.timer.c=null,i.timer.t=NaN,--h.count,delete h[o],i.event&&i.event.interrupt.call(e,e.__data__,i.index));for(var a in h)if(r>+a){var d=h[a];d.timer.c=null,d.timer.t=NaN,--h.count,delete h[a]}l.c=s,je(function(){return l.c&&s(n||1)&&(l.c=null,l.t=NaN),1},0,u),h.active=r,m.event&&m.event.start.call(e,e.__data__,t),f=[],m.tween.forEach(function(n,r){(r=r.call(e,e.__data__,t))&&f.push(r)}),p=m.ease,c=m.duration}function s(o){for(var i=o/c,a=p(i),s=f.length;s>0;)f[--s].call(e,a);return i>=1?(m.event&&m.event.end.call(e,e.__data__,t),--h.count?delete h[r]:delete e[n],1):void 0}var u,l,c,p,f,h=e[n]||(e[n]={active:0,count:0}),m=h[r];m||(u=o.time,l=je(i,0,u),m=h[r]={tween:new d,time:u,timer:l,delay:o.delay,duration:o.duration,ease:o.ease,index:t},o=null,++h.count)}function aa(e,t,n){e.attr("transform",function(e){var r=t(e);return"translate("+(isFinite(r)?r:n(e))+",0)"})}function sa(e,t,n){e.attr("transform",function(e){var r=t(e);return"translate(0,"+(isFinite(r)?r:n(e))+")"})}function ua(e){return e.toISOString()}function la(e,t,n){function r(t){return e(t)}function o(e,n){var r=e[1]-e[0],o=r/n,i=ha.bisect(rl,o);return i==rl.length?[t.year,oi(e.map(function(e){return e/31536e6}),n)[2]]:i?t[o/rl[i-1]<rl[i]/o?i-1:i]:[al,oi(e,n)[2]]}return r.invert=function(t){return ca(e.invert(t))},r.domain=function(t){return arguments.length?(e.domain(t),r):e.domain().map(ca)},r.nice=function(e,t){function n(n){return!isNaN(n)&&!e.range(n,ca(+n+1),t).length}var i=r.domain(),a=Xo(i),s=null==e?o(a,10):"number"==typeof e&&o(a,e);return s&&(e=s[0],t=s[1]),r.domain(Qo(i,t>1?{floor:function(t){for(;n(t=e.floor(t));)t=ca(t-1);return t},ceil:function(t){for(;n(t=e.ceil(t));)t=ca(+t+1);return t}}:e))},r.ticks=function(e,t){var n=Xo(r.domain()),i=null==e?o(n,10):"number"==typeof e?o(n,e):!e.range&&[{range:e},t];return i&&(e=i[0],t=i[1]),e.range(n[0],ca(+n[1]+1),1>t?1:t)},r.tickFormat=function(){return n},r.copy=function(){return la(e.copy(),t,n)},ni(r,e)}function ca(e){return new Date(e)}function pa(e){return JSON.parse(e.responseText)}function fa(e){var t=ya.createRange();return t.selectNode(ya.body),t.createContextualFragment(e.responseText)}var ha={version:"3.5.17"},da=[].slice,ma=function(e){return da.call(e)},ya=this.document;if(ya)try{ma(ya.documentElement.childNodes)[0].nodeType}catch(ga){ma=function(e){for(var t=e.length,n=new Array(t);t--;)n[t]=e[t];return n}}if(Date.now||(Date.now=function(){return+new Date}),ya)try{ya.createElement("DIV").style.setProperty("opacity",0,"")}catch(va){var ba=this.Element.prototype,_a=ba.setAttribute,wa=ba.setAttributeNS,xa=this.CSSStyleDeclaration.prototype,ka=xa.setProperty;ba.setAttribute=function(e,t){_a.call(this,e,t+"")},ba.setAttributeNS=function(e,t,n){wa.call(this,e,t,n+"")},xa.setProperty=function(e,t,n){ka.call(this,e,t+"",n)}}ha.ascending=s,ha.descending=function(e,t){return e>t?-1:t>e?1:t>=e?0:NaN},ha.min=function(e,t){var n,r,o=-1,i=e.length;if(1===arguments.length){for(;++o<i;)if(null!=(r=e[o])&&r>=r){n=r;break}for(;++o<i;)null!=(r=e[o])&&n>r&&(n=r)}else{for(;++o<i;)if(null!=(r=t.call(e,e[o],o))&&r>=r){n=r;break}for(;++o<i;)null!=(r=t.call(e,e[o],o))&&n>r&&(n=r)}return n},ha.max=function(e,t){var n,r,o=-1,i=e.length;if(1===arguments.length){for(;++o<i;)if(null!=(r=e[o])&&r>=r){n=r;break}for(;++o<i;)null!=(r=e[o])&&r>n&&(n=r)}else{for(;++o<i;)if(null!=(r=t.call(e,e[o],o))&&r>=r){n=r;break}for(;++o<i;)null!=(r=t.call(e,e[o],o))&&r>n&&(n=r)}return n},ha.extent=function(e,t){var n,r,o,i=-1,a=e.length;if(1===arguments.length){for(;++i<a;)if(null!=(r=e[i])&&r>=r){n=o=r;break}for(;++i<a;)null!=(r=e[i])&&(n>r&&(n=r),r>o&&(o=r))}else{for(;++i<a;)if(null!=(r=t.call(e,e[i],i))&&r>=r){n=o=r;break}for(;++i<a;)null!=(r=t.call(e,e[i],i))&&(n>r&&(n=r),r>o&&(o=r))}return[n,o]},ha.sum=function(e,t){var n,r=0,o=e.length,i=-1;if(1===arguments.length)for(;++i<o;)l(n=+e[i])&&(r+=n);else for(;++i<o;)l(n=+t.call(e,e[i],i))&&(r+=n);return r},ha.mean=function(e,t){var n,r=0,o=e.length,i=-1,a=o;if(1===arguments.length)for(;++i<o;)l(n=u(e[i]))?r+=n:--a;else for(;++i<o;)l(n=u(t.call(e,e[i],i)))?r+=n:--a;return a?r/a:void 0},ha.quantile=function(e,t){var n=(e.length-1)*t+1,r=Math.floor(n),o=+e[r-1],i=n-r;return i?o+i*(e[r]-o):o},ha.median=function(e,t){var n,r=[],o=e.length,i=-1;if(1===arguments.length)for(;++i<o;)l(n=u(e[i]))&&r.push(n);else for(;++i<o;)l(n=u(t.call(e,e[i],i)))&&r.push(n);return r.length?ha.quantile(r.sort(s),.5):void 0},ha.variance=function(e,t){var n,r,o=e.length,i=0,a=0,s=-1,c=0;if(1===arguments.length)for(;++s<o;)l(n=u(e[s]))&&(r=n-i,i+=r/++c,a+=r*(n-i));else for(;++s<o;)l(n=u(t.call(e,e[s],s)))&&(r=n-i,i+=r/++c,a+=r*(n-i));return c>1?a/(c-1):void 0},ha.deviation=function(){var e=ha.variance.apply(this,arguments);return e?Math.sqrt(e):e};var Ea=c(s);ha.bisectLeft=Ea.left,ha.bisect=ha.bisectRight=Ea.right,ha.bisector=function(e){return c(1===e.length?function(t,n){return s(e(t),n)}:e)},ha.shuffle=function(e,t,n){(i=arguments.length)<3&&(n=e.length,2>i&&(t=0));for(var r,o,i=n-t;i;)o=Math.random()*i--|0,r=e[i+t],e[i+t]=e[o+t],e[o+t]=r;return e},ha.permute=function(e,t){for(var n=t.length,r=new Array(n);n--;)r[n]=e[t[n]];return r},ha.pairs=function(e){for(var t,n=0,r=e.length-1,o=e[0],i=new Array(0>r?0:r);r>n;)i[n]=[t=o,o=e[++n]];return i},ha.transpose=function(e){if(!(o=e.length))return[];for(var t=-1,n=ha.min(e,p),r=new Array(n);++t<n;)for(var o,i=-1,a=r[t]=new Array(o);++i<o;)a[i]=e[i][t];return r},ha.zip=function(){return ha.transpose(arguments)},ha.keys=function(e){var t=[];for(var n in e)t.push(n);return t},ha.values=function(e){var t=[];for(var n in e)t.push(e[n]);return t},ha.entries=function(e){var t=[];for(var n in e)t.push({key:n,value:e[n]});return t},ha.merge=function(e){for(var t,n,r,o=e.length,i=-1,a=0;++i<o;)a+=e[i].length;for(n=new Array(a);--o>=0;)for(r=e[o],t=r.length;--t>=0;)n[--a]=r[t];return n};var Ta=Math.abs;ha.range=function(e,t,n){if(arguments.length<3&&(n=1,arguments.length<2&&(t=e,e=0)),(t-e)/n===1/0)throw new Error("infinite range");var r,o=[],i=f(Ta(n)),a=-1;if(e*=i,t*=i,n*=i,0>n)for(;(r=e+n*++a)>t;)o.push(r/i);else for(;(r=e+n*++a)<t;)o.push(r/i);return o},ha.map=function(e,t){var n=new d;if(e instanceof d)e.forEach(function(e,t){n.set(e,t)});else if(Array.isArray(e)){var r,o=-1,i=e.length;if(1===arguments.length)for(;++o<i;)n.set(o,e[o]);else for(;++o<i;)n.set(t.call(e,r=e[o],o),r)}else for(var a in e)n.set(a,e[a]);return n};var Sa="__proto__",Ca="\x00";h(d,{has:g,get:function(e){return this._[m(e)]},set:function(e,t){return this._[m(e)]=t},remove:v,keys:b,values:function(){var e=[];for(var t in this._)e.push(this._[t]);return e},entries:function(){var e=[];for(var t in this._)e.push({key:y(t),value:this._[t]});return e},size:_,empty:w,forEach:function(e){for(var t in this._)e.call(this,y(t),this._[t])}}),ha.nest=function(){function e(t,a,s){if(s>=i.length)return r?r.call(o,a):n?a.sort(n):a;for(var u,l,c,p,f=-1,h=a.length,m=i[s++],y=new d;++f<h;)(p=y.get(u=m(l=a[f])))?p.push(l):y.set(u,[l]);return t?(l=t(),c=function(n,r){l.set(n,e(t,r,s))}):(l={},c=function(n,r){l[n]=e(t,r,s)}),y.forEach(c),l}function t(e,n){if(n>=i.length)return e;var r=[],o=a[n++];return e.forEach(function(e,o){r.push({key:e,values:t(o,n)})}),o?r.sort(function(e,t){return o(e.key,t.key)}):r}var n,r,o={},i=[],a=[];return o.map=function(t,n){return e(n,t,0)},o.entries=function(n){return t(e(ha.map,n,0),0)},o.key=function(e){return i.push(e),o},o.sortKeys=function(e){return a[i.length-1]=e,o},o.sortValues=function(e){return n=e,o},o.rollup=function(e){return r=e,o},o},ha.set=function(e){var t=new x;if(e)for(var n=0,r=e.length;r>n;++n)t.add(e[n]);return t},h(x,{has:g,add:function(e){return this._[m(e+="")]=!0,e},remove:v,values:b,size:_,empty:w,forEach:function(e){for(var t in this._)e.call(this,y(t))}}),ha.behavior={},ha.rebind=function(e,t){for(var n,r=1,o=arguments.length;++r<o;)e[n=arguments[r]]=E(e,t,t[n]);return e};var Ma=["webkit","ms","moz","Moz","o","O"];ha.dispatch=function(){for(var e=new C,t=-1,n=arguments.length;++t<n;)e[arguments[t]]=M(e);return e},C.prototype.on=function(e,t){var n=e.indexOf("."),r="";if(n>=0&&(r=e.slice(n+1),e=e.slice(0,n)),e)return arguments.length<2?this[e].on(r):this[e].on(r,t);if(2===arguments.length){if(null==t)for(e in this)this.hasOwnProperty(e)&&this[e].on(r,null);return this}},ha.event=null,ha.requote=function(e){return e.replace(Pa,"\\$&")};var Pa=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,Aa={}.__proto__?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)e[n]=t[n]},za=function(e,t){return t.querySelector(e)},Ra=function(e,t){return t.querySelectorAll(e)},Oa=function(e,t){var n=e.matches||e[T(e,"matchesSelector")];return(Oa=function(e,t){return n.call(e,t)})(e,t)};"function"==typeof Sizzle&&(za=function(e,t){return Sizzle(e,t)[0]||null},Ra=Sizzle,Oa=Sizzle.matchesSelector),ha.selection=function(){return ha.select(ya.documentElement)};var La=ha.selection.prototype=[];La.select=function(e){var t,n,r,o,i=[];e=O(e);for(var a=-1,s=this.length;++a<s;){i.push(t=[]),t.parentNode=(r=this[a]).parentNode;for(var u=-1,l=r.length;++u<l;)(o=r[u])?(t.push(n=e.call(o,o.__data__,u,a)),n&&"__data__"in o&&(n.__data__=o.__data__)):t.push(null)}return R(i)},La.selectAll=function(e){var t,n,r=[];e=L(e);for(var o=-1,i=this.length;++o<i;)for(var a=this[o],s=-1,u=a.length;++s<u;)(n=a[s])&&(r.push(t=ma(e.call(n,n.__data__,s,o))),t.parentNode=n);return R(r)};var Da="http://www.w3.org/1999/xhtml",ja={svg:"http://www.w3.org/2000/svg",xhtml:Da,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};ha.ns={prefix:ja,qualify:function(e){var t=e.indexOf(":"),n=e;return t>=0&&"xmlns"!==(n=e.slice(0,t))&&(e=e.slice(t+1)),ja.hasOwnProperty(n)?{space:ja[n],local:e}:e}},La.attr=function(e,t){if(arguments.length<2){if("string"==typeof e){var n=this.node();return e=ha.ns.qualify(e),e.local?n.getAttributeNS(e.space,e.local):n.getAttribute(e)}for(t in e)this.each(D(t,e[t]));return this}return this.each(D(e,t))},La.classed=function(e,t){if(arguments.length<2){if("string"==typeof e){var n=this.node(),r=(e=I(e)).length,o=-1;if(t=n.classList){for(;++o<r;)if(!t.contains(e[o]))return!1}else for(t=n.getAttribute("class");++o<r;)if(!N(e[o]).test(t))return!1;return!0}for(t in e)this.each(F(t,e[t]));return this}return this.each(F(e,t))},La.style=function(e,t,n){var r=arguments.length;if(3>r){if("string"!=typeof e){2>r&&(t="");for(n in e)this.each(U(n,e[n],t));return this}if(2>r){var o=this.node();return a(o).getComputedStyle(o,null).getPropertyValue(e)}n=""}return this.each(U(e,t,n))},La.property=function(e,t){if(arguments.length<2){if("string"==typeof e)return this.node()[e];for(t in e)this.each(V(t,e[t]));return this}return this.each(V(e,t))},La.text=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}:null==e?function(){this.textContent=""}:function(){this.textContent=e}):this.node().textContent},La.html=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}:null==e?function(){this.innerHTML=""}:function(){this.innerHTML=e}):this.node().innerHTML},La.append=function(e){return e=Y(e),this.select(function(){return this.appendChild(e.apply(this,arguments))})},La.insert=function(e,t){return e=Y(e),t=O(t),this.select(function(){return this.insertBefore(e.apply(this,arguments),t.apply(this,arguments)||null)})},La.remove=function(){return this.each(q)},La.data=function(e,t){function n(e,n){var r,o,i,a=e.length,c=n.length,p=Math.min(a,c),f=new Array(c),h=new Array(c),m=new Array(a);if(t){var y,g=new d,v=new Array(a);for(r=-1;++r<a;)(o=e[r])&&(g.has(y=t.call(o,o.__data__,r))?m[r]=o:g.set(y,o),v[r]=y);for(r=-1;++r<c;)(o=g.get(y=t.call(n,i=n[r],r)))?o!==!0&&(f[r]=o,o.__data__=i):h[r]=W(i),g.set(y,!0);for(r=-1;++r<a;)r in v&&g.get(v[r])!==!0&&(m[r]=e[r])}else{for(r=-1;++r<p;)o=e[r],i=n[r],o?(o.__data__=i,f[r]=o):h[r]=W(i);for(;c>r;++r)h[r]=W(n[r]);for(;a>r;++r)m[r]=e[r]}h.update=f,h.parentNode=f.parentNode=m.parentNode=e.parentNode,s.push(h),u.push(f),l.push(m)}var r,o,i=-1,a=this.length;if(!arguments.length){for(e=new Array(a=(r=this[0]).length);++i<a;)(o=r[i])&&(e[i]=o.__data__);return e}var s=X([]),u=R([]),l=R([]);if("function"==typeof e)for(;++i<a;)n(r=this[i],e.call(r,r.parentNode.__data__,i));else for(;++i<a;)n(r=this[i],e);return u.enter=function(){return s},u.exit=function(){return l},u},La.datum=function(e){return arguments.length?this.property("__data__",e):this.property("__data__")},La.filter=function(e){var t,n,r,o=[];"function"!=typeof e&&(e=H(e));for(var i=0,a=this.length;a>i;i++){o.push(t=[]),t.parentNode=(n=this[i]).parentNode;for(var s=0,u=n.length;u>s;s++)(r=n[s])&&e.call(r,r.__data__,s,i)&&t.push(r)}return R(o)},La.order=function(){for(var e=-1,t=this.length;++e<t;)for(var n,r=this[e],o=r.length-1,i=r[o];--o>=0;)(n=r[o])&&(i&&i!==n.nextSibling&&i.parentNode.insertBefore(n,i),i=n);return this},La.sort=function(e){e=G.apply(this,arguments);for(var t=-1,n=this.length;++t<n;)this[t].sort(e);return this.order()},La.each=function(e){return Z(this,function(t,n,r){e.call(t,t.__data__,n,r)})},La.call=function(e){var t=ma(arguments);return e.apply(t[0]=this,t),this},La.empty=function(){return!this.node()},La.node=function(){for(var e=0,t=this.length;t>e;e++)for(var n=this[e],r=0,o=n.length;o>r;r++){var i=n[r];if(i)return i}return null},La.size=function(){var e=0;return Z(this,function(){++e}),e};var Na=[];ha.selection.enter=X,ha.selection.enter.prototype=Na,Na.append=La.append,Na.empty=La.empty,Na.node=La.node,Na.call=La.call,Na.size=La.size,Na.select=function(e){for(var t,n,r,o,i,a=[],s=-1,u=this.length;++s<u;){r=(o=this[s]).update,a.push(t=[]),t.parentNode=o.parentNode;for(var l=-1,c=o.length;++l<c;)(i=o[l])?(t.push(r[l]=n=e.call(o.parentNode,i.__data__,l,s)),n.__data__=i.__data__):t.push(null)}return R(a)},Na.insert=function(e,t){return arguments.length<2&&(t=K(this)),La.insert.call(this,e,t)},ha.select=function(e){var t;return"string"==typeof e?(t=[za(e,ya)],t.parentNode=ya.documentElement):(t=[e],t.parentNode=i(e)),R([t])},ha.selectAll=function(e){var t;return"string"==typeof e?(t=ma(Ra(e,ya)),t.parentNode=ya.documentElement):(t=ma(e),t.parentNode=null),R([t])},La.on=function(e,t,n){var r=arguments.length;if(3>r){if("string"!=typeof e){2>r&&(t=!1);for(n in e)this.each(J(n,e[n],t));return this}if(2>r)return(r=this.node()["__on"+e])&&r._;n=!1}return this.each(J(e,t,n))};var Ia=ha.map({mouseenter:"mouseover",mouseleave:"mouseout"});ya&&Ia.forEach(function(e){"on"+e in ya&&Ia.remove(e)});var Fa,Ba=0;ha.mouse=function(e){return te(e,A())};var Ua=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;ha.touch=function(e,t,n){if(arguments.length<3&&(n=t,t=A().changedTouches),t)for(var r,o=0,i=t.length;i>o;++o)if((r=t[o]).identifier===n)return te(e,r)},ha.behavior.drag=function(){function e(){this.on("mousedown.drag",o).on("touchstart.drag",i)}function t(e,t,o,i,a){return function(){function s(){var e,n,r=t(f,m);r&&(e=r[0]-b[0],n=r[1]-b[1],d|=e|n,b=r,h({type:"drag",x:r[0]+l[0],y:r[1]+l[1],dx:e,dy:n}))}function u(){t(f,m)&&(g.on(i+y,null).on(a+y,null),v(d),h({type:"dragend"}))}var l,c=this,p=ha.event.target.correspondingElement||ha.event.target,f=c.parentNode,h=n.of(c,arguments),d=0,m=e(),y=".drag"+(null==m?"":"-"+m),g=ha.select(o(p)).on(i+y,s).on(a+y,u),v=ee(p),b=t(f,m);r?(l=r.apply(c,arguments),l=[l.x-b[0],l.y-b[1]]):l=[0,0],h({type:"dragstart"})}}var n=z(e,"drag","dragstart","dragend"),r=null,o=t(S,ha.mouse,a,"mousemove","mouseup"),i=t(ne,ha.touch,k,"touchmove","touchend");return e.origin=function(t){return arguments.length?(r=t,e):r},ha.rebind(e,n,"on")},ha.touches=function(e,t){return arguments.length<2&&(t=A().touches),t?ma(t).map(function(t){var n=te(e,t);return n.identifier=t.identifier,n}):[]};var Va=1e-6,Ya=Va*Va,qa=Math.PI,Wa=2*qa,Ha=Wa-Va,Ga=qa/2,Za=qa/180,Xa=180/qa,Ka=Math.SQRT2,Ja=2,Qa=4;ha.interpolateZoom=function(e,t){var n,r,o=e[0],i=e[1],a=e[2],s=t[0],u=t[1],l=t[2],c=s-o,p=u-i,f=c*c+p*p;if(Ya>f)r=Math.log(l/a)/Ka,n=function(e){return[o+e*c,i+e*p,a*Math.exp(Ka*e*r)]};else{var h=Math.sqrt(f),d=(l*l-a*a+Qa*f)/(2*a*Ja*h),m=(l*l-a*a-Qa*f)/(2*l*Ja*h),y=Math.log(Math.sqrt(d*d+1)-d),g=Math.log(Math.sqrt(m*m+1)-m);r=(g-y)/Ka,n=function(e){var t=e*r,n=ue(y),s=a/(Ja*h)*(n*le(Ka*t+y)-se(y));return[o+s*c,i+s*p,a*n/ue(Ka*t+y)]}}return n.duration=1e3*r,n},ha.behavior.zoom=function(){function e(e){e.on(A,p).on(es+".zoom",h).on("dblclick.zoom",d).on(L,f)}function t(e){return[(e[0]-E.x)/E.k,(e[1]-E.y)/E.k]}function n(e){return[e[0]*E.k+E.x,e[1]*E.k+E.y]}function r(e){E.k=Math.max(S[0],Math.min(S[1],e))}function o(e,t){t=n(t),E.x+=e[0]-t[0],E.y+=e[1]-t[1]}function i(t,n,i,a){t.__chart__={x:E.x,y:E.y,k:E.k},r(Math.pow(2,a)),o(y=n,i),t=ha.select(t),C>0&&(t=t.transition().duration(C)),t.call(e.event)}function s(){w&&w.domain(_.range().map(function(e){return(e-E.x)/E.k}).map(_.invert)),k&&k.domain(x.range().map(function(e){return(e-E.y)/E.k}).map(x.invert))}function u(e){M++||e({type:"zoomstart"})}function l(e){s(),e({type:"zoom",scale:E.k,translate:[E.x,E.y]})}function c(e){--M||(e({type:"zoomend"}),y=null)}function p(){function e(){s=1,o(ha.mouse(r),f),l(i)}function n(){p.on(R,null).on(O,null),h(s),c(i)}var r=this,i=D.of(r,arguments),s=0,p=ha.select(a(r)).on(R,e).on(O,n),f=t(ha.mouse(r)),h=ee(r);Gu.call(r),u(i)}function f(){function e(){var e=ha.touches(d);return h=E.k,e.forEach(function(e){e.identifier in y&&(y[e.identifier]=t(e))}),e}function n(){var t=ha.event.target;ha.select(t).on(_,a).on(w,s),x.push(t);for(var n=ha.event.changedTouches,r=0,o=n.length;o>r;++r)y[n[r].identifier]=null;var u=e(),l=Date.now();if(1===u.length){if(500>l-b){var c=u[0];i(d,c,y[c.identifier],Math.floor(Math.log(E.k)/Math.LN2)+1),P()}b=l}else if(u.length>1){var c=u[0],p=u[1],f=c[0]-p[0],h=c[1]-p[1];g=f*f+h*h}}function a(){var e,t,n,i,a=ha.touches(d);Gu.call(d);for(var s=0,u=a.length;u>s;++s,i=null)if(n=a[s],i=y[n.identifier]){if(t)break;e=n,t=i}if(i){var c=(c=n[0]-e[0])*c+(c=n[1]-e[1])*c,p=g&&Math.sqrt(c/g);e=[(e[0]+n[0])/2,(e[1]+n[1])/2],t=[(t[0]+i[0])/2,(t[1]+i[1])/2],r(p*h)}b=null,o(e,t),l(m)}function s(){if(ha.event.touches.length){for(var t=ha.event.changedTouches,n=0,r=t.length;r>n;++n)delete y[t[n].identifier];for(var o in y)return void e()}ha.selectAll(x).on(v,null),k.on(A,p).on(L,f),T(),c(m)}var h,d=this,m=D.of(d,arguments),y={},g=0,v=".zoom-"+ha.event.changedTouches[0].identifier,_="touchmove"+v,w="touchend"+v,x=[],k=ha.select(d),T=ee(d);n(),u(m),k.on(A,null).on(L,n)}function h(){var e=D.of(this,arguments);v?clearTimeout(v):(Gu.call(this),m=t(y=g||ha.mouse(this)),u(e)),v=setTimeout(function(){v=null,c(e)},50),P(),r(Math.pow(2,.002*$a())*E.k),o(y,m),l(e)}function d(){var e=ha.mouse(this),n=Math.log(E.k)/Math.LN2;i(this,e,t(e),ha.event.shiftKey?Math.ceil(n)-1:Math.floor(n)+1)}var m,y,g,v,b,_,w,x,k,E={x:0,y:0,k:1},T=[960,500],S=ts,C=250,M=0,A="mousedown.zoom",R="mousemove.zoom",O="mouseup.zoom",L="touchstart.zoom",D=z(e,"zoomstart","zoom","zoomend");return es||(es="onwheel"in ya?($a=function(){return-ha.event.deltaY*(ha.event.deltaMode?120:1)},"wheel"):"onmousewheel"in ya?($a=function(){return ha.event.wheelDelta},"mousewheel"):($a=function(){return-ha.event.detail},"MozMousePixelScroll")),e.event=function(e){e.each(function(){var e=D.of(this,arguments),t=E;Wu?ha.select(this).transition().each("start.zoom",function(){E=this.__chart__||{x:0,y:0,k:1},u(e)}).tween("zoom:zoom",function(){var n=T[0],r=T[1],o=y?y[0]:n/2,i=y?y[1]:r/2,a=ha.interpolateZoom([(o-E.x)/E.k,(i-E.y)/E.k,n/E.k],[(o-t.x)/t.k,(i-t.y)/t.k,n/t.k]);return function(t){var r=a(t),s=n/r[2];this.__chart__=E={x:o-r[0]*s,y:i-r[1]*s,k:s},l(e)}}).each("interrupt.zoom",function(){c(e)}).each("end.zoom",function(){c(e)}):(this.__chart__=E,u(e),l(e),c(e))})},e.translate=function(t){return arguments.length?(E={x:+t[0],y:+t[1],k:E.k},s(),e):[E.x,E.y]},e.scale=function(t){return arguments.length?(E={x:E.x,y:E.y,k:null},r(+t),s(),e):E.k},e.scaleExtent=function(t){return arguments.length?(S=null==t?ts:[+t[0],+t[1]],e):S},e.center=function(t){return arguments.length?(g=t&&[+t[0],+t[1]],e):g},e.size=function(t){return arguments.length?(T=t&&[+t[0],+t[1]],e):T},e.duration=function(t){return arguments.length?(C=+t,e):C},e.x=function(t){return arguments.length?(w=t,_=t.copy(),E={x:0,y:0,k:1},e):w},e.y=function(t){return arguments.length?(k=t,x=t.copy(),E={x:0,y:0,k:1},e):k},ha.rebind(e,D,"on")};var $a,es,ts=[0,1/0];ha.color=pe,pe.prototype.toString=function(){return this.rgb()+""},ha.hsl=fe;var ns=fe.prototype=new pe;ns.brighter=function(e){return e=Math.pow(.7,arguments.length?e:1),new fe(this.h,this.s,this.l/e)},ns.darker=function(e){return e=Math.pow(.7,arguments.length?e:1),new fe(this.h,this.s,e*this.l)},ns.rgb=function(){return he(this.h,this.s,this.l)},ha.hcl=de;var rs=de.prototype=new pe;rs.brighter=function(e){return new de(this.h,this.c,Math.min(100,this.l+os*(arguments.length?e:1)))},rs.darker=function(e){return new de(this.h,this.c,Math.max(0,this.l-os*(arguments.length?e:1)))},rs.rgb=function(){return me(this.h,this.c,this.l).rgb()},ha.lab=ye;var os=18,is=.95047,as=1,ss=1.08883,us=ye.prototype=new pe;us.brighter=function(e){return new ye(Math.min(100,this.l+os*(arguments.length?e:1)),this.a,this.b)},us.darker=function(e){return new ye(Math.max(0,this.l-os*(arguments.length?e:1)),this.a,this.b)},us.rgb=function(){return ge(this.l,this.a,this.b)},ha.rgb=xe;var ls=xe.prototype=new pe;ls.brighter=function(e){e=Math.pow(.7,arguments.length?e:1);var t=this.r,n=this.g,r=this.b,o=30;return t||n||r?(t&&o>t&&(t=o),n&&o>n&&(n=o),r&&o>r&&(r=o),new xe(Math.min(255,t/e),Math.min(255,n/e),Math.min(255,r/e))):new xe(o,o,o)},ls.darker=function(e){return e=Math.pow(.7,arguments.length?e:1),new xe(e*this.r,e*this.g,e*this.b)},ls.hsl=function(){return Ce(this.r,this.g,this.b)},ls.toString=function(){return"#"+Te(this.r)+Te(this.g)+Te(this.b)};var cs=ha.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});cs.forEach(function(e,t){cs.set(e,ke(t))}),ha.functor=ze,ha.xhr=Re(k),ha.dsv=function(e,t){function n(e,n,i){arguments.length<3&&(i=n,n=null);var a=Oe(e,t,null==n?r:o(n),i);return a.row=function(e){return arguments.length?a.response(null==(n=e)?r:o(e)):n},a}function r(e){return n.parse(e.responseText)}function o(e){return function(t){return n.parse(t.responseText,e)}}function i(t){return t.map(a).join(e)}function a(e){return s.test(e)?'"'+e.replace(/\"/g,'""')+'"':e}var s=new RegExp('["'+e+"\n]"),u=e.charCodeAt(0);return n.parse=function(e,t){var r;return n.parseRows(e,function(e,n){if(r)return r(e,n-1);var o=new Function("d","return {"+e.map(function(e,t){return JSON.stringify(e)+": d["+t+"]"}).join(",")+"}");r=t?function(e,n){return t(o(e),n)}:o})},n.parseRows=function(e,t){function n(){if(c>=l)return a;if(o)return o=!1,i;var t=c;if(34===e.charCodeAt(t)){for(var n=t;n++<l;)if(34===e.charCodeAt(n)){if(34!==e.charCodeAt(n+1))break;++n}c=n+2;var r=e.charCodeAt(n+1);return 13===r?(o=!0,10===e.charCodeAt(n+2)&&++c):10===r&&(o=!0),e.slice(t+1,n).replace(/""/g,'"')}for(;l>c;){var r=e.charCodeAt(c++),s=1;if(10===r)o=!0;else if(13===r)o=!0,10===e.charCodeAt(c)&&(++c,++s);else if(r!==u)continue;return e.slice(t,c-s)}return e.slice(t)}for(var r,o,i={},a={},s=[],l=e.length,c=0,p=0;(r=n())!==a;){for(var f=[];r!==i&&r!==a;)f.push(r),r=n();t&&null==(f=t(f,p++))||s.push(f)}return s},n.format=function(t){if(Array.isArray(t[0]))return n.formatRows(t);var r=new x,o=[];return t.forEach(function(e){for(var t in e)r.has(t)||o.push(r.add(t))}),[o.map(a).join(e)].concat(t.map(function(t){return o.map(function(e){return a(t[e])}).join(e)})).join("\n")},n.formatRows=function(e){return e.map(i).join("\n")},n},ha.csv=ha.dsv(",","text/csv"),ha.tsv=ha.dsv("	","text/tab-separated-values");var ps,fs,hs,ds,ms=this[T(this,"requestAnimationFrame")]||function(e){setTimeout(e,17)};ha.timer=function(){je.apply(this,arguments)},ha.timer.flush=function(){Ie(),Fe()},ha.round=function(e,t){return t?Math.round(e*(t=Math.pow(10,t)))/t:Math.round(e)};var ys=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"].map(Ue);ha.formatPrefix=function(e,t){var n=0;return(e=+e)&&(0>e&&(e*=-1),t&&(e=ha.round(e,Be(e,t))),n=1+Math.floor(1e-12+Math.log(e)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((n-1)/3)))),ys[8+n/3]};var gs=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,vs=ha.map({b:function(e){return e.toString(2)},c:function(e){return String.fromCharCode(e)},o:function(e){return e.toString(8)},x:function(e){return e.toString(16)},X:function(e){return e.toString(16).toUpperCase()},g:function(e,t){return e.toPrecision(t)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},r:function(e,t){return(e=ha.round(e,Be(e,t))).toFixed(Math.max(0,Math.min(20,Be(e*(1+1e-15),t))))}}),bs=ha.time={},_s=Date;qe.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){ws.setUTCDate.apply(this._,arguments)},setDay:function(){ws.setUTCDay.apply(this._,arguments)},setFullYear:function(){ws.setUTCFullYear.apply(this._,arguments)},setHours:function(){ws.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){ws.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){ws.setUTCMinutes.apply(this._,arguments)},setMonth:function(){ws.setUTCMonth.apply(this._,arguments)},setSeconds:function(){ws.setUTCSeconds.apply(this._,arguments)},setTime:function(){ws.setTime.apply(this._,arguments)}};var ws=Date.prototype;bs.year=We(function(e){return e=bs.day(e),e.setMonth(0,1),e},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e){return e.getFullYear()}),bs.years=bs.year.range,bs.years.utc=bs.year.utc.range,bs.day=We(function(e){var t=new _s(2e3,0);return t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),t},function(e,t){e.setDate(e.getDate()+t)},function(e){return e.getDate()-1}),bs.days=bs.day.range,bs.days.utc=bs.day.utc.range,bs.dayOfYear=function(e){var t=bs.year(e);return Math.floor((e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(e,t){t=7-t;var n=bs[e]=We(function(e){return(e=bs.day(e)).setDate(e.getDate()-(e.getDay()+t)%7),e},function(e,t){e.setDate(e.getDate()+7*Math.floor(t))},function(e){var n=bs.year(e).getDay();return Math.floor((bs.dayOfYear(e)+(n+t)%7)/7)-(n!==t);
});bs[e+"s"]=n.range,bs[e+"s"].utc=n.utc.range,bs[e+"OfYear"]=function(e){var n=bs.year(e).getDay();return Math.floor((bs.dayOfYear(e)+(n+t)%7)/7)}}),bs.week=bs.sunday,bs.weeks=bs.sunday.range,bs.weeks.utc=bs.sunday.utc.range,bs.weekOfYear=bs.sundayOfYear;var xs={"-":"",_:" ",0:"0"},ks=/^\s*\d+/,Es=/^%/;ha.locale=function(e){return{numberFormat:Ve(e),timeFormat:Ge(e)}};var Ts=ha.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});ha.format=Ts.numberFormat,ha.geo={},dt.prototype={s:0,t:0,add:function(e){mt(e,this.t,Ss),mt(Ss.s,this.s,this),this.s?this.t+=Ss.t:this.s=Ss.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var Ss=new dt;ha.geo.stream=function(e,t){e&&Cs.hasOwnProperty(e.type)?Cs[e.type](e,t):yt(e,t)};var Cs={Feature:function(e,t){yt(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,o=n.length;++r<o;)yt(n[r].geometry,t)}},Ms={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,o=n.length;++r<o;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){gt(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,o=n.length;++r<o;)gt(n[r],t,0)},Polygon:function(e,t){vt(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,o=n.length;++r<o;)vt(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,o=n.length;++r<o;)yt(n[r],t)}};ha.geo.area=function(e){return Ps=0,ha.geo.stream(e,zs),Ps};var Ps,As=new dt,zs={sphere:function(){Ps+=4*qa},point:S,lineStart:S,lineEnd:S,polygonStart:function(){As.reset(),zs.lineStart=bt},polygonEnd:function(){var e=2*As;Ps+=0>e?4*qa+e:e,zs.lineStart=zs.lineEnd=zs.point=S}};ha.geo.bounds=function(){function e(e,t){b.push(_=[c=e,f=e]),p>t&&(p=t),t>h&&(h=t)}function t(t,n){var r=_t([t*Za,n*Za]);if(g){var o=xt(g,r),i=[o[1],-o[0],0],a=xt(i,o);Tt(a),a=St(a);var u=t-d,l=u>0?1:-1,m=a[0]*Xa*l,y=Ta(u)>180;if(y^(m>l*d&&l*t>m)){var v=a[1]*Xa;v>h&&(h=v)}else if(m=(m+360)%360-180,y^(m>l*d&&l*t>m)){var v=-a[1]*Xa;p>v&&(p=v)}else p>n&&(p=n),n>h&&(h=n);y?d>t?s(c,t)>s(c,f)&&(f=t):s(t,f)>s(c,f)&&(c=t):f>=c?(c>t&&(c=t),t>f&&(f=t)):t>d?s(c,t)>s(c,f)&&(f=t):s(t,f)>s(c,f)&&(c=t)}else e(t,n);g=r,d=t}function n(){w.point=t}function r(){_[0]=c,_[1]=f,w.point=e,g=null}function o(e,n){if(g){var r=e-d;v+=Ta(r)>180?r+(r>0?360:-360):r}else m=e,y=n;zs.point(e,n),t(e,n)}function i(){zs.lineStart()}function a(){o(m,y),zs.lineEnd(),Ta(v)>Va&&(c=-(f=180)),_[0]=c,_[1]=f,g=null}function s(e,t){return(t-=e)<0?t+360:t}function u(e,t){return e[0]-t[0]}function l(e,t){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}var c,p,f,h,d,m,y,g,v,b,_,w={point:e,lineStart:n,lineEnd:r,polygonStart:function(){w.point=o,w.lineStart=i,w.lineEnd=a,v=0,zs.polygonStart()},polygonEnd:function(){zs.polygonEnd(),w.point=e,w.lineStart=n,w.lineEnd=r,0>As?(c=-(f=180),p=-(h=90)):v>Va?h=90:-Va>v&&(p=-90),_[0]=c,_[1]=f}};return function(e){h=f=-(c=p=1/0),b=[],ha.geo.stream(e,w);var t=b.length;if(t){b.sort(u);for(var n,r=1,o=b[0],i=[o];t>r;++r)n=b[r],l(n[0],o)||l(n[1],o)?(s(o[0],n[1])>s(o[0],o[1])&&(o[1]=n[1]),s(n[0],o[1])>s(o[0],o[1])&&(o[0]=n[0])):i.push(o=n);for(var a,n,d=-(1/0),t=i.length-1,r=0,o=i[t];t>=r;o=n,++r)n=i[r],(a=s(o[1],n[0]))>d&&(d=a,c=n[0],f=o[1])}return b=_=null,c===1/0||p===1/0?[[NaN,NaN],[NaN,NaN]]:[[c,p],[f,h]]}}(),ha.geo.centroid=function(e){Rs=Os=Ls=Ds=js=Ns=Is=Fs=Bs=Us=Vs=0,ha.geo.stream(e,Ys);var t=Bs,n=Us,r=Vs,o=t*t+n*n+r*r;return Ya>o&&(t=Ns,n=Is,r=Fs,Va>Os&&(t=Ls,n=Ds,r=js),o=t*t+n*n+r*r,Ya>o)?[NaN,NaN]:[Math.atan2(n,t)*Xa,ae(r/Math.sqrt(o))*Xa]};var Rs,Os,Ls,Ds,js,Ns,Is,Fs,Bs,Us,Vs,Ys={sphere:S,point:Mt,lineStart:At,lineEnd:zt,polygonStart:function(){Ys.lineStart=Rt},polygonEnd:function(){Ys.lineStart=At}},qs=It(Lt,Vt,qt,[-qa,-qa/2]),Ws=1e9;ha.geo.clipExtent=function(){var e,t,n,r,o,i,a={stream:function(e){return o&&(o.valid=!1),o=i(e),o.valid=!0,o},extent:function(s){return arguments.length?(i=Zt(e=+s[0][0],t=+s[0][1],n=+s[1][0],r=+s[1][1]),o&&(o.valid=!1,o=null),a):[[e,t],[n,r]]}};return a.extent([[0,0],[960,500]])},(ha.geo.conicEqualArea=function(){return Xt(Kt)}).raw=Kt,ha.geo.albers=function(){return ha.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},ha.geo.albersUsa=function(){function e(e){var i=e[0],a=e[1];return t=null,n(i,a),t||(r(i,a),t)||o(i,a),t}var t,n,r,o,i=ha.geo.albers(),a=ha.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s=ha.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),u={point:function(e,n){t=[e,n]}};return e.invert=function(e){var t=i.scale(),n=i.translate(),r=(e[0]-n[0])/t,o=(e[1]-n[1])/t;return(o>=.12&&.234>o&&r>=-.425&&-.214>r?a:o>=.166&&.234>o&&r>=-.214&&-.115>r?s:i).invert(e)},e.stream=function(e){var t=i.stream(e),n=a.stream(e),r=s.stream(e);return{point:function(e,o){t.point(e,o),n.point(e,o),r.point(e,o)},sphere:function(){t.sphere(),n.sphere(),r.sphere()},lineStart:function(){t.lineStart(),n.lineStart(),r.lineStart()},lineEnd:function(){t.lineEnd(),n.lineEnd(),r.lineEnd()},polygonStart:function(){t.polygonStart(),n.polygonStart(),r.polygonStart()},polygonEnd:function(){t.polygonEnd(),n.polygonEnd(),r.polygonEnd()}}},e.precision=function(t){return arguments.length?(i.precision(t),a.precision(t),s.precision(t),e):i.precision()},e.scale=function(t){return arguments.length?(i.scale(t),a.scale(.35*t),s.scale(t),e.translate(i.translate())):i.scale()},e.translate=function(t){if(!arguments.length)return i.translate();var l=i.scale(),c=+t[0],p=+t[1];return n=i.translate(t).clipExtent([[c-.455*l,p-.238*l],[c+.455*l,p+.238*l]]).stream(u).point,r=a.translate([c-.307*l,p+.201*l]).clipExtent([[c-.425*l+Va,p+.12*l+Va],[c-.214*l-Va,p+.234*l-Va]]).stream(u).point,o=s.translate([c-.205*l,p+.212*l]).clipExtent([[c-.214*l+Va,p+.166*l+Va],[c-.115*l-Va,p+.234*l-Va]]).stream(u).point,e},e.scale(1070)};var Hs,Gs,Zs,Xs,Ks,Js,Qs={point:S,lineStart:S,lineEnd:S,polygonStart:function(){Gs=0,Qs.lineStart=Jt},polygonEnd:function(){Qs.lineStart=Qs.lineEnd=Qs.point=S,Hs+=Ta(Gs/2)}},$s={point:Qt,lineStart:S,lineEnd:S,polygonStart:S,polygonEnd:S},eu={point:tn,lineStart:nn,lineEnd:rn,polygonStart:function(){eu.lineStart=on},polygonEnd:function(){eu.point=tn,eu.lineStart=nn,eu.lineEnd=rn}};ha.geo.path=function(){function e(e){return e&&("function"==typeof s&&i.pointRadius(+s.apply(this,arguments)),a&&a.valid||(a=o(i)),ha.geo.stream(e,a)),i.result()}function t(){return a=null,e}var n,r,o,i,a,s=4.5;return e.area=function(e){return Hs=0,ha.geo.stream(e,o(Qs)),Hs},e.centroid=function(e){return Ls=Ds=js=Ns=Is=Fs=Bs=Us=Vs=0,ha.geo.stream(e,o(eu)),Vs?[Bs/Vs,Us/Vs]:Fs?[Ns/Fs,Is/Fs]:js?[Ls/js,Ds/js]:[NaN,NaN]},e.bounds=function(e){return Ks=Js=-(Zs=Xs=1/0),ha.geo.stream(e,o($s)),[[Zs,Xs],[Ks,Js]]},e.projection=function(e){return arguments.length?(o=(n=e)?e.stream||un(e):k,t()):n},e.context=function(e){return arguments.length?(i=null==(r=e)?new $t:new an(e),"function"!=typeof s&&i.pointRadius(s),t()):r},e.pointRadius=function(t){return arguments.length?(s="function"==typeof t?t:(i.pointRadius(+t),+t),e):s},e.projection(ha.geo.albersUsa()).context(null)},ha.geo.transform=function(e){return{stream:function(t){var n=new ln(t);for(var r in e)n[r]=e[r];return n}}},ln.prototype={point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},ha.geo.projection=pn,ha.geo.projectionMutator=fn,(ha.geo.equirectangular=function(){return pn(dn)}).raw=dn.invert=dn,ha.geo.rotation=function(e){function t(t){return t=e(t[0]*Za,t[1]*Za),t[0]*=Xa,t[1]*=Xa,t}return e=yn(e[0]%360*Za,e[1]*Za,e.length>2?e[2]*Za:0),t.invert=function(t){return t=e.invert(t[0]*Za,t[1]*Za),t[0]*=Xa,t[1]*=Xa,t},t},mn.invert=dn,ha.geo.circle=function(){function e(){var e="function"==typeof r?r.apply(this,arguments):r,t=yn(-e[0]*Za,-e[1]*Za,0).invert,o=[];return n(null,null,1,{point:function(e,n){o.push(e=t(e,n)),e[0]*=Xa,e[1]*=Xa}}),{type:"Polygon",coordinates:[o]}}var t,n,r=[0,0],o=6;return e.origin=function(t){return arguments.length?(r=t,e):r},e.angle=function(r){return arguments.length?(n=_n((t=+r)*Za,o*Za),e):t},e.precision=function(r){return arguments.length?(n=_n(t*Za,(o=+r)*Za),e):o},e.angle(90)},ha.geo.distance=function(e,t){var n,r=(t[0]-e[0])*Za,o=e[1]*Za,i=t[1]*Za,a=Math.sin(r),s=Math.cos(r),u=Math.sin(o),l=Math.cos(o),c=Math.sin(i),p=Math.cos(i);return Math.atan2(Math.sqrt((n=p*a)*n+(n=l*c-u*p*s)*n),u*c+l*p*s)},ha.geo.graticule=function(){function e(){return{type:"MultiLineString",coordinates:t()}}function t(){return ha.range(Math.ceil(i/y)*y,o,y).map(f).concat(ha.range(Math.ceil(l/g)*g,u,g).map(h)).concat(ha.range(Math.ceil(r/d)*d,n,d).filter(function(e){return Ta(e%y)>Va}).map(c)).concat(ha.range(Math.ceil(s/m)*m,a,m).filter(function(e){return Ta(e%g)>Va}).map(p))}var n,r,o,i,a,s,u,l,c,p,f,h,d=10,m=d,y=90,g=360,v=2.5;return e.lines=function(){return t().map(function(e){return{type:"LineString",coordinates:e}})},e.outline=function(){return{type:"Polygon",coordinates:[f(i).concat(h(u).slice(1),f(o).reverse().slice(1),h(l).reverse().slice(1))]}},e.extent=function(t){return arguments.length?e.majorExtent(t).minorExtent(t):e.minorExtent()},e.majorExtent=function(t){return arguments.length?(i=+t[0][0],o=+t[1][0],l=+t[0][1],u=+t[1][1],i>o&&(t=i,i=o,o=t),l>u&&(t=l,l=u,u=t),e.precision(v)):[[i,l],[o,u]]},e.minorExtent=function(t){return arguments.length?(r=+t[0][0],n=+t[1][0],s=+t[0][1],a=+t[1][1],r>n&&(t=r,r=n,n=t),s>a&&(t=s,s=a,a=t),e.precision(v)):[[r,s],[n,a]]},e.step=function(t){return arguments.length?e.majorStep(t).minorStep(t):e.minorStep()},e.majorStep=function(t){return arguments.length?(y=+t[0],g=+t[1],e):[y,g]},e.minorStep=function(t){return arguments.length?(d=+t[0],m=+t[1],e):[d,m]},e.precision=function(t){return arguments.length?(v=+t,c=xn(s,a,90),p=kn(r,n,v),f=xn(l,u,90),h=kn(i,o,v),e):v},e.majorExtent([[-180,-90+Va],[180,90-Va]]).minorExtent([[-180,-80-Va],[180,80+Va]])},ha.geo.greatArc=function(){function e(){return{type:"LineString",coordinates:[t||r.apply(this,arguments),n||o.apply(this,arguments)]}}var t,n,r=En,o=Tn;return e.distance=function(){return ha.geo.distance(t||r.apply(this,arguments),n||o.apply(this,arguments))},e.source=function(n){return arguments.length?(r=n,t="function"==typeof n?null:n,e):r},e.target=function(t){return arguments.length?(o=t,n="function"==typeof t?null:t,e):o},e.precision=function(){return arguments.length?e:0},e},ha.geo.interpolate=function(e,t){return Sn(e[0]*Za,e[1]*Za,t[0]*Za,t[1]*Za)},ha.geo.length=function(e){return tu=0,ha.geo.stream(e,nu),tu};var tu,nu={sphere:S,point:S,lineStart:Cn,lineEnd:S,polygonStart:S,polygonEnd:S},ru=Mn(function(e){return Math.sqrt(2/(1+e))},function(e){return 2*Math.asin(e/2)});(ha.geo.azimuthalEqualArea=function(){return pn(ru)}).raw=ru;var ou=Mn(function(e){var t=Math.acos(e);return t&&t/Math.sin(t)},k);(ha.geo.azimuthalEquidistant=function(){return pn(ou)}).raw=ou,(ha.geo.conicConformal=function(){return Xt(Pn)}).raw=Pn,(ha.geo.conicEquidistant=function(){return Xt(An)}).raw=An;var iu=Mn(function(e){return 1/e},Math.atan);(ha.geo.gnomonic=function(){return pn(iu)}).raw=iu,zn.invert=function(e,t){return[e,2*Math.atan(Math.exp(t))-Ga]},(ha.geo.mercator=function(){return Rn(zn)}).raw=zn;var au=Mn(function(){return 1},Math.asin);(ha.geo.orthographic=function(){return pn(au)}).raw=au;var su=Mn(function(e){return 1/(1+e)},function(e){return 2*Math.atan(e)});(ha.geo.stereographic=function(){return pn(su)}).raw=su,On.invert=function(e,t){return[-t,2*Math.atan(Math.exp(e))-Ga]},(ha.geo.transverseMercator=function(){var e=Rn(On),t=e.center,n=e.rotate;return e.center=function(e){return e?t([-e[1],e[0]]):(e=t(),[e[1],-e[0]])},e.rotate=function(e){return e?n([e[0],e[1],e.length>2?e[2]+90:90]):(e=n(),[e[0],e[1],e[2]-90])},n([0,0,90])}).raw=On,ha.geom={},ha.geom.hull=function(e){function t(e){if(e.length<3)return[];var t,o=ze(n),i=ze(r),a=e.length,s=[],u=[];for(t=0;a>t;t++)s.push([+o.call(this,e[t],t),+i.call(this,e[t],t),t]);for(s.sort(Nn),t=0;a>t;t++)u.push([s[t][0],-s[t][1]]);var l=jn(s),c=jn(u),p=c[0]===l[0],f=c[c.length-1]===l[l.length-1],h=[];for(t=l.length-1;t>=0;--t)h.push(e[s[l[t]][2]]);for(t=+p;t<c.length-f;++t)h.push(e[s[c[t]][2]]);return h}var n=Ln,r=Dn;return arguments.length?t(e):(t.x=function(e){return arguments.length?(n=e,t):n},t.y=function(e){return arguments.length?(r=e,t):r},t)},ha.geom.polygon=function(e){return Aa(e,uu),e};var uu=ha.geom.polygon.prototype=[];uu.area=function(){for(var e,t=-1,n=this.length,r=this[n-1],o=0;++t<n;)e=r,r=this[t],o+=e[1]*r[0]-e[0]*r[1];return.5*o},uu.centroid=function(e){var t,n,r=-1,o=this.length,i=0,a=0,s=this[o-1];for(arguments.length||(e=-1/(6*this.area()));++r<o;)t=s,s=this[r],n=t[0]*s[1]-s[0]*t[1],i+=(t[0]+s[0])*n,a+=(t[1]+s[1])*n;return[i*e,a*e]},uu.clip=function(e){for(var t,n,r,o,i,a,s=Bn(e),u=-1,l=this.length-Bn(this),c=this[l-1];++u<l;){for(t=e.slice(),e.length=0,o=this[u],i=t[(r=t.length-s)-1],n=-1;++n<r;)a=t[n],In(a,c,o)?(In(i,c,o)||e.push(Fn(i,a,c,o)),e.push(a)):In(i,c,o)&&e.push(Fn(i,a,c,o)),i=a;s&&e.push(e[0]),c=o}return e};var lu,cu,pu,fu,hu,du=[],mu=[];Zn.prototype.prepare=function(){for(var e,t=this.edges,n=t.length;n--;)e=t[n].edge,e.b&&e.a||t.splice(n,1);return t.sort(Kn),t.length},ar.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},sr.prototype={insert:function(e,t){var n,r,o;if(e){if(t.P=e,t.N=e.N,e.N&&(e.N.P=t),e.N=t,e.R){for(e=e.R;e.L;)e=e.L;e.L=t}else e.R=t;n=e}else this._?(e=pr(this._),t.P=null,t.N=e,e.P=e.L=t,n=e):(t.P=t.N=null,this._=t,n=null);for(t.L=t.R=null,t.U=n,t.C=!0,e=t;n&&n.C;)r=n.U,n===r.L?(o=r.R,o&&o.C?(n.C=o.C=!1,r.C=!0,e=r):(e===n.R&&(lr(this,n),e=n,n=e.U),n.C=!1,r.C=!0,cr(this,r))):(o=r.L,o&&o.C?(n.C=o.C=!1,r.C=!0,e=r):(e===n.L&&(cr(this,n),e=n,n=e.U),n.C=!1,r.C=!0,lr(this,r))),n=e.U;this._.C=!1},remove:function(e){e.N&&(e.N.P=e.P),e.P&&(e.P.N=e.N),e.N=e.P=null;var t,n,r,o=e.U,i=e.L,a=e.R;if(n=i?a?pr(a):i:a,o?o.L===e?o.L=n:o.R=n:this._=n,i&&a?(r=n.C,n.C=e.C,n.L=i,i.U=n,n!==a?(o=n.U,n.U=e.U,e=n.R,o.L=e,n.R=a,a.U=n):(n.U=o,o=n,e=n.R)):(r=e.C,e=n),e&&(e.U=o),!r){if(e&&e.C)return void(e.C=!1);do{if(e===this._)break;if(e===o.L){if(t=o.R,t.C&&(t.C=!1,o.C=!0,lr(this,o),t=o.R),t.L&&t.L.C||t.R&&t.R.C){t.R&&t.R.C||(t.L.C=!1,t.C=!0,cr(this,t),t=o.R),t.C=o.C,o.C=t.R.C=!1,lr(this,o),e=this._;break}}else if(t=o.L,t.C&&(t.C=!1,o.C=!0,cr(this,o),t=o.L),t.L&&t.L.C||t.R&&t.R.C){t.L&&t.L.C||(t.R.C=!1,t.C=!0,lr(this,t),t=o.L),t.C=o.C,o.C=t.L.C=!1,cr(this,o),e=this._;break}t.C=!0,e=o,o=o.U}while(!e.C);e&&(e.C=!1)}}},ha.geom.voronoi=function(e){function t(e){var t=new Array(e.length),r=s[0][0],o=s[0][1],i=s[1][0],a=s[1][1];return fr(n(e),s).cells.forEach(function(n,s){var u=n.edges,l=n.site,c=t[s]=u.length?u.map(function(e){var t=e.start();return[t.x,t.y]}):l.x>=r&&l.x<=i&&l.y>=o&&l.y<=a?[[r,a],[i,a],[i,o],[r,o]]:[];c.point=e[s]}),t}function n(e){return e.map(function(e,t){return{x:Math.round(i(e,t)/Va)*Va,y:Math.round(a(e,t)/Va)*Va,i:t}})}var r=Ln,o=Dn,i=r,a=o,s=yu;return e?t(e):(t.links=function(e){return fr(n(e)).edges.filter(function(e){return e.l&&e.r}).map(function(t){return{source:e[t.l.i],target:e[t.r.i]}})},t.triangles=function(e){var t=[];return fr(n(e)).cells.forEach(function(n,r){for(var o,i,a=n.site,s=n.edges.sort(Kn),u=-1,l=s.length,c=s[l-1].edge,p=c.l===a?c.r:c.l;++u<l;)o=c,i=p,c=s[u].edge,p=c.l===a?c.r:c.l,r<i.i&&r<p.i&&dr(a,i,p)<0&&t.push([e[r],e[i.i],e[p.i]])}),t},t.x=function(e){return arguments.length?(i=ze(r=e),t):r},t.y=function(e){return arguments.length?(a=ze(o=e),t):o},t.clipExtent=function(e){return arguments.length?(s=null==e?yu:e,t):s===yu?null:s},t.size=function(e){return arguments.length?t.clipExtent(e&&[[0,0],e]):s===yu?null:s&&s[1]},t)};var yu=[[-1e6,-1e6],[1e6,1e6]];ha.geom.delaunay=function(e){return ha.geom.voronoi().triangles(e)},ha.geom.quadtree=function(e,t,n,r,o){function i(e){function i(e,t,n,r,o,i,a,s){if(!isNaN(n)&&!isNaN(r))if(e.leaf){var u=e.x,c=e.y;if(null!=u)if(Ta(u-n)+Ta(c-r)<.01)l(e,t,n,r,o,i,a,s);else{var p=e.point;e.x=e.y=e.point=null,l(e,p,u,c,o,i,a,s),l(e,t,n,r,o,i,a,s)}else e.x=n,e.y=r,e.point=t}else l(e,t,n,r,o,i,a,s)}function l(e,t,n,r,o,a,s,u){var l=.5*(o+s),c=.5*(a+u),p=n>=l,f=r>=c,h=f<<1|p;e.leaf=!1,e=e.nodes[h]||(e.nodes[h]=gr()),p?o=l:s=l,f?a=c:u=c,i(e,t,n,r,o,a,s,u)}var c,p,f,h,d,m,y,g,v,b=ze(s),_=ze(u);if(null!=t)m=t,y=n,g=r,v=o;else if(g=v=-(m=y=1/0),p=[],f=[],d=e.length,a)for(h=0;d>h;++h)c=e[h],c.x<m&&(m=c.x),c.y<y&&(y=c.y),c.x>g&&(g=c.x),c.y>v&&(v=c.y),p.push(c.x),f.push(c.y);else for(h=0;d>h;++h){var w=+b(c=e[h],h),x=+_(c,h);m>w&&(m=w),y>x&&(y=x),w>g&&(g=w),x>v&&(v=x),p.push(w),f.push(x)}var k=g-m,E=v-y;k>E?v=y+k:g=m+E;var T=gr();if(T.add=function(e){i(T,e,+b(e,++h),+_(e,h),m,y,g,v)},T.visit=function(e){vr(e,T,m,y,g,v)},T.find=function(e){return br(T,e[0],e[1],m,y,g,v)},h=-1,null==t){for(;++h<d;)i(T,e[h],p[h],f[h],m,y,g,v);--h}else e.forEach(T.add);return p=f=e=c=null,T}var a,s=Ln,u=Dn;return(a=arguments.length)?(s=mr,u=yr,3===a&&(o=n,r=t,n=t=0),i(e)):(i.x=function(e){return arguments.length?(s=e,i):s},i.y=function(e){return arguments.length?(u=e,i):u},i.extent=function(e){return arguments.length?(null==e?t=n=r=o=null:(t=+e[0][0],n=+e[0][1],r=+e[1][0],o=+e[1][1]),i):null==t?null:[[t,n],[r,o]]},i.size=function(e){return arguments.length?(null==e?t=n=r=o=null:(t=n=0,r=+e[0],o=+e[1]),i):null==t?null:[r-t,o-n]},i)},ha.interpolateRgb=_r,ha.interpolateObject=wr,ha.interpolateNumber=xr,ha.interpolateString=kr;var gu=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,vu=new RegExp(gu.source,"g");ha.interpolate=Er,ha.interpolators=[function(e,t){var n=typeof t;return("string"===n?cs.has(t.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(t)?_r:kr:t instanceof pe?_r:Array.isArray(t)?Tr:"object"===n&&isNaN(t)?wr:xr)(e,t)}],ha.interpolateArray=Tr;var bu=function(){return k},_u=ha.map({linear:bu,poly:Rr,quad:function(){return Pr},cubic:function(){return Ar},sin:function(){return Or},exp:function(){return Lr},circle:function(){return Dr},elastic:jr,back:Nr,bounce:function(){return Ir}}),wu=ha.map({"in":k,out:Cr,"in-out":Mr,"out-in":function(e){return Mr(Cr(e))}});ha.ease=function(e){var t=e.indexOf("-"),n=t>=0?e.slice(0,t):e,r=t>=0?e.slice(t+1):"in";return n=_u.get(n)||bu,r=wu.get(r)||k,Sr(r(n.apply(null,da.call(arguments,1))))},ha.interpolateHcl=Fr,ha.interpolateHsl=Br,ha.interpolateLab=Ur,ha.interpolateRound=Vr,ha.transform=function(e){var t=ya.createElementNS(ha.ns.prefix.svg,"g");return(ha.transform=function(e){if(null!=e){t.setAttribute("transform",e);var n=t.transform.baseVal.consolidate()}return new Yr(n?n.matrix:xu)})(e)},Yr.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var xu={a:1,b:0,c:0,d:1,e:0,f:0};ha.interpolateTransform=Qr,ha.layout={},ha.layout.bundle=function(){return function(e){for(var t=[],n=-1,r=e.length;++n<r;)t.push(to(e[n]));return t}},ha.layout.chord=function(){function e(){var e,l,p,f,h,d={},m=[],y=ha.range(i),g=[];for(n=[],r=[],e=0,f=-1;++f<i;){for(l=0,h=-1;++h<i;)l+=o[f][h];m.push(l),g.push(ha.range(i)),e+=l}for(a&&y.sort(function(e,t){return a(m[e],m[t])}),s&&g.forEach(function(e,t){e.sort(function(e,n){return s(o[t][e],o[t][n])})}),e=(Wa-c*i)/e,l=0,f=-1;++f<i;){for(p=l,h=-1;++h<i;){var v=y[f],b=g[v][h],_=o[v][b],w=l,x=l+=_*e;d[v+"-"+b]={index:v,subindex:b,startAngle:w,endAngle:x,value:_}}r[v]={index:v,startAngle:p,endAngle:l,value:m[v]},l+=c}for(f=-1;++f<i;)for(h=f-1;++h<i;){var k=d[f+"-"+h],E=d[h+"-"+f];(k.value||E.value)&&n.push(k.value<E.value?{source:E,target:k}:{source:k,target:E})}u&&t()}function t(){n.sort(function(e,t){return u((e.source.value+e.target.value)/2,(t.source.value+t.target.value)/2)})}var n,r,o,i,a,s,u,l={},c=0;return l.matrix=function(e){return arguments.length?(i=(o=e)&&o.length,n=r=null,l):o},l.padding=function(e){return arguments.length?(c=e,n=r=null,l):c},l.sortGroups=function(e){return arguments.length?(a=e,n=r=null,l):a},l.sortSubgroups=function(e){return arguments.length?(s=e,n=null,l):s},l.sortChords=function(e){return arguments.length?(u=e,n&&t(),l):u},l.chords=function(){return n||e(),n},l.groups=function(){return r||e(),r},l},ha.layout.force=function(){function e(e){return function(t,n,r,o){if(t.point!==e){var i=t.cx-e.x,a=t.cy-e.y,s=o-n,u=i*i+a*a;if(u>s*s/g){if(m>u){var l=t.charge/u;e.px-=i*l,e.py-=a*l}return!0}if(t.point&&u&&m>u){var l=t.pointCharge/u;e.px-=i*l,e.py-=a*l}}return!t.charge}}function t(e){e.px=ha.event.x,e.py=ha.event.y,u.resume()}var n,r,o,i,a,s,u={},l=ha.dispatch("start","tick","end"),c=[1,1],p=.9,f=ku,h=Eu,d=-30,m=Tu,y=.1,g=.64,v=[],b=[];return u.tick=function(){if((o*=.99)<.005)return n=null,l.end({type:"end",alpha:o=0}),!0;var t,r,u,f,h,m,g,_,w,x=v.length,k=b.length;for(r=0;k>r;++r)u=b[r],f=u.source,h=u.target,_=h.x-f.x,w=h.y-f.y,(m=_*_+w*w)&&(m=o*a[r]*((m=Math.sqrt(m))-i[r])/m,_*=m,w*=m,h.x-=_*(g=f.weight+h.weight?f.weight/(f.weight+h.weight):.5),h.y-=w*g,f.x+=_*(g=1-g),f.y+=w*g);if((g=o*y)&&(_=c[0]/2,w=c[1]/2,r=-1,g))for(;++r<x;)u=v[r],u.x+=(_-u.x)*g,u.y+=(w-u.y)*g;if(d)for(uo(t=ha.geom.quadtree(v),o,s),r=-1;++r<x;)(u=v[r]).fixed||t.visit(e(u));for(r=-1;++r<x;)u=v[r],u.fixed?(u.x=u.px,u.y=u.py):(u.x-=(u.px-(u.px=u.x))*p,u.y-=(u.py-(u.py=u.y))*p);l.tick({type:"tick",alpha:o})},u.nodes=function(e){return arguments.length?(v=e,u):v},u.links=function(e){return arguments.length?(b=e,u):b},u.size=function(e){return arguments.length?(c=e,u):c},u.linkDistance=function(e){return arguments.length?(f="function"==typeof e?e:+e,u):f},u.distance=u.linkDistance,u.linkStrength=function(e){return arguments.length?(h="function"==typeof e?e:+e,u):h},u.friction=function(e){return arguments.length?(p=+e,u):p},u.charge=function(e){return arguments.length?(d="function"==typeof e?e:+e,u):d},u.chargeDistance=function(e){return arguments.length?(m=e*e,u):Math.sqrt(m)},u.gravity=function(e){return arguments.length?(y=+e,u):y},u.theta=function(e){return arguments.length?(g=e*e,u):Math.sqrt(g)},u.alpha=function(e){return arguments.length?(e=+e,o?e>0?o=e:(n.c=null,n.t=NaN,n=null,l.end({type:"end",alpha:o=0})):e>0&&(l.start({type:"start",alpha:o=e}),n=je(u.tick)),u):o},u.start=function(){function e(e,r){if(!n){for(n=new Array(o),u=0;o>u;++u)n[u]=[];for(u=0;l>u;++u){var i=b[u];n[i.source.index].push(i.target),n[i.target.index].push(i.source)}}for(var a,s=n[t],u=-1,c=s.length;++u<c;)if(!isNaN(a=s[u][e]))return a;return Math.random()*r}var t,n,r,o=v.length,l=b.length,p=c[0],m=c[1];for(t=0;o>t;++t)(r=v[t]).index=t,r.weight=0;for(t=0;l>t;++t)r=b[t],"number"==typeof r.source&&(r.source=v[r.source]),"number"==typeof r.target&&(r.target=v[r.target]),++r.source.weight,++r.target.weight;for(t=0;o>t;++t)r=v[t],isNaN(r.x)&&(r.x=e("x",p)),isNaN(r.y)&&(r.y=e("y",m)),isNaN(r.px)&&(r.px=r.x),isNaN(r.py)&&(r.py=r.y);if(i=[],"function"==typeof f)for(t=0;l>t;++t)i[t]=+f.call(this,b[t],t);else for(t=0;l>t;++t)i[t]=f;if(a=[],"function"==typeof h)for(t=0;l>t;++t)a[t]=+h.call(this,b[t],t);else for(t=0;l>t;++t)a[t]=h;if(s=[],"function"==typeof d)for(t=0;o>t;++t)s[t]=+d.call(this,v[t],t);else for(t=0;o>t;++t)s[t]=d;return u.resume()},u.resume=function(){return u.alpha(.1)},u.stop=function(){return u.alpha(0)},u.drag=function(){return r||(r=ha.behavior.drag().origin(k).on("dragstart.force",oo).on("drag.force",t).on("dragend.force",io)),arguments.length?void this.on("mouseover.force",ao).on("mouseout.force",so).call(r):r},ha.rebind(u,l,"on")};var ku=20,Eu=1,Tu=1/0;ha.layout.hierarchy=function(){function e(o){var i,a=[o],s=[];for(o.depth=0;null!=(i=a.pop());)if(s.push(i),(l=n.call(e,i,i.depth))&&(u=l.length)){for(var u,l,c;--u>=0;)a.push(c=l[u]),c.parent=i,c.depth=i.depth+1;r&&(i.value=0),i.children=l}else r&&(i.value=+r.call(e,i,i.depth)||0),delete i.children;return po(o,function(e){var n,o;t&&(n=e.children)&&n.sort(t),r&&(o=e.parent)&&(o.value+=e.value)}),s}var t=mo,n=fo,r=ho;return e.sort=function(n){return arguments.length?(t=n,e):t},e.children=function(t){return arguments.length?(n=t,e):n},e.value=function(t){return arguments.length?(r=t,e):r},e.revalue=function(t){return r&&(co(t,function(e){e.children&&(e.value=0)}),po(t,function(t){var n;t.children||(t.value=+r.call(e,t,t.depth)||0),(n=t.parent)&&(n.value+=t.value)})),t},e},ha.layout.partition=function(){function e(t,n,r,o){var i=t.children;if(t.x=n,t.y=t.depth*o,t.dx=r,t.dy=o,i&&(a=i.length)){var a,s,u,l=-1;for(r=t.value?r/t.value:0;++l<a;)e(s=i[l],n,u=s.value*r,o),n+=u}}function t(e){var n=e.children,r=0;if(n&&(o=n.length))for(var o,i=-1;++i<o;)r=Math.max(r,t(n[i]));return 1+r}function n(n,i){var a=r.call(this,n,i);return e(a[0],0,o[0],o[1]/t(a[0])),a}var r=ha.layout.hierarchy(),o=[1,1];return n.size=function(e){return arguments.length?(o=e,n):o},lo(n,r)},ha.layout.pie=function(){function e(a){var s,u=a.length,l=a.map(function(n,r){return+t.call(e,n,r)}),c=+("function"==typeof r?r.apply(this,arguments):r),p=("function"==typeof o?o.apply(this,arguments):o)-c,f=Math.min(Math.abs(p)/u,+("function"==typeof i?i.apply(this,arguments):i)),h=f*(0>p?-1:1),d=ha.sum(l),m=d?(p-u*h)/d:0,y=ha.range(u),g=[];return null!=n&&y.sort(n===Su?function(e,t){return l[t]-l[e]}:function(e,t){return n(a[e],a[t])}),y.forEach(function(e){g[e]={data:a[e],value:s=l[e],startAngle:c,endAngle:c+=s*m+h,padAngle:f}}),g}var t=Number,n=Su,r=0,o=Wa,i=0;return e.value=function(n){return arguments.length?(t=n,e):t},e.sort=function(t){return arguments.length?(n=t,e):n},e.startAngle=function(t){return arguments.length?(r=t,e):r},e.endAngle=function(t){return arguments.length?(o=t,e):o},e.padAngle=function(t){return arguments.length?(i=t,e):i},e};var Su={};ha.layout.stack=function(){function e(s,u){if(!(f=s.length))return s;var l=s.map(function(n,r){return t.call(e,n,r)}),c=l.map(function(t){return t.map(function(t,n){return[i.call(e,t,n),a.call(e,t,n)]})}),p=n.call(e,c,u);l=ha.permute(l,p),c=ha.permute(c,p);var f,h,d,m,y=r.call(e,c,u),g=l[0].length;for(d=0;g>d;++d)for(o.call(e,l[0][d],m=y[d],c[0][d][1]),h=1;f>h;++h)o.call(e,l[h][d],m+=c[h-1][d][1],c[h][d][1]);return s}var t=k,n=_o,r=wo,o=bo,i=go,a=vo;return e.values=function(n){return arguments.length?(t=n,e):t},e.order=function(t){return arguments.length?(n="function"==typeof t?t:Cu.get(t)||_o,e):n},e.offset=function(t){return arguments.length?(r="function"==typeof t?t:Mu.get(t)||wo,e):r},e.x=function(t){return arguments.length?(i=t,e):i},e.y=function(t){return arguments.length?(a=t,e):a},e.out=function(t){return arguments.length?(o=t,e):o},e};var Cu=ha.map({"inside-out":function(e){var t,n,r=e.length,o=e.map(xo),i=e.map(ko),a=ha.range(r).sort(function(e,t){return o[e]-o[t]}),s=0,u=0,l=[],c=[];for(t=0;r>t;++t)n=a[t],u>s?(s+=i[n],l.push(n)):(u+=i[n],c.push(n));return c.reverse().concat(l)},reverse:function(e){return ha.range(e.length).reverse()},"default":_o}),Mu=ha.map({silhouette:function(e){var t,n,r,o=e.length,i=e[0].length,a=[],s=0,u=[];for(n=0;i>n;++n){for(t=0,r=0;o>t;t++)r+=e[t][n][1];r>s&&(s=r),a.push(r)}for(n=0;i>n;++n)u[n]=(s-a[n])/2;return u},wiggle:function(e){var t,n,r,o,i,a,s,u,l,c=e.length,p=e[0],f=p.length,h=[];for(h[0]=u=l=0,n=1;f>n;++n){for(t=0,o=0;c>t;++t)o+=e[t][n][1];for(t=0,i=0,s=p[n][0]-p[n-1][0];c>t;++t){for(r=0,a=(e[t][n][1]-e[t][n-1][1])/(2*s);t>r;++r)a+=(e[r][n][1]-e[r][n-1][1])/s;i+=a*e[t][n][1]}h[n]=u-=o?i/o*s:0,l>u&&(l=u)}for(n=0;f>n;++n)h[n]-=l;return h},expand:function(e){var t,n,r,o=e.length,i=e[0].length,a=1/o,s=[];for(n=0;i>n;++n){for(t=0,r=0;o>t;t++)r+=e[t][n][1];if(r)for(t=0;o>t;t++)e[t][n][1]/=r;else for(t=0;o>t;t++)e[t][n][1]=a}for(n=0;i>n;++n)s[n]=0;return s},zero:wo});ha.layout.histogram=function(){function e(e,i){for(var a,s,u=[],l=e.map(n,this),c=r.call(this,l,i),p=o.call(this,c,l,i),i=-1,f=l.length,h=p.length-1,d=t?1:1/f;++i<h;)a=u[i]=[],a.dx=p[i+1]-(a.x=p[i]),a.y=0;if(h>0)for(i=-1;++i<f;)s=l[i],s>=c[0]&&s<=c[1]&&(a=u[ha.bisect(p,s,1,h)-1],a.y+=d,a.push(e[i]));return u}var t=!0,n=Number,r=Co,o=To;return e.value=function(t){return arguments.length?(n=t,e):n},e.range=function(t){return arguments.length?(r=ze(t),e):r},e.bins=function(t){return arguments.length?(o="number"==typeof t?function(e){return So(e,t)}:ze(t),e):o},e.frequency=function(n){return arguments.length?(t=!!n,e):t},e},ha.layout.pack=function(){function e(e,i){var a=n.call(this,e,i),s=a[0],u=o[0],l=o[1],c=null==t?Math.sqrt:"function"==typeof t?t:function(){return t};if(s.x=s.y=0,po(s,function(e){e.r=+c(e.value)}),po(s,Ro),r){var p=r*(t?1:Math.max(2*s.r/u,2*s.r/l))/2;po(s,function(e){e.r+=p}),po(s,Ro),po(s,function(e){e.r-=p})}return Do(s,u/2,l/2,t?1:1/Math.max(2*s.r/u,2*s.r/l)),a}var t,n=ha.layout.hierarchy().sort(Mo),r=0,o=[1,1];return e.size=function(t){return arguments.length?(o=t,e):o},e.radius=function(n){return arguments.length?(t=null==n||"function"==typeof n?n:+n,e):t},e.padding=function(t){return arguments.length?(r=+t,e):r},lo(e,n)},ha.layout.tree=function(){function e(e,o){var c=a.call(this,e,o),p=c[0],f=t(p);if(po(f,n),f.parent.m=-f.z,co(f,r),l)co(p,i);else{var h=p,d=p,m=p;co(p,function(e){e.x<h.x&&(h=e),e.x>d.x&&(d=e),e.depth>m.depth&&(m=e)});var y=s(h,d)/2-h.x,g=u[0]/(d.x+s(d,h)/2+y),v=u[1]/(m.depth||1);co(p,function(e){e.x=(e.x+y)*g,e.y=e.depth*v})}return c}function t(e){for(var t,n={A:null,children:[e]},r=[n];null!=(t=r.pop());)for(var o,i=t.children,a=0,s=i.length;s>a;++a)r.push((i[a]=o={_:i[a],parent:t,children:(o=i[a].children)&&o.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:a}).a=o);return n.children[0]}function n(e){var t=e.children,n=e.parent.children,r=e.i?n[e.i-1]:null;if(t.length){Uo(e);var i=(t[0].z+t[t.length-1].z)/2;r?(e.z=r.z+s(e._,r._),e.m=e.z-i):e.z=i}else r&&(e.z=r.z+s(e._,r._));e.parent.A=o(e,r,e.parent.A||n[0])}function r(e){e._.x=e.z+e.parent.m,e.m+=e.parent.m}function o(e,t,n){if(t){for(var r,o=e,i=e,a=t,u=o.parent.children[0],l=o.m,c=i.m,p=a.m,f=u.m;a=Fo(a),o=Io(o),a&&o;)u=Io(u),i=Fo(i),i.a=e,r=a.z+p-o.z-l+s(a._,o._),r>0&&(Bo(Vo(a,e,n),e,r),l+=r,c+=r),p+=a.m,l+=o.m,f+=u.m,c+=i.m;a&&!Fo(i)&&(i.t=a,i.m+=p-c),o&&!Io(u)&&(u.t=o,u.m+=l-f,n=e)}return n}function i(e){e.x*=u[0],e.y=e.depth*u[1]}var a=ha.layout.hierarchy().sort(null).value(null),s=No,u=[1,1],l=null;return e.separation=function(t){return arguments.length?(s=t,e):s},e.size=function(t){return arguments.length?(l=null==(u=t)?i:null,e):l?null:u},e.nodeSize=function(t){return arguments.length?(l=null==(u=t)?null:i,e):l?u:null},lo(e,a)},ha.layout.cluster=function(){function e(e,i){var a,s=t.call(this,e,i),u=s[0],l=0;po(u,function(e){var t=e.children;t&&t.length?(e.x=qo(t),e.y=Yo(t)):(e.x=a?l+=n(e,a):0,e.y=0,a=e)});var c=Wo(u),p=Ho(u),f=c.x-n(c,p)/2,h=p.x+n(p,c)/2;return po(u,o?function(e){e.x=(e.x-u.x)*r[0],e.y=(u.y-e.y)*r[1]}:function(e){e.x=(e.x-f)/(h-f)*r[0],e.y=(1-(u.y?e.y/u.y:1))*r[1]}),s}var t=ha.layout.hierarchy().sort(null).value(null),n=No,r=[1,1],o=!1;return e.separation=function(t){return arguments.length?(n=t,e):n},e.size=function(t){return arguments.length?(o=null==(r=t),e):o?null:r},e.nodeSize=function(t){return arguments.length?(o=null!=(r=t),e):o?r:null},lo(e,t)},ha.layout.treemap=function(){function e(e,t){for(var n,r,o=-1,i=e.length;++o<i;)r=(n=e[o]).value*(0>t?0:t),n.area=isNaN(r)||0>=r?0:r}function t(n){var i=n.children;if(i&&i.length){var a,s,u,l=p(n),c=[],f=i.slice(),d=1/0,m="slice"===h?l.dx:"dice"===h?l.dy:"slice-dice"===h?1&n.depth?l.dy:l.dx:Math.min(l.dx,l.dy);for(e(f,l.dx*l.dy/n.value),c.area=0;(u=f.length)>0;)c.push(a=f[u-1]),c.area+=a.area,
"squarify"!==h||(s=r(c,m))<=d?(f.pop(),d=s):(c.area-=c.pop().area,o(c,m,l,!1),m=Math.min(l.dx,l.dy),c.length=c.area=0,d=1/0);c.length&&(o(c,m,l,!0),c.length=c.area=0),i.forEach(t)}}function n(t){var r=t.children;if(r&&r.length){var i,a=p(t),s=r.slice(),u=[];for(e(s,a.dx*a.dy/t.value),u.area=0;i=s.pop();)u.push(i),u.area+=i.area,null!=i.z&&(o(u,i.z?a.dx:a.dy,a,!s.length),u.length=u.area=0);r.forEach(n)}}function r(e,t){for(var n,r=e.area,o=0,i=1/0,a=-1,s=e.length;++a<s;)(n=e[a].area)&&(i>n&&(i=n),n>o&&(o=n));return r*=r,t*=t,r?Math.max(t*o*d/r,r/(t*i*d)):1/0}function o(e,t,n,r){var o,i=-1,a=e.length,s=n.x,l=n.y,c=t?u(e.area/t):0;if(t==n.dx){for((r||c>n.dy)&&(c=n.dy);++i<a;)o=e[i],o.x=s,o.y=l,o.dy=c,s+=o.dx=Math.min(n.x+n.dx-s,c?u(o.area/c):0);o.z=!0,o.dx+=n.x+n.dx-s,n.y+=c,n.dy-=c}else{for((r||c>n.dx)&&(c=n.dx);++i<a;)o=e[i],o.x=s,o.y=l,o.dx=c,l+=o.dy=Math.min(n.y+n.dy-l,c?u(o.area/c):0);o.z=!1,o.dy+=n.y+n.dy-l,n.x+=c,n.dx-=c}}function i(r){var o=a||s(r),i=o[0];return i.x=i.y=0,i.value?(i.dx=l[0],i.dy=l[1]):i.dx=i.dy=0,a&&s.revalue(i),e([i],i.dx*i.dy/i.value),(a?n:t)(i),f&&(a=o),o}var a,s=ha.layout.hierarchy(),u=Math.round,l=[1,1],c=null,p=Go,f=!1,h="squarify",d=.5*(1+Math.sqrt(5));return i.size=function(e){return arguments.length?(l=e,i):l},i.padding=function(e){function t(t){var n=e.call(i,t,t.depth);return null==n?Go(t):Zo(t,"number"==typeof n?[n,n,n,n]:n)}function n(t){return Zo(t,e)}if(!arguments.length)return c;var r;return p=null==(c=e)?Go:"function"==(r=typeof e)?t:"number"===r?(e=[e,e,e,e],n):n,i},i.round=function(e){return arguments.length?(u=e?Math.round:Number,i):u!=Number},i.sticky=function(e){return arguments.length?(f=e,a=null,i):f},i.ratio=function(e){return arguments.length?(d=e,i):d},i.mode=function(e){return arguments.length?(h=e+"",i):h},lo(i,s)},ha.random={normal:function(e,t){var n=arguments.length;return 2>n&&(t=1),1>n&&(e=0),function(){var n,r,o;do n=2*Math.random()-1,r=2*Math.random()-1,o=n*n+r*r;while(!o||o>1);return e+t*n*Math.sqrt(-2*Math.log(o)/o)}},logNormal:function(){var e=ha.random.normal.apply(ha,arguments);return function(){return Math.exp(e())}},bates:function(e){var t=ha.random.irwinHall(e);return function(){return t()/e}},irwinHall:function(e){return function(){for(var t=0,n=0;e>n;n++)t+=Math.random();return t}}},ha.scale={};var Pu={floor:k,ceil:k};ha.scale.linear=function(){return ti([0,1],[0,1],Er,!1)};var Au={s:1,g:1,p:1,r:1,e:1};ha.scale.log=function(){return li(ha.scale.linear().domain([0,1]),10,!0,[1,10])};var zu=ha.format(".0e"),Ru={floor:function(e){return-Math.ceil(-e)},ceil:function(e){return-Math.floor(-e)}};ha.scale.pow=function(){return ci(ha.scale.linear(),1,[0,1])},ha.scale.sqrt=function(){return ha.scale.pow().exponent(.5)},ha.scale.ordinal=function(){return fi([],{t:"range",a:[[]]})},ha.scale.category10=function(){return ha.scale.ordinal().range(Ou)},ha.scale.category20=function(){return ha.scale.ordinal().range(Lu)},ha.scale.category20b=function(){return ha.scale.ordinal().range(Du)},ha.scale.category20c=function(){return ha.scale.ordinal().range(ju)};var Ou=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(Ee),Lu=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(Ee),Du=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(Ee),ju=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(Ee);ha.scale.quantile=function(){return hi([],[])},ha.scale.quantize=function(){return di(0,1,[0,1])},ha.scale.threshold=function(){return mi([.5],[0,1])},ha.scale.identity=function(){return yi([0,1])},ha.svg={},ha.svg.arc=function(){function e(){var e=Math.max(0,+n.apply(this,arguments)),l=Math.max(0,+r.apply(this,arguments)),c=a.apply(this,arguments)-Ga,p=s.apply(this,arguments)-Ga,f=Math.abs(p-c),h=c>p?0:1;if(e>l&&(d=l,l=e,e=d),f>=Ha)return t(l,h)+(e?t(e,1-h):"")+"Z";var d,m,y,g,v,b,_,w,x,k,E,T,S=0,C=0,M=[];if((g=(+u.apply(this,arguments)||0)/2)&&(y=i===Nu?Math.sqrt(e*e+l*l):+i.apply(this,arguments),h||(C*=-1),l&&(C=ae(y/l*Math.sin(g))),e&&(S=ae(y/e*Math.sin(g)))),l){v=l*Math.cos(c+C),b=l*Math.sin(c+C),_=l*Math.cos(p-C),w=l*Math.sin(p-C);var P=Math.abs(p-c-2*C)<=qa?0:1;if(C&&ki(v,b,_,w)===h^P){var A=(c+p)/2;v=l*Math.cos(A),b=l*Math.sin(A),_=w=null}}else v=b=0;if(e){x=e*Math.cos(p-S),k=e*Math.sin(p-S),E=e*Math.cos(c+S),T=e*Math.sin(c+S);var z=Math.abs(c-p+2*S)<=qa?0:1;if(S&&ki(x,k,E,T)===1-h^z){var R=(c+p)/2;x=e*Math.cos(R),k=e*Math.sin(R),E=T=null}}else x=k=0;if(f>Va&&(d=Math.min(Math.abs(l-e)/2,+o.apply(this,arguments)))>.001){m=l>e^h?0:1;var O=d,L=d;if(qa>f){var D=null==E?[x,k]:null==_?[v,b]:Fn([v,b],[E,T],[_,w],[x,k]),j=v-D[0],N=b-D[1],I=_-D[0],F=w-D[1],B=1/Math.sin(Math.acos((j*I+N*F)/(Math.sqrt(j*j+N*N)*Math.sqrt(I*I+F*F)))/2),U=Math.sqrt(D[0]*D[0]+D[1]*D[1]);L=Math.min(d,(e-U)/(B-1)),O=Math.min(d,(l-U)/(B+1))}if(null!=_){var V=Ei(null==E?[x,k]:[E,T],[v,b],l,O,h),Y=Ei([_,w],[x,k],l,O,h);d===O?M.push("M",V[0],"A",O,",",O," 0 0,",m," ",V[1],"A",l,",",l," 0 ",1-h^ki(V[1][0],V[1][1],Y[1][0],Y[1][1]),",",h," ",Y[1],"A",O,",",O," 0 0,",m," ",Y[0]):M.push("M",V[0],"A",O,",",O," 0 1,",m," ",Y[0])}else M.push("M",v,",",b);if(null!=E){var q=Ei([v,b],[E,T],e,-L,h),W=Ei([x,k],null==_?[v,b]:[_,w],e,-L,h);d===L?M.push("L",W[0],"A",L,",",L," 0 0,",m," ",W[1],"A",e,",",e," 0 ",h^ki(W[1][0],W[1][1],q[1][0],q[1][1]),",",1-h," ",q[1],"A",L,",",L," 0 0,",m," ",q[0]):M.push("L",W[0],"A",L,",",L," 0 0,",m," ",q[0])}else M.push("L",x,",",k)}else M.push("M",v,",",b),null!=_&&M.push("A",l,",",l," 0 ",P,",",h," ",_,",",w),M.push("L",x,",",k),null!=E&&M.push("A",e,",",e," 0 ",z,",",1-h," ",E,",",T);return M.push("Z"),M.join("")}function t(e,t){return"M0,"+e+"A"+e+","+e+" 0 1,"+t+" 0,"+-e+"A"+e+","+e+" 0 1,"+t+" 0,"+e}var n=vi,r=bi,o=gi,i=Nu,a=_i,s=wi,u=xi;return e.innerRadius=function(t){return arguments.length?(n=ze(t),e):n},e.outerRadius=function(t){return arguments.length?(r=ze(t),e):r},e.cornerRadius=function(t){return arguments.length?(o=ze(t),e):o},e.padRadius=function(t){return arguments.length?(i=t==Nu?Nu:ze(t),e):i},e.startAngle=function(t){return arguments.length?(a=ze(t),e):a},e.endAngle=function(t){return arguments.length?(s=ze(t),e):s},e.padAngle=function(t){return arguments.length?(u=ze(t),e):u},e.centroid=function(){var e=(+n.apply(this,arguments)+ +r.apply(this,arguments))/2,t=(+a.apply(this,arguments)+ +s.apply(this,arguments))/2-Ga;return[Math.cos(t)*e,Math.sin(t)*e]},e};var Nu="auto";ha.svg.line=function(){return Ti(k)};var Iu=ha.map({linear:Si,"linear-closed":Ci,step:Mi,"step-before":Pi,"step-after":Ai,basis:ji,"basis-open":Ni,"basis-closed":Ii,bundle:Fi,cardinal:Oi,"cardinal-open":zi,"cardinal-closed":Ri,monotone:Wi});Iu.forEach(function(e,t){t.key=e,t.closed=/-closed$/.test(e)});var Fu=[0,2/3,1/3,0],Bu=[0,1/3,2/3,0],Uu=[0,1/6,2/3,1/6];ha.svg.line.radial=function(){var e=Ti(Hi);return e.radius=e.x,delete e.x,e.angle=e.y,delete e.y,e},Pi.reverse=Ai,Ai.reverse=Pi,ha.svg.area=function(){return Gi(k)},ha.svg.area.radial=function(){var e=Gi(Hi);return e.radius=e.x,delete e.x,e.innerRadius=e.x0,delete e.x0,e.outerRadius=e.x1,delete e.x1,e.angle=e.y,delete e.y,e.startAngle=e.y0,delete e.y0,e.endAngle=e.y1,delete e.y1,e},ha.svg.chord=function(){function e(e,s){var u=t(this,i,e,s),l=t(this,a,e,s);return"M"+u.p0+r(u.r,u.p1,u.a1-u.a0)+(n(u,l)?o(u.r,u.p1,u.r,u.p0):o(u.r,u.p1,l.r,l.p0)+r(l.r,l.p1,l.a1-l.a0)+o(l.r,l.p1,u.r,u.p0))+"Z"}function t(e,t,n,r){var o=t.call(e,n,r),i=s.call(e,o,r),a=u.call(e,o,r)-Ga,c=l.call(e,o,r)-Ga;return{r:i,a0:a,a1:c,p0:[i*Math.cos(a),i*Math.sin(a)],p1:[i*Math.cos(c),i*Math.sin(c)]}}function n(e,t){return e.a0==t.a0&&e.a1==t.a1}function r(e,t,n){return"A"+e+","+e+" 0 "+ +(n>qa)+",1 "+t}function o(e,t,n,r){return"Q 0,0 "+r}var i=En,a=Tn,s=Zi,u=_i,l=wi;return e.radius=function(t){return arguments.length?(s=ze(t),e):s},e.source=function(t){return arguments.length?(i=ze(t),e):i},e.target=function(t){return arguments.length?(a=ze(t),e):a},e.startAngle=function(t){return arguments.length?(u=ze(t),e):u},e.endAngle=function(t){return arguments.length?(l=ze(t),e):l},e},ha.svg.diagonal=function(){function e(e,o){var i=t.call(this,e,o),a=n.call(this,e,o),s=(i.y+a.y)/2,u=[i,{x:i.x,y:s},{x:a.x,y:s},a];return u=u.map(r),"M"+u[0]+"C"+u[1]+" "+u[2]+" "+u[3]}var t=En,n=Tn,r=Xi;return e.source=function(n){return arguments.length?(t=ze(n),e):t},e.target=function(t){return arguments.length?(n=ze(t),e):n},e.projection=function(t){return arguments.length?(r=t,e):r},e},ha.svg.diagonal.radial=function(){var e=ha.svg.diagonal(),t=Xi,n=e.projection;return e.projection=function(e){return arguments.length?n(Ki(t=e)):t},e},ha.svg.symbol=function(){function e(e,r){return(Vu.get(t.call(this,e,r))||$i)(n.call(this,e,r))}var t=Qi,n=Ji;return e.type=function(n){return arguments.length?(t=ze(n),e):t},e.size=function(t){return arguments.length?(n=ze(t),e):n},e};var Vu=ha.map({circle:$i,cross:function(e){var t=Math.sqrt(e/5)/2;return"M"+-3*t+","+-t+"H"+-t+"V"+-3*t+"H"+t+"V"+-t+"H"+3*t+"V"+t+"H"+t+"V"+3*t+"H"+-t+"V"+t+"H"+-3*t+"Z"},diamond:function(e){var t=Math.sqrt(e/(2*qu)),n=t*qu;return"M0,"+-t+"L"+n+",0 0,"+t+" "+-n+",0Z"},square:function(e){var t=Math.sqrt(e)/2;return"M"+-t+","+-t+"L"+t+","+-t+" "+t+","+t+" "+-t+","+t+"Z"},"triangle-down":function(e){var t=Math.sqrt(e/Yu),n=t*Yu/2;return"M0,"+n+"L"+t+","+-n+" "+-t+","+-n+"Z"},"triangle-up":function(e){var t=Math.sqrt(e/Yu),n=t*Yu/2;return"M0,"+-n+"L"+t+","+n+" "+-t+","+n+"Z"}});ha.svg.symbolTypes=Vu.keys();var Yu=Math.sqrt(3),qu=Math.tan(30*Za);La.transition=function(e){for(var t,n,r=Wu||++Xu,o=oa(e),i=[],a=Hu||{time:Date.now(),ease:zr,delay:0,duration:250},s=-1,u=this.length;++s<u;){i.push(t=[]);for(var l=this[s],c=-1,p=l.length;++c<p;)(n=l[c])&&ia(n,c,o,r,a),t.push(n)}return ta(i,o,r)},La.interrupt=function(e){return this.each(null==e?Gu:ea(oa(e)))};var Wu,Hu,Gu=ea(oa()),Zu=[],Xu=0;Zu.call=La.call,Zu.empty=La.empty,Zu.node=La.node,Zu.size=La.size,ha.transition=function(e,t){return e&&e.transition?Wu?e.transition(t):e:ha.selection().transition(e)},ha.transition.prototype=Zu,Zu.select=function(e){var t,n,r,o=this.id,i=this.namespace,a=[];e=O(e);for(var s=-1,u=this.length;++s<u;){a.push(t=[]);for(var l=this[s],c=-1,p=l.length;++c<p;)(r=l[c])&&(n=e.call(r,r.__data__,c,s))?("__data__"in r&&(n.__data__=r.__data__),ia(n,c,i,o,r[i][o]),t.push(n)):t.push(null)}return ta(a,i,o)},Zu.selectAll=function(e){var t,n,r,o,i,a=this.id,s=this.namespace,u=[];e=L(e);for(var l=-1,c=this.length;++l<c;)for(var p=this[l],f=-1,h=p.length;++f<h;)if(r=p[f]){i=r[s][a],n=e.call(r,r.__data__,f,l),u.push(t=[]);for(var d=-1,m=n.length;++d<m;)(o=n[d])&&ia(o,d,s,a,i),t.push(o)}return ta(u,s,a)},Zu.filter=function(e){var t,n,r,o=[];"function"!=typeof e&&(e=H(e));for(var i=0,a=this.length;a>i;i++){o.push(t=[]);for(var n=this[i],s=0,u=n.length;u>s;s++)(r=n[s])&&e.call(r,r.__data__,s,i)&&t.push(r)}return ta(o,this.namespace,this.id)},Zu.tween=function(e,t){var n=this.id,r=this.namespace;return arguments.length<2?this.node()[r][n].tween.get(e):Z(this,null==t?function(t){t[r][n].tween.remove(e)}:function(o){o[r][n].tween.set(e,t)})},Zu.attr=function(e,t){function n(){this.removeAttribute(s)}function r(){this.removeAttributeNS(s.space,s.local)}function o(e){return null==e?n:(e+="",function(){var t,n=this.getAttribute(s);return n!==e&&(t=a(n,e),function(e){this.setAttribute(s,t(e))})})}function i(e){return null==e?r:(e+="",function(){var t,n=this.getAttributeNS(s.space,s.local);return n!==e&&(t=a(n,e),function(e){this.setAttributeNS(s.space,s.local,t(e))})})}if(arguments.length<2){for(t in e)this.attr(t,e[t]);return this}var a="transform"==e?Qr:Er,s=ha.ns.qualify(e);return na(this,"attr."+e,t,s.local?i:o)},Zu.attrTween=function(e,t){function n(e,n){var r=t.call(this,e,n,this.getAttribute(o));return r&&function(e){this.setAttribute(o,r(e))}}function r(e,n){var r=t.call(this,e,n,this.getAttributeNS(o.space,o.local));return r&&function(e){this.setAttributeNS(o.space,o.local,r(e))}}var o=ha.ns.qualify(e);return this.tween("attr."+e,o.local?r:n)},Zu.style=function(e,t,n){function r(){this.style.removeProperty(e)}function o(t){return null==t?r:(t+="",function(){var r,o=a(this).getComputedStyle(this,null).getPropertyValue(e);return o!==t&&(r=Er(o,t),function(t){this.style.setProperty(e,r(t),n)})})}var i=arguments.length;if(3>i){if("string"!=typeof e){2>i&&(t="");for(n in e)this.style(n,e[n],t);return this}n=""}return na(this,"style."+e,t,o)},Zu.styleTween=function(e,t,n){function r(r,o){var i=t.call(this,r,o,a(this).getComputedStyle(this,null).getPropertyValue(e));return i&&function(t){this.style.setProperty(e,i(t),n)}}return arguments.length<3&&(n=""),this.tween("style."+e,r)},Zu.text=function(e){return na(this,"text",e,ra)},Zu.remove=function(){var e=this.namespace;return this.each("end.transition",function(){var t;this[e].count<2&&(t=this.parentNode)&&t.removeChild(this)})},Zu.ease=function(e){var t=this.id,n=this.namespace;return arguments.length<1?this.node()[n][t].ease:("function"!=typeof e&&(e=ha.ease.apply(ha,arguments)),Z(this,function(r){r[n][t].ease=e}))},Zu.delay=function(e){var t=this.id,n=this.namespace;return arguments.length<1?this.node()[n][t].delay:Z(this,"function"==typeof e?function(r,o,i){r[n][t].delay=+e.call(r,r.__data__,o,i)}:(e=+e,function(r){r[n][t].delay=e}))},Zu.duration=function(e){var t=this.id,n=this.namespace;return arguments.length<1?this.node()[n][t].duration:Z(this,"function"==typeof e?function(r,o,i){r[n][t].duration=Math.max(1,e.call(r,r.__data__,o,i))}:(e=Math.max(1,e),function(r){r[n][t].duration=e}))},Zu.each=function(e,t){var n=this.id,r=this.namespace;if(arguments.length<2){var o=Hu,i=Wu;try{Wu=n,Z(this,function(t,o,i){Hu=t[r][n],e.call(t,t.__data__,o,i)})}finally{Hu=o,Wu=i}}else Z(this,function(o){var i=o[r][n];(i.event||(i.event=ha.dispatch("start","end","interrupt"))).on(e,t)});return this},Zu.transition=function(){for(var e,t,n,r,o=this.id,i=++Xu,a=this.namespace,s=[],u=0,l=this.length;l>u;u++){s.push(e=[]);for(var t=this[u],c=0,p=t.length;p>c;c++)(n=t[c])&&(r=n[a][o],ia(n,c,a,i,{time:r.time,ease:r.ease,delay:r.delay+r.duration,duration:r.duration})),e.push(n)}return ta(s,a,i)},ha.svg.axis=function(){function e(e){e.each(function(){var e,l=ha.select(this),c=this.__chart__||n,p=this.__chart__=n.copy(),f=null==u?p.ticks?p.ticks.apply(p,s):p.domain():u,h=null==t?p.tickFormat?p.tickFormat.apply(p,s):k:t,d=l.selectAll(".tick").data(f,p),m=d.enter().insert("g",".domain").attr("class","tick").style("opacity",Va),y=ha.transition(d.exit()).style("opacity",Va).remove(),g=ha.transition(d.order()).style("opacity",1),v=Math.max(o,0)+a,b=Ko(p),_=l.selectAll(".domain").data([0]),w=(_.enter().append("path").attr("class","domain"),ha.transition(_));m.append("line"),m.append("text");var x,E,T,S,C=m.select("line"),M=g.select("line"),P=d.select("text").text(h),A=m.select("text"),z=g.select("text"),R="top"===r||"left"===r?-1:1;if("bottom"===r||"top"===r?(e=aa,x="x",T="y",E="x2",S="y2",P.attr("dy",0>R?"0em":".71em").style("text-anchor","middle"),w.attr("d","M"+b[0]+","+R*i+"V0H"+b[1]+"V"+R*i)):(e=sa,x="y",T="x",E="y2",S="x2",P.attr("dy",".32em").style("text-anchor",0>R?"end":"start"),w.attr("d","M"+R*i+","+b[0]+"H0V"+b[1]+"H"+R*i)),C.attr(S,R*o),A.attr(T,R*v),M.attr(E,0).attr(S,R*o),z.attr(x,0).attr(T,R*v),p.rangeBand){var O=p,L=O.rangeBand()/2;c=p=function(e){return O(e)+L}}else c.rangeBand?c=p:y.call(e,p,c);m.call(e,c,p),g.call(e,p,p)})}var t,n=ha.scale.linear(),r=Ku,o=6,i=6,a=3,s=[10],u=null;return e.scale=function(t){return arguments.length?(n=t,e):n},e.orient=function(t){return arguments.length?(r=t in Ju?t+"":Ku,e):r},e.ticks=function(){return arguments.length?(s=ma(arguments),e):s},e.tickValues=function(t){return arguments.length?(u=t,e):u},e.tickFormat=function(n){return arguments.length?(t=n,e):t},e.tickSize=function(t){var n=arguments.length;return n?(o=+t,i=+arguments[n-1],e):o},e.innerTickSize=function(t){return arguments.length?(o=+t,e):o},e.outerTickSize=function(t){return arguments.length?(i=+t,e):i},e.tickPadding=function(t){return arguments.length?(a=+t,e):a},e.tickSubdivide=function(){return arguments.length&&e},e};var Ku="bottom",Ju={top:1,right:1,bottom:1,left:1};ha.svg.brush=function(){function e(i){i.each(function(){var i=ha.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",o).on("touchstart.brush",o),a=i.selectAll(".background").data([0]);a.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),i.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var s=i.selectAll(".resize").data(m,k);s.exit().remove(),s.enter().append("g").attr("class",function(e){return"resize "+e}).style("cursor",function(e){return Qu[e]}).append("rect").attr("x",function(e){return/[ew]$/.test(e)?-3:null}).attr("y",function(e){return/^[ns]/.test(e)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),s.style("display",e.empty()?"none":null);var u,p=ha.transition(i),f=ha.transition(a);l&&(u=Ko(l),f.attr("x",u[0]).attr("width",u[1]-u[0]),n(p)),c&&(u=Ko(c),f.attr("y",u[0]).attr("height",u[1]-u[0]),r(p)),t(p)})}function t(e){e.selectAll(".resize").attr("transform",function(e){return"translate("+p[+/e$/.test(e)]+","+f[+/^s/.test(e)]+")"})}function n(e){e.select(".extent").attr("x",p[0]),e.selectAll(".extent,.n>rect,.s>rect").attr("width",p[1]-p[0])}function r(e){e.select(".extent").attr("y",f[0]),e.selectAll(".extent,.e>rect,.w>rect").attr("height",f[1]-f[0])}function o(){function o(){32==ha.event.keyCode&&(M||(b=null,z[0]-=p[1],z[1]-=f[1],M=2),P())}function m(){32==ha.event.keyCode&&2==M&&(z[0]+=p[1],z[1]+=f[1],M=0,P())}function y(){var e=ha.mouse(w),o=!1;_&&(e[0]+=_[0],e[1]+=_[1]),M||(ha.event.altKey?(b||(b=[(p[0]+p[1])/2,(f[0]+f[1])/2]),z[0]=p[+(e[0]<b[0])],z[1]=f[+(e[1]<b[1])]):b=null),S&&g(e,l,0)&&(n(E),o=!0),C&&g(e,c,1)&&(r(E),o=!0),o&&(t(E),k({type:"brush",mode:M?"move":"resize"}))}function g(e,t,n){var r,o,a=Ko(t),u=a[0],l=a[1],c=z[n],m=n?f:p,y=m[1]-m[0];return M&&(u-=c,l-=y+c),r=(n?d:h)?Math.max(u,Math.min(l,e[n])):e[n],M?o=(r+=c)+y:(b&&(c=Math.max(u,Math.min(l,2*b[n]-r))),r>c?(o=r,r=c):o=c),m[0]!=r||m[1]!=o?(n?s=null:i=null,m[0]=r,m[1]=o,!0):void 0}function v(){y(),E.style("pointer-events","all").selectAll(".resize").style("display",e.empty()?"none":null),ha.select("body").style("cursor",null),R.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),A(),k({type:"brushend"})}var b,_,w=this,x=ha.select(ha.event.target),k=u.of(w,arguments),E=ha.select(w),T=x.datum(),S=!/^(n|s)$/.test(T)&&l,C=!/^(e|w)$/.test(T)&&c,M=x.classed("extent"),A=ee(w),z=ha.mouse(w),R=ha.select(a(w)).on("keydown.brush",o).on("keyup.brush",m);if(ha.event.changedTouches?R.on("touchmove.brush",y).on("touchend.brush",v):R.on("mousemove.brush",y).on("mouseup.brush",v),E.interrupt().selectAll("*").interrupt(),M)z[0]=p[0]-z[0],z[1]=f[0]-z[1];else if(T){var O=+/w$/.test(T),L=+/^n/.test(T);_=[p[1-O]-z[0],f[1-L]-z[1]],z[0]=p[O],z[1]=f[L]}else ha.event.altKey&&(b=z.slice());E.style("pointer-events","none").selectAll(".resize").style("display",null),ha.select("body").style("cursor",x.style("cursor")),k({type:"brushstart"}),y()}var i,s,u=z(e,"brushstart","brush","brushend"),l=null,c=null,p=[0,0],f=[0,0],h=!0,d=!0,m=$u[0];return e.event=function(e){e.each(function(){var e=u.of(this,arguments),t={x:p,y:f,i:i,j:s},n=this.__chart__||t;this.__chart__=t,Wu?ha.select(this).transition().each("start.brush",function(){i=n.i,s=n.j,p=n.x,f=n.y,e({type:"brushstart"})}).tween("brush:brush",function(){var n=Tr(p,t.x),r=Tr(f,t.y);return i=s=null,function(o){p=t.x=n(o),f=t.y=r(o),e({type:"brush",mode:"resize"})}}).each("end.brush",function(){i=t.i,s=t.j,e({type:"brush",mode:"resize"}),e({type:"brushend"})}):(e({type:"brushstart"}),e({type:"brush",mode:"resize"}),e({type:"brushend"}))})},e.x=function(t){return arguments.length?(l=t,m=$u[!l<<1|!c],e):l},e.y=function(t){return arguments.length?(c=t,m=$u[!l<<1|!c],e):c},e.clamp=function(t){return arguments.length?(l&&c?(h=!!t[0],d=!!t[1]):l?h=!!t:c&&(d=!!t),e):l&&c?[h,d]:l?h:c?d:null},e.extent=function(t){var n,r,o,a,u;return arguments.length?(l&&(n=t[0],r=t[1],c&&(n=n[0],r=r[0]),i=[n,r],l.invert&&(n=l(n),r=l(r)),n>r&&(u=n,n=r,r=u),n==p[0]&&r==p[1]||(p=[n,r])),c&&(o=t[0],a=t[1],l&&(o=o[1],a=a[1]),s=[o,a],c.invert&&(o=c(o),a=c(a)),o>a&&(u=o,o=a,a=u),o==f[0]&&a==f[1]||(f=[o,a])),e):(l&&(i?(n=i[0],r=i[1]):(n=p[0],r=p[1],l.invert&&(n=l.invert(n),r=l.invert(r)),n>r&&(u=n,n=r,r=u))),c&&(s?(o=s[0],a=s[1]):(o=f[0],a=f[1],c.invert&&(o=c.invert(o),a=c.invert(a)),o>a&&(u=o,o=a,a=u))),l&&c?[[n,o],[r,a]]:l?[n,r]:c&&[o,a])},e.clear=function(){return e.empty()||(p=[0,0],f=[0,0],i=s=null),e},e.empty=function(){return!!l&&p[0]==p[1]||!!c&&f[0]==f[1]},ha.rebind(e,u,"on")};var Qu={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},$u=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],el=bs.format=Ts.timeFormat,tl=el.utc,nl=tl("%Y-%m-%dT%H:%M:%S.%LZ");el.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?ua:nl,ua.parse=function(e){var t=new Date(e);return isNaN(t)?null:t},ua.toString=nl.toString,bs.second=We(function(e){return new _s(1e3*Math.floor(e/1e3))},function(e,t){e.setTime(e.getTime()+1e3*Math.floor(t))},function(e){return e.getSeconds()}),bs.seconds=bs.second.range,bs.seconds.utc=bs.second.utc.range,bs.minute=We(function(e){return new _s(6e4*Math.floor(e/6e4))},function(e,t){e.setTime(e.getTime()+6e4*Math.floor(t))},function(e){return e.getMinutes()}),bs.minutes=bs.minute.range,bs.minutes.utc=bs.minute.utc.range,bs.hour=We(function(e){var t=e.getTimezoneOffset()/60;return new _s(36e5*(Math.floor(e/36e5-t)+t))},function(e,t){e.setTime(e.getTime()+36e5*Math.floor(t))},function(e){return e.getHours()}),bs.hours=bs.hour.range,bs.hours.utc=bs.hour.utc.range,bs.month=We(function(e){return e=bs.day(e),e.setDate(1),e},function(e,t){e.setMonth(e.getMonth()+t)},function(e){return e.getMonth()}),bs.months=bs.month.range,bs.months.utc=bs.month.utc.range;var rl=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],ol=[[bs.second,1],[bs.second,5],[bs.second,15],[bs.second,30],[bs.minute,1],[bs.minute,5],[bs.minute,15],[bs.minute,30],[bs.hour,1],[bs.hour,3],[bs.hour,6],[bs.hour,12],[bs.day,1],[bs.day,2],[bs.week,1],[bs.month,1],[bs.month,3],[bs.year,1]],il=el.multi([[".%L",function(e){return e.getMilliseconds()}],[":%S",function(e){return e.getSeconds()}],["%I:%M",function(e){return e.getMinutes()}],["%I %p",function(e){return e.getHours()}],["%a %d",function(e){return e.getDay()&&1!=e.getDate()}],["%b %d",function(e){return 1!=e.getDate()}],["%B",function(e){return e.getMonth()}],["%Y",Lt]]),al={range:function(e,t,n){return ha.range(Math.ceil(e/n)*n,+t,n).map(ca)},floor:k,ceil:k};ol.year=bs.year,bs.scale=function(){return la(ha.scale.linear(),ol,il)};var sl=ol.map(function(e){return[e[0].utc,e[1]]}),ul=tl.multi([[".%L",function(e){return e.getUTCMilliseconds()}],[":%S",function(e){return e.getUTCSeconds()}],["%I:%M",function(e){return e.getUTCMinutes()}],["%I %p",function(e){return e.getUTCHours()}],["%a %d",function(e){return e.getUTCDay()&&1!=e.getUTCDate()}],["%b %d",function(e){return 1!=e.getUTCDate()}],["%B",function(e){return e.getUTCMonth()}],["%Y",Lt]]);sl.year=bs.year.utc,bs.scale.utc=function(){return la(ha.scale.linear(),sl,ul)},ha.text=Re(function(e){return e.responseText}),ha.json=function(e,t){return Oe(e,"application/json",pa,t)},ha.html=function(e,t){return Oe(e,"text/html",fa,t)},ha.xml=Re(function(e){return e.responseXML}),this.d3=ha,r=ha,o="function"==typeof r?r.call(t,n,t,e):r,!(void 0!==o&&(e.exports=o))}()},function(e,t){e.exports=[{name:"Lucky Peach",id:"prj1",connections:"",category:"Blogs/Articles",keywords:"",categoryDisplay:"Blogs/Articles",link:"http://luckypeach.com/the-carbon-footprint-of-eating-out/?utm_content=buffer42a1a&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer",pointType:"point",locationType:"HQ",locations:"",latitude:"40.7346195",longitude:"-73.993265",mappable:"Y",address:"853 Broadway, New York, New York 10003",description:"Lucky Peach is a food and lifestyle journal that explores a monthly theme through essays, art, photography, recipes, and original video content.",shortDesc:"Lucky Peach is a food and lifestyle journal that explores a monthly theme through essays, art, photography, recipes, and original video content.",notes:"",benefits:""},{name:"BK Rot",id:"prj2",connections:"",category:"Community Activism",keywords:"compost, food waste",categoryDisplay:"Community Activism",link:"https://bkrot.org/",pointType:"point",locationType:"HQ",locations:"",latitude:"40.697844",longitude:"-73.9281057",mappable:"Y",address:"1278 Myrtle Avenue Brooklyn NY 11237",description:"BK ROT is a community-supported composting operation that generates year-round environmental jobs for local youth in Bushwick, Brooklyn. BK ROT youth earn stipends to collect organic waste from residents small businesses and community institutions by bike, and process the material at our two compost sites. Our primary mission is to work at the intersection of the social and environmental injustices impacting youth of color from the neighborhood and the health of our community and larger ecosystem. We believe the fight against the systems that generate environmental destruction and social inequality must be community-led, and must empower those most affected by these crises. We envision a city where the environmental progress made at the policy levels are inclusive of those most excluded from the current opportunities for meaningful environmental jobs. We see great potential for grassroots efforts at the neighborhood level to experiment with solutions climate change while creating genuine space and opportunity for youth to drive these efforts.",shortDesc:"BK ROT is a community-supported composting operation that generates year-round environmental jobs for local youth in Bushwick, Brooklyn.",notes:"",benefits:""},{name:"Earth Matter",id:"prj3",connections:"",category:"Community Activism",keywords:"compost",categoryDisplay:"Community Activism",link:"https://earthmatter.org/",pointType:"point",locationType:"HQ",locations:"",latitude:"40.7187589",longitude:"-73.9866322",mappable:"Y",address:"179 Rivington Street, #4A\nNew York, NY 10002",description:"Earth Matter NY accepts and processes food waste as part of DSNY’s NYC Compost Project. Earth Matter NY Inc. is a nonprofit organization dedicated to advancing the art, science, and application of composting in and around New York City.",shortDesc:"Earth Matter NY accepts and processes food waste as part of DSNY’s NYC Compost Project. Earth Matter NY Inc. is a nonprofit organization dedicated to advancing the art, science, and application of composting in and around New York City.",notes:"",benefits:""},{name:"Change Food",id:"prj4",connections:"",category:"Community Activism",keywords:"",categoryDisplay:"Community Activism",link:"http://www.changefood.org/",pointType:"point",locationType:"HQ",locations:"",latitude:"40.7285529",longitude:"-73.987221",mappable:"Y",address:"151 First Avenue\nSuite 151\nNew York, NY 10003",description:"Change Food is a non-profit organization dedicated to connecting and collaborating with those who produce and care about food in order to transform the environment in which our food is grown and help improve the way we eat.",shortDesc:"Change Food is a non-profit organization dedicated to connecting and collaborating with those who produce and care about food in order to transform the environment in which our food is grown and help improve the way we eat.",notes:"",benefits:""},{name:"Proud Pour",id:"prj5",connections:"prj15",category:"Products",keywords:"",categoryDisplay:"Products",link:"https://www.proudpour.com/",pointType:"point",locationType:"HQ",locations:"",latitude:"42.3621756",longitude:"-71.1131287",mappable:"Y",address:"6 Rockwell Street Cambridge, Massachusetts, 02139",description:"We pair wines with solutions to local environmental problems. Our first wine, The Oyster, is a Sauvignon Blanc that restores 100 wild oysters per bottle. It also happens to be the perfect pair to your oyster or seafood plate. Every time you enjoy Proud Pour wine, you get to sit back, relax, and know you are making a difference.",shortDesc:"We pair wines with solutions to local environmental problems.",notes:"",benefits:""},{name:"Prime Produce",id:"prj6",connections:"",category:"Greenspaces",keywords:"Collaboratory for green producers",categoryDisplay:"Greenspaces",link:"http://www.primeproduce.org/",pointType:"point",locationType:"HQ - in construction",locations:"",latitude:"40.766328",longitude:"-73.989472",mappable:"Y",address:"424 W 54th St, New York, NY 10019",description:"A Guild for Prime Producers; People who view intentional service as a craft; Our Home, a living room and collaboratory, an ecosystem of invitations, to cultivate resilient businesses organisations and projects.",shortDesc:"A Guild for Prime Producers; People who view intentional service as a craft; Our Home, a living room and collaboratory, an ecosystem of invitations, to cultivate resilient businesses organisations and projects.",notes:"",benefits:""},{name:"Fleisher's Craft Butchery",id:"prj7",connections:"prj16,prj17,prj18,prj19,prj20,prj21,prj22,prj23,prj15",category:"Products",keywords:"",categoryDisplay:"Products",link:"https://www.fleishers.com/",pointType:"point",locationType:"Store",locations:"",latitude:"40.6769777",longitude:"-73.98251",mappable:"Y",address:"192 5th Ave, Brooklyn, NY 11217",description:"We believe in knowing where our food comes from so we can enjoy it with confidence and share first-hand knowledge with our customers. Our family-owned farm partners and world-class standards help ensure transparency at every step.",shortDesc:"We believe in knowing where our food comes from so we can enjoy it with confidence and share first-hand knowledge with our customers.",notes:"",benefits:""},{name:"Union Square Greenmarket",id:"prj9",connections:"prj15",category:"Greenspaces",keywords:"",categoryDisplay:"Greenspaces",link:"https://www.grownyc.org/greenmarket/manhattan-union-square-m",pointType:"point",locationType:"Market",locations:"",latitude:"40.736722",longitude:"-73.99242",mappable:"Y",address:"E 17th St & Union Square W, New York, NY 10003, E 17th St, New York, NY 10003",description:"The world-famous Union Square Greenmarket began with just a few farmers in 1976, has grown exponentially; in peak season 140 regional farmers, fishers, and bakers sell their products to a dedicated legion of city dwellers. As Greenmarket's flagship market, the seasonal bounty is unparalleled, with hundreds of varieties to choose from during any given season. From just-picked fresh fruits and vegetables, to heritage meats and award-winning farmstead cheeses, artisan breads, jams, pickles, a profusion of cut flowers and plants, wine, ciders, maple syrup and much more. Located in one of New York City's great public spaces, the atmosphere at Union Square on a market day is electric: 60,000 market shoppers shop and chat with farmers; students of all ages tour the market and learn about seasonality; visitors watch and taste cooking demonstrations by some of New York's hottest local chefs. ",shortDesc:"The world-famous Union Square Greenmarket; in peak season 140 regional farmers, fishers, and bakers sell their products to a dedicated legion of city dwellers.",notes:"",benefits:""},{name:"Saxelby Cheese",
id:"prj10",connections:"prj15",category:"Products",keywords:"",categoryDisplay:"Products",link:"https://saxelbycheese.com",pointType:"point",locationType:"Store",locations:"",latitude:"40.7191941",longitude:"-73.989782",mappable:"Y",address:"120 Essex Street\n(Btw Delancey and Rivington)\nNew York, NY 10002",description:"Anne Saxelby opened Saxelby Cheesemongers in 2006 in the historic Essex Street Market on Manhattan's Lower East Side. Saxelby studied fine art at NYU before discovering her love for the art of transforming milk into cheese. Saxelby's goal was (and is) to bridge the gap between local cheesemakers and cheese lovers, creating a company where the relationships with cheesemakers and with cheese-loving customers are paramount. In 2007, Saxelby was joined by Benoit Breal, a Frenchman with a passion for good cheese and a background in business and artisanal production by way of his family's textile business. Together, Saxelby and Breal have grown Saxelby Cheesemongers from a tiny stall in the Essex Street Market to include a booming wholesale and distribution business serving restaurants and retailers in New York City and across the country.",shortDesc:"Anne Saxelby opened Saxelby Cheesemongers in 2006 in the historic Essex Street Market on Manhattan's Lower East Side.",notes:"",benefits:""},{name:"Local Bushel",id:"prj12",connections:"",category:"Products",keywords:"",categoryDisplay:"Products",link:"http://www.localbushel.com/",pointType:"point",locationType:"HQ",locations:"",latitude:"40.7065668",longitude:"-74.0095894",mappable:"Y",address:"48 Wall Street New York, NY, USA",description:"Local Bushel is a community of individuals dedicated to increasing our consumption of responsibly raised food. Everybody eats, and what we eat shapes not only our own bodies, but the nature of our food supply. We can make a decision to buy our food from local farmers that are stewards of the land they live and work on. We are saying that we care about protecting rural communities.",shortDesc:"Local Bushel is a community of individuals dedicated to increasing our consumption of responsibly raised food.",notes:"",benefits:""},{name:"Pure Food Kids Foundation",id:"prj13",connections:"",category:"Education",keywords:"",categoryDisplay:"Education",link:"http://www.purefoodkids.org/",pointType:"point",locationType:"HQ",locations:"",latitude:"40.7388528",longitude:"-73.9917005",mappable:"Y",address:"801 Blanchard St., Seattle, WA 98121 | 900 Broadway, New York, NY 10003",description:"OUR MISSION IS TO EMPOWER KIDS TO MAKE HEALTHY FOOD CHOICES FOR LIFE.",shortDesc:"OUR MISSION IS TO EMPOWER KIDS TO MAKE HEALTHY FOOD CHOICES FOR LIFE.",notes:"",benefits:""},{name:"LaPera Bros. Poultry",id:"prj14",connections:"prj15",category:"Products",keywords:"",categoryDisplay:"Products",link:"http://www.laperapoultry.com/",pointType:"point",locationType:"Store",locations:"",latitude:"40.6273369",longitude:"-73.9994286",mappable:"Y",address:"1373 61st St, Brooklyn, NY 11219",description:"Poultry Shop",shortDesc:"Poultry Shop",notes:"",benefits:""},{name:"Lighthouse Restaurant",id:"prj15",connections:"prj7,prj5,prj10,prj14,prj40,prj60,prj68,prj89,prj90,prj91,prj92,prj93,prj94,prj95,prj96,prj97,prj98",category:"Restaurants",keywords:"",categoryDisplay:"Restaurants",link:"http://lighthousebk.com/",pointType:"point",locationType:"Restaurant",locations:"",latitude:"40.710818",longitude:"-73.953722",mappable:"Y",address:"145 Borinquen Pl, Brooklyn, NY 11211",description:"Lighthouse makes you feel at home.\nIt embodies community, honesty, and warmth. \nOur menu is seasonal, the food is ingredient driven, clean, fresh and delicious.\nProduce is locally sourced from farmers and growers we love. \nWe have a great selection of organic, biodynamic and natural wines, craft beers, classic & original cocktails. \nWe recycle, compost, and collaborate with other green minded organizations to grow, improve and educate ourselves, our staff, our guests. ",shortDesc:"Lighthouse makes you feel at home. It embodies community, honesty, and warmth. Our menu is seasonal, the food is ingredient driven, clean, fresh and delicious.",notes:"",benefits:"Recycle 1lb of oyster shells, Restore 100 oysters, Support grass-fed and pasture raised meat, Divert 1lb of food waste, Support sustainable fisheries"},{name:"J&D Farms",id:"prj16",connections:"prj7",category:"Farms",keywords:"farm, 100% grass-fed beef, goat, pork",categoryDisplay:"Farms",link:"",pointType:"point",locationType:"Farm",locations:"",latitude:"42.7889929",longitude:"-75.7117417",mappable:"Y",address:"4337 Lebanon Rd\nEaton, NY 13334",description:"J & D Farms began their pastured hog operation for the purposes of becoming a member of The Piggery Farm family! They currently run a herd of about 600 Yorkshire-cross pigs on 30 acres of pasture. We are excited to be working and growing alongside such hard-working farmers. Mark Justh, the owner, frequently sends us picture updates of their pastured piggies.",shortDesc:"J & D Farms began their pastured hog operation for the purposes of becoming a member of The Piggery Farm family! ",notes:"",benefits:""},{name:"Elysian Fields",id:"prj17",connections:"prj7",category:"Farms",keywords:"farm, lamb",categoryDisplay:"Farms",link:"https://purebredlamb.com/",pointType:"point",locationType:"Farm",locations:"",latitude:"39.9896067",longitude:"-80.1711962",mappable:"Y",address:"211 Craynes Run Rd, Waynesburg, PA 15370",description:"Pure Bred has created a model for raising lamb founded on a respect for nature and the nature of the lamb itself. Mr. Martin and Chef Keller believe that lamb raised according to its nature results in better lamb, and hope that those who buy Pure Bred, likewise share in and encourage these convictions about how livestock is raised in America. Their patented system, Safe Alternative®, is reflected in their philosophy of the “Holistic Lamb®,”  which demands observation of the animals, data collection regarding their feeding and their growth, and a verification of their source once they reach the consumer. It allows the consumer to be connected with the farmer and united in this philosophy of care and respect for the animals they raise.",shortDesc:"Pure Bred has created a model for raising lamb founded on a respect for nature and the nature of the lamb itself.",notes:"",benefits:""},{name:"Hidden Camp Farms",id:"prj18",connections:"prj7",category:"Farms",keywords:"farm, turkey",categoryDisplay:"Farms",link:"https://hiddencampfarm.wordpress.com/",pointType:"point",locationType:"Farm",locations:"",latitude:"42.8565229",longitude:"-74.622965",mappable:"Y",address:"378 White Rd, Canajoharie, NY 13317",description:"Founded in the spring of 2009, the farm derives its name from the 1930’s original camp-site fireplace & chimney discovered in the woods.  The Kings run a full-scale organic dairy with a small herd of happy Jersey cows.  They are licensed to sell raw milk directly from the farm, and it’s their milk that goes into neighboring Maple Hill Creamery’s delicious, full-fat, cream-on-top, European style yogurt",shortDesc:"Hidden Camp Farm, owned and operated by the King Family, sits on 140 acres of lush rolling farmland in quiet upstate New York",notes:"",benefits:""},{name:"Finger Lakes Farms",id:"prj19",connections:"prj7",category:"Farms",keywords:"farm, chicken, duck, eggs",categoryDisplay:"Farms",link:"http://ilovenyfarms.com/",pointType:"point",locationType:"Farm",locations:"",latitude:"42.6188412",longitude:"-76.7317096",mappable:"Y",address:"Interlaken, NY 14847",description:"FingerLakes Farms is a business we formed to provide locally produced food to consumers at a price that guarantees the farmer and producers a wage to continue farming and supporting their own families. We believe this business model provides that consumers can get to know more about the way their food is produced and feel comfortable in their food purchasing decisions.",shortDesc:"FingerLakes Farms, LLC is an Ithaca, NY based company focused on bringing you and your family great tasting, healthy, locally-produced food.",notes:"",benefits:""},{name:"Garret Farm",id:"prj20",connections:"prj7",category:"Farms",keywords:"farm, pastured beef",categoryDisplay:"Farms",link:"http://www.garretfarm.com/",pointType:"point",locationType:"Farm",locations:"",latitude:"42.1833888",longitude:"-73.522611",mappable:"Y",address:"289 Hunt Road, Hillsdale, NY",description:"Garret Farms was established in 1976 as a crop farm, consisting of about 135 acres. In 1988, the first full time manager, John Tomlin, was hired and a group of commercial Hereford cows was purchased. Through time, more land was purchased and the commercial herd grew. In 1997, a landmark year, the first purebred Angus came to Garret Farms and a new breeding program was initiated.\n\nAt the present time, the herd consists of about 300 brood cows, half commercial and the other half purebred Angus. The commercial cattle are marketed locally, consisting of mainly black-baldies. The purebred Angus herd has a significant embryo transfer program, consisting of about 14 donors—including: the dam of Traveler 004, the dam of RES Exceed and Volunteer, the dam of On Target, the dam of Neutron 377, the dam of Vermilion Payweight, the dam of BAR EXT Traveler 205, BR Midland’s full sister, an Expectation out of GAR Precision 2536, and the list goes on. Artificial Insemination is used extensively in the herd, as well as some natural cover through some of the Garret Farms’ herd sires, such as Garret’s Day Ahead 007, a maternal brother to the popular Traveler 004 sire.",shortDesc:"Garret Farms was established in 1976 as a crop farm, consisting of about 135 acres. At the present time, the herd consists of about 300 brood cows, half commercial and the other half purebred Angus.",notes:"",benefits:""},{name:"Chaljeri Farm",id:"prj21",connections:"prj7",category:"Farms",keywords:"farm, 100% grass-fed beef, pastured beef",categoryDisplay:"Farms",link:"http://chaljeri-meats.myshopify.com/",pointType:"point",locationType:"Farm",locations:"",latitude:"41.7678678",longitude:"-75.061677",mappable:"Y",address:"123 Main St\nFremont, New York 12736",description:"Ali and Rich are the new farmers of the bunch. After buying a home in Callicoon NY in 2005 they started with a small vegetable garden which led to bee keeping which led to a large greenhouse and small orchard and finally has landed them in the Grass Fed Beef business. Their desire to know where and how their food is produced has been an underlying and driving theme.\n\n",shortDesc:"Ali and Rich are the new farmers of the bunch. After buying a home in Callicoon NY in 2005 they started with a small vegetable garden which led to bee keeping which led to a large greenhouse and small orchard and finally has landed them in the Grass Fed Beef business. Their desire to know where and how their food is produced has been an underlying and driving theme.\n\n",notes:"",benefits:""},{name:"Oak Stone Farm",id:"prj22",connections:"prj7",category:"Farms",keywords:"farm, 100% grass-fed beef, pastured beef",categoryDisplay:"Farms",link:"http://adkgrazers.com/oak-stone/",pointType:"point",locationType:"Farm",locations:"",latitude:"42.724072",longitude:"-75.0037107",mappable:"Y",address:"6424 State Highway 28\nFly Creek, NY 13337",description:"Phil Hodgins fell in love with farming.  Since then he has been working improving his farm to raise top quality beef and hay.  Oak Stone Farm is located near Cooperstown, New York and is home to Phil and his family.",shortDesc:"Phil Hodgins fell in love with farming.  Since then he has been working improving his farm to raise top quality beef and hay.  Oak Stone Farm is located near Cooperstown, New York and is home to Phil and his family.",notes:"",benefits:""},{name:"Slope Farms",id:"prj23",connections:"prj7",category:"Farms",keywords:"farm, 100% grass-fed beef",categoryDisplay:"Farms",link:"http://www.slopefarms.com/",pointType:"point",locationType:"Farm",locations:"",latitude:"42.421473",longitude:"-74.889019",mappable:"Y",address:"Meredith, NY 13757",description:"We raise grass fed beef on the hilly pastures of our farm in the Western Catskills. The farm is on the high ridge that divides the waters flowing into the Delaware and Susquehanna Rivers.\n\nThis land grows a complex mix of lush grasses. The summers are cool and damp and the winters cold. The rocky soil is not suited for row crops, but it’s perfect for grazing healthy and happy cattle.\n\nOur cattle eat what nature designed them to eat, nothing else: the grasses that grow naturally on these hills. In the warm weather they graze. In the winter they eat stored grasses from our own and surrounding farms, and still graze when the snow cover permits. We use no chemicals on the pastures and the animals are free of antibiotics.\n\nThe beef taste like beef should when grown in the mountains. It taste the way beef tasted forever, when people were willing to wait till cattle got fat on pasture—-before feedlots, before fossil fuels and corn, before antibiotics in the feed, before transport across the country. The connection between humans and cattle is so long, and so strong, that when you taste our grass feed beef it will likely trigger a memory of how good beef is supposed to taste.",shortDesc:"We raise grass fed beef on the hilly pastures of our farm in the Western Catskills. The farm is on the high ridge that divides the waters flowing into the Delaware and Susquehanna Rivers.",notes:"",benefits:""},{name:"Green Bronx Machine",id:"prj24",connections:"",category:"Education",keywords:"",categoryDisplay:"Education",link:"http://greenbronxmachine.org/",pointType:"points",locationType:"Operating Locations",locations:'[{"lat":40.8156604,"lon":-73.8874339}, {"lat":40.8166803,"lon":-73.8926417}, {"lat":40.8360854,"lon":-73.906974}, {"lat":40.8505989,"lon":-73.8791869}]',latitude:"40.8156604",longitude:"-73.8874339",mappable:"Y",address:"3935 BLACKSTONE AVENUE, BRONX, NY 10471",description:"Green Bronx Machine builds healthy, equitable, and resilient communities through inspired education, local food systems, and 21st Century workforce development. Dedicated to cultivating minds and harvesting hope, our school-based model using urban agriculture aligned to key school performance indicators grows healthy students and healthy schools to transform communities that are fragmented and marginalized into neighborhoods that are inclusive and thriving. We believe that healthy students help drive healthy schools, and that healthy schools are at the heart of healthy communities. We envision growing healthy communities where those who are “apart from” will become “part of” new solutions that benefit 100% of society; a world where people do not have to leave their community to live, learn and earn in a better one. Together, we can grow something greater! Ready, set, GROW!",shortDesc:"Green Bronx Machine builds healthy, equitable, and resilient communities through inspired education, local food systems, and 21st Century workforce development.",notes:"",benefits:""},{name:"Neighbors Allied for Good Growth (NAG)",id:"prj25",connections:"",category:"Community Activism",keywords:"waste",categoryDisplay:"Community Activism",link:"http://nag-brooklyn.org/",pointType:"point",locationType:"HQ",locations:"",latitude:"40.7209292",longitude:"-73.9637192",mappable:"Y",address:"110 Kent Ave, Brooklyn, NY 11249",description:"Neighbors Allied for Good Growth (formerly Neighbors Against Garbage) developed out of our neighborhood’s desire to recapture its waterfront, reduce local environmental hazards, and advocate for public policies promoting healthy mixed-use communities. We advocate with and for the people who live and work in the North Brooklyn neighborhoods of Greenpoint and Williamsburg. Our approach to these issues is guided by the principle that our entire community is entitled to participate in decision-making and negotiation processes affecting our neighborhood, leadership of local mobilization efforts, and the design of a future vision for our community.",shortDesc:"Neighbors Allied for Good Growth (formerly Neighbors Against Garbage) developed out of our neighborhood’s desire to recapture its waterfront, reduce local environmental hazards, and advocate for public policies promoting healthy mixed-use communities. We advocate with and for the people who live and work in the North Brooklyn neighborhoods of Greenpoint and Williamsburg. Our approach to these issues is guided by the principle that our entire community is entitled to participate in decision-making and negotiation processes affecting our neighborhood, leadership of local mobilization efforts, and the design of a future vision for our community.",notes:"",benefits:""},{name:"Outer Seed Shadow (OSS)",id:"prj26",connections:"",category:"Community Activism",keywords:"immigration, cultural identity, acces to food, urban farm, public art, coomunity organizing, enviromental justice, social justice",categoryDisplay:"Community Activism",link:"http://outerseedshadow.org/",pointType:"point",locationType:"Public spaces",locations:"",latitude:"40.875774",longitude:"-73.9102835",mappable:"Y",address:"5284 Broadway, Bronx, NY 10463",description:"OSS#MH is an interactive public art project and community garden made in collaboration with residents of the Marble Hill Houses—a public housing development in the Bronx—that serves as a participatory platform to promote healthy living and community empowerment through explorations of residents’ shared histories and cultural heritage. After more than a year in development, following dozens of interviews with residents, regular meetings with the tenants association and community partners, and door-to-door outreach to each of the complex’s 1,682 apartments, in May 2017 OSS#MH opened 11 new garden beds, one reflecting each of the Marble Hill complex’s 11 towers, which serve as centerpieces for a series of public gardening and food education programming that will activate the site throughout 2017.",shortDesc:"OSS#MH is an interactive public art project and community garden made in collaboration with residents of the Marble Hill Houses—a public housing development in the Bronx—that serves as a participatory platform to promote healthy living and community empowerment through explorations of residents’ shared histories and cultural heritage. After more than a year in development, following dozens of interviews with residents, regular meetings with the tenants association and community partners, and door-to-door outreach to each of the complex’s 1,682 apartments, in May 2017 OSS#MH opened 11 new garden beds, one reflecting each of the Marble Hill complex’s 11 towers, which serve as centerpieces for a series of public gardening and food education programming that will activate the site throughout 2017.",notes:"",benefits:""},{name:"The Creative Kitchen",id:"prj28",connections:"",category:"Education",keywords:"",categoryDisplay:"Education",link:"http://www.thecreativekitchen.com/",pointType:"points",locationType:"Operating Locations",locations:'[{"lat":40.7594993, "lon":-73.968301}, {"lat":40.7237875, "lon":-73.9945774}, {"lat":40.6570184, "lon":-73.9664357}, {"lat":40.7417101, "lon":-73.9976813}]',latitude:"40.7594993",longitude:"-73.968301",mappable:"Y",address:"",description:"The Creative Kitchen teaches children about food and how to cook in a fun, safe, and educational manner. The multi-faceted company includes a variety of media outlets which promote the curriculum. Targeting children ages two and older, the company focuses on teaching, writing, producing creative content, and consulting to present educational content through food-related activities. The founder, Cricket Azima, inspires children to express themselves creatively through cooking and the arts. While writing her master’s thesis, entitled “Children’s Cooking Classes: An Alternative Method to Enhance Learning,” Cricket learned that children retain more educational content of a lesson when using all of their senses and, of course, when having fun in the meanwhile!",shortDesc:"The Creative Kitchen teaches children about food and how to cook in a fun, safe, and educational manner.",notes:"",benefits:""},{name:"Cloud Institute for Sustainability Education",id:"prj29",connections:"",category:"Education",keywords:"",categoryDisplay:"Education",link:"http://cloudinstitute.org/",pointType:"point",locationType:"HQ",locations:"",latitude:"40.7469286",longitude:"-73.9952621",mappable:"Y",address:"",description:"We prepare school systems and their communities to educate for a sustainable future by inspiring educators and engaging students through meaningful content and learner-centered instruction.",shortDesc:"We prepare school systems and their communities to educate for a sustainable future by inspiring educators and engaging students through meaningful content and learner-centered instruction.",notes:"",benefits:""},{name:"With Food in Mind",id:"prj30",connections:"",category:"Education",keywords:"",categoryDisplay:"Education",link:"http://www.withfoodinmind.org/",pointType:"point",locationType:"HQ",locations:"",latitude:"40.6574034",longitude:"-73.9642796",mappable:"Y",address:"231 Ocean Ave. #4J, Brooklyn, NY, 11225, US",description:"With Food in Mind develops art-based approaches to food education and food injustice, with a focus on childhood obesity and nutrition disparities in low-income neighborhoods and communities of color. We're cultivating future generations of art enthusiasts and healthier eaters, too. Our programs inspire children and youth to look at art in new ways, make healthful food choices, and think across disciplines.",shortDesc:"With Food in Mind develops art-based approaches to food education and food injustice, with a focus on childhood obesity and nutrition disparities in low-income neighborhoods and communities of color.",notes:"",benefits:""},{name:"NERTM (New Earth Resistance Training Module)",id:"prj31",connections:"",category:"Education",keywords:"resiliance, sustainability, back-to-earth, education, art",categoryDisplay:"Education",link:"http://www.tattfoo.com/new_earth/NewEarthRTM.html",pointType:"point",locationType:"Nomadic Program",locations:"",latitude:"40.5773669",longitude:"-74.1861616",mappable:"Y",address:"Freshkills Park",description:"New Earth Resiliency Training Module is a program that teaches an ethos of self reliance and of living closer to the earth, especially within an urban environment. Drawing upon its surrounding resources, it treats the city as a catalyst for building relations with various neighborhoods and communities. The program strengthens the resiliency of the neighborhood by activating young people and equipping them with skills, knowledge, and an adaptive world view. It also empowers youth by treating them as authorities of their own environment. Studying folk craft and tracing the genesis of ideas, objects and beliefs is an effort to re-wilding ourselves.",shortDesc:"New Earth Resiliency Training Module is a program that teaches an ethos of self reliance and of living closer to the earth, especially within an urban environment. Drawing upon its surrounding resources, it treats the city as a catalyst for building relations with various neighborhoods and communities. The program strengthens the resiliency of the neighborhood by activating young people and equipping them with skills, knowledge, and an adaptive world view. It also empowers youth by treating them as authorities of their own environment. Studying folk craft and tracing the genesis of ideas, objects and beliefs is an effort to re-wilding ourselves.",notes:"",benefits:""},{name:"Kids Food Festival",id:"prj32",connections:"",category:"Education",keywords:"",categoryDisplay:"Education",link:"http://kidsfoodfestival.com/",pointType:"point",locationType:"Event Location",locations:"",latitude:"40.7536005",longitude:"-73.9854213",mappable:"Y",address:"",description:"The Kids Food Festival is a weekend event focusing on educating families about making balanced food choices through \nfun and flavorful activities.\n\nThe exciting and engaging programming of the Kids Food Festival helps to establish wholesome lifelong habits, while working to avert childhood obesity.",shortDesc:"The Kids Food Festival is a weekend event focusing on educating families about making balanced food choices through fun and flavorful activities.",notes:"",benefits:""},{name:"Stone Barns Center",id:"prj33",connections:"",category:"Education",keywords:"",categoryDisplay:"Education",link:"https://www.stonebarnscenter.org/",pointType:"point",locationType:"Farm",locations:"",latitude:"41.103059",longitude:"-73.8312807",mappable:"Y",address:"630 Bedford Road, Pocantico Hills, NY 10591",description:"Stone Barns Center for Food and Agriculture is a nonprofit organization on a mission to create a healthy and sustainable food system.\n\nWe are working to develop a culture of eating based on what farms need to grow to build healthy soil and a resilient ecosystem. In our quest to transform the way America eats and farms, we convene change makers, train farmers, educate food citizens and develop agroecological farming practices. We:\n\nExperiment with and improve sustainable farming practices.\nTrain beginning farmers in resilient, regenerative farming techniques.\nHelp children discover the sources of their food while preparing them to steward the land that provides it.\nIncrease public awareness of healthy, seasonal and sustainable food.\n\nOur food system is on an unsustainable course: resource depletion, environmental degradation, epidemics of disease and obesity, food that doesn't represent the true costs of its production. We are working to change the way America eats and farms by inspiring people, engaging leaders and the public, developing practices in resilient agriculture and driving choices that benefit human health and the environment. Join us!",shortDesc:"Stone Barns Center for Food and Agriculture is a nonprofit organization on a mission to create a healthy and sustainable food system.",notes:"",benefits:""},{name:"Veggication",id:"prj34",connections:"",category:"Education",keywords:"",categoryDisplay:"Education",link:"http://www.veggiecation.com/",pointType:"point",locationType:"HQ",locations:"",latitude:"40.9803467",longitude:"-74.1617939",mappable:"Y",address:"P.O. Box 5121, Ridgewood, New Jersey 07451-5121",description:"The mission of Veggiecation is to promote and educate communities on the health benefits of vegetables and how to prepare them in simple, unique, affordable, and most importantly, delicious ways.",shortDesc:"The mission of Veggiecation is to promote and educate communities on the health benefits of vegetables and how to prepare them in simple, unique, affordable, and most importantly, delicious ways.",notes:"",benefits:""},{name:"Natural Gourmet Institute",id:"prj35",connections:"",category:"Education",keywords:"",categoryDisplay:"Education",link:"https://naturalgourmetinstitute.com/",pointType:"point",locationType:"HQ",locations:"",latitude:"40.7410509",longitude:"-73.9951062",mappable:"Y",address:"48 W 21 STREET, 2ND FLOOR, NYC 10010 ",description:"Natural Gourmet Institute provides exceptional, innovative and interdisciplinary health-supportive culinary education. Rooted in Dr. Annemarie Colbin’s seven criteria for food selection, our curriculum empowers chefs, individuals and communities to be leaders in the conversation about food and wellbeing through the preparation of healthful and delicious meals. By making mindful and deliberate decisions about the ingredients we source, we are able to advocate and utilize a sustainable food system that respects the earth’s natural resources and the people who make each meal possible.",shortDesc:"Natural Gourmet Institute provides exceptional, innovative and interdisciplinary health-supportive culinary education.",notes:"",benefits:""},{name:"Institute for Integrative Nutrition",id:"prj37",connections:"",category:"Education",keywords:"",categoryDisplay:"Education",link:"http://www.integrativenutrition.com/",pointType:"point",locationType:"HQ",locations:"",latitude:"40.7444091",longitude:"-73.9893442",mappable:"Y",address:"3 E. 28th Street New York, NY 10016 United States",description:"Our mission is to play a crucial role in improving health and happiness, and through that process, create a ripple effect that transforms the world. The Institute for Integrative Nutrition (IIN) was founded in 1992 by Joshua Rosenthal. Once a small classroom of passionate students in New York City, it is now the largest nutrition school in the world. Through its innovative online learning platform, Integrative Nutrition has provided a global learning experience for ~100,000 students and graduates in over 100 countries worldwide.",shortDesc:"Our mission is to play a crucial role in improving health and happiness, and through that process, create a ripple effect that transforms the world.",notes:"",benefits:""},{name:"Food Book Fair",id:"prj38",connections:"",category:"Events",keywords:"",categoryDisplay:"Events",link:"http://www.foodbookfair.com/",pointType:"point",locationType:"HQ",locations:"",latitude:"40.7220318",longitude:"-73.9602657",mappable:"Y",address:"",description:'Food Book Fair launched in 2012 as the first event of its kind: part festival, part conference, set at the intersection of food culture and food systems.\n\nDubbed the "Coachella of writing about eating," "a voracious reader\'s dream," and, simply, "food geek heaven," our event remains ceaselessly inspired by food media — books, of course, but also print and online magazines, television, film and radio.\n\nOur dynamic programs include panel discussions, a pop-up bookstore, #Foodieodicals, cooking demos, conceptual literary dinners, film screenings and much more. ',shortDesc:"Food Book Fair launched in 2012 as the first event of its kind: part festival, part conference, set at the intersection of food culture and food systems.",notes:"",benefits:""},{name:"Edgemere Farm",id:"prj39",connections:"",category:"Greenspaces",keywords:"",categoryDisplay:"Greenspaces",link:"http://www.edgemerefarm.org/",pointType:"point",locationType:"HQ",locations:"",latitude:"40.5953631",longitude:"-73.7787277",mappable:"Y",address:"385 Beach 45th Street, Far Rockaway, NY 11691",description:"Edgemere Farm is a half-acre urban farm located in the beachside community of Far Rockaway, Queens. In 2013 its founders transformed an underutilized lot on Beach 45th Street into a lush and productive space, where a wide variety of fresh and organically grown vegetables, flowers and herbs are now cultivated. Bees, chickens and many varieties of pollinators use the farm as home base as well. \n\nThe farm is a self-sustaining enterprise and acts as a zero-profit business. Profits are reinvested into the farm for future projects and operation costs.  In 2015 we co-founded the East Rockaway Growing Coalition, in order to further our mission of increasing capacity for the production of food on the peninsula.  To that end, we strive to be a place where we are teaching and learning about growing plants with neighbors and friends of all ages and backgrounds.",shortDesc:"Edgemere Farm is a half-acre urban farm located in the beachside community of Far Rockaway, Queens.",notes:"",benefits:""},{name:"Sure We Can",id:"prj40",connections:"prj15",category:"Waste/Recycling",keywords:"",categoryDisplay:"Waste/Recycling",link:"http://www.surewecan.org/",pointType:"point",locationType:"Storefront",locations:"",latitude:"40.7054817",longitude:"-73.9404633",mappable:"Y",address:"219 MCKIBBIN STREET, BROOKLYN, NY, 11206",description:"Sure We Can is a non-profit recycling center, community space and sustainability hub in Brooklyn where canners, students and neighbors come together through recycling, composting, gardening, art and other initiatives. Our mission is to support the local community, particularly the most vulnerable residents, and promote social inclusion, environmental awareness and economic empowerment.\n\nFor over 9 years, Sure We Can has supported canners, who are people that make a living collecting cans and bottles from the streets and redeeming them for 5 cents each. Today, it has evolved into a community center that promotes a sustainable urban culture and facilitates a circular economy.",
shortDesc:"Sure We Can is a non-profit recycling center, community space and sustainability hub in Brooklyn where canners, students and neighbors come together through recycling, composting, gardening, art and other initiatives.",notes:"",benefits:""},{name:"Farm Sanctuary",id:"prj41",connections:"",category:"Greenspaces",keywords:"",categoryDisplay:"Greenspaces",link:"http://www.farmsanctuary.org/the-sanctuaries/watkins-glen-ny/",pointType:"point",locationType:"Farm",locations:"",latitude:"42.385264",longitude:"-77.0297139",mappable:"Y",address:"3150 Aikens Rd, Watkins Glen, NY 14891",description:"Farm Sanctuary was founded in 1986 to combat the abuses of factory farming and encourage a new awareness and understanding about farm animals. Today, Farm Sanctuary is the nation’s largest and most effective farm animal rescue and protection organization. We have rescued thousands of animals and cared for them at our sanctuaries in Watkins Glen, New York; Northern California (Orland); and the Los Angeles area. At Farm Sanctuary, these animals are our friends, not our food. We educate millions of people about their plight and the effects of factory farming on our health and environment. We advocate for laws and policies to prevent suffering and promote compassion, and we reach out to legislators and businesses to bring about institutional reforms.\n\nFarm Sanctuary is committed to ending cruelty to farm animals and promoting compassionate vegan living through rescue, education, and advocacy efforts. Please join us. A compassionate world begins with you!",shortDesc:"Farm Sanctuary was founded in 1986 to combat the abuses of factory farming and encourage a new awareness and understanding about farm animals.",notes:"",benefits:""},{name:"Brooklyn Grange",id:"prj42",connections:"",category:"Greenspaces",keywords:"",categoryDisplay:"Greenspaces",link:"http://www.brooklyngrangefarm.com/",pointType:"point",locationType:"Farm",locations:"",latitude:"40.7034597",longitude:"-73.9739683",mappable:"Y",address:"BROOKLYN GRANGE, 63 FLUSHING AVE BOX 116, BROOKLYN NY",description:"Brooklyn Grange is the leading rooftop farming and intensive green roofing business in the US. We operate the world’s largest rooftop soil farms, located on two roofs in New York City, and grow over 50,000 lbs of organically-cultivated produce per year. In addition to growing and distributing fresh local vegetables and herbs, Brooklyn Grange also hosts events and educational programming, provides urban farming and green roof consulting and installation services to clients worldwide, and partners with numerous non-profit organizations throughout New York to promote healthy and strong local communities.",shortDesc:"Brooklyn Grange is the leading rooftop farming and intensive green roofing business in the US.",notes:"",benefits:""},{name:"Local Harvest",id:"prj46",connections:"",category:"Guides",keywords:"",categoryDisplay:"Guides",link:"http://www.localharvest.org/new-york-ny",pointType:"point",locationType:"HQ",locations:"",latitude:"37.06",longitude:"-122.162194",mappable:"Y",address:"",description:"LocalHarvest connects people looking for good food with the farmers who produce it.\nBuying local is about enjoying real food, grown yourself or purchased from people you trust. It's about developing strong local economies and producing food on a human scale. It's about eating seasonally, practicing the art of cooking, and sitting down to enjoy meals together. It requires ample local and regional producers, processors, and distributors. As we see it, the goal of the local food movement is to create thriving community-based food systems that will make high quality local food available to everyone.\n\nTo that end, LocalHarvest makes millions of introductions a year. Hear what some of our members have to say about us.\n\nWe make it easy to find good food.",shortDesc:"LocalHarvest connects people looking for good food with the farmers who produce it.",notes:"",benefits:""},{name:"Public Lab",id:"prj47",connections:"",category:"Citizen Science",keywords:"",categoryDisplay:"Citizen Science",link:"https://publiclab.org/",pointType:"point",locationType:"",locations:"",latitude:"42.3621721",longitude:"-71.08714",mappable:"Y",address:"Public Laboratory P.O. Box 426113 Cambridge, MA 02142",description:"Public Lab is a community where you can learn how to investigate environmental concerns. Using inexpensive DIY techniques, we seek to change how people see the world in environmental, social, and political terms.",shortDesc:"Public Lab is a community where you can learn how to investigate environmental concerns. Using inexpensive DIY techniques, we seek to change how people see the world in environmental, social, and political terms.",notes:"",benefits:""},{name:"Food Stand",id:"prj48",connections:"",category:"Guides",keywords:"",categoryDisplay:"Guides",link:"https://www.thefoodstand.com/",pointType:"point",locationType:"HQ",locations:"",latitude:"40.7387343",longitude:"-73.9933067",mappable:"Y",address:"115 Fifth Avenue, 6th Floor, New York, NY 10003",description:"We have a vision: it’s of a world where good food is the default—not the exception. \n\nThat’s why we set out on our mission — to build a more informed community around good food. \n\nThat’s why we’re here: to connect a community of good eaters. Together, we can spread our knowledge about good eating and make the information more accessible to all. It starts by empowering the community to ask what’s on our plates. When we do that, we are all able to make healthier food choices—not only for ourselves, but for others. \n\nWhen we do this, in unison, that’s when we’ve made a food stand. ",shortDesc:"We have a vision: it’s of a world where good food is the default—not the exception.",notes:"",benefits:""},{name:"MoFAD",id:"prj49",connections:"",category:"Education",keywords:"",categoryDisplay:"Education",link:"http://www.mofad.org/",pointType:"point",locationType:"Museum",locations:"",latitude:"40.718848",longitude:"-73.9517688",mappable:"Y",address:"62 BAYARD STREET, BROOKLYN, NY",description:"The Museum of Food and Drink (MOFAD) is on a journey to create the world's first large-scale museum with exhibits you can eat.\n\nMOFAD seeks to advance public understanding of the culture, history, science, production, and commerce of food and drink. The museum currently operates MOFAD Lab, an exhibit design studio and gallery space in Brooklyn, NY, where Flavor: Making It and Faking It is now on show.\n\nSupported by a diverse community of donors, volunteers, and partners, MOFAD is working toward a global center for learning with multiple exhibition galleries, program and workshop space, a garden, café, and more. Join the effort by donating, joining, or volunteering.",shortDesc:"The Museum of Food and Drink (MOFAD) is on a journey to create the world's first large-scale museum with exhibits you can eat.",notes:"",benefits:""},{name:"Chef Collaborative",id:"prj50",connections:"",category:"Network",keywords:"",categoryDisplay:"Network",link:"http://www.chefscollaborative.org/hello/",pointType:"point",locationType:"",locations:"",latitude:"42.362253",longitude:"-71.0856483",mappable:"Y",address:"PO Box 425088, Cambridge, MA 02142",description:"Join Chefs Collaborative, expand your network, and connect with hundreds of like-minded chefs and food professionals across the country who care about sourcing, cooking, and serving better food and are doing their part to create a better food system. Donate or become a Member today!\n\nMISSION: Chefs Collaborative is a national nonprofit network with a mission to inspire, educate, and celebrate chefs and food professionals building a better food system.",shortDesc:"Join Chefs Collaborative, expand your network, and connect with hundreds of like-minded chefs and food professionals across the country who care about sourcing, cooking, and serving better food and are doing their part to create a better food system.",notes:"",benefits:""},{name:"Urban Design Lab",id:"prj52",connections:"",category:"Research & Policy",keywords:"",categoryDisplay:"Research & Policy",link:"http://urbandesignlab.columbia.edu/",pointType:"point",locationType:"HQ",locations:"",latitude:"40.8107887",longitude:"-73.965878",mappable:"Y",address:"",description:"The Urban Design Lab (UDL) is a research unit of Columbia University’s Earth Institute created in 2005 to address the need for a design-based approach to shaping the long range future of sustainable urbanism. While drawing on the resources of The Earth Institute, principal collaborators also engage the Graduate School of Architecture, Planning and Preservation (GSAPP) and the Fu Foundation of Engineering and Applied Science (SEAS). New York City and its region is a core model for solving problems related to sustainable urban futures everywhere, and the UDL’s work cuts across The Earth Institute’s themes of: Climate and Society; Water; Energy; Poverty; Ecosystems; Global Health; Food; Ecology; Nutrition; Hazards and Risk; and Urbanization.The UDL’s collaborators are academics and professionals in urban design, planning, architecture, historic preservation, real estate, public health, environmental science, climatology, engineering, ecology, education, business, economics, social science, humanities, and law.Since its inception, the UDL has assisted New York City communities in tackling environmental remediation, high performance and green building design, micro-infrastructure, public health, climate change, and sustainable economic development. It has also worked in numerous other global locations including Ghana, Kenya, People’s Republic of China, and India.",shortDesc:"The Urban Design Lab (UDL) is a research unit of Columbia University’s Earth Institute created in 2005 to address the need for a design-based approach to shaping the long range future of sustainable urbanism.",notes:"",benefits:""},{name:"FoodFight",id:"prj53",connections:"",category:"Community Activism",keywords:"education, health",categoryDisplay:"Community Activism",link:"http://foodfight.org/",pointType:"point",locationType:"HQ",locations:"",latitude:"40.7566898",longitude:"-73.9822061",mappable:"Y",address:"21 W. 46th St. New York, NY 10036, USA",description:"FoodFight’s mission is to revolutionize the way we eat and think about food. Using schools as a platform, FoodFight arms teachers, students, parents and school staff with the tools and knowledge they need to make healthier choices and become role models and agents of change for their families and communities.",shortDesc:"FoodFight’s mission is to revolutionize the way we eat and think about food. Using schools as a platform, FoodFight arms teachers, students, parents and school staff with the tools and knowledge they need to make healthier choices and become role models and agents of change for their families and communities.",notes:"",benefits:""},{name:"CUNY Food Policy Center",id:"prj54",connections:"",category:"Research & Policy",keywords:"",categoryDisplay:"Research & Policy",link:"http://www.nycfoodpolicy.org/",pointType:"point",locationType:"HQ",locations:"",latitude:"40.7999544",longitude:"-73.9414886",mappable:"Y",address:"2180 Third Avenue Ste 525 New York, NY 10035",description:"The New York City Food Policy Center develops intersectoral, innovative and evidence-based solutions to preventing diet-related diseases and promoting food security in New York and other cities.  The Center works with policy makers, community organizations, advocates and the public to create healthier, more sustainable food environments and to use food to promote community and economic development. Through interdisciplinary research, policy analysis, evaluation and education, we leverage the expertise and passion of the students, faculty and staff of Hunter College and CUNY. The Center aims to make New York a model for smart, fair food policy.",shortDesc:"The New York City Food Policy Center develops intersectoral, innovative and evidence-based solutions to preventing diet-related diseases and promoting food security in New York and other cities.",notes:"",benefits:""},{name:"Bjorn Corn",id:"prj55",connections:"",category:"Products",keywords:"",categoryDisplay:"Products",link:"http://bjornqorn.com/",pointType:"point",locationType:"HQ",locations:"",latitude:"40.674186",longitude:"-73.963272",mappable:"Y",address:"794 Washington Ave #8 Brooklyn, New York, 11238",description:"We use homegrown non-gmo popcorn and season with all natural, gluten free, and vegan ingredients. There is no butter or cheese! BjornQorn's special flavor comes from nutritional yeast, which is a high protein and high B-vitamin seasoning that is popular in vegan cuisine, but is especially great on popcorn.",shortDesc:"We use homegrown non-gmo popcorn and season with all natural, gluten free, and vegan ingredients.",notes:"",benefits:""},{name:"Guerrilla Cartography",id:"prj56",connections:"",category:"Projects",keywords:"",categoryDisplay:"Projects",link:"http://www.guerrillacartography.org/",pointType:"",locationType:"",locations:"",latitude:"37.809463",longitude:"-122.28892",mappable:"Y",address:"PO Box 18744, Oakland, CA 94619",description:"The mission of Guerrilla Cartography is to widely promote the cartographic arts and facilitate an expansion of the art, methods, and thematic scope of cartography, through collaborative projects, hosting theme-based community workshops and symposiums, and mounting public exhibitions. Founded on the idea that a new paradigm for cooperative and collaborative knowledge-caching and sharing could have a transformative effect on the awareness and dissemination of spatial information, Guerrilla Cartography formed in 2012 to create Food: An Atlas.\n\nThe food atlas project was an experiment in guerrilla cartography and publishing. An open call for maps was shared and re-shared through a network of people who care about geography or food (or both) and the cartographers and researchers decided by their submissions what would be in the atlas.\n\nThe atlas was published by a consortium of supporters using a crowd-funding platform—the people made the atlas, literally gave it form. The project garnered a lot of media attention—for its content and its methodology—and we continue to receive requests for content to mount public and web-based exhibits.\n\nAs a registered California 501(c)(3) nonprofit, Guerrilla Cartography is committed to a free and open distribution of information. We sell volumes to support our organization but always allow free download of our content and pledge a share of our printed volumes to schools and libraries at no cost.\n\nOur experiment in guerrilla cartography created more than an atlas. With more than 120 collaborators from 15 countries, the first guerrilla cartography project created a community—one that continues to grow. Please go to our Call for Maps to see how you can contribute to Water: An Atlas.",shortDesc:"The mission of Guerrilla Cartography is to widely promote the cartographic arts and facilitate an expansion of the art, methods, and thematic scope of cartography, through collaborative projects, hosting theme-based community workshops and symposiums, and mounting public exhibitions.",notes:"",benefits:""},{name:"Swale",id:"prj57",connections:"",category:"Projects",keywords:"",categoryDisplay:"Projects",link:"http://www.swaleny.org/",pointType:"point",locationType:"Site",locations:"",latitude:"40.689577",longitude:"-74.023066",mappable:"Y",address:"",description:"Food forests are arguably the oldest form of gardening, generated through companion planting methods. But their importance is so much more than their history. Food forests are a way to diversify plant life through supportive planting; each plant building, supporting, and sustaining the next, each plant an important part of its created ecosystem. The system being built through food forests extends to our community as well. This form of gardening puts us back into direct contact with our needed resources, invites us to care for these resources that will in turn care for us, for our communities. \n \nFood forests are a naturally regenerating, resilient, and effective agro-ecosystems, which can, over time, provide free, fresh food. However, food forests on New York City's public land have been off-limits for almost a century for fear that a glut of foragers may destroy an ecosystem. But Swale imagines a different world, a different solution.\n \nBy creating a floating food forest, we create a different set of rules. ",shortDesc:"By creating a floating food forest, we create a different set of rules.",notes:"Mary Mattingly",benefits:""},{name:"The Brooklyn Food Coalition",id:"prj58",connections:"",category:"Community Activism",keywords:"",categoryDisplay:"Community Activism",link:"http://brooklynfoodcoalition.org/",pointType:"point",locationType:"HQ",locations:"",latitude:"40.673388",longitude:"-73.9701312",mappable:"Y",address:"17 Eastern Parkway, 5th Floor, Brooklyn, NY 11238",description:"The Brooklyn Food Coalition helps people with strategies, resources and practical solutions for building a healthy, resilient and sustainable life.",shortDesc:"The Brooklyn Food Coalition helps people with strategies, resources and practical solutions for building a healthy, resilient and sustainable life.",notes:"",benefits:""},{name:"Tree of 40 Fruit - Sam Van Aken",id:"prj59",connections:"",category:"Projects",keywords:"",categoryDisplay:"Projects",link:"http://www.treeof40fruit.com/",pointType:"points",locationType:"Tree Locations",locations:'[{"lat": 41.2090834, "lon": -73.5822305}, {"lat": 36.374084, "lon": -94.2099854}, {"lat": 43.0391573, "lon": -76.1373045}, {"lat": 42.325431, "lon": -71.2486973}, {"lat": 40.7381657, "lon": -74.350146}, {"lat": 38.1889917, "lon": -85.8168537}, {"lat": 40.1037741, "lon": -75.4470717}, {"lat": 41.2120214, "lon": -73.577188}, {"lat": 44.5650678, "lon": -69.6628943}, {"lat": 38.1889917, "lon": -85.8168537}, {"lat": 44.8944168, "lon": -86.0024328}, {"lat": 44.4560089, "lon": -68.4648353}]',latitude:"41.2090834",longitude:"-73.5822305",mappable:"Y",address:"",description:"The Tree of 40 Fruit is an ongoing series of hybridized fruit trees by contemporary artist Sam Van Aken. Each unique Tree of 40 Fruit grows over forty different types of stone fruit including peaches, plums, apricots, nectarines, cherries, and almonds. Sculpted through the process of grafting, the Tree of 40 Fruit blossom in variegated tones of pink, crimson and white in spring, and in summer bear a multitude of fruit. Primarily composed of native and antique varieties the Tree of 40 Fruit are a form of conservsation, preserving heirloom stone fruit varieties that are not commercially produced or available.",shortDesc:"The Tree of 40 Fruit is an ongoing series of hybridized fruit trees by contemporary artist Sam Van Aken.",notes:"",benefits:""},{name:"Billion Oyster Project",id:"prj60",connections:"prj15",category:"Community Activism",keywords:"",categoryDisplay:"Community Activism",link:"http://www.billionoysterproject.org/",pointType:"point",locationType:"Site",locations:"",latitude:"40.6908199",longitude:"-74.0226807",mappable:"Y",address:"550 Short Ave, Brooklyn, NY 11231",description:"BOP IS AN ECOSYSTEM RESTORATION AND EDUCATION PROJECT aimed at restoring one billion live oysters to New York Harbor and engaging hundreds of thousands of school children through restoration based STEM education programs.  Students at New York Harbor School have been growing and restoring oysters in New York Harbor for the last six years.  They have learned to SCUBA dive safely, raise oyster larvae, operate and maintain vessels, build and operate commercial-scaled oyster nurseries, design underwater monitoring equipment and conduct long-term authentic research projects all in the murky, contaminated, fast moving waters of one of the busiest ports in the country.  Together and with the help of many partners these students have restored over eleven million oysters. Thirty-six public schools have partnered with the project to provide authentic, place-based science and math lessons through the lens of oyster restoration.  Each year, thousands of students participate in these learning opportunities.\n\n",shortDesc:"BOP is an ecosystem restoration and education project aimed at restoring one billion live oysters to New York Harbor and engaging hundreds of thousands of school children through restoration based STEM education programs.\n\n",notes:"",benefits:""},{name:"City Harvest",id:"prj61",connections:"",category:"Community Activism",keywords:"food collection, food waste",categoryDisplay:"Community Activism",link:"https://www.cityharvest.org/",pointType:"point",locationType:"HQ",locations:"",latitude:"40.7465406",longitude:"-73.987168",mappable:"Y",address:"6 EAST 32ND ST 5TH FLOOR NY NY 10016",description:"City Harvest pioneered food rescue in 1982 and, this year, will collect 55 million pounds of excess food to help feed the nearly 1.4 million New Yorkers struggling to put meals on their tables. Through relationships with farms, grocers, restaurants, and manufacturers, City Harvest collects nutritious food that would otherwise go to waste and delivers it free of charge to 500 soup kitchens, food pantries and other community food programs across the five boroughs. In addition to helping meet the immediate need for food, City Harvest developed long-term Healthy Neighborhoods programs which partner with low-income communities to increase access to fresh produce and help residents shop for and cook nutritious, budget-conscious meals.",shortDesc:"City Harvest pioneered food rescue in 1982 and, this year, will collect 55 million pounds of excess food to help feed the nearly 1.4 million New Yorkers struggling to put meals on their tables,",notes:"",benefits:""},{name:"NESAWG",id:"prj63",connections:"",category:"Community Activism",keywords:"",categoryDisplay:"Community Activism",link:"http://nesawg.org/",pointType:"point",locationType:"HQ",locations:"",latitude:"41.0351023",longitude:"-73.8655133",mappable:"Y",address:"IRVINGTON, NY 10533",description:"NESAWG, a project of the Tides Center, is a 12-state network of over 500 participating organizations.  Together, we unite farm and food system practitioners and allies to build a sustainable, just and economically vibrant region.\n\nOur region includes Connecticut, Delaware, Massachusetts, Maine, Maryland, New Hampshire, New Jersey, New York, Pennsylvania, Rhode Island, Vermont, West Virginia, and Washington D.C.",shortDesc:"NESAWG, a project of the Tides Center, is a 12-state network of over 500 participating organizations.  Together, we unite farm and food system practitioners and allies to build a sustainable, just and economically vibrant region.",notes:"",benefits:""},{name:"NOFA",id:"prj64",connections:"",category:"Community Activism",keywords:"farming, advocacy, training",categoryDisplay:"Community Activism",link:"https://www.nofany.org/",pointType:"point",locationType:"HQ",locations:"",latitude:"42.9641112",longitude:"-77.3510816",mappable:"Y",address:"1423 Hathaway Dr, Farmington, NY 14425",description:"NOFA-NY is an organization of farmers, gardeners, and consumers working together to create a sustainable regional food system that's ecologically sound and economically viable. Through demonstration and education, we promote land stewardship, organic food production, and local marketing. We bring consumer and farmer together to make high quality food available to all people.",shortDesc:"NOFA-NY is an organization of farmers, gardeners, and consumers working together to create a sustainable regional food system that's ecologically sound and economically viable.",notes:"",benefits:""},{name:"Food Lab",id:"prj65",connections:"",category:"Research & Policy",keywords:"",categoryDisplay:"Research & Policy",link:"https://drive.google.com/file/d/0B0W8gX6Kw188LWFONlBac1F1UEU/view?pli=1",pointType:"point",locationType:"HQ",locations:"",latitude:"-33.9222082",longitude:"18.4198153",mappable:"Y",address:"5th Floor Exchange Building, 28 St George’s Mall, Cape Town",description:"To date, The Food Security Lab has comprised 16 months of research within a community called Kanana in Gugulethu, Cape Town, South Africa. The research focused on how people living within households that generally earn a monthly income of R4,000 or less manage their food requirements. It examined: why they purchase the food they do; where they shop and how often; beyond resource constraints, what influences their food purchasing choices; at what income level is it possible to secure a high quality regular diet; and what are the environmental, social and psychological factors that may prevent a strategic approach to food purchases and consumption? At the centre of this research was an exploration of how the local/immediate food suppliers (spaza shops, street vendors, informal cooking facilities) contribute to  the food ecosystem. As such, the Lab also included an in depth review of the spaza shops in particular, the stock they carry and why, their supply chains and a range of consumer behaviour within the shops.",shortDesc:"To date, The Food Security Lab has comprised 16 months of research within a community called Kanana in Gugulethu, Cape Town, South Africa.",notes:"",benefits:""},{name:"GrowNYC",id:"prj66",connections:"",category:"Community Activism",keywords:"compost, community gardens, farmer's market, education",categoryDisplay:"Community Activism",link:"http://www.grownyc.org/",pointType:"point",locationType:"HQ",locations:"",latitude:"40.710155",longitude:"-74.0054233",mappable:"Y",address:"100 Gold Street, Suite 3300 \nNew York, New York 10038",description:"GrowNYC is the sustainability resource for New Yorkers: providing free tools and services anyone can use in order to improve our City and environment.\n\nOur mission is to improve New York City's quality of life through environmental programs that transform communities block by block and empower all New Yorkers to secure a clean and healthy environment for future generations.\n \nGrowNYC was originally created in 1970 as the Council on the Environment of New York City (CENYC). Born out of the spirit of the first Earth Day, CENYC was initially a policy-based organization, writing comprehensive reports about quality of life issues like air quality, traffic, and noise. Over the past 45 years we've become a service organization: whether it's operating the world famous Union Square Greenmarket, building a new community garden, teaching young people about the environment, or improving recycling awareness, if you're a New Yorker, GrowNYC is working near you!  ",shortDesc:"GrowNYC is the sustainability resource for New Yorkers: providing free tools and services anyone can use in order to improve our City and environment.",notes:"",benefits:""},{name:"Sustainable Restaurant Corps",id:"prj67",connections:"",category:"Community Activism",keywords:"sustainability, training, restaurant",categoryDisplay:"Community Activism",link:"http://www.sustynyc.org/",pointType:"point",locationType:"HQ",locations:"",latitude:"40.714171",longitude:"-74.0182997",mappable:"Y",address:"4 World Financial Center\nWBAI FM\nChurch St. Station\nPO Box 7032\nNew York, NY 10008",description:"The Sustainable Restaurant Corps (SRC) is a non-profit that helps restaurants in the 5 boroughs of NYC reduce their impact on the environment.\n\nWe help restaurants lower their utility bills, reduce waste, serve more sustainable food, and more.\n\nWe are developing a rating system that will help you find green restaurants on the web sites you visit most to decide where to eat.",shortDesc:"The Sustainable Restaurant Corps (SRC) is a non-profit that helps restaurants in the 5 boroughs of NYC reduce their impact on the environment.",notes:"",benefits:""},{name:"Sea 2 Table",id:"prj68",connections:"prj15",category:"Products",keywords:"",categoryDisplay:"Products",link:"http://www.sea2table.com/",pointType:"point",locationType:"HQ",locations:"",latitude:"40.6776164",longitude:"-73.9595463",mappable:"Y",address:"1000 Dean Street Brooklyn, NY 11238",description:"Sea to Table partners with local fishermen from small-scale sustainable wild fisheries, finding better markets for their catch. Delivering overnight, direct from the source, reducing time and cost, allowing diners to know the ’who, how and where’ of the impossibly fresh fish they enjoy, creating a direct connection from fisherman to chef. #eatbetterfish\n\nIn 2012 we were proud to become a Certified B Corp.",shortDesc:"Sea to Table partners with local fishermen from small-scale sustainable wild fisheries, finding better markets for their catch.",notes:"",benefits:""},{name:"Citymeals-on-Wheels",id:"prj69",connections:"",category:"Community Activism",keywords:"food collection",categoryDisplay:"Community Activism",link:"http://www.citymeals.org/",pointType:"point",locationType:"HQ",locations:"",latitude:"40.7501715",longitude:"-73.9786714",mappable:"Y",address:"355 Lexington Avenue New York, NY 10017",description:"Citymeals on Wheels raises private funds to ensure no homebound elderly New Yorker will ever go a day without food or human company. Last year, our family of contributors helped us bring 2 million nutritious meals to more than 18,000 frail aged in every borough of New York City. In addition, nearly 19,000 volunteers collectively spent 67,397 hours visiting and delivering meals to our neighbors. Citymeals funds 31 community-based agencies that bring weekend, holiday and emergency meals to homebound elderly New Yorkers who can no longer shop or cook for themselves. In addition, our Mobile Food Pantry program delivers weekly bags of grocery staples to the most at-risk elderly and our Fresh Produce program enables us to supplement regular meal deliveries with fresh fruit and vegetables from local farmers.",shortDesc:"Citymeals on Wheels raises private funds to ensure no homebound elderly New Yorker will ever go a day without food or human company.",notes:"",benefits:""},{name:"Sage",id:"prj70",connections:"",category:"Service",keywords:"",categoryDisplay:"Service",link:"https://sageproject.com/",pointType:"point",locationType:"HQ",locations:"",latitude:"40.7536015",longitude:"-73.9802739",mappable:"Y",address:"335 Madison Avenue, 4th Floor, NY, NY, 10017",description:"We are a team of designers, dietitians, and creative technologists with a simple mission: reimagine food data by making it smart, simple, and personalized. Until now, this info has often been unapproachable, confusing, and rarely tells the complete story.\n\nThat’s why we built the food data platform we’ve always wanted. We think of it as our dream label. We love it, and hope you do too. If you have any suggestions or feedback, or want to get involved, please email us. We'd love to hear from you!",shortDesc:"We are a team of designers, dietitians, and creative technologists with a simple mission: reimagine food data by making it smart, simple, and personalized. Until now, this info has often been unapproachable, confusing, and rarely tells the complete story.",notes:"",benefits:""},{name:"Glynwood",id:"prj71",connections:"",category:"Community Activism",keywords:"education, farming, local",categoryDisplay:"Community Activism",link:"https://glynwood.org/",pointType:"point",locationType:"Farm",locations:"",latitude:"41.4536387",longitude:"-73.8674944",mappable:"Y",address:"362 Glynwood Road, Cold Spring, NY",description:"Glynwood is an agricultural nonprofit organization based in Cold Spring, New York. We work toward our mission of ensuring that the Hudson Valley is a region defined by food through core programming we develop and implement to further enhance the viability of sustainable farming.",shortDesc:"Glynwood is an agricultural nonprofit organization based in Cold Spring, New York.",notes:"",benefits:""},{name:"North American Food Systems Network",
id:"prj72",connections:"",category:"Education",keywords:"",categoryDisplay:"Education",link:"http://foodsystemsnetwork.org/",pointType:"point",locationType:"HQ",locations:"",latitude:"42.4534531",longitude:"-76.4756914",mappable:"Y",address:"295 Hook Place, Ithaca, New York 14850 USA",description:"The North American Food Systems Network (NAFSN) is a new organization founded in 2015 offering leadership and technical skills training, networking, and other professional development opportunities for the burgeoning group of individuals supporting the development of equitable and sustainable local and regional food systems.\n \nMembers range from farm educators and community nutritionists to activists and scholars. The mission of this community of practice is to coalesce the current disparate group of practitioners, and build individual and collective capacity to solve pressing food and agriculture issues on the continent. Presently there are many innovative solutions and pioneering organizations working to address and understand the complex issues of food systems−for example, working to eliminate causes of food deserts, obesity, hunger, and other food-related human health issues as well as working to increase sustainable farming practices, ecological and economic health of farms and rural areas, and creating viable markets.",shortDesc:"The North American Food Systems Network (NAFSN) is a new organization founded in 2015 offering leadership and technical skills training, networking, and other professional development opportunities for the burgeoning group of individuals supporting the development of equitable and sustainable local and regional food systems.",notes:"",benefits:""},{name:"Project Noah",id:"prj73",connections:"",category:"Citizen Science",keywords:"",categoryDisplay:"Citizen Science",link:"http://www.projectnoah.org/",pointType:"point",locationType:"",locations:"",latitude:"40.7257938",longitude:"-74.0063347",mappable:"Y",address:"161 Avenue of the Americas, New York, NY",description:"Project Noah is an award-winning software platform designed to help people reconnect with the natural world. Launched out of NYU’s Interactive Telecommunications Program in early 2010, the project began as an experiment to mobilize citizen scientists and build a digital butterfly net for the 21st century. Backed by National Geographic, Project Noah is mobilizing a new generation of nature explorers and helping people from around the world appreciate their local wildlife. Our community is harnessing the power and popularity of new mobile technologies to collect important ecological data and help preserve global biodiversity.",shortDesc:"Project Noah is mobilizing a new generation of nature explorers and helping people from around the world appreciate their local wildlife.",notes:"",benefits:""},{name:"Food Bank for NYC",id:"prj80",connections:"",category:"Community Activism",keywords:"food collection, food poverty",categoryDisplay:"Community Activism",link:"http://www.foodbanknyc.org/",pointType:"point",locationType:"HQ",locations:"",latitude:"40.706348",longitude:"-74.0156005",mappable:"Y",address:"39 Broadway, New York, NY 10006",description:"Food Bank For New York City has been the city’s major hunger-relief organization working to end hunger throughout the five boroughs for more than 30 years. Nearly one in five New Yorkers relies on Food Bank for food and other resources. Food Bank takes a strategic, multifaceted approach that provides meals and builds capacity in the neediest communities, while raising awareness and engagement among all New Yorkers. Through its network of more than 1,000 charities and schools citywide, Food Bank provides food for approximately 64 million free meals per year for New Yorkers in need. Food Bank For New York City’s income support services, including food stamps (also known as SNAP) and free tax assistance for the working poor, put more than $150 million each year into the pockets of New Yorkers, helping them to afford food and achieve greater dignity and independence. In addition, Food Bank’s nutrition education programs and services empower more than 275,000 children, teens and adults to sustain a healthy diet on a low budget. Working toward long-term solutions to food poverty, Food Bank develops policy and conducts research to inform community and government efforts.",shortDesc:"Food Bank For New York City has been the city’s major hunger-relief organization working to end hunger throughout the five boroughs for more than 30 years.",notes:"",benefits:""},{name:"Ellie Iron's weed gardens",id:"prj81",connections:"",category:"Projects",keywords:"",categoryDisplay:"Projects",link:"http://ellieirons.com/projects/sanctuary/",pointType:"point",locationType:"Gallery",locations:"",latitude:"40.68755",longitude:"-73.9625787",mappable:"Y",address:"",description:"Sanctuary for Weedy Species is a living collection of more than three hundred wild/invasive/exotic or otherwise uncultivated young plants transplanted from Bushwick’s urban soil to the Gallery at Industry City. At least forty species of plants hailing from various temperate and subtropical climates around the world live in the sanctuary. Some evolved right here in the New York City area, others originated in Central America, Northern Africa, or the mountains of Japan. Although they have diverse origins, all have made the city their home. They are well-adapted to living alongside humans, although we often tend to ignore, malign or even intentionally destroy them. In Bushwick, the open earth they occupy is rapidly receding as new parking lots, condominiums, and other development projects fill in the neighborhood’s remaining “vacant” spaces. This weedy sanctuary provides the opportunity to see these plants up close in an unusual context. I invite you to take a break from winter in the city. Come relocate and rehabilitate alongside the sanctuary inhabitants, and imagine for a moment a vision of urban ecology that takes what is, not what was, as its starting point.",shortDesc:"Sanctuary for Weedy Species is a living collection of more than three hundred wild/invasive/exotic or otherwise uncultivated young plants transplanted from Bushwick’s urban soil to the Gallery at Industry City.",notes:"",benefits:""},{name:"CUNY Urban Food Policy Institute",id:"prj83",connections:"",category:"Research & Policy",keywords:"",categoryDisplay:"Research & Policy",link:"cunyurbanfoodpolicy.org",pointType:"point",locationType:"HQ",locations:"",latitude:"40.8074973",longitude:"-73.9463391",mappable:"Y",address:"55 WEST 125TH STREET, NEW YORK, NY, 10027",description:"Academic research and action center at the CUNY Graduate School of Public Health and Health Policy located in Harlem, NYC. We provide evidence to inform municipal policies that promote equitable access to healthy, affordable food. We apply an  intersectoral perspective that links nutrition and health to sustainable community and workforce development, and we engage partners from  city government, community organizations, and the university in food policy research and action.",shortDesc:"Academic research and action center at the CUNY Graduate School of Public Health and Health Policy located in Harlem, NYC.",notes:"",benefits:""},{name:"Vallejo: City of Opportunity Lacks Access to Healthy Food",id:"prj84",connections:"",category:"Community Activism",keywords:"research, health, food poverty",categoryDisplay:"Community Activism",link:"http://www.foodispower.org/wp-content/uploads/vallejoReport_high.pdf",pointType:"point",locationType:"City",locations:"",latitude:"38.1168712",longitude:"-122.4026746",mappable:"Y",address:"",description:"Founded in 2007, Food Empowerment Project (F.E.P.) seeks to create a more just and sustainable world by recognizing the power of one’s food choices. We encourage healthy food choices that reflect a more compassionate society by spotlighting the abuse of animals on farms, the depletion of natural resources, unfair working conditions for produce workers, and the unavailability of healthy foods in communities of color and low-income areas. F.E.P. is a national nonprofit located in Northern California. Our mission is to encourage people to make the most ethical choices when eating, which in the end is healthier for them and the planet and can help to improve the lives of others locally and globally. We are compelled to learn why eating healthy food in U.S. cities seems to be a privilege and not a right. ",shortDesc:"Food Empowerment Project (F.E.P.) seeks to create a more just and sustainable world by recognizing the power of one’s food choices.",notes:"urban food activism | data/survey/mapping/GIS",benefits:""},{name:"Food Empowerment Project",id:"prj85",connections:"",category:"Education",keywords:"",categoryDisplay:"Education",link:"foodispower.org",pointType:"point",locationType:"HQ",locations:"",latitude:"38.3292827",longitude:"-122.7264224",mappable:"Y",address:"P.O. Box 7322, Cotati, CA 94931",description:"Food Empowerment Project seeks to create a more just and sustainable world by recognizing the power of one’s food choices. We encourage healthy food choices that reflect a more compassionate society by spotlighting the abuse of animals on farms, the depletion of natural resources, unfair working conditions for produce workers, and the unavailability of healthy foods in low-income areas.\n\nBy making informed choices, we can prevent injustices against animals, people, and the environment. We also work to discourage negligent corporations from pushing unhealthy foods into low-income areas and empower people to make healthier choices by growing their own fruits and vegetables. In all of our work, Food Empowerment Project seeks specifically to empower those with the fewest resources.\n\nFood Empowerment Project is a vegan food justice organization and a registered non-profit 501(c)(3) and was founded in 2006 by lauren Ornelas. Learn more about the organization’s leadership team.",shortDesc:"Food Empowerment Project seeks to create a more just and sustainable world by recognizing the power of one’s food choices.",notes:"",benefits:""},{name:"Fair Food Network",id:"prj86",connections:"",category:"Community Activism",keywords:"",categoryDisplay:"Community Activism",link:"http://www.fairfoodnetwork.org/list/food-systems-network-nyc",pointType:"point",locationType:"HQ",locations:"",latitude:"42.280231",longitude:"-83.749336",mappable:"Y",address:"205 E. Washington Street, Suite B, Ann Arbor MI 48104",description:"Food Systems Network NYC is a membership based organization designed to foster communication and cultivate community amongst various stake holders and professionals working across the food system. Members gather monthly for Open Networking meetings to encourage collaboration; share information; discuss public policy; and promote opportunities for individuals to partner on specific projects.",shortDesc:"Food Systems Network NYC is a membership based organization designed to foster communication and cultivate community amongst various stake holders and professionals working across the food system.",notes:"Not sure if this still exists.  It's site leads to a dead end",benefits:""},{name:"Just Food",id:"prj87",connections:"",category:"Community Activism",keywords:"csa, urban ag, community gardens, local",categoryDisplay:"Community Activism",link:"http://www.justfood.org/",pointType:"point",locationType:"HQ",locations:"",latitude:"40.7581234",longitude:"-73.985218",mappable:"Y",address:"114 West 47th Street, Suite C1-35, New York, NY",description:"Just Food empowers and supports community leaders to advocate for and increase access to healthy, locally-grown food, especially in underserved NYC neighborhoods. We provide training and resources to community members so they can: Launch Projects like farmers’ markets and community supported agriculture (CSA) groups. Educate their neighbors in fundamental cooking and urban farming skills. Advocate to make their corner of NYC a healthier place to live and eat. Each year, nearly a quarter million New Yorkers access fresh food in their neighborhood through Just Food’s network of community food projects.",shortDesc:"Just Food empowers and supports community leaders to advocate for and increase access to healthy, locally-grown food, especially in underserved NYC neighborhoods.",notes:"",benefits:""},{name:"Added Value Farm",id:"prj88",connections:"",category:"Community Activism",keywords:"education, farming, production, compost, farmer's market",categoryDisplay:"Community Activism",link:"http://www.added-value.org/",pointType:"points",locationType:"Farms",locations:'[{"lat": 40.6719774, "lon": -74.0111804}, {"lat":40.6761638, "lon":-74.0133777}]',latitude:"40.6719774",longitude:"-74.0111804",mappable:"Y",address:"580 COLUMBIA STREET, BROOKLYN, NY 11231, 10-46 WOLCOTT STREET, BROOKLYN, NY 11231",description:"Added Value Farms is a youth-led urban farming and compost operation in Red Hook, Brooklyn. We create opportunities for teens to expand their knowledge base, develop their leadership skills, and positively engage with each other, their community, and the environment. Since our founding in 2001, we have mentored scores of youth, provided hundreds of elementary students with educational programs, and worked with thousands of volunteers to farm and compost in the city. Together we strive to transform vacant lands into vibrant urban farms, improve access to healthy, affordable produce, and nurture a new generation of green leaders.",shortDesc:"Added Value Farms is a youth-led urban farming and compost operation in Red Hook, Brooklyn.",notes:"",benefits:""},{name:"Island Creek Oysters",id:"prj89",connections:"prj15",category:"Farm",keywords:"",categoryDisplay:"Farm",link:"http://islandcreekoysters.com/",pointType:"point",locationType:"",locations:"",latitude:"42.0133729",longitude:"-70.7199665",mappable:"Y",address:"296 Parks St, Duxbury, MA 02332",description:"Island Creek Oysters’ team includes 35 employees in the wholesale company, ten Island Creek farms here in Duxbury, a non-profit foundation active on two continents, five Boston-area restaurants, and an ever-growing stable of other fine farmers from around Cape Cod (and from as far away as the West Coast). The distribution arm, Island Creek Oysters, Inc. sells over 200,000 oysters a week.",shortDesc:"Island Creek Oysters’ team includes 35 employees in the wholesale company, ten Island Creek farms here in Duxbury, a non-profit foundation active on two continents, five Boston-area restaurants, and an ever-growing stable of other fine farmers from around Cape Cod (and from as far away as the West Coast). The distribution arm, Island Creek Oysters, Inc. sells over 200,000 oysters a week.",notes:"Island Creek Oysters",benefits:""},{name:"Brooklyn Roasting Company",id:"prj90",connections:"prj15",category:"Products",keywords:"",categoryDisplay:"Products",link:"http://www.brooklynroasting.com/",pointType:"point",locationType:"",locations:"",latitude:"40.7040645",longitude:"-73.9883983",mappable:"Y",address:"25 Jay Street, Brooklyn, New York 11201",description:"The Brooklyn Roasting Company buys, roasts and sells superb coffees from the world’s most renowned growing regions. We favor certified coffees (Fair Trade, Rainforest Alliance, organic) and unique auction-lot coffees. All of our beans are locally roasted every day and expertly packaged in our state-of-the-art production facilities to maximize flavor and freshness.",shortDesc:"The Brooklyn Roasting Company buys, roasts and sells superb coffees from the world’s most renowned growing regions. We favor certified coffees (Fair Trade, Rainforest Alliance, organic) and unique auction-lot coffees. All of our beans are locally roasted every day and expertly packaged in our state-of-the-art production facilities to maximize flavor and freshness.",notes:"Brooklyn Roasters",benefits:""},{name:"Ecologic",id:"prj91",connections:"prj15",category:"Products",keywords:"",categoryDisplay:"Products",link:"http://www.ecologicsolutions.com/",pointType:"point",locationType:"",locations:"",latitude:"40.6983729",longitude:"-73.9772156",mappable:"Y",address:"Brooklyn Navy Yard, 63 Flushing Ave, Unit 267",description:"EcoLogic Solutions Inc. – a proud B Corporation! – is a Brooklyn-based manufacturer and distributor of environmentally preferable cleaning products and technologies for restaurants, offices, hospitals, hotels, schools, and other institutional users.",shortDesc:"EcoLogic Solutions Inc. – a proud B Corporation! – is a Brooklyn-based manufacturer and distributor of environmentally preferable cleaning products and technologies for restaurants, offices, hospitals, hotels, schools, and other institutional users.",notes:"Ecologic",benefits:""},{name:"Tamarrack Hullow",id:"prj92",connections:"prj15",category:"Farm",keywords:"",categoryDisplay:"Farm",link:"http://tamarackhollowfarm.com/",pointType:"point",locationType:"",locations:"",latitude:"44.5183738",longitude:"-73.2432794",mappable:"Y",address:"519 Ethan Allen Pkwy, Burlington, VT 05408",description:"Tamarack Hollow Farm grows organic vegetables on rich upland soils in Plainfield, Vermont. We choose varieties that shine in Vermont’s cooler growing season, specializing in root crops and leafy greens. Amanda seeks out varieties noted for their shape, texture, color, and taste profiles. We irrigate our vegetables moderately to distill the richest flavors possible and harvest our vegetables by hand, selecting only the best and handling them with care. Our vegetables are certified organic by Vermont Organic Farmers using USDA guidelines. Come see the results of all our hard work at the Union Square Greenmarket. In 2015 we marked our ten-year anniversary at Union Square, here’s to ten more.",shortDesc:"Tamarack Hollow Farm grows organic vegetables on rich upland soils in Plainfield, Vermont. We choose varieties that shine in Vermont’s cooler growing season, specializing in root crops and leafy greens. Amanda seeks out varieties noted for their shape, texture, color, and taste profiles. We irrigate our vegetables moderately to distill the richest flavors possible and harvest our vegetables by hand, selecting only the best and handling them with care. Our vegetables are certified organic by Vermont Organic Farmers using USDA guidelines. Come see the results of all our hard work at the Union Square Greenmarket. In 2015 we marked our ten-year anniversary at Union Square, here’s to ten more.",notes:"Tamarrack Hullow",benefits:""},{name:"Windfall Farm",id:"prj93",connections:"prj15",category:"Farm",keywords:"",categoryDisplay:"Farm",link:"https://www.windfallfarms.com/",pointType:"point",locationType:"",locations:"",latitude:"41.480613",longitude:"-74.2408216",mappable:"Y",address:"301 Neelytown Rd. N, Montgomery, NY 12549",description:"A small unconventional farm in Montgomery, NY (Orange County) specializing in salad greens and unusual produce: edible flowers, watermelon radish, etc.",shortDesc:"A small unconventional farm in Montgomery, NY (Orange County) specializing in salad greens and unusual produce: edible flowers, watermelon radish, etc.",notes:"Windfall Farm",benefits:""},{name:"Hot Bread Kitchen",id:"prj94",connections:"prj15",category:"Products",keywords:"",categoryDisplay:"Products",link:"https://hotbreadkitchen.org",pointType:"point",locationType:"",locations:"",latitude:"40.7983189",longitude:"-73.9461013",mappable:"Y",address:"1590 Park Avenue New York, NY 10029",description:"In 2000, founder Jessamyn Rodriguez interviewed for a job at a microfinance organization called Women’s World Banking. When she explained the opportunity to a friend, he misheard the organization’s name as Women’s World Baking. Forget banking — the missing letter conjured up a vision of an international women’s baking collective that stuck.\n Fast forward seven years: Jessamyn, after a decade of social justice and public policy work, is now a baker. She launched Hot Bread Kitchen’s Bakers in Training program out of her home kitchen in Brooklyn.\n Since then, our programs, kitchens and staff have grown. In 2010, Hot Bread Kitchen moved into La Marqueta, an indoor market in East Harlem built by Mayor Fiorello LaGuardia in 1936. In its heyday, La Marqueta was visited by thousands of shoppers a day, many of them recent immigrants, that sought products from their homelands. Sadly, in the 1970s and 80s, the number of shoppers decreased and many vendors shut their gates.",shortDesc:"In 2000, founder Jessamyn Rodriguez interviewed for a job at a microfinance organization called Women’s World Banking. When she explained the opportunity to a friend, he misheard the organization’s name as Women’s World Baking. Forget banking — the missing letter conjured up a vision of an international women’s baking collective that stuck.\n Fast forward seven years: Jessamyn, after a decade of social justice and public policy work, is now a baker. She launched Hot Bread Kitchen’s Bakers in Training program out of her home kitchen in Brooklyn.\n Since then, our programs, kitchens and staff have grown. In 2010, Hot Bread Kitchen moved into La Marqueta, an indoor market in East Harlem built by Mayor Fiorello LaGuardia in 1936. In its heyday, La Marqueta was visited by thousands of shoppers a day, many of them recent immigrants, that sought products from their homelands. Sadly, in the 1970s and 80s, the number of shoppers decreased and many vendors shut their gates.",notes:"Hot Bread Kitchen",benefits:""},{name:"Square Roots",id:"prj95",connections:"prj15",category:"Farm",keywords:"",categoryDisplay:"Farm",link:"https://squarerootsgrow.com",pointType:"point",locationType:"",locations:"",latitude:"40.699088",longitude:"-73.9519287",mappable:"Y",address:"630 Flushing Ave, Brooklyn, NY 11206",description:"Square Roots is an urban farming accelerator—powered by human ingenuity, technology, and a deep love for local, real food. \n Strong communities are built around local, real food. Square Roots build campuses of climate-controlled, indoor, hydroponic vertical farms, right in the hearts of our biggest cities. We train young entrepreneurs to grow fresh, local food all year round. And we empower them to create forward-thinking, responsible businesses that strengthen their communities through real food. \n All this means year-round heaven for local foodies. From farmer’s market conversations to farm-campus parties, from speaker series'​ to digital content, Square Roots creates opportunities for everyone to dig into local food - even if there’s two feet of snow on the ground.",shortDesc:"Square Roots is an urban farming accelerator—powered by human ingenuity, technology, and a deep love for local, real food. \n Strong communities are built around local, real food. Square Roots build campuses of climate-controlled, indoor, hydroponic vertical farms, right in the hearts of our biggest cities. We train young entrepreneurs to grow fresh, local food all year round. And we empower them to create forward-thinking, responsible businesses that strengthen their communities through real food. \n All this means year-round heaven for local foodies. From farmer’s market conversations to farm-campus parties, from speaker series'​ to digital content, Square Roots creates opportunities for everyone to dig into local food - even if there’s two feet of snow on the ground.",notes:"Square Roots",benefits:""},{name:"Greenpoint Fish and Lobster",id:"prj96",connections:"prj15",category:"Products",keywords:"",categoryDisplay:"Products",link:"http://www.greenpointfish.com/",pointType:"point",locationType:"",locations:"",latitude:"40.7241485",longitude:"-73.9512776",mappable:"Y",address:"114 Nassau Ave, Brooklyn, NY 11222",description:"At Greenpoint Fish & Lobster Co. we believe the longterm viability and future of the world's seafood starts with responsibly managed fisheries, transparency, traceability, and well-informed consumers. We focus on local and seasonal seafood from fishermen and purveyors who care as much about the health of our oceans as we do. \n Our goal is to serve as the intermediary between our dedicated and responsible fishermen and seafood suppliers and conscientious consumers in an effort to provide the highest quality seafood that's fished or farmed in ways that protect our oceans, now and for future generations.\n Greenpoint Fish & Lobster Co. is a place where customers can feel confident that everything offered is responsibly sourced. Furthermore, through education and engagement we strive to instill confidence in our customers to purchase and prepare their own delicious and healthy seafood meals at home!\n We are proud to be a Monterey Bay Aquarium Seafood Watch partner.",shortDesc:"At Greenpoint Fish & Lobster Co. we believe the longterm viability and future of the world's seafood starts with responsibly managed fisheries, transparency, traceability, and well-informed consumers. We focus on local and seasonal seafood from fishermen and purveyors who care as much about the health of our oceans as we do. \n Our goal is to serve as the intermediary between our dedicated and responsible fishermen and seafood suppliers and conscientious consumers in an effort to provide the highest quality seafood that's fished or farmed in ways that protect our oceans, now and for future generations.\n Greenpoint Fish & Lobster Co. is a place where customers can feel confident that everything offered is responsibly sourced. Furthermore, through education and engagement we strive to instill confidence in our customers to purchase and prepare their own delicious and healthy seafood meals at home!\n We are proud to be a Monterey Bay Aquarium Seafood Watch partner.",notes:"Greenpoint Fish and Lobster",benefits:""},{name:"Stinky (cheese)",id:"prj97",connections:"prj15",category:"Products",keywords:"",categoryDisplay:"Products",link:"https://stinkybklyn.com",pointType:"point",locationType:"",locations:"",latitude:"40.684459",longitude:"-73.9939797",mappable:"Y",address:"215 Smith St, Brooklyn, NY 11231",description:"Locally owned purveyors of all things cheese, meat, beer - and everything in between.",shortDesc:"Locally owned purveyors of all things cheese, meat, beer - and everything in between.",notes:"Stinky (cheese)",benefits:""},{name:"Happy Valley Meat",id:"prj98",connections:"prj100,prj101,prj102,prj103,prj104,prj105,prj106,prj107,prj108,prj109,prj110,prj111,prj112,prj113,prj114,prj115,prj116,prj117,prj118,prj119,prj120,prj121,prj122,prj123,prj124,prj125,prj126,prj127,prj128,prj129,prj130,prj131,prj132,prj133,prj134,prj135,prj136,prj137,prj138,prj139,prj140,prj141,prj142,prj143,prj144,prj145,prj146,prj147,prj148,prj149,prj150,prj151,prj152,prj153,prj154,prj155,prj156,prj157,prj158,prj159,prj160,prj161,prj162,prj163,prj164,prj165,prj166,prj167,prj168,prj170,prj171,prj172,prj15",category:"Distributor",keywords:"",categoryDisplay:"Distributor",link:"http://happyvalleymeat.com/",pointType:"point",locationType:"",locations:"",latitude:"40.6723791",longitude:"-73.9629622",mappable:"Y",address:"463 Lincoln Place #224, Brooklyn, New York, NY 11238",description:"Happy Valley Meat Company buys beef from small farms and sells them directly to chefs. Traditionally, working with small farms means you have to buy a whole or half animal, but by working with Happy Valley Meat Company, a chef can buy only the cuts she wants (ribeyes, New York strips, filet mignon) but still get to use product from small farms and connect with the farmers who grow their beef.",shortDesc:"Happy Valley Meat Company buys beef from small farms and sells them directly to chefs. Traditionally, working with small farms means you have to buy a whole or half animal, but by working with Happy Valley Meat Company, a chef can buy only the cuts she wants (ribeyes, New York strips, filet mignon) but still get to use product from small farms and connect with the farmers who grow their beef.",notes:"Happy Valley Meat",benefits:""},{name:"Rising Spring Meats",id:"prj100",connections:"prj98",category:"Farms",keywords:"",categoryDisplay:"Farms",link:"http://www.risingspringmeats.com/",pointType:"point",locationType:"",locations:"",latitude:"40.8528604",longitude:"-77.567779",mappable:"Y",address:"117/119 Cooper Street, Spring Mills, PA 16875",description:"The story of Rising Spring Meats is the story of the American agricultural system. The plant itself is one hundred years old; however, as the processing industry began to consolidate to meet the needs of large companies, the old plant went out of business. The small farmers in the area recognized that they needed a plant where they could have a relationship with the people who play an integral role in turning animals into food. So, three farmers grouped together to obtain financing to buy the old plant, bringing RSM back from the dead.",shortDesc:"The story of Rising Spring Meats is the story of the American agricultural system. The plant itself is one hundred years old; however, as the processing industry began to consolidate to meet the needs of large companies, the old plant went out of business. The small farmers in the area recognized that they needed a plant where they could have a relationship with the people who play an integral role in turning animals into food. So, three farmers grouped together to obtain financing to buy the old plant, bringing RSM back from the dead.",notes:"",benefits:""},{name:"Smucker's Meats",id:"prj101",connections:"prj98",category:"Farms",keywords:"",categoryDisplay:"Farms",link:"http://www.smuckersmeats.com/",pointType:"point",locationType:"",locations:"",latitude:"40.088743",longitude:"-76.5099017",mappable:"Y",address:"735 Pinkerton Road, Mount Joy, PA 17552",description:"Smucker’s Meats is a third generation meat processing company. In 1965 David Smucker purchased a small custom butcher shop in Manheim, Pa. He had spent the previous eight years working for his brother-in-law cutting meat and going to a farmers market. Now he and his family were able to focus their energies on custom cutting beef and hogs for local farmers. From the very beginning the family was a vital link in production. Martha, David’s wife, wrapped the meat to be frozen and also did all the bookkeeping. The kids would help out after school every day and as they grew up assumed more and more responsibility. That business grew steadily slaughtering approximately 20 cattle and 15 hogs weekly over the winter months. Summer was the slow time allowing the family to catch their breath and also do some traveling.",shortDesc:"Smucker’s Meats is a third generation meat processing company. In 1965 David Smucker purchased a small custom butcher shop in Manheim, Pa. He had spent the previous eight years working for his brother-in-law cutting meat and going to a farmers market. Now he and his family were able to focus their energies on custom cutting beef and hogs for local farmers. From the very beginning the family was a vital link in production. Martha, David’s wife, wrapped the meat to be frozen and also did all the bookkeeping. The kids would help out after school every day and as they grew up assumed more and more responsibility. That business grew steadily slaughtering approximately 20 cattle and 15 hogs weekly over the winter months. Summer was the slow time allowing the family to catch their breath and also do some traveling.",notes:"",benefits:""},{name:"Reed Brook Custom Meats",id:"prj102",connections:"prj98",category:"Farms",keywords:"",categoryDisplay:"Farms",link:"http://www.reedbrookmeats.com/",pointType:"point",locationType:"",locations:"",latitude:"42.082421",longitude:"-76.492838",mappable:"Y",address:"1385 Ellis Creek Rd # 1, Waverly, NY 14892",description:"Ian Mumbulo has owned Reed Brook Custom Meats since 2003. We met Ian through Kris Wolfe in our northward expansion, and we're sure gald we did. Ian and his team have brought a small plant through some incredible growth, tripling in size since Ian assumed command. They process deer, pigs and, our favorite, Beef. We like to snack on the deer sticks Ian makes and hope to offer bacon soon, fresh from his smoker. Ian's heart lies in charcuterie, a passion that we can get behind. We're happy to have Reed Brook be our first partner outside of PA.",
shortDesc:"Ian Mumbulo has owned Reed Brook Custom Meats since 2003. We met Ian through Kris Wolfe in our northward expansion, and we're sure gald we did. Ian and his team have brought a small plant through some incredible growth, tripling in size since Ian assumed command. They process deer, pigs and, our favorite, Beef. We like to snack on the deer sticks Ian makes and hope to offer bacon soon, fresh from his smoker. Ian's heart lies in charcuterie, a passion that we can get behind. We're happy to have Reed Brook be our first partner outside of PA.",notes:"",benefits:""},{name:"Thistle Creek Farm",id:"prj103",connections:"prj98",category:"Farms",keywords:"",categoryDisplay:"Farms",link:"http://www.thistlecreekfarms.com/",pointType:"point",locationType:"",locations:"",latitude:"40.6706601",longitude:"-78.1037784",mappable:"Y",address:"4962 Greystone Ln, Tyrone, PA 16686",description:"George Lake is not your average farmer. He is a polymath that pushes the word expert to new limits. George runs a 100% grass-fed operation with his wife Christy and five work dogs captained by their leader, Mac.\nGeorge regularly lectures at agricultural universities and conferences on the nuanced differences between varieties of grass, effective grazing schedules and ensuring soil health. Much of George's vast knowledge on grass comes from time he spent working as a commercial airline pilot. In between flights, George would visit European farms, absorbing the science of their generations of traditions.",shortDesc:"George Lake is not your average farmer. He is a polymath that pushes the word expert to new limits. George runs a 100% grass-fed operation with his wife Christy and five work dogs captained by their leader, Mac.\nGeorge regularly lectures at agricultural universities and conferences on the nuanced differences between varieties of grass, effective grazing schedules and ensuring soil health. Much of George's vast knowledge on grass comes from time he spent working as a commercial airline pilot. In between flights, George would visit European farms, absorbing the science of their generations of traditions.",notes:"",benefits:""},{name:"Valley Wide Farm",id:"prj104",connections:"prj98",category:"Farms",keywords:"",categoryDisplay:"Farms",link:"",pointType:"point",locationType:"",locations:"",latitude:"40.9098807",longitude:"-77.547232",mappable:"Y",address:"178 Valleywide Drive, Spring Mills, PA 16875",description:"Bethany and Adam Coursen run a small dairy farm that's been in Adam's family for generations. Recently, Valley Wide Farm has started raising beef cattle, an expansion that helps the dairy minimize waste and gives a purpose to the milkless males. All animals graze out on pasture and are only fed grains that are grown on Valley Wide Farm. As a small operation, Beth and Adam have the chance to work more closely with their animals. So closely, in fact, that they name every animal they raise. Seriously, the first animal we bought from Adam and Beth was named Dave.",shortDesc:"Bethany and Adam Coursen run a small dairy farm that's been in Adam's family for generations. Recently, Valley Wide Farm has started raising beef cattle, an expansion that helps the dairy minimize waste and gives a purpose to the milkless males. All animals graze out on pasture and are only fed grains that are grown on Valley Wide Farm. As a small operation, Beth and Adam have the chance to work more closely with their animals. So closely, in fact, that they name every animal they raise. Seriously, the first animal we bought from Adam and Beth was named Dave.",notes:"",benefits:""},{name:"Modzel Family Farms",id:"prj105",connections:"prj98",category:"Farms",keywords:"",categoryDisplay:"Farms",link:"https://www.facebook.com/ModzelFamilyFarmsLLC/",pointType:"point",locationType:"",locations:"",latitude:"40.970677",longitude:"-78.153397",mappable:"Y",address:"127 Power Rd, Morrisdale, Pennsylvania, PA 16858",description:"Modzel Family Farms is a family operation, run by Dennis Modzel, Sr. and his two sons, Dennis Modzel, Jr. and Matthew Modzel. They feed their animals grass and corn silage, producing beautifully finished beef. Denny Jr.'s ability to easily explain beef production, his wealth of knowledge and gregarious nature make him a great teacher and partner. We love escaping the big city to hang out with the Modzel family. Denny Sr.'s culinary skills rival those of his chef visitors - every time we’re down there, he inundates us with pies while Denny Jr. shows off his homemade bourbon and moonshine.",shortDesc:"Modzel Family Farms is a family operation, run by Dennis Modzel, Sr. and his two sons, Dennis Modzel, Jr. and Matthew Modzel. They feed their animals grass and corn silage, producing beautifully finished beef. Denny Jr.'s ability to easily explain beef production, his wealth of knowledge and gregarious nature make him a great teacher and partner. We love escaping the big city to hang out with the Modzel family. Denny Sr.'s culinary skills rival those of his chef visitors - every time we’re down there, he inundates us with pies while Denny Jr. shows off his homemade bourbon and moonshine.",notes:"",benefits:""},{name:"Wolfe Bros Farm",id:"prj106",connections:"prj98",category:"Farms",keywords:"",categoryDisplay:"Farms",link:"",pointType:"point",locationType:"",locations:"",latitude:"41.777477",longitude:"-77.266868",mappable:"Y",address:"333 Austin Road, Wellsboro, PA 16901 ",description:"The families of Kris and Tony Wolfe and Steve May farm the rolling hills around the little grand canyon in Wellsboro, PA. Originally, the trio milked dairy cows while raising corn, wheat, and green beans, but saw a way to raise beef more in harmony with the cover crops and forages they wanted to grow and feed.\nKris and Tony believe in their calling as caretakers of the earth and the lives that have been entrusted to them. This starts with a deep respect and a nurturing approach to the simplest of things - the soil. Countless hours are spent on the protection and care of not just the physical soil, but of the micro-biologic life that builds the healthy soil foundation. On their farm, this translates into healthy, productive, and nutritious crops that feed both animals and people. They have worked to find ways to feed cattle from the cover crops and traditional forages that they grow in a crop rotation. This makes for healthier cows and healthier soil - both benefit from each other!",shortDesc:"The families of Kris and Tony Wolfe and Steve May farm the rolling hills around the little grand canyon in Wellsboro, PA. Originally, the trio milked dairy cows while raising corn, wheat, and green beans, but saw a way to raise beef more in harmony with the cover crops and forages they wanted to grow and feed.\nKris and Tony believe in their calling as caretakers of the earth and the lives that have been entrusted to them. This starts with a deep respect and a nurturing approach to the simplest of things - the soil. Countless hours are spent on the protection and care of not just the physical soil, but of the micro-biologic life that builds the healthy soil foundation. On their farm, this translates into healthy, productive, and nutritious crops that feed both animals and people. They have worked to find ways to feed cattle from the cover crops and traditional forages that they grow in a crop rotation. This makes for healthier cows and healthier soil - both benefit from each other!",notes:"",benefits:""},{name:"Rattlesnake Mountain Farm",id:"prj107",connections:"prj98",category:"Farms",keywords:"",categoryDisplay:"Farms",link:"http://rattlesnakemtnfarm.com/",pointType:"point",locationType:"",locations:"",latitude:"40.9284399",longitude:"-77.928726",mappable:"Y",address:"362 Hall Rd, Julian, PA 16844",description:"Rattlesnake Mountain Farm is run by Charlie Hall, his son Mark, and now his grandson Dalton. Charlie decided to start raising beef on his Julian, PA farm, and named it after the mountain on which the property sits. Charlie says there are still rattlesnakes on the mountain, though bites are rare. The Halls raise hogs as well as beef. Dalton showed his Future Farmers of America beef steer at the Center County Grange Fair this year and won Grand Reserve Champion!",shortDesc:"Rattlesnake Mountain Farm is run by Charlie Hall, his son Mark, and now his grandson Dalton. Charlie decided to start raising beef on his Julian, PA farm, and named it after the mountain on which the property sits. Charlie says there are still rattlesnakes on the mountain, though bites are rare. The Halls raise hogs as well as beef. Dalton showed his Future Farmers of America beef steer at the Center County Grange Fair this year and won Grand Reserve Champion!",notes:"",benefits:""},{name:"Shady Ridge Farm",id:"prj108",connections:"prj98",category:"Farms",keywords:"",categoryDisplay:"Farms",link:"https://www.facebook.com/ShadyRidgeElk/",pointType:"point",locationType:"",locations:"",latitude:"40.7758956",longitude:"-78.129017",mappable:"Y",address:"201 Shady Ridge Ln, Port Matilda, Pennsylvania, PA 16870",description:"Shady Ridge is run by Scott Brown. Scott used to be a dairyman, who raised beef cattle for himself. He decided to try his hand at the beef business and expand the beef herd he raised for himself -- we think he's doing a great job. Scott's father raises elk on the farm, and we're excited to see if we can try to work with Shady Ridge on some new and exciting proteins.",shortDesc:"Shady Ridge is run by Scott Brown. Scott used to be a dairyman, who raised beef cattle for himself. He decided to try his hand at the beef business and expand the beef herd he raised for himself -- we think he's doing a great job. Scott's father raises elk on the farm, and we're excited to see if we can try to work with Shady Ridge on some new and exciting proteins.",notes:"",benefits:""},{name:"Masonic Village Farm",id:"prj109",connections:"prj98",category:"Farms",keywords:"",categoryDisplay:"Farms",link:"http://www.masonicvillagefarm.com/",pointType:"point",locationType:"",locations:"",latitude:"40.1445689",longitude:"-76.6142952",mappable:"Y",address:"1 Masonic Drive, Elizabethtown, Pa. 17022",description:"Masonic Village Farm is part of a former Free Mason commune. Founded in 1910, Masonic Village was built as a completely self-sustaining retirement community for Masons. They grew their own food - cattle for beef and milk, orchards for fruit, and plenty of vegetables. During the 70’s, the USDA imposed more regulations on farms and labor costs increased exponentially. While Masonic Village is still an active retirement community (not just for Masons), only the beef cattle and fruit orchards are still operating. The head farmer, Frank Stolfutz, has been on the farm since the 80’s and keeps a close, scientific eye on the herd. Masonic Village has a cow-calf operation, meaning they have momma cattle that produce calves that Frank finishes for beef.",shortDesc:"Masonic Village Farm is part of a former Free Mason commune. Founded in 1910, Masonic Village was built as a completely self-sustaining retirement community for Masons. They grew their own food - cattle for beef and milk, orchards for fruit, and plenty of vegetables. During the 70’s, the USDA imposed more regulations on farms and labor costs increased exponentially. While Masonic Village is still an active retirement community (not just for Masons), only the beef cattle and fruit orchards are still operating. The head farmer, Frank Stolfutz, has been on the farm since the 80’s and keeps a close, scientific eye on the herd. Masonic Village has a cow-calf operation, meaning they have momma cattle that produce calves that Frank finishes for beef.",notes:"",benefits:""},{name:"Ardry Farm",id:"prj110",connections:"prj98",category:"Farms",keywords:"",categoryDisplay:"Farms",link:"http://www.ardryfarms.com/",pointType:"point",locationType:"",locations:"",latitude:"40.9924966",longitude:"-77.5672035",mappable:"Y",address:"1095 Snydertown Road, Howard, PA 16841",description:"Ardry Farm is run by Mark Ardry and his father Willis. They've been doing beef since the 80s but their real specialty is potatoes. They grow the best potatoes in PA. That said, their beef is pretty terrific as well. Mark recognizes the market for responsibly raised beef, so he’s taking over the beef from Willis and planning to grow the operation.",shortDesc:"Ardry Farm is run by Mark Ardry and his father Willis. They've been doing beef since the 80s but their real specialty is potatoes. They grow the best potatoes in PA. That said, their beef is pretty terrific as well. Mark recognizes the market for responsibly raised beef, so he’s taking over the beef from Willis and planning to grow the operation.",notes:"",benefits:""},{name:"Gemma",id:"prj111",connections:"prj98",category:"Restaurants",keywords:"",categoryDisplay:"Restaurants",link:"http://theboweryhotel.com/dining.php",pointType:"point",locationType:"",locations:"",latitude:"40.7262202",longitude:"-73.9915951",mappable:"Y",address:"",description:"",shortDesc:"",notes:"",benefits:""},{name:"Barn Joo",id:"prj112",connections:"prj98",category:"Restaurants",keywords:"",categoryDisplay:"Restaurants",link:"http://www.barnjoo.com/",pointType:"point",locationType:"",locations:"",latitude:"40.7368792",longitude:"-73.9907721",mappable:"Y",address:"",description:"",shortDesc:"",notes:"",benefits:""},{name:"The Green Table",id:"prj113",connections:"prj98",category:"Restaurants",keywords:"",categoryDisplay:"Restaurants",link:"http://cleaverco.com/green-table",pointType:"point",locationType:"",locations:"",latitude:"40.7425242",longitude:"-74.0059186",mappable:"Y",address:"",description:"",shortDesc:"",notes:"",benefits:""},{name:"Eli's Table",id:"prj114",connections:"prj98",category:"Restaurants",keywords:"",categoryDisplay:"Restaurants",link:"http://www.elizabar.com/Elis-Table.aspx",pointType:"point",locationType:"",locations:"",latitude:"40.7750558",longitude:"-73.9564455",mappable:"Y",address:"",description:"",shortDesc:"",notes:"",benefits:""},{name:"Amali",id:"prj115",connections:"prj98",category:"Restaurants",keywords:"",categoryDisplay:"Restaurants",link:"http://www.amalinyc.com/",pointType:"point",locationType:"",locations:"",latitude:"40.7633402",longitude:"-73.9685995",mappable:"Y",address:"",description:"",shortDesc:"",notes:"",benefits:""},{name:"Cheeky Sandwiches",id:"prj116",connections:"prj98",category:"Restaurants",keywords:"",categoryDisplay:"Restaurants",link:"http://cheeky-sandwiches.com/",pointType:"point",locationType:"",locations:"",latitude:"40.7157559",longitude:"-73.9916861",mappable:"Y",address:"",description:"",shortDesc:"",notes:"",benefits:""},{name:"Maysville",id:"prj117",connections:"prj98",category:"Restaurants",keywords:"",categoryDisplay:"Restaurants",link:"http://maysvillenyc.com/",pointType:"point",locationType:"",locations:"",latitude:"40.744162",longitude:"-73.989645",mappable:"Y",address:"",description:"",shortDesc:"",notes:"",benefits:""},{name:"The Palm Too",id:"prj118",connections:"prj98",category:"Restaurants",keywords:"",categoryDisplay:"Restaurants",link:"http://www.thepalm.com/Palm-Too",pointType:"point",locationType:"",locations:"",latitude:"40.7514652",longitude:"-73.970695",mappable:"Y",address:"",description:"",shortDesc:"",notes:"",benefits:""},{name:"Monument Lane",id:"prj119",connections:"prj98",category:"Restaurants",keywords:"",categoryDisplay:"Restaurants",link:"http://www.monumentlane.com/",pointType:"point",locationType:"",locations:"",latitude:"40.7378037",longitude:"-74.0020939",mappable:"Y",address:"",description:"",shortDesc:"",notes:"",benefits:""},{name:"Empellón Taqueria",id:"prj120",connections:"prj98",category:"Restaurants",keywords:"",categoryDisplay:"Restaurants",link:"http://www.empellon.com/taqueria/",pointType:"point",locationType:"",locations:"",latitude:"40.734142",longitude:"-74.0030683",mappable:"Y",address:"",description:"",shortDesc:"",notes:"",benefits:""},{name:"Momofuku Ko",id:"prj121",connections:"prj98",category:"Restaurants",keywords:"",categoryDisplay:"Restaurants",link:"http://ko.momofuku.com/",pointType:"point",locationType:"",locations:"",latitude:"40.7247833",longitude:"-73.9914409",mappable:"Y",address:"",description:"",shortDesc:"",notes:"",benefits:""},{name:"Momofuku Nishi",id:"prj122",connections:"prj98",category:"Restaurants",keywords:"",categoryDisplay:"Restaurants",link:"http://nishi.momofuku.com/",pointType:"point",locationType:"",locations:"",latitude:"40.7443471",longitude:"-73.9988072",mappable:"Y",address:"",description:"",shortDesc:"",notes:"",benefits:""},{name:"Momofuku Ssäm Bar",id:"prj123",connections:"prj98",category:"Restaurants",keywords:"",categoryDisplay:"Restaurants",link:"http://ssambar.momofuku.com/",pointType:"point",locationType:"",locations:"",latitude:"40.73169",longitude:"-73.985846",mappable:"Y",address:"",description:"",shortDesc:"",notes:"",benefits:""},{name:"Má Pêche",id:"prj124",connections:"prj98",category:"Restaurants",keywords:"",categoryDisplay:"Restaurants",link:"http://mapeche.momofuku.com/",pointType:"point",locationType:"",locations:"",latitude:"40.7629231",longitude:"-73.9753353",mappable:"Y",address:"",description:"",shortDesc:"",notes:"",benefits:""},{name:"The Mercer Kitchen",id:"prj125",connections:"prj98",category:"Restaurants",keywords:"",categoryDisplay:"Restaurants",link:"http://www.themercerkitchen.com/",pointType:"point",locationType:"",locations:"",latitude:"40.7248421",longitude:"-73.9986494",mappable:"Y",address:"",description:"",shortDesc:"",notes:"",benefits:""},{name:"High Street on Hudson",id:"prj126",connections:"prj98",category:"Restaurants",keywords:"",categoryDisplay:"Restaurants",link:"http://www.highstreetonhudson.com/",pointType:"point",locationType:"",locations:"",latitude:"40.7389011",longitude:"-74.0056796",mappable:"Y",address:"",description:"",shortDesc:"",notes:"",benefits:""},{name:"The Little Beet Table",id:"prj127",connections:"prj98",category:"Restaurants",keywords:"",categoryDisplay:"Restaurants",link:"https://thelittlebeettable.com/?utm_source=google&utm_medium=local&utm_campaign=google-local",pointType:"point",locationType:"",locations:"",latitude:"40.7410844",longitude:"-73.9853548",mappable:"Y",address:"",description:"",shortDesc:"",notes:"",benefits:""},{name:"The Dutch",id:"prj128",connections:"prj98",category:"Restaurants",keywords:"",categoryDisplay:"Restaurants",link:"http://www.thedutchnyc.com/",pointType:"point",locationType:"",locations:"",latitude:"40.7264898",longitude:"-74.0021771",mappable:"Y",address:"",description:"",shortDesc:"",notes:"",benefits:""},{name:"Mae Mae Café",id:"prj129",connections:"prj98",category:"Restaurants",keywords:"",categoryDisplay:"Restaurants",link:"https://www.facebook.com/maemaecafe",pointType:"point",locationType:"",locations:"",latitude:"40.7264619",longitude:"-74.0069797",mappable:"Y",address:"",description:"",shortDesc:"",notes:"",benefits:""},{name:"The Fat Radish",id:"prj130",connections:"prj98",category:"Restaurants",keywords:"",categoryDisplay:"Restaurants",link:"http://www.thefatradishnyc.com/",pointType:"point",locationType:"",locations:"",latitude:"40.7152673",longitude:"-73.9918889",mappable:"Y",address:"",description:"",shortDesc:"",notes:"",benefits:""},{name:"Dig Inn",id:"prj131",connections:"prj98",category:"Restaurants",keywords:"",categoryDisplay:"Restaurants",link:"http://www.diginn.com/",pointType:"point",locationType:"",locations:"",latitude:"40.7060372",longitude:"-74.007208",mappable:"Y",address:"",description:"",shortDesc:"",notes:"",benefits:""},{name:"Hank's Juicy Beef",id:"prj132",connections:"prj98",category:"Restaurants",keywords:"",categoryDisplay:"Restaurants",link:"http://www.hanksjuicybeef.com/",pointType:"point",locationType:"",locations:"",latitude:"40.7143487",longitude:"-74.0072147",mappable:"Y",address:"",description:"",shortDesc:"",notes:"",benefits:""},{name:"Maple",id:"prj133",connections:"prj98",category:"Restaurants",keywords:"",categoryDisplay:"Restaurants",link:"http://www.maplenyc.com/",pointType:"point",locationType:"",locations:"",latitude:"40.7590695",longitude:"-73.9837168",mappable:"Y",address:"",description:"",shortDesc:"",notes:"",benefits:""},{name:"Via Carota",id:"prj134",connections:"prj98",category:"Restaurants",keywords:"",categoryDisplay:"Restaurants",link:"http://viacarota.com/",pointType:"point",locationType:"",locations:"",latitude:"40.7331774",longitude:"-74.0036512",mappable:"Y",address:"",description:"",shortDesc:"",notes:"",benefits:""},{name:"Buvette",id:"prj135",connections:"prj98",category:"Restaurants",keywords:"",categoryDisplay:"Restaurants",link:"http://www.ilovebuvette.com/",pointType:"point",locationType:"",locations:"",latitude:"40.7327005",longitude:"-74.0043166",mappable:"Y",address:"",description:"",shortDesc:"",notes:"",benefits:""},{name:"I Sodi",id:"prj136",connections:"prj98",category:"Restaurants",keywords:"",categoryDisplay:"Restaurants",link:"http://www.isodinyc.com/",pointType:"point",locationType:"",locations:"",latitude:"40.7334337",longitude:"-74.0049958",mappable:"Y",address:"",description:"",shortDesc:"",notes:"",benefits:""},{name:"Speedy Romeo",id:"prj137",connections:"prj98",category:"Restaurants",keywords:"",categoryDisplay:"Restaurants",link:"http://speedyromeo.com/",pointType:"point",locationType:"",locations:"",latitude:"40.6875171",longitude:"-73.9600013",mappable:"Y",address:"",description:"",shortDesc:"",notes:"",benefits:""},{name:"Lighthouse Outpost",id:"prj138",connections:"prj98",category:"Restaurants",keywords:"",categoryDisplay:"Restaurants",link:"http://lighthouseoutpost.com/",pointType:"point",locationType:"",locations:"",latitude:"40.7228844",longitude:"-73.9961448",mappable:"Y",address:"",description:"",shortDesc:"",notes:"",benefits:""},{name:"Freemans",id:"prj139",connections:"prj98",category:"Restaurants",keywords:"",categoryDisplay:"Restaurants",link:"http://www.freemansrestaurant.com/",pointType:"point",locationType:"",locations:"",latitude:"40.7219641",longitude:"-73.9924663",mappable:"Y",address:"",description:"",shortDesc:"",notes:"",benefits:""},{name:"Bessou",id:"prj140",connections:"prj98",category:"Restaurants",keywords:"",categoryDisplay:"Restaurants",link:"http://www.bessou.nyc/",pointType:"point",locationType:"",locations:"",latitude:"40.72551",longitude:"-73.9926697",mappable:"Y",address:"",description:"",shortDesc:"",notes:"",benefits:""},{name:"Craft",id:"prj141",connections:"prj98",category:"Restaurants",keywords:"",categoryDisplay:"Restaurants",link:"http://www.craftrestaurant.com/",pointType:"point",locationType:"",locations:"",latitude:"40.738183",longitude:"-73.988648",mappable:"Y",address:"",description:"",shortDesc:"",notes:"",benefits:""},{name:"Eleven Madison Park",id:"prj142",connections:"prj98",category:"Restaurants",keywords:"",categoryDisplay:"Restaurants",link:"http://www.elevenmadisonpark.com/",pointType:"point",locationType:"",locations:"",latitude:"40.741726",longitude:"-73.987173",mappable:"Y",address:"",description:"",shortDesc:"",notes:"",benefits:""},{name:"Duck King",id:"prj143",connections:"prj98",category:"Restaurants",keywords:"",categoryDisplay:"Restaurants",link:"http://duckkingnj.com/",pointType:"point",locationType:"",locations:"",latitude:"40.825436",longitude:"-73.9749316",mappable:"Y",address:"",description:"",shortDesc:"",notes:"",benefits:""},{name:"Huertas",id:"prj144",connections:"prj98",category:"Restaurants",keywords:"",categoryDisplay:"Restaurants",link:"http://huertasnyc.com/",pointType:"point",locationType:"",locations:"",latitude:"40.7268446",longitude:"-73.9862162",mappable:"Y",address:"",description:"",shortDesc:"",notes:"",benefits:""},{name:"Cafe Luxembourg",id:"prj145",connections:"prj98",category:"Restaurants",keywords:"",categoryDisplay:"Restaurants",link:"http://www.cafeluxembourg.com/",pointType:"point",locationType:"",locations:"",latitude:"40.777425",longitude:"-73.9831099",mappable:"Y",address:"",description:"",shortDesc:"",notes:"",benefits:""},{name:"The Flower Shop",id:"prj146",connections:"prj98",category:"Restaurants",keywords:"",categoryDisplay:"Restaurants",link:"http://theflowershopnyc.com/",pointType:"point",locationType:"",locations:"",latitude:"40.7181476",longitude:"-73.9922533",mappable:"Y",address:"",description:"",shortDesc:"",notes:"",benefits:""},{name:"Nomad",id:"prj147",connections:"prj98",category:"Restaurants",keywords:"",categoryDisplay:"Restaurants",link:"http://www.nomadny.com/",pointType:"point",locationType:"",locations:"",latitude:"40.726377",longitude:"-73.9890498",mappable:"Y",address:"",description:"",shortDesc:"",notes:"",benefits:""},{name:"Franny's",id:"prj148",connections:"prj98",category:"Restaurants",keywords:"",categoryDisplay:"Restaurants",link:"https://frannysbrooklyn.com/",pointType:"point",locationType:"",locations:"",latitude:"40.6760157",longitude:"-73.9718078",mappable:"Y",address:"",description:"",shortDesc:"",notes:"",benefits:""},{name:"Rose's",id:"prj149",connections:"prj98",category:"Restaurants",keywords:"",categoryDisplay:"Restaurants",link:"http://www.rosesbklyn.com/",pointType:"point",locationType:"",locations:"",latitude:"40.678983",longitude:"-73.973427",mappable:"Y",address:"",description:"",shortDesc:"",notes:"",benefits:""},{name:"Vinegar Hill House",id:"prj150",connections:"prj98",category:"Restaurants",keywords:"",categoryDisplay:"Restaurants",link:"http://www.vinegarhillhouse.com/",pointType:"point",locationType:"",locations:"",latitude:"40.702755",longitude:"-73.9812884",mappable:"Y",address:"",description:"",shortDesc:"",notes:"",benefits:""},{name:"Fette Sau",id:"prj151",connections:"prj98",category:"Restaurants",keywords:"",categoryDisplay:"Restaurants",link:"http://www.fettesaubbq.com/",pointType:"point",locationType:"",locations:"",latitude:"40.713883",longitude:"-73.956474",mappable:"Y",address:"",description:"",shortDesc:"",notes:"",benefits:""},{name:"St. Anselm",id:"prj152",connections:"prj98",category:"Restaurants",keywords:"",categoryDisplay:"Restaurants",link:"http://www.stanselm.net/",pointType:"point",locationType:"",locations:"",latitude:"40.7142631",longitude:"-73.9560616",mappable:"Y",address:"",description:"",shortDesc:"",notes:"",benefits:""},{name:"Pine",id:"prj153",connections:"prj98",category:"Restaurants",keywords:"",categoryDisplay:"Restaurants",link:"http://www.holidaylga.com/",pointType:"point",locationType:"",locations:"",latitude:"40.7545243",longitude:"-73.8541838",mappable:"Y",address:"",description:"",shortDesc:"",notes:"",benefits:""},{name:"The Marshal",id:"prj154",connections:"prj98",category:"Restaurants",keywords:"",categoryDisplay:"Restaurants",link:"http://www.the-marshal.com/",pointType:"point",locationType:"",locations:"",latitude:"40.7612602",longitude:"-73.9940357",mappable:"Y",address:"",description:"",shortDesc:"",notes:"",benefits:""},{name:"Colonie",id:"prj155",connections:"prj98",category:"Restaurants",keywords:"",categoryDisplay:"Restaurants",link:"http://www.colonienyc.com/",pointType:"point",locationType:"",locations:"",latitude:"40.6908464",longitude:"-73.9958422",mappable:"Y",address:"",description:"",shortDesc:"",notes:"",benefits:""},{name:"Grand Ferry Tavern",id:"prj156",connections:"prj98",category:"Restaurants",keywords:"",categoryDisplay:"Restaurants",link:"http://www.grandferrynyc.com/",pointType:"point",locationType:"",locations:"",latitude:"40.716736",longitude:"-73.9653349",mappable:"Y",address:"",description:"",shortDesc:"",notes:"",benefits:""},{name:"The Richardson",id:"prj157",connections:"prj98",category:"Restaurants",keywords:"",categoryDisplay:"Restaurants",link:"http://www.therichardsonnyc.com/",pointType:"point",locationType:"",locations:"",latitude:"40.7188899",longitude:"-73.9453515",mappable:"Y",address:"",description:"",shortDesc:"",notes:"",benefits:""},{name:"Tørst",id:"prj158",connections:"prj98",category:"Restaurants",keywords:"",categoryDisplay:"Restaurants",link:"http://www.torstnyc.com/",pointType:"point",locationType:"",locations:"",latitude:"40.7234478",longitude:"-73.9507796",mappable:"Y",address:"",description:"",shortDesc:"",notes:"",benefits:""},{name:"GRAN ELÉCTRICA",id:"prj159",connections:"prj98",category:"Restaurants",keywords:"",categoryDisplay:"Restaurants",link:"http://www.granelectrica.com/",pointType:"point",locationType:"",locations:"",latitude:"40.702667",longitude:"-73.993116",mappable:"Y",address:"",description:"",shortDesc:"",notes:"",benefits:""},{name:"Bunker Vietnamese",id:"prj160",connections:"prj98",category:"Restaurants",keywords:"",categoryDisplay:"Restaurants",link:"http://bunkernyc.com/",pointType:"point",locationType:"",locations:"",latitude:"40.7104314",longitude:"-73.9232881",mappable:"Y",address:"",description:"",shortDesc:"",notes:"",benefits:""},{name:"Bricolage",id:"prj161",connections:"prj98",category:"Restaurants",keywords:"",categoryDisplay:"Restaurants",link:"http://www.bricolage.nyc/",pointType:"point",locationType:"",locations:"",latitude:"40.6778972",longitude:"-73.9796495",mappable:"Y",address:"",description:"",shortDesc:"",notes:"",benefits:""},{name:"The Four Horsemen",id:"prj162",connections:"prj98",category:"Restaurants",keywords:"",categoryDisplay:"Restaurants",link:"http://www.fourhorsemenbk.com/",pointType:"point",locationType:"",locations:"",latitude:"40.713084",longitude:"-73.957334",mappable:"Y",address:"",description:"",shortDesc:"",notes:"",benefits:""},{name:"Sunshine Co.",id:"prj163",connections:"prj98",category:"Restaurants",keywords:"",categoryDisplay:"Restaurants",link:"http://www.sunshinecobk.com/",pointType:"point",locationType:"",locations:"",latitude:"40.6747777",longitude:"-73.9633728",mappable:"Y",address:"",description:"",shortDesc:"",notes:"",benefits:""},{name:"Gloria's In and Out",id:"prj164",connections:"prj98",category:"Restaurants",keywords:"",categoryDisplay:"Restaurants",link:"http://www.gloriasinoutbrooklyn.com/",pointType:"point",locationType:"",locations:"",latitude:"40.664259",longitude:"-73.950856",mappable:"Y",address:"",description:"",shortDesc:"",notes:"",benefits:""},{name:"Aska",id:"prj165",connections:"prj98",category:"Restaurants",keywords:"",categoryDisplay:"Restaurants",link:"http://askanyc.com/",pointType:"point",locationType:"",locations:"",latitude:"40.7124107",longitude:"-73.9664545",mappable:"Y",address:"",description:"",shortDesc:"",notes:"",benefits:""},{name:"Battersby",id:"prj166",connections:"prj98",category:"Restaurants",keywords:"",categoryDisplay:"Restaurants",link:"http://battersbybrooklyn.com/",pointType:"point",locationType:"",locations:"",latitude:"40.6831207",longitude:"-73.9926585",mappable:"Y",address:"",description:"",shortDesc:"",notes:"",benefits:""},{name:"Five Leaves",id:"prj167",connections:"prj98",category:"Restaurants",keywords:"",categoryDisplay:"Restaurants",link:"http://www.fiveleavesny.com/",pointType:"point",locationType:"",locations:"",latitude:"40.7237217",longitude:"-73.951628",mappable:"Y",address:"",description:"",shortDesc:"",notes:"",benefits:""},{name:"Diner",id:"prj168",connections:"prj98",category:"Restaurants",keywords:"",categoryDisplay:"Restaurants",link:"http://dinernyc.com/",pointType:"point",locationType:"",locations:"",latitude:"40.7106886",longitude:"-73.9655691",mappable:"Y",address:"",description:"",shortDesc:"",notes:"",benefits:""},{name:"denizen",id:"prj170",connections:"prj98",category:"Restaurants",keywords:"",categoryDisplay:"Restaurants",link:"http://denizenbrooklyn.com/",pointType:"point",locationType:"",locations:"",latitude:"40.7162719",longitude:"-73.95546",mappable:"Y",address:"",description:"",shortDesc:"",notes:"",benefits:""},{name:"Boutros",id:"prj171",connections:"prj98",category:"Restaurants",keywords:"",categoryDisplay:"Restaurants",link:"http://boutrosbk.com/",pointType:"point",locationType:"",locations:"",latitude:"40.6902312",longitude:"-73.9934772",mappable:"Y",address:"",description:"",shortDesc:"",notes:"",benefits:""
},{name:"Rose Water",id:"prj172",connections:"prj98",category:"Restaurants",keywords:"",categoryDisplay:"Restaurants",link:"http://rosewater.nyc/",pointType:"point",locationType:"",locations:"",latitude:"40.6756951",longitude:"-73.9782135",mappable:"Y",address:"",description:"",shortDesc:"",notes:"",benefits:""},{name:"M. Wells Steakhouse",id:"prj173",connections:"prj98",category:"Restaurants",keywords:"",categoryDisplay:"Restaurants",link:"http://magasinwells.com/",pointType:"point",locationType:"",locations:"",latitude:"40.7484929",longitude:"-73.942296",mappable:"Y",address:"",description:"",shortDesc:"",notes:""}]},function(e,t){"use strict";function n(e){return e.replace(r,function(e,t){return t.toUpperCase()})}var r=/-(.)/g;e.exports=n},function(e,t,n){"use strict";function r(e){return o(e.replace(i,"ms-"))}var o=n(185),i=/^-ms-/;e.exports=r},function(e,t,n){"use strict";function r(e,t){return e&&t?e===t?!0:o(e)?!1:o(t)?r(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(16&e.compareDocumentPosition(t)):!1:!1}var o=n(195);e.exports=r},function(e,t,n){"use strict";function r(e){var t=e.length;if(Array.isArray(e)||"object"!=typeof e&&"function"!=typeof e?a(!1):void 0,"number"!=typeof t?a(!1):void 0,0===t||t-1 in e?void 0:a(!1),"function"==typeof e.callee?a(!1):void 0,e.hasOwnProperty)try{return Array.prototype.slice.call(e)}catch(n){}for(var r=Array(t),o=0;t>o;o++)r[o]=e[o];return r}function o(e){return!!e&&("object"==typeof e||"function"==typeof e)&&"length"in e&&!("setInterval"in e)&&"number"!=typeof e.nodeType&&(Array.isArray(e)||"callee"in e||"item"in e)}function i(e){return o(e)?Array.isArray(e)?e.slice():r(e):[e]}var a=n(2);e.exports=i},function(e,t,n){"use strict";function r(e){var t=e.match(c);return t&&t[1].toLowerCase()}function o(e,t){var n=l;l?void 0:u(!1);var o=r(e),i=o&&s(o);if(i){n.innerHTML=i[1]+e+i[2];for(var c=i[0];c--;)n=n.lastChild}else n.innerHTML=e;var p=n.getElementsByTagName("script");p.length&&(t?void 0:u(!1),a(p).forEach(t));for(var f=Array.from(n.childNodes);n.lastChild;)n.removeChild(n.lastChild);return f}var i=n(9),a=n(188),s=n(190),u=n(2),l=i.canUseDOM?document.createElement("div"):null,c=/^\s*<(\w+)/;e.exports=o},function(e,t,n){"use strict";function r(e){return a?void 0:i(!1),f.hasOwnProperty(e)||(e="*"),s.hasOwnProperty(e)||("*"===e?a.innerHTML="<link />":a.innerHTML="<"+e+"></"+e+">",s[e]=!a.firstChild),s[e]?f[e]:null}var o=n(9),i=n(2),a=o.canUseDOM?document.createElement("div"):null,s={},u=[1,'<select multiple="true">',"</select>"],l=[1,"<table>","</table>"],c=[3,"<table><tbody><tr>","</tr></tbody></table>"],p=[1,'<svg xmlns="http://www.w3.org/2000/svg">',"</svg>"],f={"*":[1,"?<div>","</div>"],area:[1,"<map>","</map>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],legend:[1,"<fieldset>","</fieldset>"],param:[1,"<object>","</object>"],tr:[2,"<table><tbody>","</tbody></table>"],optgroup:u,option:u,caption:l,colgroup:l,tbody:l,tfoot:l,thead:l,td:c,th:c},h=["circle","clipPath","defs","ellipse","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","text","tspan"];h.forEach(function(e){f[e]=p,s[e]=!0}),e.exports=r},function(e,t){"use strict";function n(e){return e===window?{x:window.pageXOffset||document.documentElement.scrollLeft,y:window.pageYOffset||document.documentElement.scrollTop}:{x:e.scrollLeft,y:e.scrollTop}}e.exports=n},function(e,t){"use strict";function n(e){return e.replace(r,"-$1").toLowerCase()}var r=/([A-Z])/g;e.exports=n},function(e,t,n){"use strict";function r(e){return o(e).replace(i,"-ms-")}var o=n(192),i=/^ms-/;e.exports=r},function(e,t){"use strict";function n(e){return!(!e||!("function"==typeof Node?e instanceof Node:"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName))}e.exports=n},function(e,t,n){"use strict";function r(e){return o(e)&&3==e.nodeType}var o=n(194);e.exports=r},function(e,t){"use strict";function n(e){var t={};return function(n){return t.hasOwnProperty(n)||(t[n]=e.call(this,n)),t[n]}}e.exports=n},function(e,t,n){e.exports=n.p+"fonts/norwester.ttf"},function(e,t,n){e.exports=n.p+"fonts/norwester.woff"},function(e,t){"use strict";var n={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,arguments:!0,arity:!0},o="function"==typeof Object.getOwnPropertySymbols;e.exports=function(e,t,i){if("string"!=typeof t){var a=Object.getOwnPropertyNames(t);o&&(a=a.concat(Object.getOwnPropertySymbols(t)));for(var s=0;s<a.length;++s)if(!(n[a[s]]||r[a[s]]||i&&i[a[s]]))try{e[a[s]]=t[a[s]]}catch(u){}}return e}},function(e,t){t.read=function(e,t,n,r,o){var i,a,s=8*o-r-1,u=(1<<s)-1,l=u>>1,c=-7,p=n?o-1:0,f=n?-1:1,h=e[t+p];for(p+=f,i=h&(1<<-c)-1,h>>=-c,c+=s;c>0;i=256*i+e[t+p],p+=f,c-=8);for(a=i&(1<<-c)-1,i>>=-c,c+=r;c>0;a=256*a+e[t+p],p+=f,c-=8);if(0===i)i=1-l;else{if(i===u)return a?NaN:(h?-1:1)*(1/0);a+=Math.pow(2,r),i-=l}return(h?-1:1)*a*Math.pow(2,i-r)},t.write=function(e,t,n,r,o,i){var a,s,u,l=8*i-o-1,c=(1<<l)-1,p=c>>1,f=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:i-1,d=r?1:-1,m=0>t||0===t&&0>1/t?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),t+=a+p>=1?f/u:f*Math.pow(2,1-p),t*u>=2&&(a++,u/=2),a+p>=c?(s=0,a=c):a+p>=1?(s=(t*u-1)*Math.pow(2,o),a+=p):(s=t*Math.pow(2,p-1)*Math.pow(2,o),a=0));o>=8;e[n+h]=255&s,h+=d,s/=256,o-=8);for(a=a<<o|s,l+=o;l>0;e[n+h]=255&a,h+=d,a/=256,l-=8);e[n+h-d]|=128*m}},function(e,t,n){"use strict";var r=function(e,t,n,r,o,i,a,s){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,o,i,a,s],c=0;u=new Error(t.replace(/%s/g,function(){return l[c++]})),u.name="Invariant Violation"}throw u.framesToPop=1,u}};e.exports=r},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){function r(e){return null==e?void 0===e?u:s:(e=Object(e),l&&l in e?i(e):a(e))}var o=n(93),i=n(206),a=n(207),s="[object Null]",u="[object Undefined]",l=o?o.toStringTag:void 0;e.exports=r},function(e,t){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(t,function(){return this}())},function(e,t,n){var r=n(208),o=r(Object.getPrototypeOf,Object);e.exports=o},function(e,t,n){function r(e){var t=a.call(e,u),n=e[u];try{e[u]=void 0;var r=!0}catch(o){}var i=s.call(e);return r&&(t?e[u]=n:delete e[u]),i}var o=n(93),i=Object.prototype,a=i.hasOwnProperty,s=i.toString,u=o?o.toStringTag:void 0;e.exports=r},function(e,t){function n(e){return o.call(e)}var r=Object.prototype,o=r.toString;e.exports=n},function(e,t){function n(e,t){return function(n){return e(t(n))}}e.exports=n},function(e,t,n){var r=n(204),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();e.exports=i},function(e,t){function n(e){return null!=e&&"object"==typeof e}e.exports=n},function(e,t,n){e.exports=n(288)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0,t["default"]=void 0;var s=n(1),u=n(96),l=r(u),c=n(97),p=(r(c),function(e){function t(n,r){o(this,t);var a=i(this,e.call(this,n,r));return a.store=n.store,a}return a(t,e),t.prototype.getChildContext=function(){return{store:this.store}},t.prototype.render=function(){var e=this.props.children;return s.Children.only(e)},t}(s.Component));t["default"]=p,p.propTypes={store:l["default"].isRequired,children:s.PropTypes.element.isRequired},p.childContextTypes={store:l["default"].isRequired}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return e.displayName||e.name||"Component"}function u(e,t){try{return e.apply(t)}catch(n){return C.value=n,C}}function l(e,t,n){var r=arguments.length<=3||void 0===arguments[3]?{}:arguments[3],l=Boolean(e),f=e||E,d=void 0;d="function"==typeof t?t:t?(0,g["default"])(t):T;var y=n||S,v=r.pure,b=void 0===v?!0:v,_=r.withRef,x=void 0===_?!1:_,P=b&&y!==S,A=M++;return function(e){function t(e,t,n){var r=y(e,t,n);return r}var n="Connect("+s(e)+")",r=function(r){function s(e,t){o(this,s);var a=i(this,r.call(this,e,t));a.version=A,a.store=e.store||t.store,(0,k["default"])(a.store,'Could not find "store" in either the context or '+('props of "'+n+'". ')+"Either wrap the root component in a <Provider>, "+('or explicitly pass "store" as a prop to "'+n+'".'));var u=a.store.getState();return a.state={storeState:u},a.clearCache(),a}return a(s,r),s.prototype.shouldComponentUpdate=function(){return!b||this.haveOwnPropsChanged||this.hasStoreStateChanged},s.prototype.computeStateProps=function(e,t){if(!this.finalMapStateToProps)return this.configureFinalMapState(e,t);var n=e.getState(),r=this.doStatePropsDependOnOwnProps?this.finalMapStateToProps(n,t):this.finalMapStateToProps(n);return r},s.prototype.configureFinalMapState=function(e,t){var n=f(e.getState(),t),r="function"==typeof n;return this.finalMapStateToProps=r?n:f,this.doStatePropsDependOnOwnProps=1!==this.finalMapStateToProps.length,r?this.computeStateProps(e,t):n},s.prototype.computeDispatchProps=function(e,t){if(!this.finalMapDispatchToProps)return this.configureFinalMapDispatch(e,t);var n=e.dispatch,r=this.doDispatchPropsDependOnOwnProps?this.finalMapDispatchToProps(n,t):this.finalMapDispatchToProps(n);return r},s.prototype.configureFinalMapDispatch=function(e,t){var n=d(e.dispatch,t),r="function"==typeof n;return this.finalMapDispatchToProps=r?n:d,this.doDispatchPropsDependOnOwnProps=1!==this.finalMapDispatchToProps.length,r?this.computeDispatchProps(e,t):n},s.prototype.updateStatePropsIfNeeded=function(){var e=this.computeStateProps(this.store,this.props);return this.stateProps&&(0,m["default"])(e,this.stateProps)?!1:(this.stateProps=e,!0)},s.prototype.updateDispatchPropsIfNeeded=function(){var e=this.computeDispatchProps(this.store,this.props);return this.dispatchProps&&(0,m["default"])(e,this.dispatchProps)?!1:(this.dispatchProps=e,!0)},s.prototype.updateMergedPropsIfNeeded=function(){var e=t(this.stateProps,this.dispatchProps,this.props);return this.mergedProps&&P&&(0,m["default"])(e,this.mergedProps)?!1:(this.mergedProps=e,!0)},s.prototype.isSubscribed=function(){return"function"==typeof this.unsubscribe},s.prototype.trySubscribe=function(){l&&!this.unsubscribe&&(this.unsubscribe=this.store.subscribe(this.handleChange.bind(this)),this.handleChange())},s.prototype.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null)},s.prototype.componentDidMount=function(){this.trySubscribe()},s.prototype.componentWillReceiveProps=function(e){b&&(0,m["default"])(e,this.props)||(this.haveOwnPropsChanged=!0)},s.prototype.componentWillUnmount=function(){this.tryUnsubscribe(),this.clearCache()},s.prototype.clearCache=function(){this.dispatchProps=null,this.stateProps=null,this.mergedProps=null,this.haveOwnPropsChanged=!0,this.hasStoreStateChanged=!0,this.haveStatePropsBeenPrecalculated=!1,this.statePropsPrecalculationError=null,this.renderedElement=null,this.finalMapDispatchToProps=null,this.finalMapStateToProps=null},s.prototype.handleChange=function(){if(this.unsubscribe){var e=this.store.getState(),t=this.state.storeState;if(!b||t!==e){if(b&&!this.doStatePropsDependOnOwnProps){var n=u(this.updateStatePropsIfNeeded,this);if(!n)return;n===C&&(this.statePropsPrecalculationError=C.value),this.haveStatePropsBeenPrecalculated=!0}this.hasStoreStateChanged=!0,this.setState({storeState:e})}}},s.prototype.getWrappedInstance=function(){return(0,k["default"])(x,"To access the wrapped instance, you need to specify { withRef: true } as the fourth argument of the connect() call."),this.refs.wrappedInstance},s.prototype.render=function(){var t=this.haveOwnPropsChanged,n=this.hasStoreStateChanged,r=this.haveStatePropsBeenPrecalculated,o=this.statePropsPrecalculationError,i=this.renderedElement;if(this.haveOwnPropsChanged=!1,this.hasStoreStateChanged=!1,this.haveStatePropsBeenPrecalculated=!1,this.statePropsPrecalculationError=null,o)throw o;var a=!0,s=!0;b&&i&&(a=n||t&&this.doStatePropsDependOnOwnProps,s=t&&this.doDispatchPropsDependOnOwnProps);var u=!1,l=!1;r?u=!0:a&&(u=this.updateStatePropsIfNeeded()),s&&(l=this.updateDispatchPropsIfNeeded());var f=!0;return f=u||l||t?this.updateMergedPropsIfNeeded():!1,!f&&i?i:(x?this.renderedElement=(0,p.createElement)(e,c({},this.mergedProps,{ref:"wrappedInstance"})):this.renderedElement=(0,p.createElement)(e,this.mergedProps),this.renderedElement)},s}(p.Component);return r.displayName=n,r.WrappedComponent=e,r.contextTypes={store:h["default"]},r.propTypes={store:h["default"]},(0,w["default"])(r,e)}}var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.__esModule=!0,t["default"]=l;var p=n(1),f=n(96),h=r(f),d=n(214),m=r(d),y=n(215),g=r(y),v=n(97),b=(r(v),n(52)),_=(r(b),n(199)),w=r(_),x=n(201),k=r(x),E=function(e){return{}},T=function(e){return{dispatch:e}},S=function(e,t,n){return c({},n,e,t)},C={value:null},M=0},function(e,t){"use strict";function n(e,t){if(e===t)return!0;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var o=Object.prototype.hasOwnProperty,i=0;i<n.length;i++)if(!o.call(t,n[i])||e[n[i]]!==t[n[i]])return!1;return!0}t.__esModule=!0,t["default"]=n},function(e,t,n){"use strict";function r(e){return function(t){return(0,o.bindActionCreators)(e,t)}}t.__esModule=!0,t["default"]=r;var o=n(140)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var o=n(7),i=(r(o),n(24)),a={contextTypes:{history:i.history},componentWillMount:function(){this.history=this.context.history}};t["default"]=a,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(1),a=r(i),s=n(98),u=r(s),l=a["default"].createClass({displayName:"IndexLink",render:function(){return a["default"].createElement(u["default"],o({},this.props,{onlyActiveOnIndex:!0}))}});t["default"]=l,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var o=n(1),i=r(o),a=n(7),s=(r(a),n(8)),u=r(s),l=n(99),c=r(l),p=n(24),f=i["default"].PropTypes,h=f.string,d=f.object,m=i["default"].createClass({displayName:"IndexRedirect",statics:{createRouteFromReactElement:function(e,t){t&&(t.indexRoute=c["default"].createRouteFromReactElement(e))}},propTypes:{to:h.isRequired,query:d,state:d,onEnter:p.falsy,children:p.falsy},render:function(){(0,u["default"])(!1)}});t["default"]=m,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var o=n(1),i=r(o),a=n(7),s=(r(a),n(8)),u=r(s),l=n(20),c=n(24),p=i["default"].PropTypes.func,f=i["default"].createClass({displayName:"IndexRoute",statics:{createRouteFromReactElement:function(e,t){t&&(t.indexRoute=(0,l.createRouteFromReactElement)(e))}},propTypes:{path:c.falsy,component:c.component,components:c.components,getComponent:p,getComponents:p},render:function(){(0,u["default"])(!1)}});t["default"]=f,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var o=n(7),i=(r(o),n(1)),a=r(i),s=n(8),u=r(s),l=a["default"].PropTypes.object,c={contextTypes:{history:l.isRequired,route:l},propTypes:{route:l},componentDidMount:function(){this.routerWillLeave?void 0:(0,u["default"])(!1);var e=this.props.route||this.context.route;e?void 0:(0,u["default"])(!1),this._unlistenBeforeLeavingRoute=this.context.history.listenBeforeLeavingRoute(e,this.routerWillLeave)},componentWillUnmount:function(){this._unlistenBeforeLeavingRoute&&this._unlistenBeforeLeavingRoute()}};t["default"]=c,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var o=n(1),i=r(o),a=n(8),s=r(a),u=n(20),l=n(24),c=i["default"].PropTypes,p=c.string,f=c.func,h=i["default"].createClass({displayName:"Route",statics:{createRouteFromReactElement:u.createRouteFromReactElement},propTypes:{path:p,component:l.component,components:l.components,getComponent:f,getComponents:f},render:function(){(0,s["default"])(!1)}});t["default"]=h,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var o=n(7),i=(r(o),n(1)),a=r(i),s=a["default"].PropTypes.object,u={propTypes:{route:s.isRequired},childContextTypes:{route:s.isRequired},getChildContext:function(){return{route:this.props.route}},componentWillMount:function(){}};t["default"]=u,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function i(e){return!e||!e.__v2_compatible__}function a(e){return e&&e.getCurrentLocation}t.__esModule=!0;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=n(107),l=r(u),c=n(44),p=r(c),f=n(8),h=r(f),d=n(1),m=r(d),y=n(55),g=r(y),v=n(24),b=n(41),_=r(b),w=n(20),x=n(100),k=n(7),E=(r(k),m["default"].PropTypes),T=E.func,S=E.object,C=m["default"].createClass({displayName:"Router",propTypes:{history:S,children:v.routes,routes:v.routes,render:T,createElement:T,onError:T,onUpdate:T,parseQueryString:T,stringifyQuery:T,matchContext:S},getDefaultProps:function(){return{render:function(e){return m["default"].createElement(_["default"],e)}}},getInitialState:function(){return{location:null,routes:null,params:null,components:null}},handleError:function(e){if(!this.props.onError)throw e;this.props.onError.call(this,e)},componentWillMount:function(){var e=this,t=this.props,n=(t.parseQueryString,t.stringifyQuery,this.createRouterObjects()),r=n.history,o=n.transitionManager,i=n.router;this._unlisten=o.listen(function(t,n){t?e.handleError(t):e.setState(n,e.props.onUpdate)}),this.history=r,this.router=i},createRouterObjects:function(){var e=this.props.matchContext;if(e)return e;var t=this.props.history,n=this.props,r=n.routes,o=n.children;a(t)?(0,h["default"])(!1):void 0,i(t)&&(t=this.wrapDeprecatedHistory(t));var s=(0,g["default"])(t,(0,w.createRoutes)(r||o)),u=(0,x.createRouterObject)(t,s),l=(0,x.createRoutingHistory)(t,s);return{history:l,transitionManager:s,router:u}},wrapDeprecatedHistory:function(e){var t=this.props,n=t.parseQueryString,r=t.stringifyQuery,o=void 0;return o=e?function(){return e}:l["default"],(0,p["default"])(o)({parseQueryString:n,stringifyQuery:r})},componentWillReceiveProps:function(e){},componentWillUnmount:function(){this._unlisten&&this._unlisten()},render:function M(){var e=this.state,t=e.location,n=e.routes,r=e.params,i=e.components,a=this.props,u=a.createElement,M=a.render,l=o(a,["createElement","render"]);return null==t?null:(Object.keys(C.propTypes).forEach(function(e){return delete l[e]}),M(s({},l,{history:this.history,router:this.router,location:t,routes:n,params:r,components:i,createElement:u})))}});t["default"]=C,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var o=n(1),i=r(o),a=n(41),s=r(a),u=n(7),l=(r(u),i["default"].createClass({displayName:"RoutingContext",componentWillMount:function(){},render:function(){return i["default"].createElement(s["default"],this.props)}}));t["default"]=l,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t,n){return function(){for(var r=arguments.length,o=Array(r),i=0;r>i;i++)o[i]=arguments[i];if(e.apply(t,o),e.length<n){var a=o[o.length-1];a()}}}function i(e){return e.reduce(function(e,t){return t.onEnter&&e.push(o(t.onEnter,t,3)),e},[])}function a(e){return e.reduce(function(e,t){return t.onChange&&e.push(o(t.onChange,t,4)),e},[])}function s(e,t,n){function r(e,t,n){return t?void(o={pathname:t,query:n,state:e}):void(o=e)}if(!e)return void n();var o=void 0;(0,p.loopAsync)(e,function(e,n,i){t(e,r,function(e){e||o?i(e,o):n()})},n)}function u(e,t,n){var r=i(e);return s(r.length,function(e,n,o){r[e](t,n,o)},n)}function l(e,t,n,r){var o=a(e);return s(o.length,function(e,r,i){o[e](t,n,r,i)},r)}function c(e,t){for(var n=0,r=e.length;r>n;++n)e[n].onLeave&&e[n].onLeave.call(e[n],t)}t.__esModule=!0,t.runEnterHooks=u,t.runChangeHooks=l,t.runLeaveHooks=c;var p=n(53),f=n(7);r(f)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(1),a=r(i),s=n(41),u=r(s),l=n(7);r(l);t["default"]=function(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];var r=t.map(function(e){return e.renderRouterContext}).filter(Boolean),s=t.map(function(e){return e.renderRouteComponent}).filter(Boolean),l=function(){var e=arguments.length<=0||void 0===arguments[0]?i.createElement:arguments[0];return function(t,n){return s.reduceRight(function(e,t){return t(e,n)},e(t,n))}};return function(e){return r.reduceRight(function(t,n){return n(t,e)},a["default"].createElement(u["default"],o({},e,{createElement:l(e.createElement)})))}},e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var o=n(241),i=r(o),a=n(102),s=r(a);t["default"]=(0,s["default"])(i["default"]),e.exports=t["default"]},function(e,t,n){"use strict";function r(e,t,n){if(!e.path)return!1;var r=(0,i.getParamNames)(e.path);return r.some(function(e){return t.params[e]!==n.params[e]})}function o(e,t){var n=e&&e.routes,o=t.routes,i=void 0,a=void 0,s=void 0;return n?!function(){var u=!1;i=n.filter(function(n){if(u)return!0;var i=-1===o.indexOf(n)||r(n,e,t);return i&&(u=!0),i}),i.reverse(),s=[],a=[],o.forEach(function(e){var t=-1===n.indexOf(e),r=-1!==i.indexOf(e);t||r?s.push(e):a.push(e)})}():(i=[],a=[],s=o),{leaveRoutes:i,changeRoutes:a,enterRoutes:s}}t.__esModule=!0;var i=n(26);t["default"]=o,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t,n){if(t.component||t.components)return void n(null,t.component||t.components);var r=t.getComponent||t.getComponents;if(!r)return void n();var o=e.location,i=(0,u["default"])(e,o);r.call(t,i,n)}function i(e,t){(0,a.mapAsync)(e.routes,function(t,n,r){o(e,t,r)},t)}t.__esModule=!0;var a=n(53),s=n(103),u=r(s);t["default"]=i,e.exports=t["default"]},function(e,t,n){"use strict";function r(e,t){var n={};return e.path?((0,o.getParamNames)(e.path).forEach(function(e){Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e])}),n):n}t.__esModule=!0;var o=n(26);t["default"]=r,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var o=n(107),i=r(o),a=n(102),s=r(a);t["default"]=(0,s["default"])(i["default"]),e.exports=t["default"]},function(e,t,n){"use strict";function r(e,t){if(e==t)return!0;if(null==e||null==t)return!1;if(Array.isArray(e))return Array.isArray(t)&&e.length===t.length&&e.every(function(e,n){return r(e,t[n])});if("object"===("undefined"==typeof e?"undefined":u(e))){for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n))if(void 0===e[n]){if(void 0!==t[n])return!1}else{if(!Object.prototype.hasOwnProperty.call(t,n))return!1;if(!r(e[n],t[n]))return!1}return!0}return String(e)===String(t)}function o(e,t){return"/"!==t.charAt(0)&&(t="/"+t),"/"!==e.charAt(e.length-1)&&(e+="/"),"/"!==t.charAt(t.length-1)&&(t+="/"),t===e}function i(e,t,n){for(var r=e,o=[],i=[],a=0,s=t.length;s>a;++a){var u=t[a],c=u.path||"";if("/"===c.charAt(0)&&(r=e,o=[],i=[]),null!==r&&c){var p=(0,l.matchPattern)(c,r);if(p?(r=p.remainingPathname,o=[].concat(o,p.paramNames),i=[].concat(i,p.paramValues)):r=null,""===r)return o.every(function(e,t){return String(i[t])===String(n[e])})}}return!1}function a(e,t){return null==t?null==e:null==e?!0:r(e,t)}function s(e,t,n,r,s){var u=e.pathname,l=e.query;return null==n?!1:("/"!==u.charAt(0)&&(u="/"+u),o(u,n.pathname)||!t&&i(u,r,s)?a(l,n.query):!1)}t.__esModule=!0;var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};t["default"]=s;var l=n(26);e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function i(e,t){var n=e.history,r=e.routes,i=e.location,u=o(e,["history","routes","location"]);n||i?void 0:(0,l["default"])(!1),n=n?n:(0,p["default"])(u);var c=(0,h["default"])(n,(0,d.createRoutes)(r)),f=void 0;i?i=n.createLocation(i):f=n.listen(function(e){i=e});var y=(0,m.createRouterObject)(n,c);n=(0,m.createRoutingHistory)(n,c),c.match(i,function(e,r,o){t(e,r&&y.createLocation(r,s.REPLACE),o&&a({},o,{history:n,router:y,matchContext:{history:n,transitionManager:c,router:y}})),f&&f()})}t.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=n(28),u=n(8),l=r(u),c=n(101),p=r(c),f=n(55),h=r(f),d=n(20),m=n(100);t["default"]=i,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t,n,r,o){if(e.childRoutes)return[null,e.childRoutes];if(!e.getChildRoutes)return[];var i=!0,a=void 0,u={location:t,params:s(n,r)},l=(0,d["default"])(u,t);return e.getChildRoutes(l,function(e,t){return t=!e&&(0,g.createRoutes)(t),i?void(a=[e,t]):void o(e,t)}),i=!1,a}function i(e,t,n,r,o){if(e.indexRoute)o(null,e.indexRoute);else if(e.getIndexRoute){var a={location:t,params:s(n,r)},u=(0,d["default"])(a,t);e.getIndexRoute(u,function(e,t){o(e,!e&&(0,g.createRoutes)(t)[0])})}else e.childRoutes?!function(){var a=e.childRoutes.filter(function(e){return!e.path});(0,f.loopAsync)(a.length,function(e,o,s){i(a[e],t,n,r,function(t,n){if(t||n){var r=[a[e]].concat(Array.isArray(n)?n:[n]);s(t,r)}else o()})},function(e,t){o(null,t)})}():o()}function a(e,t,n){return t.reduce(function(e,t,r){var o=n&&n[r];return Array.isArray(e[t])?e[t].push(o):t in e?e[t]=[e[t],o]:e[t]=o,e},e)}function s(e,t){return a({},e,t)}function u(e,t,n,r,a,u){var c=e.path||"";if("/"===c.charAt(0)&&(n=t.pathname,r=[],a=[]),null!==n&&c){try{var f=(0,m.matchPattern)(c,n);f?(n=f.remainingPathname,r=[].concat(r,f.paramNames),a=[].concat(a,f.paramValues)):n=null}catch(h){u(h)}if(""===n){var d=function(){var n={routes:[e],params:s(r,a)};return i(e,t,r,a,function(e,t){if(e)u(e);else{if(Array.isArray(t)){var r;(r=n.routes).push.apply(r,t)}else t&&n.routes.push(t);u(null,n)}}),{v:void 0}}();if("object"===("undefined"==typeof d?"undefined":p(d)))return d.v}}if(null!=n||e.childRoutes){var y=function(o,i){o?u(o):i?l(i,t,function(t,n){t?u(t):n?(n.routes.unshift(e),u(null,n)):u()},n,r,a):u()},g=o(e,t,r,a,y);g&&y.apply(void 0,g)}else u()}function l(e,t,n,r){var o=arguments.length<=4||void 0===arguments[4]?[]:arguments[4],i=arguments.length<=5||void 0===arguments[5]?[]:arguments[5];void 0===r&&("/"!==t.pathname.charAt(0)&&(t=c({},t,{pathname:"/"+t.pathname})),r=t.pathname),(0,f.loopAsync)(e.length,function(n,a,s){u(e[n],t,r,o,i,function(e,t){e||t?s(e,t):a()})},n)}t.__esModule=!0;var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};t["default"]=l;var f=n(53),h=n(103),d=r(h),m=n(26),y=n(7),g=(r(y),n(20));e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function i(e){return function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],n=t.routes,r=o(t,["routes"]),i=(0,u["default"])(e)(r),s=(0,c["default"])(i,n);return a({},i,s)}}t.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=n(44),u=r(s),l=n(55),c=r(l),p=n(7);r(p);t["default"]=i,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){return e.displayName||e.name||"Component"}function i(e,t){var n=t&&t.withRef,r=c["default"].createClass({displayName:"WithRouter",contextTypes:{router:h.routerShape},propTypes:{router:h.routerShape},getWrappedInstance:function(){return n?void 0:(0,u["default"])(!1),this.wrappedInstance},render:function(){var t=this,r=this.props.router||this.context.router,o=a({},this.props,{router:r});return n&&(o.ref=function(e){t.wrappedInstance=e}),c["default"].createElement(e,o)}});return r.displayName="withRouter("+o(e)+")",r.WrappedComponent=e,(0,f["default"])(r,e)}t.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t["default"]=i;var s=n(8),u=r(s),l=n(1),c=r(l),p=n(244),f=r(p),h=n(54);e.exports=t["default"]},function(e,t,n){function r(e){return null===e||void 0===e}function o(e){return e&&"object"==typeof e&&"number"==typeof e.length?"function"!=typeof e.copy||"function"!=typeof e.slice?!1:!(e.length>0&&"number"!=typeof e[0]):!1}function i(e,t,n){var i,c;if(r(e)||r(t))return!1;if(e.prototype!==t.prototype)return!1;if(u(e))return u(t)?(e=a.call(e),t=a.call(t),l(e,t,n)):!1;if(o(e)){if(!o(t))return!1;if(e.length!==t.length)return!1;for(i=0;i<e.length;i++)if(e[i]!==t[i])return!1;return!0}try{var p=s(e),f=s(t)}catch(h){return!1}if(p.length!=f.length)return!1;for(p.sort(),f.sort(),i=p.length-1;i>=0;i--)if(p[i]!=f[i])return!1;for(i=p.length-1;i>=0;i--)if(c=p[i],!l(e[c],t[c],n))return!1;return typeof e==typeof t}var a=Array.prototype.slice,s=n(239),u=n(238),l=e.exports=function(e,t,n){return n||(n={}),e===t?!0:e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():!e||!t||"object"!=typeof e&&"object"!=typeof t?n.strict?e===t:e==t:i(e,t,n)}},function(e,t){function n(e){return"[object Arguments]"==Object.prototype.toString.call(e);
}function r(e){return e&&"object"==typeof e&&"number"==typeof e.length&&Object.prototype.hasOwnProperty.call(e,"callee")&&!Object.prototype.propertyIsEnumerable.call(e,"callee")||!1}var o="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();t=e.exports=o?n:r,t.supported=n,t.unsupported=r},function(e,t){function n(e){var t=[];for(var n in e)t.push(n);return t}t=e.exports="function"==typeof Object.keys?Object.keys:n,t.shim=n},function(e,t){"use strict";function n(e,t,n){function o(){return s=!0,u?void(c=[].concat(r.call(arguments))):void n.apply(this,arguments)}function i(){if(!s&&(l=!0,!u)){for(u=!0;!s&&e>a&&l;)l=!1,t.call(this,a++,i,o);return u=!1,s?void n.apply(this,c):void(a>=e&&l&&(s=!0,n()))}}var a=0,s=!1,u=!1,l=!1,c=void 0;i()}t.__esModule=!0;var r=Array.prototype.slice;t.loopAsync=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(){function e(e){try{e=e||window.history.state||{}}catch(t){e={}}var n=p.getWindowPath(),r=e,o=r.key,a=void 0;o?a=f.readState(o):(a=null,o=b.createKey(),g&&window.history.replaceState(i({},e,{key:o}),null));var s=l.parsePath(n);return b.createLocation(i({},s,{state:a}),void 0,o)}function t(t){function n(t){void 0!==t.state&&r(e(t.state))}var r=t.transitionTo;return p.addEventListener(window,"popstate",n),function(){p.removeEventListener(window,"popstate",n)}}function n(e){var t=e.basename,n=e.pathname,r=e.search,o=e.hash,i=e.state,a=e.action,s=e.key;if(a!==u.POP){f.saveState(s,i);var l=(t||"")+n+r+o,c={key:s};if(a===u.PUSH){if(v)return window.location.href=l,!1;window.history.pushState(c,null,l)}else{if(v)return window.location.replace(l),!1;window.history.replaceState(c,null,l)}}}function r(e){1===++_&&(w=t(b));var n=b.listenBefore(e);return function(){n(),0===--_&&w()}}function o(e){1===++_&&(w=t(b));var n=b.listen(e);return function(){n(),0===--_&&w()}}function a(e){1===++_&&(w=t(b)),b.registerTransitionHook(e)}function h(e){b.unregisterTransitionHook(e),0===--_&&w()}var m=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];c.canUseDOM?void 0:s["default"](!1);var y=m.forceRefresh,g=p.supportsHistory(),v=!g||y,b=d["default"](i({},m,{getCurrentLocation:e,finishTransition:n,saveState:f.saveState})),_=0,w=void 0;return i({},b,{listenBefore:r,listen:o,registerTransitionHook:a,unregisterTransitionHook:h})}t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(8),s=r(a),u=n(28),l=n(25),c=n(43),p=n(56),f=n(105),h=n(106),d=r(h);t["default"]=o,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(){var e=arguments.length<=0||void 0===arguments[0]?"/":arguments[0],t=arguments.length<=1||void 0===arguments[1]?s.POP:arguments[1],n=arguments.length<=2||void 0===arguments[2]?null:arguments[2],r=arguments.length<=3||void 0===arguments[3]?null:arguments[3];"string"==typeof e&&(e=u.parsePath(e)),"object"==typeof t&&(e=i({},e,{state:t}),t=n||s.POP,n=r);var o=e.pathname||"/",a=e.search||"",l=e.hash||"",c=e.state||null;return{pathname:o,search:a,hash:l,state:c,action:t,key:n}}t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(14),s=(r(a),n(28)),u=n(25);t["default"]=o,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){return e.filter(function(e){return e.state}).reduce(function(e,t){return e[t.key]=t.state,e},{})}function i(){function e(e,t){g[e]=t}function t(e){return g[e]}function n(){var e=m[y],n=e.basename,r=e.pathname,o=e.search,i=(n||"")+r+(o||""),s=void 0,u=void 0;e.key?(s=e.key,u=t(s)):(s=f.createKey(),u=null,e.key=s);var l=c.parsePath(i);return f.createLocation(a({},l,{state:u}),void 0,s)}function r(e){var t=y+e;return t>=0&&t<m.length}function i(e){if(e){if(!r(e))return;y+=e;var t=n();f.transitionTo(a({},t,{action:p.POP}))}}function s(t){switch(t.action){case p.PUSH:y+=1,y<m.length&&m.splice(y),m.push(t),e(t.key,t.state);break;case p.REPLACE:m[y]=t,e(t.key,t.state)}}var u=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];Array.isArray(u)?u={entries:u}:"string"==typeof u&&(u={entries:[u]});var f=h["default"](a({},u,{getCurrentLocation:n,finishTransition:s,saveState:e,go:i})),d=u,m=d.entries,y=d.current;"string"==typeof m?m=[m]:Array.isArray(m)||(m=["/"]),m=m.map(function(e){var t=f.createKey();return"string"==typeof e?{pathname:e,key:t}:"object"==typeof e&&e?a({},e,{key:t}):void l["default"](!1)}),null==y?y=m.length-1:y>=0&&y<m.length?void 0:l["default"](!1);var g=o(m);return f}t.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=n(14),u=(r(s),n(8)),l=r(u),c=n(25),p=n(28),f=n(108),h=r(f);t["default"]=i,e.exports=t["default"]},function(e,t){"use strict";var n={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,arguments:!0,arity:!0},o="function"==typeof Object.getOwnPropertySymbols;e.exports=function(e,t,i){if("string"!=typeof t){var a=Object.getOwnPropertyNames(t);o&&(a=a.concat(Object.getOwnPropertySymbols(t)));for(var s=0;s<a.length;++s)if(!(n[a[s]]||r[a[s]]||i&&i[a[s]]))try{e[a[s]]=t[a[s]]}catch(u){}}return e}},function(e,t,n){"use strict";var r=n(246);t.extract=function(e){return e.split("?")[1]||""},t.parse=function(e){return"string"!=typeof e?{}:(e=e.trim().replace(/^(\?|#|&)/,""),e?e.split("&").reduce(function(e,t){var n=t.replace(/\+/g," ").split("="),r=n.shift(),o=n.length>0?n.join("="):void 0;return r=decodeURIComponent(r),o=void 0===o?null:decodeURIComponent(o),e.hasOwnProperty(r)?Array.isArray(e[r])?e[r].push(o):e[r]=[e[r],o]:e[r]=o,e},{}):{})},t.stringify=function(e){return e?Object.keys(e).sort().map(function(t){var n=e[t];return void 0===n?"":null===n?t:Array.isArray(n)?n.slice().sort().map(function(e){return r(t)+"="+r(e)}).join("&"):r(t)+"="+r(n)}).filter(function(e){return e.length>0}).join("&"):""}},function(e,t){"use strict";e.exports=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}},function(e,t,n){"use strict";var r=function(){};e.exports=r},function(e,t,n){"use strict";var r=n(6),o=n(90),i={focusDOMComponent:function(){o(r.getNodeFromInstance(this))}};e.exports=i},function(e,t,n){"use strict";function r(){var e=window.opera;return"object"==typeof e&&"function"==typeof e.version&&parseInt(e.version(),10)<=12}function o(e){return(e.ctrlKey||e.altKey||e.metaKey)&&!(e.ctrlKey&&e.altKey)}function i(e){switch(e){case M.topCompositionStart:return P.compositionStart;case M.topCompositionEnd:return P.compositionEnd;case M.topCompositionUpdate:return P.compositionUpdate}}function a(e,t){return e===M.topKeyDown&&t.keyCode===w}function s(e,t){switch(e){case M.topKeyUp:return-1!==_.indexOf(t.keyCode);case M.topKeyDown:return t.keyCode!==w;case M.topKeyPress:case M.topMouseDown:case M.topBlur:return!0;default:return!1}}function u(e){var t=e.detail;return"object"==typeof t&&"data"in t?t.data:null}function l(e,t,n,r){var o,l;if(x?o=i(e):z?s(e,n)&&(o=P.compositionEnd):a(e,n)&&(o=P.compositionStart),!o)return null;T&&(z||o!==P.compositionStart?o===P.compositionEnd&&z&&(l=z.getData()):z=y.getPooled(r));var c=g.getPooled(o,t,n,r);if(l)c.data=l;else{var p=u(n);null!==p&&(c.data=p)}return d.accumulateTwoPhaseDispatches(c),c}function c(e,t){switch(e){case M.topCompositionEnd:return u(t);case M.topKeyPress:var n=t.which;return n!==S?null:(A=!0,C);case M.topTextInput:var r=t.data;return r===C&&A?null:r;default:return null}}function p(e,t){if(z){if(e===M.topCompositionEnd||!x&&s(e,t)){var n=z.getData();return y.release(z),z=null,n}return null}switch(e){case M.topPaste:return null;case M.topKeyPress:return t.which&&!o(t)?String.fromCharCode(t.which):null;case M.topCompositionEnd:return T?null:t.data;default:return null}}function f(e,t,n,r){var o;if(o=E?c(e,n):p(e,n),!o)return null;var i=v.getPooled(P.beforeInput,t,n,r);return i.data=o,d.accumulateTwoPhaseDispatches(i),i}var h=n(17),d=n(35),m=n(9),y=n(255),g=n(294),v=n(297),b=n(19),_=[9,13,27,32],w=229,x=m.canUseDOM&&"CompositionEvent"in window,k=null;m.canUseDOM&&"documentMode"in document&&(k=document.documentMode);var E=m.canUseDOM&&"TextEvent"in window&&!k&&!r(),T=m.canUseDOM&&(!x||k&&k>8&&11>=k),S=32,C=String.fromCharCode(S),M=h.topLevelTypes,P={beforeInput:{phasedRegistrationNames:{bubbled:b({onBeforeInput:null}),captured:b({onBeforeInputCapture:null})},dependencies:[M.topCompositionEnd,M.topKeyPress,M.topTextInput,M.topPaste]},compositionEnd:{phasedRegistrationNames:{bubbled:b({onCompositionEnd:null}),captured:b({onCompositionEndCapture:null})},dependencies:[M.topBlur,M.topCompositionEnd,M.topKeyDown,M.topKeyPress,M.topKeyUp,M.topMouseDown]},compositionStart:{phasedRegistrationNames:{bubbled:b({onCompositionStart:null}),captured:b({onCompositionStartCapture:null})},dependencies:[M.topBlur,M.topCompositionStart,M.topKeyDown,M.topKeyPress,M.topKeyUp,M.topMouseDown]},compositionUpdate:{phasedRegistrationNames:{bubbled:b({onCompositionUpdate:null}),captured:b({onCompositionUpdateCapture:null})},dependencies:[M.topBlur,M.topCompositionUpdate,M.topKeyDown,M.topKeyPress,M.topKeyUp,M.topMouseDown]}},A=!1,z=null,R={eventTypes:P,extractEvents:function(e,t,n,r){return[l(e,t,n,r),f(e,t,n,r)]}};e.exports=R},function(e,t,n){"use strict";var r=n(110),o=n(9),i=(n(11),n(186),n(304)),a=n(193),s=n(196),u=(n(4),s(function(e){return a(e)})),l=!1,c="cssFloat";if(o.canUseDOM){var p=document.createElement("div").style;try{p.font=""}catch(f){l=!0}void 0===document.documentElement.style.cssFloat&&(c="styleFloat")}var h={createMarkupForStyles:function(e,t){var n="";for(var r in e)if(e.hasOwnProperty(r)){var o=e[r];null!=o&&(n+=u(r)+":",n+=i(r,o,t)+";")}return n||null},setValueForStyles:function(e,t,n){var o=e.style;for(var a in t)if(t.hasOwnProperty(a)){var s=i(a,t[a],n);if("float"!==a&&"cssFloat"!==a||(a=c),s)o[a]=s;else{var u=l&&r.shorthandPropertyExpansions[a];if(u)for(var p in u)o[p]="";else o[a]=""}}}};e.exports=h},function(e,t,n){"use strict";function r(e){var t=e.nodeName&&e.nodeName.toLowerCase();return"select"===t||"input"===t&&"file"===e.type}function o(e){var t=E.getPooled(A.change,R,e,T(e));_.accumulateTwoPhaseDispatches(t),k.batchedUpdates(i,t)}function i(e){b.enqueueEvents(e),b.processEventQueue(!1)}function a(e,t){z=e,R=t,z.attachEvent("onchange",o)}function s(){z&&(z.detachEvent("onchange",o),z=null,R=null)}function u(e,t){return e===P.topChange?t:void 0}function l(e,t,n){e===P.topFocus?(s(),a(t,n)):e===P.topBlur&&s()}function c(e,t){z=e,R=t,O=e.value,L=Object.getOwnPropertyDescriptor(e.constructor.prototype,"value"),Object.defineProperty(z,"value",N),z.attachEvent?z.attachEvent("onpropertychange",f):z.addEventListener("propertychange",f,!1)}function p(){z&&(delete z.value,z.detachEvent?z.detachEvent("onpropertychange",f):z.removeEventListener("propertychange",f,!1),z=null,R=null,O=null,L=null)}function f(e){if("value"===e.propertyName){var t=e.srcElement.value;t!==O&&(O=t,o(e))}}function h(e,t){return e===P.topInput?t:void 0}function d(e,t,n){e===P.topFocus?(p(),c(t,n)):e===P.topBlur&&p()}function m(e,t){return e!==P.topSelectionChange&&e!==P.topKeyUp&&e!==P.topKeyDown||!z||z.value===O?void 0:(O=z.value,R)}function y(e){return e.nodeName&&"input"===e.nodeName.toLowerCase()&&("checkbox"===e.type||"radio"===e.type)}function g(e,t){return e===P.topClick?t:void 0}var v=n(17),b=n(34),_=n(35),w=n(9),x=n(6),k=n(16),E=n(18),T=n(77),S=n(78),C=n(136),M=n(19),P=v.topLevelTypes,A={change:{phasedRegistrationNames:{bubbled:M({onChange:null}),captured:M({onChangeCapture:null})},dependencies:[P.topBlur,P.topChange,P.topClick,P.topFocus,P.topInput,P.topKeyDown,P.topKeyUp,P.topSelectionChange]}},z=null,R=null,O=null,L=null,D=!1;w.canUseDOM&&(D=S("change")&&(!document.documentMode||document.documentMode>8));var j=!1;w.canUseDOM&&(j=S("input")&&(!document.documentMode||document.documentMode>11));var N={get:function(){return L.get.call(this)},set:function(e){O=""+e,L.set.call(this,e)}},I={eventTypes:A,extractEvents:function(e,t,n,o){var i,a,s=t?x.getNodeFromInstance(t):window;if(r(s)?D?i=u:a=l:C(s)?j?i=h:(i=m,a=d):y(s)&&(i=g),i){var c=i(e,t);if(c){var p=E.getPooled(A.change,c,n,o);return p.type="change",_.accumulateTwoPhaseDispatches(p),p}}a&&a(e,s,t)}};e.exports=I},function(e,t,n){"use strict";var r=n(3),o=n(29),i=n(9),a=n(189),s=n(10),u=(n(2),{dangerouslyReplaceNodeWithMarkup:function(e,t){if(i.canUseDOM?void 0:r("56"),t?void 0:r("57"),"HTML"===e.nodeName?r("58"):void 0,"string"==typeof t){var n=a(t,s)[0];e.parentNode.replaceChild(n,e)}else o.replaceChildWithTree(e,t)}});e.exports=u},function(e,t,n){"use strict";var r=n(19),o=[r({ResponderEventPlugin:null}),r({SimpleEventPlugin:null}),r({TapEventPlugin:null}),r({EnterLeaveEventPlugin:null}),r({ChangeEventPlugin:null}),r({SelectEventPlugin:null}),r({BeforeInputEventPlugin:null})];e.exports=o},function(e,t,n){"use strict";var r=n(17),o=n(35),i=n(6),a=n(47),s=n(19),u=r.topLevelTypes,l={mouseEnter:{registrationName:s({onMouseEnter:null}),dependencies:[u.topMouseOut,u.topMouseOver]},mouseLeave:{registrationName:s({onMouseLeave:null}),dependencies:[u.topMouseOut,u.topMouseOver]}},c={eventTypes:l,extractEvents:function(e,t,n,r){if(e===u.topMouseOver&&(n.relatedTarget||n.fromElement))return null;if(e!==u.topMouseOut&&e!==u.topMouseOver)return null;var s;if(r.window===r)s=r;else{var c=r.ownerDocument;s=c?c.defaultView||c.parentWindow:window}var p,f;if(e===u.topMouseOut){p=t;var h=n.relatedTarget||n.toElement;f=h?i.getClosestInstanceFromNode(h):null}else p=null,f=t;if(p===f)return null;var d=null==p?s:i.getNodeFromInstance(p),m=null==f?s:i.getNodeFromInstance(f),y=a.getPooled(l.mouseLeave,p,n,r);y.type="mouseleave",y.target=d,y.relatedTarget=m;var g=a.getPooled(l.mouseEnter,f,n,r);return g.type="mouseenter",g.target=m,g.relatedTarget=d,o.accumulateEnterLeaveDispatches(y,g,p,f),[y,g]}};e.exports=c},function(e,t,n){"use strict";function r(e){this._root=e,this._startText=this.getText(),this._fallbackText=null}var o=n(5),i=n(21),a=n(134);o(r.prototype,{destructor:function(){this._root=null,this._startText=null,this._fallbackText=null},getText:function(){return"value"in this._root?this._root.value:this._root[a()]},getData:function(){if(this._fallbackText)return this._fallbackText;var e,t,n=this._startText,r=n.length,o=this.getText(),i=o.length;for(e=0;r>e&&n[e]===o[e];e++);var a=r-e;for(t=1;a>=t&&n[r-t]===o[i-t];t++);var s=t>1?1-t:void 0;return this._fallbackText=o.slice(e,s),this._fallbackText}}),i.addPoolingTo(r),e.exports=r},function(e,t,n){"use strict";var r=n(30),o=r.injection.MUST_USE_PROPERTY,i=r.injection.HAS_BOOLEAN_VALUE,a=r.injection.HAS_NUMERIC_VALUE,s=r.injection.HAS_POSITIVE_NUMERIC_VALUE,u=r.injection.HAS_OVERLOADED_BOOLEAN_VALUE,l={isCustomAttribute:RegExp.prototype.test.bind(new RegExp("^(data|aria)-["+r.ATTRIBUTE_NAME_CHAR+"]*$")),Properties:{accept:0,acceptCharset:0,accessKey:0,action:0,allowFullScreen:i,allowTransparency:0,alt:0,as:0,async:i,autoComplete:0,autoPlay:i,capture:i,cellPadding:0,cellSpacing:0,charSet:0,challenge:0,checked:o|i,cite:0,classID:0,className:0,cols:s,colSpan:0,content:0,contentEditable:0,contextMenu:0,controls:i,coords:0,crossOrigin:0,data:0,dateTime:0,"default":i,defer:i,dir:0,disabled:i,download:u,draggable:0,encType:0,form:0,formAction:0,formEncType:0,formMethod:0,formNoValidate:i,formTarget:0,frameBorder:0,headers:0,height:0,hidden:i,high:0,href:0,hrefLang:0,htmlFor:0,httpEquiv:0,icon:0,id:0,inputMode:0,integrity:0,is:0,keyParams:0,keyType:0,kind:0,label:0,lang:0,list:0,loop:i,low:0,manifest:0,marginHeight:0,marginWidth:0,max:0,maxLength:0,media:0,mediaGroup:0,method:0,min:0,minLength:0,multiple:o|i,muted:o|i,name:0,nonce:0,noValidate:i,open:i,optimum:0,pattern:0,placeholder:0,playsInline:i,poster:0,preload:0,profile:0,radioGroup:0,readOnly:i,referrerPolicy:0,rel:0,required:i,reversed:i,role:0,rows:s,rowSpan:a,sandbox:0,scope:0,scoped:i,scrolling:0,seamless:i,selected:o|i,shape:0,size:s,sizes:0,span:s,spellCheck:0,src:0,srcDoc:0,srcLang:0,srcSet:0,start:a,step:0,style:0,summary:0,tabIndex:0,target:0,title:0,type:0,useMap:0,value:0,width:0,wmode:0,wrap:0,about:0,datatype:0,inlist:0,prefix:0,property:0,resource:0,"typeof":0,vocab:0,autoCapitalize:0,autoCorrect:0,autoSave:0,color:0,itemProp:0,itemScope:i,itemType:0,itemID:0,itemRef:0,results:0,security:0,unselectable:0},DOMAttributeNames:{acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},DOMPropertyNames:{}};e.exports=l},function(e,t,n){(function(t){"use strict";function r(e,t,n,r){var o=void 0===e[n];null!=t&&o&&(e[n]=i(t,!0))}var o=n(32),i=n(135),a=(n(63),n(79)),s=n(80),u=(n(4),{instantiateChildren:function(e,t,n,o){if(null==e)return null;var i={};return s(e,r,i),i},updateChildren:function(e,t,n,r,s,u,l,c,p){if(t||e){var f,h;for(f in t)if(t.hasOwnProperty(f)){h=e&&e[f];var d=h&&h._currentElement,m=t[f];if(null!=h&&a(d,m))o.receiveComponent(h,m,s,c),t[f]=h;else{h&&(r[f]=o.getHostNode(h),o.unmountComponent(h,!1));var y=i(m,!0);t[f]=y;var g=o.mountComponent(y,s,u,l,c,p);n.push(g)}}for(f in e)!e.hasOwnProperty(f)||t&&t.hasOwnProperty(f)||(h=e[f],r[f]=o.getHostNode(h),o.unmountComponent(h,!1))}},unmountChildren:function(e,t){for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];o.unmountComponent(r,t)}}});e.exports=u}).call(t,n(40))},function(e,t,n){"use strict";var r=n(59),o=n(267),i={processChildrenUpdates:o.dangerouslyProcessChildrenUpdates,replaceNodeWithMarkup:r.dangerouslyReplaceNodeWithMarkup};e.exports=i},function(e,t,n){"use strict";function r(e){}function o(e,t){}function i(e){return!(!e.prototype||!e.prototype.isReactComponent)}function a(e){return!(!e.prototype||!e.prototype.isPureReactComponent)}var s=n(3),u=n(5),l=n(66),c=n(22),p=n(15),f=n(68),h=n(31),d=(n(11),n(124)),m=(n(71),n(32)),y=n(303),g=n(33),v=(n(2),n(51)),b=n(79),_=(n(4),{ImpureClass:0,PureClass:1,StatelessFunctional:2});r.prototype.render=function(){var e=h.get(this)._currentElement.type,t=e(this.props,this.context,this.updater);return o(e,t),t};var w=1,x={construct:function(e){this._currentElement=e,this._rootNodeID=0,this._compositeType=null,this._instance=null,this._hostParent=null,this._hostContainerInfo=null,this._updateBatchNumber=null,this._pendingElement=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._renderedNodeType=null,this._renderedComponent=null,this._context=null,this._mountOrder=0,this._topLevelWrapper=null,this._pendingCallbacks=null,this._calledComponentWillUnmount=!1},mountComponent:function(e,t,n,u){this._context=u,this._mountOrder=w++,this._hostParent=t,this._hostContainerInfo=n;var l,c=this._currentElement.props,f=this._processContext(u),d=this._currentElement.type,m=e.getUpdateQueue(),y=i(d),v=this._constructComponent(y,c,f,m);y||null!=v&&null!=v.render?a(d)?this._compositeType=_.PureClass:this._compositeType=_.ImpureClass:(l=v,o(d,l),null===v||v===!1||p.isValidElement(v)?void 0:s("105",d.displayName||d.name||"Component"),v=new r(d),this._compositeType=_.StatelessFunctional);v.props=c,v.context=f,v.refs=g,v.updater=m,this._instance=v,h.set(v,this);var b=v.state;void 0===b&&(v.state=b=null),"object"!=typeof b||Array.isArray(b)?s("106",this.getName()||"ReactCompositeComponent"):void 0,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1;var x;return x=v.unstable_handleError?this.performInitialMountWithErrorHandling(l,t,n,e,u):this.performInitialMount(l,t,n,e,u),v.componentDidMount&&e.getReactMountReady().enqueue(v.componentDidMount,v),x},_constructComponent:function(e,t,n,r){return this._constructComponentWithoutOwner(e,t,n,r)},_constructComponentWithoutOwner:function(e,t,n,r){var o=this._currentElement.type;return e?new o(t,n,r):o(t,n,r)},performInitialMountWithErrorHandling:function(e,t,n,r,o){var i,a=r.checkpoint();try{i=this.performInitialMount(e,t,n,r,o)}catch(s){r.rollback(a),this._instance.unstable_handleError(s),this._pendingStateQueue&&(this._instance.state=this._processPendingState(this._instance.props,this._instance.context)),a=r.checkpoint(),this._renderedComponent.unmountComponent(!0),r.rollback(a),i=this.performInitialMount(e,t,n,r,o)}return i},performInitialMount:function(e,t,n,r,o){var i=this._instance,a=0;i.componentWillMount&&(i.componentWillMount(),this._pendingStateQueue&&(i.state=this._processPendingState(i.props,i.context))),void 0===e&&(e=this._renderValidatedComponent());var s=d.getType(e);this._renderedNodeType=s;var u=this._instantiateReactComponent(e,s!==d.EMPTY);this._renderedComponent=u;var l=m.mountComponent(u,r,t,n,this._processChildContext(o),a);return l},getHostNode:function(){return m.getHostNode(this._renderedComponent)},unmountComponent:function(e){if(this._renderedComponent){var t=this._instance;if(t.componentWillUnmount&&!t._calledComponentWillUnmount)if(t._calledComponentWillUnmount=!0,e){var n=this.getName()+".componentWillUnmount()";f.invokeGuardedCallback(n,t.componentWillUnmount.bind(t))}else t.componentWillUnmount();this._renderedComponent&&(m.unmountComponent(this._renderedComponent,e),this._renderedNodeType=null,this._renderedComponent=null,this._instance=null),this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._pendingCallbacks=null,this._pendingElement=null,this._context=null,this._rootNodeID=0,this._topLevelWrapper=null,h.remove(t)}},_maskContext:function(e){var t=this._currentElement.type,n=t.contextTypes;if(!n)return g;var r={};for(var o in n)r[o]=e[o];return r},_processContext:function(e){var t=this._maskContext(e);return t},_processChildContext:function(e){var t,n=this._currentElement.type,r=this._instance;if(r.getChildContext&&(t=r.getChildContext()),t){"object"!=typeof n.childContextTypes?s("107",this.getName()||"ReactCompositeComponent"):void 0;for(var o in t)o in n.childContextTypes?void 0:s("108",this.getName()||"ReactCompositeComponent",o);return u({},e,t)}return e},_checkContextTypes:function(e,t,n){y(e,t,n,this.getName(),null,this._debugID)},receiveComponent:function(e,t,n){var r=this._currentElement,o=this._context;this._pendingElement=null,this.updateComponent(t,r,e,o,n)},performUpdateIfNecessary:function(e){null!=this._pendingElement?m.receiveComponent(this,this._pendingElement,e,this._context):null!==this._pendingStateQueue||this._pendingForceUpdate?this.updateComponent(e,this._currentElement,this._currentElement,this._context,this._context):this._updateBatchNumber=null},updateComponent:function(e,t,n,r,o){var i=this._instance;null==i?s("136",this.getName()||"ReactCompositeComponent"):void 0;var a,u=!1;this._context===o?a=i.context:(a=this._processContext(o),u=!0);var l=t.props,c=n.props;t!==n&&(u=!0),u&&i.componentWillReceiveProps&&i.componentWillReceiveProps(c,a);var p=this._processPendingState(c,a),f=!0;this._pendingForceUpdate||(i.shouldComponentUpdate?f=i.shouldComponentUpdate(c,p,a):this._compositeType===_.PureClass&&(f=!v(l,c)||!v(i.state,p))),this._updateBatchNumber=null,f?(this._pendingForceUpdate=!1,this._performComponentUpdate(n,c,p,a,e,o)):(this._currentElement=n,this._context=o,i.props=c,i.state=p,i.context=a)},_processPendingState:function(e,t){var n=this._instance,r=this._pendingStateQueue,o=this._pendingReplaceState;if(this._pendingReplaceState=!1,this._pendingStateQueue=null,!r)return n.state;if(o&&1===r.length)return r[0];for(var i=u({},o?r[0]:n.state),a=o?1:0;a<r.length;a++){var s=r[a];u(i,"function"==typeof s?s.call(n,i,e,t):s)}return i},_performComponentUpdate:function(e,t,n,r,o,i){var a,s,u,l=this._instance,c=Boolean(l.componentDidUpdate);c&&(a=l.props,s=l.state,u=l.context),l.componentWillUpdate&&l.componentWillUpdate(t,n,r),this._currentElement=e,this._context=i,l.props=t,l.state=n,l.context=r,this._updateRenderedComponent(o,i),c&&o.getReactMountReady().enqueue(l.componentDidUpdate.bind(l,a,s,u),l)},_updateRenderedComponent:function(e,t){var n=this._renderedComponent,r=n._currentElement,o=this._renderValidatedComponent(),i=0;if(b(r,o))m.receiveComponent(n,o,e,this._processChildContext(t));else{var a=m.getHostNode(n);m.unmountComponent(n,!1);var s=d.getType(o);this._renderedNodeType=s;var u=this._instantiateReactComponent(o,s!==d.EMPTY);this._renderedComponent=u;var l=m.mountComponent(u,e,this._hostParent,this._hostContainerInfo,this._processChildContext(t),i);this._replaceNodeWithMarkup(a,l,n)}},_replaceNodeWithMarkup:function(e,t,n){l.replaceNodeWithMarkup(e,t,n)},_renderValidatedComponentWithoutOwnerOrContext:function(){var e,t=this._instance;return e=t.render()},_renderValidatedComponent:function(){var e;if(this._compositeType!==_.StatelessFunctional){c.current=this;try{e=this._renderValidatedComponentWithoutOwnerOrContext()}finally{c.current=null}}else e=this._renderValidatedComponentWithoutOwnerOrContext();return null===e||e===!1||p.isValidElement(e)?void 0:s("109",this.getName()||"ReactCompositeComponent"),e},attachRef:function(e,t){var n=this.getPublicInstance();null==n?s("110"):void 0;var r=t.getPublicInstance(),o=n.refs===g?n.refs={}:n.refs;o[e]=r},detachRef:function(e){var t=this.getPublicInstance().refs;delete t[e]},getName:function(){var e=this._currentElement.type,t=this._instance&&this._instance.constructor;return e.displayName||t&&t.displayName||e.name||t&&t.name||null},getPublicInstance:function(){var e=this._instance;return this._compositeType===_.StatelessFunctional?null:e},_instantiateReactComponent:null},k={Mixin:x};e.exports=k},function(e,t,n){"use strict";var r=n(6),o=n(275),i=n(122),a=n(32),s=n(16),u=n(126),l=n(305),c=n(132),p=n(311);n(4);o.inject();var f={findDOMNode:l,render:i.render,unmountComponentAtNode:i.unmountComponentAtNode,version:u,unstable_batchedUpdates:s.batchedUpdates,unstable_renderSubtreeIntoContainer:p};"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.inject&&__REACT_DEVTOOLS_GLOBAL_HOOK__.inject({ComponentTree:{getClosestInstanceFromNode:r.getClosestInstanceFromNode,getNodeFromInstance:function(e){return e._renderedComponent&&(e=c(e)),e?r.getNodeFromInstance(e):null}},Mount:i,Reconciler:a});e.exports=f},function(e,t,n){"use strict";var r=n(45),o={getHostProps:r.getHostProps};e.exports=o},function(e,t,n){"use strict";function r(e){if(e){var t=e._currentElement._owner||null;if(t){var n=t.getName();if(n)return" This DOM node was rendered by `"+n+"`."}}return""}function o(e,t){t&&(J[e._tag]&&(null!=t.children||null!=t.dangerouslySetInnerHTML?m("137",e._tag,e._currentElement._owner?" Check the render method of "+e._currentElement._owner.getName()+".":""):void 0),null!=t.dangerouslySetInnerHTML&&(null!=t.children?m("60"):void 0,"object"==typeof t.dangerouslySetInnerHTML&&W in t.dangerouslySetInnerHTML?void 0:m("61")),null!=t.style&&"object"!=typeof t.style?m("62",r(e)):void 0)}function i(e,t,n,r){if(!(r instanceof D)){var o=e._hostContainerInfo,i=o._node&&o._node.nodeType===G,s=i?o._node:o._ownerDocument;U(t,s),r.getReactMountReady().enqueue(a,{inst:e,registrationName:t,listener:n})}}function a(){var e=this;E.putListener(e.inst,e.registrationName,e.listener)}function s(){var e=this;A.postMountWrapper(e)}function u(){var e=this;O.postMountWrapper(e)}function l(){var e=this;z.postMountWrapper(e)}function c(){var e=this;e._rootNodeID?void 0:m("63");var t=B(e);switch(t?void 0:m("64"),e._tag){case"iframe":case"object":e._wrapperState.listeners=[S.trapBubbledEvent(k.topLevelTypes.topLoad,"load",t)];break;case"video":case"audio":e._wrapperState.listeners=[];for(var n in Z)Z.hasOwnProperty(n)&&e._wrapperState.listeners.push(S.trapBubbledEvent(k.topLevelTypes[n],Z[n],t));break;case"source":e._wrapperState.listeners=[S.trapBubbledEvent(k.topLevelTypes.topError,"error",t)];break;case"img":e._wrapperState.listeners=[S.trapBubbledEvent(k.topLevelTypes.topError,"error",t),S.trapBubbledEvent(k.topLevelTypes.topLoad,"load",t)];break;case"form":e._wrapperState.listeners=[S.trapBubbledEvent(k.topLevelTypes.topReset,"reset",t),S.trapBubbledEvent(k.topLevelTypes.topSubmit,"submit",t)];break;case"input":case"select":case"textarea":e._wrapperState.listeners=[S.trapBubbledEvent(k.topLevelTypes.topInvalid,"invalid",t)]}}function p(){R.postUpdateWrapper(this)}function f(e){ee.call($,e)||(Q.test(e)?void 0:m("65",e),$[e]=!0)}function h(e,t){return e.indexOf("-")>=0||null!=t.is}function d(e){var t=e.type;f(t),this._currentElement=e,this._tag=t.toLowerCase(),this._namespaceURI=null,this._renderedChildren=null,this._previousStyle=null,this._previousStyleCopy=null,this._hostNode=null,this._hostParent=null,this._rootNodeID=0,this._domID=0,this._hostContainerInfo=null,this._wrapperState=null,this._topLevelWrapper=null,this._flags=0}var m=n(3),y=n(5),g=n(248),v=n(250),b=n(29),_=n(60),w=n(30),x=n(112),k=n(17),E=n(34),T=n(61),S=n(46),C=n(261),M=n(116),P=n(6),A=n(268),z=n(269),R=n(117),O=n(272),L=(n(11),n(280)),D=n(285),j=(n(10),n(48)),N=(n(2),n(78),n(19)),I=(n(51),n(81),n(4),M),F=E.deleteListener,B=P.getNodeFromInstance,U=S.listenTo,V=T.registrationNameModules,Y={string:!0,number:!0},q=N({style:null}),W=N({__html:null}),H={children:null,dangerouslySetInnerHTML:null,suppressContentEditableWarning:null},G=11,Z={topAbort:"abort",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topSeeked:"seeked",topSeeking:"seeking",topStalled:"stalled",topSuspend:"suspend",topTimeUpdate:"timeupdate",topVolumeChange:"volumechange",topWaiting:"waiting"},X={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},K={listing:!0,pre:!0,textarea:!0},J=y({menuitem:!0},X),Q=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,$={},ee={}.hasOwnProperty,te=1;d.displayName="ReactDOMComponent",d.Mixin={mountComponent:function(e,t,n,r){this._rootNodeID=te++,this._domID=n._idCounter++,this._hostParent=t,this._hostContainerInfo=n;var i=this._currentElement.props;switch(this._tag){case"audio":case"form":case"iframe":case"img":case"link":case"object":case"source":case"video":this._wrapperState={listeners:null},e.getReactMountReady().enqueue(c,this);break;case"button":i=C.getHostProps(this,i,t);break;case"input":A.mountWrapper(this,i,t),i=A.getHostProps(this,i),e.getReactMountReady().enqueue(c,this);break;case"option":z.mountWrapper(this,i,t),i=z.getHostProps(this,i);break;case"select":R.mountWrapper(this,i,t),i=R.getHostProps(this,i),e.getReactMountReady().enqueue(c,this);break;case"textarea":O.mountWrapper(this,i,t),i=O.getHostProps(this,i),e.getReactMountReady().enqueue(c,this)}o(this,i);var a,p;null!=t?(a=t._namespaceURI,p=t._tag):n._tag&&(a=n._namespaceURI,p=n._tag),(null==a||a===_.svg&&"foreignobject"===p)&&(a=_.html),a===_.html&&("svg"===this._tag?a=_.svg:"math"===this._tag&&(a=_.mathml)),this._namespaceURI=a;var f;if(e.useCreateElement){var h,d=n._ownerDocument;if(a===_.html)if("script"===this._tag){var m=d.createElement("div"),y=this._currentElement.type;m.innerHTML="<"+y+"></"+y+">",h=m.removeChild(m.firstChild)}else h=i.is?d.createElement(this._currentElement.type,i.is):d.createElement(this._currentElement.type);else h=d.createElementNS(a,this._currentElement.type);P.precacheNode(this,h),this._flags|=I.hasCachedChildNodes,this._hostParent||x.setAttributeForRoot(h),this._updateDOMProperties(null,i,e);var v=b(h);this._createInitialChildren(e,i,r,v),f=v}else{var w=this._createOpenTagMarkupAndPutListeners(e,i),k=this._createContentMarkup(e,i,r);f=!k&&X[this._tag]?w+"/>":w+">"+k+"</"+this._currentElement.type+">";
}switch(this._tag){case"input":e.getReactMountReady().enqueue(s,this),i.autoFocus&&e.getReactMountReady().enqueue(g.focusDOMComponent,this);break;case"textarea":e.getReactMountReady().enqueue(u,this),i.autoFocus&&e.getReactMountReady().enqueue(g.focusDOMComponent,this);break;case"select":i.autoFocus&&e.getReactMountReady().enqueue(g.focusDOMComponent,this);break;case"button":i.autoFocus&&e.getReactMountReady().enqueue(g.focusDOMComponent,this);break;case"option":e.getReactMountReady().enqueue(l,this)}return f},_createOpenTagMarkupAndPutListeners:function(e,t){var n="<"+this._currentElement.type;for(var r in t)if(t.hasOwnProperty(r)){var o=t[r];if(null!=o)if(V.hasOwnProperty(r))o&&i(this,r,o,e);else{r===q&&(o&&(o=this._previousStyleCopy=y({},t.style)),o=v.createMarkupForStyles(o,this));var a=null;null!=this._tag&&h(this._tag,t)?H.hasOwnProperty(r)||(a=x.createMarkupForCustomAttribute(r,o)):a=x.createMarkupForProperty(r,o),a&&(n+=" "+a)}}return e.renderToStaticMarkup?n:(this._hostParent||(n+=" "+x.createMarkupForRoot()),n+=" "+x.createMarkupForID(this._domID))},_createContentMarkup:function(e,t,n){var r="",o=t.dangerouslySetInnerHTML;if(null!=o)null!=o.__html&&(r=o.__html);else{var i=Y[typeof t.children]?t.children:null,a=null!=i?null:t.children;if(null!=i)r=j(i);else if(null!=a){var s=this.mountChildren(a,e,n);r=s.join("")}}return K[this._tag]&&"\n"===r.charAt(0)?"\n"+r:r},_createInitialChildren:function(e,t,n,r){var o=t.dangerouslySetInnerHTML;if(null!=o)null!=o.__html&&b.queueHTML(r,o.__html);else{var i=Y[typeof t.children]?t.children:null,a=null!=i?null:t.children;if(null!=i)b.queueText(r,i);else if(null!=a)for(var s=this.mountChildren(a,e,n),u=0;u<s.length;u++)b.queueChild(r,s[u])}},receiveComponent:function(e,t,n){var r=this._currentElement;this._currentElement=e,this.updateComponent(t,r,e,n)},updateComponent:function(e,t,n,r){var i=t.props,a=this._currentElement.props;switch(this._tag){case"button":i=C.getHostProps(this,i),a=C.getHostProps(this,a);break;case"input":i=A.getHostProps(this,i),a=A.getHostProps(this,a);break;case"option":i=z.getHostProps(this,i),a=z.getHostProps(this,a);break;case"select":i=R.getHostProps(this,i),a=R.getHostProps(this,a);break;case"textarea":i=O.getHostProps(this,i),a=O.getHostProps(this,a)}switch(o(this,a),this._updateDOMProperties(i,a,e),this._updateDOMChildren(i,a,e,r),this._tag){case"input":A.updateWrapper(this);break;case"textarea":O.updateWrapper(this);break;case"select":e.getReactMountReady().enqueue(p,this)}},_updateDOMProperties:function(e,t,n){var r,o,a;for(r in e)if(!t.hasOwnProperty(r)&&e.hasOwnProperty(r)&&null!=e[r])if(r===q){var s=this._previousStyleCopy;for(o in s)s.hasOwnProperty(o)&&(a=a||{},a[o]="");this._previousStyleCopy=null}else V.hasOwnProperty(r)?e[r]&&F(this,r):h(this._tag,e)?H.hasOwnProperty(r)||x.deleteValueForAttribute(B(this),r):(w.properties[r]||w.isCustomAttribute(r))&&x.deleteValueForProperty(B(this),r);for(r in t){var u=t[r],l=r===q?this._previousStyleCopy:null!=e?e[r]:void 0;if(t.hasOwnProperty(r)&&u!==l&&(null!=u||null!=l))if(r===q)if(u?u=this._previousStyleCopy=y({},u):this._previousStyleCopy=null,l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(a=a||{},a[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(a=a||{},a[o]=u[o])}else a=u;else if(V.hasOwnProperty(r))u?i(this,r,u,n):l&&F(this,r);else if(h(this._tag,t))H.hasOwnProperty(r)||x.setValueForAttribute(B(this),r,u);else if(w.properties[r]||w.isCustomAttribute(r)){var c=B(this);null!=u?x.setValueForProperty(c,r,u):x.deleteValueForProperty(c,r)}}a&&v.setValueForStyles(B(this),a,this)},_updateDOMChildren:function(e,t,n,r){var o=Y[typeof e.children]?e.children:null,i=Y[typeof t.children]?t.children:null,a=e.dangerouslySetInnerHTML&&e.dangerouslySetInnerHTML.__html,s=t.dangerouslySetInnerHTML&&t.dangerouslySetInnerHTML.__html,u=null!=o?null:e.children,l=null!=i?null:t.children,c=null!=o||null!=a,p=null!=i||null!=s;null!=u&&null==l?this.updateChildren(null,n,r):c&&!p&&this.updateTextContent(""),null!=i?o!==i&&this.updateTextContent(""+i):null!=s?a!==s&&this.updateMarkup(""+s):null!=l&&this.updateChildren(l,n,r)},getHostNode:function(){return B(this)},unmountComponent:function(e){switch(this._tag){case"audio":case"form":case"iframe":case"img":case"link":case"object":case"source":case"video":var t=this._wrapperState.listeners;if(t)for(var n=0;n<t.length;n++)t[n].remove();break;case"html":case"head":case"body":m("66",this._tag)}this.unmountChildren(e),P.uncacheNode(this),E.deleteAllListeners(this),this._rootNodeID=0,this._domID=0,this._wrapperState=null},getPublicInstance:function(){return B(this)}},y(d.prototype,d.Mixin,L.Mixin),e.exports=d},function(e,t,n){"use strict";function r(e,t){var n={_topLevelWrapper:e,_idCounter:1,_ownerDocument:t?t.nodeType===o?t:t.ownerDocument:null,_node:t,_tag:t?t.nodeName.toLowerCase():null,_namespaceURI:t?t.namespaceURI:null};return n}var o=(n(81),9);e.exports=r},function(e,t,n){"use strict";var r=n(5),o=n(29),i=n(6),a=function(e){this._currentElement=null,this._hostNode=null,this._hostParent=null,this._hostContainerInfo=null,this._domID=0};r(a.prototype,{mountComponent:function(e,t,n,r){var a=n._idCounter++;this._domID=a,this._hostParent=t,this._hostContainerInfo=n;var s=" react-empty: "+this._domID+" ";if(e.useCreateElement){var u=n._ownerDocument,l=u.createComment(s);return i.precacheNode(this,l),o(l)}return e.renderToStaticMarkup?"":"<!--"+s+"-->"},receiveComponent:function(){},getHostNode:function(){return i.getNodeFromInstance(this)},unmountComponent:function(){i.uncacheNode(this)}}),e.exports=a},function(e,t,n){"use strict";var r=n(15),o=r.createFactory,i={a:o("a"),abbr:o("abbr"),address:o("address"),area:o("area"),article:o("article"),aside:o("aside"),audio:o("audio"),b:o("b"),base:o("base"),bdi:o("bdi"),bdo:o("bdo"),big:o("big"),blockquote:o("blockquote"),body:o("body"),br:o("br"),button:o("button"),canvas:o("canvas"),caption:o("caption"),cite:o("cite"),code:o("code"),col:o("col"),colgroup:o("colgroup"),data:o("data"),datalist:o("datalist"),dd:o("dd"),del:o("del"),details:o("details"),dfn:o("dfn"),dialog:o("dialog"),div:o("div"),dl:o("dl"),dt:o("dt"),em:o("em"),embed:o("embed"),fieldset:o("fieldset"),figcaption:o("figcaption"),figure:o("figure"),footer:o("footer"),form:o("form"),h1:o("h1"),h2:o("h2"),h3:o("h3"),h4:o("h4"),h5:o("h5"),h6:o("h6"),head:o("head"),header:o("header"),hgroup:o("hgroup"),hr:o("hr"),html:o("html"),i:o("i"),iframe:o("iframe"),img:o("img"),input:o("input"),ins:o("ins"),kbd:o("kbd"),keygen:o("keygen"),label:o("label"),legend:o("legend"),li:o("li"),link:o("link"),main:o("main"),map:o("map"),mark:o("mark"),menu:o("menu"),menuitem:o("menuitem"),meta:o("meta"),meter:o("meter"),nav:o("nav"),noscript:o("noscript"),object:o("object"),ol:o("ol"),optgroup:o("optgroup"),option:o("option"),output:o("output"),p:o("p"),param:o("param"),picture:o("picture"),pre:o("pre"),progress:o("progress"),q:o("q"),rp:o("rp"),rt:o("rt"),ruby:o("ruby"),s:o("s"),samp:o("samp"),script:o("script"),section:o("section"),select:o("select"),small:o("small"),source:o("source"),span:o("span"),strong:o("strong"),style:o("style"),sub:o("sub"),summary:o("summary"),sup:o("sup"),table:o("table"),tbody:o("tbody"),td:o("td"),textarea:o("textarea"),tfoot:o("tfoot"),th:o("th"),thead:o("thead"),time:o("time"),title:o("title"),tr:o("tr"),track:o("track"),u:o("u"),ul:o("ul"),"var":o("var"),video:o("video"),wbr:o("wbr"),circle:o("circle"),clipPath:o("clipPath"),defs:o("defs"),ellipse:o("ellipse"),g:o("g"),image:o("image"),line:o("line"),linearGradient:o("linearGradient"),mask:o("mask"),path:o("path"),pattern:o("pattern"),polygon:o("polygon"),polyline:o("polyline"),radialGradient:o("radialGradient"),rect:o("rect"),stop:o("stop"),svg:o("svg"),text:o("text"),tspan:o("tspan")};e.exports=i},function(e,t){"use strict";var n={useCreateElement:!0};e.exports=n},function(e,t,n){"use strict";var r=n(59),o=n(6),i={dangerouslyProcessChildrenUpdates:function(e,t){var n=o.getNodeFromInstance(e);r.processUpdates(n,t)}};e.exports=i},function(e,t,n){"use strict";function r(){this._rootNodeID&&f.updateWrapper(this)}function o(e){var t=this._currentElement.props,n=l.executeOnChange(t,e);p.asap(r,this);var o=t.name;if("radio"===t.type&&null!=o){for(var a=c.getNodeFromInstance(this),s=a;s.parentNode;)s=s.parentNode;for(var u=s.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),f=0;f<u.length;f++){var h=u[f];if(h!==a&&h.form===a.form){var d=c.getInstanceFromNode(h);d?void 0:i("90"),p.asap(r,d)}}}return n}var i=n(3),a=n(5),s=n(45),u=n(112),l=n(64),c=n(6),p=n(16),f=(n(2),n(4),{getHostProps:function(e,t){var n=l.getValue(t),r=l.getChecked(t),o=a({type:void 0,step:void 0,min:void 0,max:void 0},s.getHostProps(e,t),{defaultChecked:void 0,defaultValue:void 0,value:null!=n?n:e._wrapperState.initialValue,checked:null!=r?r:e._wrapperState.initialChecked,onChange:e._wrapperState.onChange});return o},mountWrapper:function(e,t){var n=t.defaultValue;e._wrapperState={initialChecked:null!=t.checked?t.checked:t.defaultChecked,initialValue:null!=t.value?t.value:n,listeners:null,onChange:o.bind(e)}},updateWrapper:function(e){var t=e._currentElement.props,n=t.checked;null!=n&&u.setValueForProperty(c.getNodeFromInstance(e),"checked",n||!1);var r=c.getNodeFromInstance(e),o=l.getValue(t);if(null!=o){var i=""+o;i!==r.value&&(r.value=i)}else null==t.value&&null!=t.defaultValue&&(r.defaultValue=""+t.defaultValue),null==t.checked&&null!=t.defaultChecked&&(r.defaultChecked=!!t.defaultChecked)},postMountWrapper:function(e){var t=e._currentElement.props,n=c.getNodeFromInstance(e);switch(t.type){case"submit":case"reset":break;case"color":case"date":case"datetime":case"datetime-local":case"month":case"time":case"week":n.value="",n.value=n.defaultValue;break;default:n.value=n.value}var r=n.name;""!==r&&(n.name=""),n.defaultChecked=!n.defaultChecked,n.defaultChecked=!n.defaultChecked,""!==r&&(n.name=r)}});e.exports=f},function(e,t,n){"use strict";function r(e){var t="";return i.forEach(e,function(e){null!=e&&("string"==typeof e||"number"==typeof e?t+=e:u||(u=!0))}),t}var o=n(5),i=n(114),a=n(6),s=n(117),u=(n(4),!1),l={mountWrapper:function(e,t,n){var o=null;if(null!=n){var i=n;"optgroup"===i._tag&&(i=i._hostParent),null!=i&&"select"===i._tag&&(o=s.getSelectValueContext(i))}var a=null;if(null!=o){var u;if(u=null!=t.value?t.value+"":r(t.children),a=!1,Array.isArray(o)){for(var l=0;l<o.length;l++)if(""+o[l]===u){a=!0;break}}else a=""+o===u}e._wrapperState={selected:a}},postMountWrapper:function(e){var t=e._currentElement.props;if(null!=t.value){var n=a.getNodeFromInstance(e);n.setAttribute("value",t.value)}},getHostProps:function(e,t){var n=o({selected:void 0,children:void 0},t);null!=e._wrapperState.selected&&(n.selected=e._wrapperState.selected);var i=r(t.children);return i&&(n.children=i),n}};e.exports=l},function(e,t,n){"use strict";function r(e,t,n,r){return e===n&&t===r}function o(e){var t=document.selection,n=t.createRange(),r=n.text.length,o=n.duplicate();o.moveToElementText(e),o.setEndPoint("EndToStart",n);var i=o.text.length,a=i+r;return{start:i,end:a}}function i(e){var t=window.getSelection&&window.getSelection();if(!t||0===t.rangeCount)return null;var n=t.anchorNode,o=t.anchorOffset,i=t.focusNode,a=t.focusOffset,s=t.getRangeAt(0);try{s.startContainer.nodeType,s.endContainer.nodeType}catch(u){return null}var l=r(t.anchorNode,t.anchorOffset,t.focusNode,t.focusOffset),c=l?0:s.toString().length,p=s.cloneRange();p.selectNodeContents(e),p.setEnd(s.startContainer,s.startOffset);var f=r(p.startContainer,p.startOffset,p.endContainer,p.endOffset),h=f?0:p.toString().length,d=h+c,m=document.createRange();m.setStart(n,o),m.setEnd(i,a);var y=m.collapsed;return{start:y?d:h,end:y?h:d}}function a(e,t){var n,r,o=document.selection.createRange().duplicate();void 0===t.end?(n=t.start,r=n):t.start>t.end?(n=t.end,r=t.start):(n=t.start,r=t.end),o.moveToElementText(e),o.moveStart("character",n),o.setEndPoint("EndToStart",o),o.moveEnd("character",r-n),o.select()}function s(e,t){if(window.getSelection){var n=window.getSelection(),r=e[c()].length,o=Math.min(t.start,r),i=void 0===t.end?o:Math.min(t.end,r);if(!n.extend&&o>i){var a=i;i=o,o=a}var s=l(e,o),u=l(e,i);if(s&&u){var p=document.createRange();p.setStart(s.node,s.offset),n.removeAllRanges(),o>i?(n.addRange(p),n.extend(u.node,u.offset)):(p.setEnd(u.node,u.offset),n.addRange(p))}}}var u=n(9),l=n(307),c=n(134),p=u.canUseDOM&&"selection"in document&&!("getSelection"in window),f={getOffsets:p?o:i,setOffsets:p?a:s};e.exports=f},function(e,t,n){"use strict";var r=n(3),o=n(5),i=n(59),a=n(29),s=n(6),u=n(48),l=(n(2),n(81),function(e){this._currentElement=e,this._stringText=""+e,this._hostNode=null,this._hostParent=null,this._domID=0,this._mountIndex=0,this._closingComment=null,this._commentNodes=null});o(l.prototype,{mountComponent:function(e,t,n,r){var o=n._idCounter++,i=" react-text: "+o+" ",l=" /react-text ";if(this._domID=o,this._hostParent=t,e.useCreateElement){var c=n._ownerDocument,p=c.createComment(i),f=c.createComment(l),h=a(c.createDocumentFragment());return a.queueChild(h,a(p)),this._stringText&&a.queueChild(h,a(c.createTextNode(this._stringText))),a.queueChild(h,a(f)),s.precacheNode(this,p),this._closingComment=f,h}var d=u(this._stringText);return e.renderToStaticMarkup?d:"<!--"+i+"-->"+d+"<!--"+l+"-->"},receiveComponent:function(e,t){if(e!==this._currentElement){this._currentElement=e;var n=""+e;if(n!==this._stringText){this._stringText=n;var r=this.getHostNode();i.replaceDelimitedText(r[0],r[1],n)}}},getHostNode:function(){var e=this._commentNodes;if(e)return e;if(!this._closingComment)for(var t=s.getNodeFromInstance(this),n=t.nextSibling;;){if(null==n?r("67",this._domID):void 0,8===n.nodeType&&" /react-text "===n.nodeValue){this._closingComment=n;break}n=n.nextSibling}return e=[this._hostNode,this._closingComment],this._commentNodes=e,e},unmountComponent:function(){this._closingComment=null,this._commentNodes=null,s.uncacheNode(this)}}),e.exports=l},function(e,t,n){"use strict";function r(){this._rootNodeID&&p.updateWrapper(this)}function o(e){var t=this._currentElement.props,n=u.executeOnChange(t,e);return c.asap(r,this),n}var i=n(3),a=n(5),s=n(45),u=n(64),l=n(6),c=n(16),p=(n(2),n(4),{getHostProps:function(e,t){null!=t.dangerouslySetInnerHTML?i("91"):void 0;var n=a({},s.getHostProps(e,t),{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue,onChange:e._wrapperState.onChange});return n},mountWrapper:function(e,t){var n=u.getValue(t),r=n;if(null==n){var a=t.defaultValue,s=t.children;null!=s&&(null!=a?i("92"):void 0,Array.isArray(s)&&(s.length<=1?void 0:i("93"),s=s[0]),a=""+s),null==a&&(a=""),r=a}e._wrapperState={initialValue:""+r,listeners:null,onChange:o.bind(e)}},updateWrapper:function(e){var t=e._currentElement.props,n=l.getNodeFromInstance(e),r=u.getValue(t);if(null!=r){var o=""+r;o!==n.value&&(n.value=o),null==t.defaultValue&&(n.defaultValue=o)}null!=t.defaultValue&&(n.defaultValue=t.defaultValue)},postMountWrapper:function(e){var t=l.getNodeFromInstance(e);t.value=t.textContent}});e.exports=p},function(e,t,n){"use strict";function r(e,t){"_hostNode"in e?void 0:u("33"),"_hostNode"in t?void 0:u("33");for(var n=0,r=e;r;r=r._hostParent)n++;for(var o=0,i=t;i;i=i._hostParent)o++;for(;n-o>0;)e=e._hostParent,n--;for(;o-n>0;)t=t._hostParent,o--;for(var a=n;a--;){if(e===t)return e;e=e._hostParent,t=t._hostParent}return null}function o(e,t){"_hostNode"in e?void 0:u("35"),"_hostNode"in t?void 0:u("35");for(;t;){if(t===e)return!0;t=t._hostParent}return!1}function i(e){return"_hostNode"in e?void 0:u("36"),e._hostParent}function a(e,t,n){for(var r=[];e;)r.push(e),e=e._hostParent;var o;for(o=r.length;o-- >0;)t(r[o],!1,n);for(o=0;o<r.length;o++)t(r[o],!0,n)}function s(e,t,n,o,i){for(var a=e&&t?r(e,t):null,s=[];e&&e!==a;)s.push(e),e=e._hostParent;for(var u=[];t&&t!==a;)u.push(t),t=t._hostParent;var l;for(l=0;l<s.length;l++)n(s[l],!0,o);for(l=u.length;l-- >0;)n(u[l],!1,i)}var u=n(3);n(2);e.exports={isAncestor:o,getLowestCommonAncestor:r,getParentInstance:i,traverseTwoPhase:a,traverseEnterLeave:s}},function(e,t,n){"use strict";function r(){this.reinitializeTransaction()}var o=n(5),i=n(16),a=n(37),s=n(10),u={initialize:s,close:function(){f.isBatchingUpdates=!1}},l={initialize:s,close:i.flushBatchedUpdates.bind(i)},c=[l,u];o(r.prototype,a.Mixin,{getTransactionWrappers:function(){return c}});var p=new r,f={isBatchingUpdates:!1,batchedUpdates:function(e,t,n,r,o,i){var a=f.isBatchingUpdates;f.isBatchingUpdates=!0,a?e(t,n,r,o,i):p.perform(e,null,t,n,r,o,i)}};e.exports=f},function(e,t,n){"use strict";function r(){x||(x=!0,g.EventEmitter.injectReactEventListener(y),g.EventPluginHub.injectEventPluginOrder(a),g.EventPluginUtils.injectComponentTree(p),g.EventPluginUtils.injectTreeTraversal(h),g.EventPluginHub.injectEventPluginsByName({SimpleEventPlugin:w,EnterLeaveEventPlugin:s,ChangeEventPlugin:i,SelectEventPlugin:_,BeforeInputEventPlugin:o}),g.HostComponent.injectGenericComponentClass(c),g.HostComponent.injectTextComponentClass(d),g.DOMProperty.injectDOMPropertyConfig(u),g.DOMProperty.injectDOMPropertyConfig(b),g.EmptyComponent.injectEmptyComponentFactory(function(e){return new f(e)}),g.Updates.injectReconcileTransaction(v),g.Updates.injectBatchingStrategy(m),g.Component.injectEnvironment(l))}var o=n(249),i=n(251),a=n(253),s=n(254),u=n(256),l=n(258),c=n(262),p=n(6),f=n(264),h=n(273),d=n(271),m=n(274),y=n(277),g=n(278),v=n(283),b=n(289),_=n(290),w=n(291),x=!1;e.exports={inject:r}},function(e,t,n){"use strict";function r(e){o.enqueueEvents(e),o.processEventQueue(!1)}var o=n(34),i={handleTopLevel:function(e,t,n,i){var a=o.extractEvents(e,t,n,i);r(a)}};e.exports=i},function(e,t,n){"use strict";function r(e){for(;e._hostParent;)e=e._hostParent;var t=p.getNodeFromInstance(e),n=t.parentNode;return p.getClosestInstanceFromNode(n)}function o(e,t){this.topLevelType=e,this.nativeEvent=t,this.ancestors=[]}function i(e){var t=h(e.nativeEvent),n=p.getClosestInstanceFromNode(t),o=n;do e.ancestors.push(o),o=o&&r(o);while(o);for(var i=0;i<e.ancestors.length;i++)n=e.ancestors[i],m._handleTopLevel(e.topLevelType,n,e.nativeEvent,h(e.nativeEvent))}function a(e){var t=d(window);e(t)}var s=n(5),u=n(89),l=n(9),c=n(21),p=n(6),f=n(16),h=n(77),d=n(191);s(o.prototype,{destructor:function(){this.topLevelType=null,this.nativeEvent=null,this.ancestors.length=0}}),c.addPoolingTo(o,c.twoArgumentPooler);var m={_enabled:!0,_handleTopLevel:null,WINDOW_HANDLE:l.canUseDOM?window:null,setHandleTopLevel:function(e){m._handleTopLevel=e},setEnabled:function(e){m._enabled=!!e},isEnabled:function(){return m._enabled},trapBubbledEvent:function(e,t,n){var r=n;return r?u.listen(r,t,m.dispatchEvent.bind(null,e)):null},trapCapturedEvent:function(e,t,n){var r=n;return r?u.capture(r,t,m.dispatchEvent.bind(null,e)):null},monitorScrollValue:function(e){var t=a.bind(null,e);u.listen(window,"scroll",t)},dispatchEvent:function(e,t){if(m._enabled){var n=o.getPooled(e,t);try{f.batchedUpdates(i,n)}finally{o.release(n)}}}};e.exports=m},function(e,t,n){"use strict";var r=n(30),o=n(34),i=n(62),a=n(66),s=n(115),u=n(118),l=n(46),c=n(120),p=n(16),f={Component:a.injection,Class:s.injection,DOMProperty:r.injection,EmptyComponent:u.injection,EventPluginHub:o.injection,EventPluginUtils:i.injection,EventEmitter:l.injection,HostComponent:c.injection,Updates:p.injection};e.exports=f},function(e,t,n){"use strict";var r=n(302),o=/\/?>/,i=/^<\!\-\-/,a={CHECKSUM_ATTR_NAME:"data-react-checksum",addChecksumToMarkup:function(e){var t=r(e);return i.test(e)?e:e.replace(o," "+a.CHECKSUM_ATTR_NAME+'="'+t+'"$&')},canReuseMarkup:function(e,t){var n=t.getAttribute(a.CHECKSUM_ATTR_NAME);n=n&&parseInt(n,10);var o=r(e);return o===n}};e.exports=a},function(e,t,n){"use strict";function r(e,t,n){return{type:f.INSERT_MARKUP,content:e,fromIndex:null,fromNode:null,toIndex:n,afterNode:t}}function o(e,t,n){return{type:f.MOVE_EXISTING,content:null,fromIndex:e._mountIndex,fromNode:h.getHostNode(e),toIndex:n,afterNode:t}}function i(e,t){return{type:f.REMOVE_NODE,content:null,fromIndex:e._mountIndex,fromNode:t,toIndex:null,afterNode:null}}function a(e){return{type:f.SET_MARKUP,content:e,fromIndex:null,fromNode:null,toIndex:null,afterNode:null}}function s(e){return{type:f.TEXT_CONTENT,content:e,fromIndex:null,fromNode:null,toIndex:null,afterNode:null}}function u(e,t){return t&&(e=e||[],e.push(t)),e}function l(e,t){p.processChildrenUpdates(e,t)}var c=n(3),p=n(66),f=(n(31),n(11),n(123)),h=(n(22),n(32)),d=n(257),m=(n(10),n(130)),y=(n(2),{Mixin:{_reconcilerInstantiateChildren:function(e,t,n){return d.instantiateChildren(e,t,n)},_reconcilerUpdateChildren:function(e,t,n,r,o,i){var a,s=0;return a=m(t,s),d.updateChildren(e,a,n,r,o,this,this._hostContainerInfo,i,s),a},mountChildren:function(e,t,n){var r=this._reconcilerInstantiateChildren(e,t,n);this._renderedChildren=r;var o=[],i=0;for(var a in r)if(r.hasOwnProperty(a)){var s=r[a],u=0,l=h.mountComponent(s,t,this,this._hostContainerInfo,n,u);s._mountIndex=i++,o.push(l)}return o},updateTextContent:function(e){var t=this._renderedChildren;d.unmountChildren(t,!1);for(var n in t)t.hasOwnProperty(n)&&c("118");var r=[s(e)];l(this,r)},updateMarkup:function(e){var t=this._renderedChildren;d.unmountChildren(t,!1);for(var n in t)t.hasOwnProperty(n)&&c("118");var r=[a(e)];l(this,r)},updateChildren:function(e,t,n){this._updateChildren(e,t,n)},_updateChildren:function(e,t,n){var r=this._renderedChildren,o={},i=[],a=this._reconcilerUpdateChildren(r,e,i,o,t,n);if(a||r){var s,c=null,p=0,f=0,d=0,m=null;for(s in a)if(a.hasOwnProperty(s)){var y=r&&r[s],g=a[s];y===g?(c=u(c,this.moveChild(y,m,p,f)),f=Math.max(y._mountIndex,f),y._mountIndex=p):(y&&(f=Math.max(y._mountIndex,f)),c=u(c,this._mountChildAtIndex(g,i[d],m,p,t,n)),d++),p++,m=h.getHostNode(g)}for(s in o)o.hasOwnProperty(s)&&(c=u(c,this._unmountChild(r[s],o[s])));c&&l(this,c),this._renderedChildren=a}},unmountChildren:function(e){var t=this._renderedChildren;d.unmountChildren(t,e),this._renderedChildren=null},moveChild:function(e,t,n,r){return e._mountIndex<r?o(e,t,n):void 0},createChild:function(e,t,n){return r(n,t,e._mountIndex)},removeChild:function(e,t){return i(e,t)},_mountChildAtIndex:function(e,t,n,r,o,i){return e._mountIndex=r,this.createChild(e,n,t)},_unmountChild:function(e,t){var n=this.removeChild(e,t);return e._mountIndex=null,n}}});e.exports=y},function(e,t,n){"use strict";var r=n(3),o=(n(2),{isValidOwner:function(e){return!(!e||"function"!=typeof e.attachRef||"function"!=typeof e.detachRef)},addComponentAsRefTo:function(e,t,n){o.isValidOwner(n)?void 0:r("119"),n.attachRef(t,e)},removeComponentAsRefFrom:function(e,t,n){o.isValidOwner(n)?void 0:r("120");var i=n.getPublicInstance();i&&i.refs[t]===e.getPublicInstance()&&n.detachRef(t)}});e.exports=o},function(e,t,n){"use strict";function r(e,t,n){this.props=e,this.context=t,this.refs=u,this.updater=n||s}function o(){}var i=n(5),a=n(65),s=n(69),u=n(33);o.prototype=a.prototype,r.prototype=new o,r.prototype.constructor=r,i(r.prototype,a.prototype),r.prototype.isPureReactComponent=!0,e.exports=r},function(e,t,n){"use strict";function r(e){this.reinitializeTransaction(),this.renderToStaticMarkup=!1,this.reactMountReady=i.getPooled(null),this.useCreateElement=e}var o=n(5),i=n(111),a=n(21),s=n(46),u=n(121),l=(n(11),n(37)),c=n(73),p={initialize:u.getSelectionInformation,close:u.restoreSelection},f={initialize:function(){var e=s.isEnabled();return s.setEnabled(!1),e},close:function(e){s.setEnabled(e)}},h={initialize:function(){this.reactMountReady.reset()},close:function(){this.reactMountReady.notifyAll()}},d=[p,f,h],m={getTransactionWrappers:function(){return d},getReactMountReady:function(){return this.reactMountReady},getUpdateQueue:function(){return c},checkpoint:function(){return this.reactMountReady.checkpoint()},rollback:function(e){this.reactMountReady.rollback(e)},destructor:function(){i.release(this.reactMountReady),this.reactMountReady=null}};o(r.prototype,l.Mixin,m),a.addPoolingTo(r),e.exports=r},function(e,t,n){"use strict";function r(e,t,n){"function"==typeof e?e(t.getPublicInstance()):i.addComponentAsRefTo(t,e,n)}function o(e,t,n){"function"==typeof e?e(null):i.removeComponentAsRefFrom(t,e,n)}var i=n(281),a={};a.attachRefs=function(e,t){if(null!==t&&t!==!1){var n=t.ref;null!=n&&r(n,e,t._owner)}},a.shouldUpdateRefs=function(e,t){var n=null===e||e===!1,r=null===t||t===!1;return n||r||t.ref!==e.ref||"string"==typeof t.ref&&t._owner!==e._owner},a.detachRefs=function(e,t){if(null!==t&&t!==!1){var n=t.ref;null!=n&&o(n,e,t._owner)}},e.exports=a},function(e,t,n){"use strict";function r(e){this.reinitializeTransaction(),this.renderToStaticMarkup=e,this.useCreateElement=!1,this.updateQueue=new s(this)}var o=n(5),i=n(21),a=n(37),s=(n(11),n(286)),u=[],l={enqueue:function(){}},c={getTransactionWrappers:function(){return u},getReactMountReady:function(){return l},getUpdateQueue:function(){return this.updateQueue},destructor:function(){},checkpoint:function(){},rollback:function(){}};o(r.prototype,a.Mixin,c),i.addPoolingTo(r),e.exports=r},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){}var i=n(73),a=(n(37),n(4),function(){function e(t){r(this,e),this.transaction=t}return e.prototype.isMounted=function(e){return!1},e.prototype.enqueueCallback=function(e,t,n){this.transaction.isInTransaction()&&i.enqueueCallback(e,t,n)},e.prototype.enqueueForceUpdate=function(e){this.transaction.isInTransaction()?i.enqueueForceUpdate(e):o(e,"forceUpdate")},e.prototype.enqueueReplaceState=function(e,t){this.transaction.isInTransaction()?i.enqueueReplaceState(e,t):o(e,"replaceState")},e.prototype.enqueueSetState=function(e,t){this.transaction.isInTransaction()?i.enqueueSetState(e,t):o(e,"setState")},e}());e.exports=a},function(e,t,n){"use strict";var r=n(130),o={getChildMapping:function(e,t){return e?r(e):e},mergeChildMappings:function(e,t){function n(n){return t.hasOwnProperty(n)?t[n]:e[n]}e=e||{},t=t||{};var r={},o=[];for(var i in e)t.hasOwnProperty(i)?o.length&&(r[i]=o,o=[]):o.push(i);var a,s={};for(var u in t){if(r.hasOwnProperty(u))for(a=0;a<r[u].length;a++){var l=r[u][a];s[r[u][a]]=n(l)}s[u]=n(u)}for(a=0;a<o.length;a++)s[o[a]]=n(o[a]);return s}};e.exports=o},function(e,t,n){"use strict";var r=n(5),o=n(113),i=(n(31),n(287)),a=n(10),s=o.createClass({displayName:"ReactTransitionGroup",propTypes:{component:o.PropTypes.any,childFactory:o.PropTypes.func},getDefaultProps:function(){return{component:"span",childFactory:a.thatReturnsArgument}},getInitialState:function(){return{children:i.getChildMapping(this.props.children)}},componentWillMount:function(){this.currentlyTransitioningKeys={},this.keysToEnter=[],this.keysToLeave=[]},componentDidMount:function(){var e=this.state.children;for(var t in e)e[t]&&this.performAppear(t)},componentWillReceiveProps:function(e){var t;t=i.getChildMapping(e.children);var n=this.state.children;this.setState({children:i.mergeChildMappings(n,t)});var r;for(r in t){var o=n&&n.hasOwnProperty(r);!t[r]||o||this.currentlyTransitioningKeys[r]||this.keysToEnter.push(r)}for(r in n){var a=t&&t.hasOwnProperty(r);!n[r]||a||this.currentlyTransitioningKeys[r]||this.keysToLeave.push(r)}},componentDidUpdate:function(){var e=this.keysToEnter;this.keysToEnter=[],e.forEach(this.performEnter);var t=this.keysToLeave;this.keysToLeave=[],t.forEach(this.performLeave)},performAppear:function(e){this.currentlyTransitioningKeys[e]=!0;var t=this.refs[e];t.componentWillAppear?t.componentWillAppear(this._handleDoneAppearing.bind(this,e)):this._handleDoneAppearing(e)},_handleDoneAppearing:function(e){var t=this.refs[e];t.componentDidAppear&&t.componentDidAppear(),delete this.currentlyTransitioningKeys[e];var n;n=i.getChildMapping(this.props.children),n&&n.hasOwnProperty(e)||this.performLeave(e)},performEnter:function(e){this.currentlyTransitioningKeys[e]=!0;var t=this.refs[e];t.componentWillEnter?t.componentWillEnter(this._handleDoneEntering.bind(this,e)):this._handleDoneEntering(e)},_handleDoneEntering:function(e){var t=this.refs[e];t.componentDidEnter&&t.componentDidEnter(),delete this.currentlyTransitioningKeys[e];var n;n=i.getChildMapping(this.props.children),n&&n.hasOwnProperty(e)||this.performLeave(e)},performLeave:function(e){this.currentlyTransitioningKeys[e]=!0;var t=this.refs[e];t.componentWillLeave?t.componentWillLeave(this._handleDoneLeaving.bind(this,e)):this._handleDoneLeaving(e)},_handleDoneLeaving:function(e){var t=this.refs[e];t.componentDidLeave&&t.componentDidLeave(),delete this.currentlyTransitioningKeys[e];var n;n=i.getChildMapping(this.props.children),n&&n.hasOwnProperty(e)?this.performEnter(e):this.setState(function(t){var n=r({},t.children);return delete n[e],{children:n}})},render:function(){var e=[];for(var t in this.state.children){var n=this.state.children[t];n&&e.push(o.cloneElement(this.props.childFactory(n),{ref:t,key:t}))}var i=r({},this.props);return delete i.transitionLeave,delete i.transitionName,delete i.transitionAppear,delete i.transitionEnter,delete i.childFactory,delete i.transitionLeaveTimeout,delete i.transitionEnterTimeout,delete i.transitionAppearTimeout,delete i.component,o.createElement(this.props.component,i,e)}});e.exports=s},function(e,t){"use strict";var n={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"},r={accentHeight:"accent-height",accumulate:0,additive:0,alignmentBaseline:"alignment-baseline",allowReorder:"allowReorder",alphabetic:0,amplitude:0,arabicForm:"arabic-form",ascent:0,attributeName:"attributeName",attributeType:"attributeType",autoReverse:"autoReverse",azimuth:0,baseFrequency:"baseFrequency",baseProfile:"baseProfile",baselineShift:"baseline-shift",bbox:0,begin:0,bias:0,by:0,calcMode:"calcMode",capHeight:"cap-height",clip:0,clipPath:"clip-path",clipRule:"clip-rule",clipPathUnits:"clipPathUnits",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",contentScriptType:"contentScriptType",contentStyleType:"contentStyleType",cursor:0,cx:0,cy:0,d:0,decelerate:0,descent:0,diffuseConstant:"diffuseConstant",direction:0,display:0,divisor:0,dominantBaseline:"dominant-baseline",dur:0,dx:0,dy:0,edgeMode:"edgeMode",elevation:0,enableBackground:"enable-background",end:0,exponent:0,externalResourcesRequired:"externalResourcesRequired",fill:0,fillOpacity:"fill-opacity",fillRule:"fill-rule",filter:0,filterRes:"filterRes",filterUnits:"filterUnits",floodColor:"flood-color",floodOpacity:"flood-opacity",focusable:0,fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",format:0,from:0,fx:0,fy:0,g1:0,g2:0,glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",glyphRef:"glyphRef",gradientTransform:"gradientTransform",gradientUnits:"gradientUnits",hanging:0,horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",ideographic:0,imageRendering:"image-rendering","in":0,in2:0,intercept:0,k:0,k1:0,k2:0,k3:0,k4:0,kernelMatrix:"kernelMatrix",kernelUnitLength:"kernelUnitLength",kerning:0,keyPoints:"keyPoints",keySplines:"keySplines",keyTimes:"keyTimes",lengthAdjust:"lengthAdjust",letterSpacing:"letter-spacing",lightingColor:"lighting-color",limitingConeAngle:"limitingConeAngle",local:0,markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",markerHeight:"markerHeight",markerUnits:"markerUnits",markerWidth:"markerWidth",mask:0,maskContentUnits:"maskContentUnits",maskUnits:"maskUnits",mathematical:0,mode:0,numOctaves:"numOctaves",offset:0,opacity:0,operator:0,order:0,orient:0,orientation:0,origin:0,overflow:0,overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pathLength:"pathLength",patternContentUnits:"patternContentUnits",patternTransform:"patternTransform",patternUnits:"patternUnits",pointerEvents:"pointer-events",
points:0,pointsAtX:"pointsAtX",pointsAtY:"pointsAtY",pointsAtZ:"pointsAtZ",preserveAlpha:"preserveAlpha",preserveAspectRatio:"preserveAspectRatio",primitiveUnits:"primitiveUnits",r:0,radius:0,refX:"refX",refY:"refY",renderingIntent:"rendering-intent",repeatCount:"repeatCount",repeatDur:"repeatDur",requiredExtensions:"requiredExtensions",requiredFeatures:"requiredFeatures",restart:0,result:0,rotate:0,rx:0,ry:0,scale:0,seed:0,shapeRendering:"shape-rendering",slope:0,spacing:0,specularConstant:"specularConstant",specularExponent:"specularExponent",speed:0,spreadMethod:"spreadMethod",startOffset:"startOffset",stdDeviation:"stdDeviation",stemh:0,stemv:0,stitchTiles:"stitchTiles",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",string:0,stroke:0,strokeDasharray:"stroke-dasharray",strokeDashoffset:"stroke-dashoffset",strokeLinecap:"stroke-linecap",strokeLinejoin:"stroke-linejoin",strokeMiterlimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",surfaceScale:"surfaceScale",systemLanguage:"systemLanguage",tableValues:"tableValues",targetX:"targetX",targetY:"targetY",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",textLength:"textLength",to:0,transform:0,u1:0,u2:0,underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicode:0,unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",values:0,vectorEffect:"vector-effect",version:0,vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",viewBox:"viewBox",viewTarget:"viewTarget",visibility:0,widths:0,wordSpacing:"word-spacing",writingMode:"writing-mode",x:0,xHeight:"x-height",x1:0,x2:0,xChannelSelector:"xChannelSelector",xlinkActuate:"xlink:actuate",xlinkArcrole:"xlink:arcrole",xlinkHref:"xlink:href",xlinkRole:"xlink:role",xlinkShow:"xlink:show",xlinkTitle:"xlink:title",xlinkType:"xlink:type",xmlBase:"xml:base",xmlns:0,xmlnsXlink:"xmlns:xlink",xmlLang:"xml:lang",xmlSpace:"xml:space",y:0,y1:0,y2:0,yChannelSelector:"yChannelSelector",z:0,zoomAndPan:"zoomAndPan"},o={Properties:{},DOMAttributeNamespaces:{xlinkActuate:n.xlink,xlinkArcrole:n.xlink,xlinkHref:n.xlink,xlinkRole:n.xlink,xlinkShow:n.xlink,xlinkTitle:n.xlink,xlinkType:n.xlink,xmlBase:n.xml,xmlLang:n.xml,xmlSpace:n.xml},DOMAttributeNames:{}};Object.keys(r).forEach(function(e){o.Properties[e]=0,r[e]&&(o.DOMAttributeNames[e]=r[e])}),e.exports=o},function(e,t,n){"use strict";function r(e){if("selectionStart"in e&&l.hasSelectionCapabilities(e))return{start:e.selectionStart,end:e.selectionEnd};if(window.getSelection){var t=window.getSelection();return{anchorNode:t.anchorNode,anchorOffset:t.anchorOffset,focusNode:t.focusNode,focusOffset:t.focusOffset}}if(document.selection){var n=document.selection.createRange();return{parentElement:n.parentElement(),text:n.text,top:n.boundingTop,left:n.boundingLeft}}}function o(e,t){if(w||null==v||v!==p())return null;var n=r(v);if(!_||!d(_,n)){_=n;var o=c.getPooled(g.select,b,e,t);return o.type="select",o.target=v,a.accumulateTwoPhaseDispatches(o),o}return null}var i=n(17),a=n(35),s=n(9),u=n(6),l=n(121),c=n(18),p=n(91),f=n(136),h=n(19),d=n(51),m=i.topLevelTypes,y=s.canUseDOM&&"documentMode"in document&&document.documentMode<=11,g={select:{phasedRegistrationNames:{bubbled:h({onSelect:null}),captured:h({onSelectCapture:null})},dependencies:[m.topBlur,m.topContextMenu,m.topFocus,m.topKeyDown,m.topKeyUp,m.topMouseDown,m.topMouseUp,m.topSelectionChange]}},v=null,b=null,_=null,w=!1,x=!1,k=h({onSelect:null}),E={eventTypes:g,extractEvents:function(e,t,n,r){if(!x)return null;var i=t?u.getNodeFromInstance(t):window;switch(e){case m.topFocus:(f(i)||"true"===i.contentEditable)&&(v=i,b=t,_=null);break;case m.topBlur:v=null,b=null,_=null;break;case m.topMouseDown:w=!0;break;case m.topContextMenu:case m.topMouseUp:return w=!1,o(n,r);case m.topSelectionChange:if(y)break;case m.topKeyDown:case m.topKeyUp:return o(n,r)}return null},didPutListener:function(e,t,n){t===k&&(x=!0)}};e.exports=E},function(e,t,n){"use strict";function r(e){return"."+e._rootNodeID}var o=n(3),i=n(17),a=n(89),s=n(35),u=n(6),l=n(292),c=n(293),p=n(18),f=n(296),h=n(298),d=n(47),m=n(295),y=n(299),g=n(300),v=n(36),b=n(301),_=n(10),w=n(75),x=(n(2),n(19)),k=i.topLevelTypes,E={abort:{phasedRegistrationNames:{bubbled:x({onAbort:!0}),captured:x({onAbortCapture:!0})}},animationEnd:{phasedRegistrationNames:{bubbled:x({onAnimationEnd:!0}),captured:x({onAnimationEndCapture:!0})}},animationIteration:{phasedRegistrationNames:{bubbled:x({onAnimationIteration:!0}),captured:x({onAnimationIterationCapture:!0})}},animationStart:{phasedRegistrationNames:{bubbled:x({onAnimationStart:!0}),captured:x({onAnimationStartCapture:!0})}},blur:{phasedRegistrationNames:{bubbled:x({onBlur:!0}),captured:x({onBlurCapture:!0})}},canPlay:{phasedRegistrationNames:{bubbled:x({onCanPlay:!0}),captured:x({onCanPlayCapture:!0})}},canPlayThrough:{phasedRegistrationNames:{bubbled:x({onCanPlayThrough:!0}),captured:x({onCanPlayThroughCapture:!0})}},click:{phasedRegistrationNames:{bubbled:x({onClick:!0}),captured:x({onClickCapture:!0})}},contextMenu:{phasedRegistrationNames:{bubbled:x({onContextMenu:!0}),captured:x({onContextMenuCapture:!0})}},copy:{phasedRegistrationNames:{bubbled:x({onCopy:!0}),captured:x({onCopyCapture:!0})}},cut:{phasedRegistrationNames:{bubbled:x({onCut:!0}),captured:x({onCutCapture:!0})}},doubleClick:{phasedRegistrationNames:{bubbled:x({onDoubleClick:!0}),captured:x({onDoubleClickCapture:!0})}},drag:{phasedRegistrationNames:{bubbled:x({onDrag:!0}),captured:x({onDragCapture:!0})}},dragEnd:{phasedRegistrationNames:{bubbled:x({onDragEnd:!0}),captured:x({onDragEndCapture:!0})}},dragEnter:{phasedRegistrationNames:{bubbled:x({onDragEnter:!0}),captured:x({onDragEnterCapture:!0})}},dragExit:{phasedRegistrationNames:{bubbled:x({onDragExit:!0}),captured:x({onDragExitCapture:!0})}},dragLeave:{phasedRegistrationNames:{bubbled:x({onDragLeave:!0}),captured:x({onDragLeaveCapture:!0})}},dragOver:{phasedRegistrationNames:{bubbled:x({onDragOver:!0}),captured:x({onDragOverCapture:!0})}},dragStart:{phasedRegistrationNames:{bubbled:x({onDragStart:!0}),captured:x({onDragStartCapture:!0})}},drop:{phasedRegistrationNames:{bubbled:x({onDrop:!0}),captured:x({onDropCapture:!0})}},durationChange:{phasedRegistrationNames:{bubbled:x({onDurationChange:!0}),captured:x({onDurationChangeCapture:!0})}},emptied:{phasedRegistrationNames:{bubbled:x({onEmptied:!0}),captured:x({onEmptiedCapture:!0})}},encrypted:{phasedRegistrationNames:{bubbled:x({onEncrypted:!0}),captured:x({onEncryptedCapture:!0})}},ended:{phasedRegistrationNames:{bubbled:x({onEnded:!0}),captured:x({onEndedCapture:!0})}},error:{phasedRegistrationNames:{bubbled:x({onError:!0}),captured:x({onErrorCapture:!0})}},focus:{phasedRegistrationNames:{bubbled:x({onFocus:!0}),captured:x({onFocusCapture:!0})}},input:{phasedRegistrationNames:{bubbled:x({onInput:!0}),captured:x({onInputCapture:!0})}},invalid:{phasedRegistrationNames:{bubbled:x({onInvalid:!0}),captured:x({onInvalidCapture:!0})}},keyDown:{phasedRegistrationNames:{bubbled:x({onKeyDown:!0}),captured:x({onKeyDownCapture:!0})}},keyPress:{phasedRegistrationNames:{bubbled:x({onKeyPress:!0}),captured:x({onKeyPressCapture:!0})}},keyUp:{phasedRegistrationNames:{bubbled:x({onKeyUp:!0}),captured:x({onKeyUpCapture:!0})}},load:{phasedRegistrationNames:{bubbled:x({onLoad:!0}),captured:x({onLoadCapture:!0})}},loadedData:{phasedRegistrationNames:{bubbled:x({onLoadedData:!0}),captured:x({onLoadedDataCapture:!0})}},loadedMetadata:{phasedRegistrationNames:{bubbled:x({onLoadedMetadata:!0}),captured:x({onLoadedMetadataCapture:!0})}},loadStart:{phasedRegistrationNames:{bubbled:x({onLoadStart:!0}),captured:x({onLoadStartCapture:!0})}},mouseDown:{phasedRegistrationNames:{bubbled:x({onMouseDown:!0}),captured:x({onMouseDownCapture:!0})}},mouseMove:{phasedRegistrationNames:{bubbled:x({onMouseMove:!0}),captured:x({onMouseMoveCapture:!0})}},mouseOut:{phasedRegistrationNames:{bubbled:x({onMouseOut:!0}),captured:x({onMouseOutCapture:!0})}},mouseOver:{phasedRegistrationNames:{bubbled:x({onMouseOver:!0}),captured:x({onMouseOverCapture:!0})}},mouseUp:{phasedRegistrationNames:{bubbled:x({onMouseUp:!0}),captured:x({onMouseUpCapture:!0})}},paste:{phasedRegistrationNames:{bubbled:x({onPaste:!0}),captured:x({onPasteCapture:!0})}},pause:{phasedRegistrationNames:{bubbled:x({onPause:!0}),captured:x({onPauseCapture:!0})}},play:{phasedRegistrationNames:{bubbled:x({onPlay:!0}),captured:x({onPlayCapture:!0})}},playing:{phasedRegistrationNames:{bubbled:x({onPlaying:!0}),captured:x({onPlayingCapture:!0})}},progress:{phasedRegistrationNames:{bubbled:x({onProgress:!0}),captured:x({onProgressCapture:!0})}},rateChange:{phasedRegistrationNames:{bubbled:x({onRateChange:!0}),captured:x({onRateChangeCapture:!0})}},reset:{phasedRegistrationNames:{bubbled:x({onReset:!0}),captured:x({onResetCapture:!0})}},scroll:{phasedRegistrationNames:{bubbled:x({onScroll:!0}),captured:x({onScrollCapture:!0})}},seeked:{phasedRegistrationNames:{bubbled:x({onSeeked:!0}),captured:x({onSeekedCapture:!0})}},seeking:{phasedRegistrationNames:{bubbled:x({onSeeking:!0}),captured:x({onSeekingCapture:!0})}},stalled:{phasedRegistrationNames:{bubbled:x({onStalled:!0}),captured:x({onStalledCapture:!0})}},submit:{phasedRegistrationNames:{bubbled:x({onSubmit:!0}),captured:x({onSubmitCapture:!0})}},suspend:{phasedRegistrationNames:{bubbled:x({onSuspend:!0}),captured:x({onSuspendCapture:!0})}},timeUpdate:{phasedRegistrationNames:{bubbled:x({onTimeUpdate:!0}),captured:x({onTimeUpdateCapture:!0})}},touchCancel:{phasedRegistrationNames:{bubbled:x({onTouchCancel:!0}),captured:x({onTouchCancelCapture:!0})}},touchEnd:{phasedRegistrationNames:{bubbled:x({onTouchEnd:!0}),captured:x({onTouchEndCapture:!0})}},touchMove:{phasedRegistrationNames:{bubbled:x({onTouchMove:!0}),captured:x({onTouchMoveCapture:!0})}},touchStart:{phasedRegistrationNames:{bubbled:x({onTouchStart:!0}),captured:x({onTouchStartCapture:!0})}},transitionEnd:{phasedRegistrationNames:{bubbled:x({onTransitionEnd:!0}),captured:x({onTransitionEndCapture:!0})}},volumeChange:{phasedRegistrationNames:{bubbled:x({onVolumeChange:!0}),captured:x({onVolumeChangeCapture:!0})}},waiting:{phasedRegistrationNames:{bubbled:x({onWaiting:!0}),captured:x({onWaitingCapture:!0})}},wheel:{phasedRegistrationNames:{bubbled:x({onWheel:!0}),captured:x({onWheelCapture:!0})}}},T={topAbort:E.abort,topAnimationEnd:E.animationEnd,topAnimationIteration:E.animationIteration,topAnimationStart:E.animationStart,topBlur:E.blur,topCanPlay:E.canPlay,topCanPlayThrough:E.canPlayThrough,topClick:E.click,topContextMenu:E.contextMenu,topCopy:E.copy,topCut:E.cut,topDoubleClick:E.doubleClick,topDrag:E.drag,topDragEnd:E.dragEnd,topDragEnter:E.dragEnter,topDragExit:E.dragExit,topDragLeave:E.dragLeave,topDragOver:E.dragOver,topDragStart:E.dragStart,topDrop:E.drop,topDurationChange:E.durationChange,topEmptied:E.emptied,topEncrypted:E.encrypted,topEnded:E.ended,topError:E.error,topFocus:E.focus,topInput:E.input,topInvalid:E.invalid,topKeyDown:E.keyDown,topKeyPress:E.keyPress,topKeyUp:E.keyUp,topLoad:E.load,topLoadedData:E.loadedData,topLoadedMetadata:E.loadedMetadata,topLoadStart:E.loadStart,topMouseDown:E.mouseDown,topMouseMove:E.mouseMove,topMouseOut:E.mouseOut,topMouseOver:E.mouseOver,topMouseUp:E.mouseUp,topPaste:E.paste,topPause:E.pause,topPlay:E.play,topPlaying:E.playing,topProgress:E.progress,topRateChange:E.rateChange,topReset:E.reset,topScroll:E.scroll,topSeeked:E.seeked,topSeeking:E.seeking,topStalled:E.stalled,topSubmit:E.submit,topSuspend:E.suspend,topTimeUpdate:E.timeUpdate,topTouchCancel:E.touchCancel,topTouchEnd:E.touchEnd,topTouchMove:E.touchMove,topTouchStart:E.touchStart,topTransitionEnd:E.transitionEnd,topVolumeChange:E.volumeChange,topWaiting:E.waiting,topWheel:E.wheel};for(var S in T)T[S].dependencies=[S];var C=x({onClick:null}),M={},P={eventTypes:E,extractEvents:function(e,t,n,r){var i=T[e];if(!i)return null;var a;switch(e){case k.topAbort:case k.topCanPlay:case k.topCanPlayThrough:case k.topDurationChange:case k.topEmptied:case k.topEncrypted:case k.topEnded:case k.topError:case k.topInput:case k.topInvalid:case k.topLoad:case k.topLoadedData:case k.topLoadedMetadata:case k.topLoadStart:case k.topPause:case k.topPlay:case k.topPlaying:case k.topProgress:case k.topRateChange:case k.topReset:case k.topSeeked:case k.topSeeking:case k.topStalled:case k.topSubmit:case k.topSuspend:case k.topTimeUpdate:case k.topVolumeChange:case k.topWaiting:a=p;break;case k.topKeyPress:if(0===w(n))return null;case k.topKeyDown:case k.topKeyUp:a=h;break;case k.topBlur:case k.topFocus:a=f;break;case k.topClick:if(2===n.button)return null;case k.topContextMenu:case k.topDoubleClick:case k.topMouseDown:case k.topMouseMove:case k.topMouseOut:case k.topMouseOver:case k.topMouseUp:a=d;break;case k.topDrag:case k.topDragEnd:case k.topDragEnter:case k.topDragExit:case k.topDragLeave:case k.topDragOver:case k.topDragStart:case k.topDrop:a=m;break;case k.topTouchCancel:case k.topTouchEnd:case k.topTouchMove:case k.topTouchStart:a=y;break;case k.topAnimationEnd:case k.topAnimationIteration:case k.topAnimationStart:a=l;break;case k.topTransitionEnd:a=g;break;case k.topScroll:a=v;break;case k.topWheel:a=b;break;case k.topCopy:case k.topCut:case k.topPaste:a=c}a?void 0:o("86",e);var u=a.getPooled(i,t,n,r);return s.accumulateTwoPhaseDispatches(u),u},didPutListener:function(e,t,n){if(t===C){var o=r(e),i=u.getNodeFromInstance(e);M[o]||(M[o]=a.listen(i,"click",_))}},willDeleteListener:function(e,t){if(t===C){var n=r(e);M[n].remove(),delete M[n]}}};e.exports=P},function(e,t,n){"use strict";function r(e,t,n,r){return o.call(this,e,t,n,r)}var o=n(18),i={animationName:null,elapsedTime:null,pseudoElement:null};o.augmentClass(r,i),e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){return o.call(this,e,t,n,r)}var o=n(18),i={clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}};o.augmentClass(r,i),e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){return o.call(this,e,t,n,r)}var o=n(18),i={data:null};o.augmentClass(r,i),e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){return o.call(this,e,t,n,r)}var o=n(47),i={dataTransfer:null};o.augmentClass(r,i),e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){return o.call(this,e,t,n,r)}var o=n(36),i={relatedTarget:null};o.augmentClass(r,i),e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){return o.call(this,e,t,n,r)}var o=n(18),i={data:null};o.augmentClass(r,i),e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){return o.call(this,e,t,n,r)}var o=n(36),i=n(75),a=n(306),s=n(76),u={key:a,location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:s,charCode:function(e){return"keypress"===e.type?i(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?i(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}};o.augmentClass(r,u),e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){return o.call(this,e,t,n,r)}var o=n(36),i=n(76),a={touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:i};o.augmentClass(r,a),e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){return o.call(this,e,t,n,r)}var o=n(18),i={propertyName:null,elapsedTime:null,pseudoElement:null};o.augmentClass(r,i),e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){return o.call(this,e,t,n,r)}var o=n(47),i={deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null};o.augmentClass(r,i),e.exports=r},function(e,t){"use strict";function n(e){for(var t=1,n=0,o=0,i=e.length,a=-4&i;a>o;){for(var s=Math.min(o+4096,a);s>o;o+=4)n+=(t+=e.charCodeAt(o))+(t+=e.charCodeAt(o+1))+(t+=e.charCodeAt(o+2))+(t+=e.charCodeAt(o+3));t%=r,n%=r}for(;i>o;o++)n+=t+=e.charCodeAt(o);return t%=r,n%=r,t|n<<16}var r=65521;e.exports=n},function(e,t,n){(function(t){"use strict";function r(e,t,n,r,u,l){for(var c in e)if(e.hasOwnProperty(c)){var p;try{"function"!=typeof e[c]?o("84",r||"React class",i[n],c):void 0,p=e[c](t,c,r,n,null,a)}catch(f){p=f}if(p instanceof Error&&!(p.message in s)){s[p.message]=!0}}}var o=n(3),i=n(70),a=n(72),s=(n(2),n(4),{});e.exports=r}).call(t,n(40))},function(e,t,n){"use strict";function r(e,t,n){var r=null==t||"boolean"==typeof t||""===t;if(r)return"";var o=isNaN(t);if(o||0===t||i.hasOwnProperty(e)&&i[e])return""+t;if("string"==typeof t){t=t.trim()}return t+"px"}var o=n(110),i=(n(4),o.isUnitlessNumber);e.exports=r},function(e,t,n){"use strict";function r(e){if(null==e)return null;if(1===e.nodeType)return e;var t=a.get(e);return t?(t=s(t),t?i.getNodeFromInstance(t):null):void("function"==typeof e.render?o("44"):o("45",Object.keys(e)))}var o=n(3),i=(n(22),n(6)),a=n(31),s=n(132);n(2),n(4);e.exports=r},function(e,t,n){"use strict";function r(e){if(e.key){var t=i[e.key]||e.key;if("Unidentified"!==t)return t}if("keypress"===e.type){var n=o(e);return 13===n?"Enter":String.fromCharCode(n)}return"keydown"===e.type||"keyup"===e.type?a[e.keyCode]||"Unidentified":""}var o=n(75),i={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},a={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};e.exports=r},function(e,t){"use strict";function n(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function r(e){for(;e;){if(e.nextSibling)return e.nextSibling;e=e.parentNode}}function o(e,t){for(var o=n(e),i=0,a=0;o;){if(3===o.nodeType){if(a=i+o.textContent.length,t>=i&&a>=t)return{node:o,offset:t-i};i=a}o=n(r(o))}}e.exports=o},function(e,t,n){"use strict";function r(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n["ms"+e]="MS"+t,n["O"+e]="o"+t.toLowerCase(),n}function o(e){if(s[e])return s[e];if(!a[e])return e;var t=a[e];for(var n in t)if(t.hasOwnProperty(n)&&n in u)return s[e]=t[n];return""}var i=n(9),a={animationend:r("Animation","AnimationEnd"),animationiteration:r("Animation","AnimationIteration"),animationstart:r("Animation","AnimationStart"),transitionend:r("Transition","TransitionEnd")},s={},u={};i.canUseDOM&&(u=document.createElement("div").style,"AnimationEvent"in window||(delete a.animationend.animation,delete a.animationiteration.animation,delete a.animationstart.animation),"TransitionEvent"in window||delete a.transitionend.transition),e.exports=o},function(e,t,n){"use strict";function r(e){return i.isValidElement(e)?void 0:o("143"),e}var o=n(3),i=n(15);n(2);e.exports=r},function(e,t,n){"use strict";function r(e){return'"'+o(e)+'"'}var o=n(48);e.exports=r},function(e,t,n){"use strict";var r=n(122);e.exports=r.renderSubtreeIntoContainer},function(e,t){"use strict";function n(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(o){return"function"==typeof o?o(n,r,e):t(o)}}}}t.__esModule=!0;var r=n();r.withExtraArgument=n,t["default"]=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];return function(e){return function(n,r,o){var a=e(n,r,o),u=a.dispatch,l=[],c={getState:a.getState,dispatch:function(e){return u(e)}};return l=t.map(function(e){return e(c)}),u=s["default"].apply(void 0,l)(a.dispatch),i({},a,{dispatch:u})}}}t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t["default"]=o;var a=n(138),s=r(a)},function(e,t){"use strict";function n(e,t){return function(){return t(e.apply(void 0,arguments))}}function r(e,t){if("function"==typeof e)return n(e,t);if("object"!=typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var r=Object.keys(e),o={},i=0;i<r.length;i++){var a=r[i],s=e[a];"function"==typeof s&&(o[a]=n(s,t))}return o}t.__esModule=!0,t["default"]=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){var n=t&&t.type,r=n&&'"'+n.toString()+'"'||"an action";return"Given action "+r+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state.'}function i(e){Object.keys(e).forEach(function(t){var n=e[t],r=n(void 0,{type:s.ActionTypes.INIT});if("undefined"==typeof r)throw new Error('Reducer "'+t+'" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined.');var o="@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".");if("undefined"==typeof n(void 0,{type:o}))throw new Error('Reducer "'+t+'" returned undefined when probed with a random type. '+("Don't try to handle "+s.ActionTypes.INIT+' or other actions in "redux/*" ')+"namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined.")})}function a(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var a=t[r];"function"==typeof e[a]&&(n[a]=e[a])}var s,u=Object.keys(n);try{i(n)}catch(l){s=l}return function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=arguments[1];if(s)throw s;for(var r=!1,i={},a=0;a<u.length;a++){var l=u[a],c=n[l],p=e[l],f=c(p,t);if("undefined"==typeof f){var h=o(l,t);throw new Error(h)}i[l]=f,r=r||f!==p}return r?i:e}}t.__esModule=!0,t["default"]=a;var s=n(139),u=n(52),l=(r(u),n(141));r(l)},function(e,t,n){function r(e,t){for(var n=0;n<e.length;n++){var r=e[n],o=h[r.id];if(o){o.refs++;for(var i=0;i<o.parts.length;i++)o.parts[i](r.parts[i]);for(;i<r.parts.length;i++)o.parts.push(l(r.parts[i],t))}else{for(var a=[],i=0;i<r.parts.length;i++)a.push(l(r.parts[i],t));h[r.id]={id:r.id,refs:1,parts:a}}}}function o(e){for(var t=[],n={},r=0;r<e.length;r++){var o=e[r],i=o[0],a=o[1],s=o[2],u=o[3],l={css:a,media:s,sourceMap:u};n[i]?n[i].parts.push(l):t.push(n[i]={id:i,parts:[l]})}return t}function i(e,t){var n=y(),r=b[b.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),b.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(t)}}function a(e){e.parentNode.removeChild(e);var t=b.indexOf(e);t>=0&&b.splice(t,1)}function s(e){var t=document.createElement("style");return t.type="text/css",i(e,t),t}function u(e){var t=document.createElement("link");return t.rel="stylesheet",i(e,t),t}function l(e,t){var n,r,o;if(t.singleton){var i=v++;n=g||(g=s(t)),r=c.bind(null,n,i,!1),o=c.bind(null,n,i,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=u(t),r=f.bind(null,n),o=function(){a(n),n.href&&URL.revokeObjectURL(n.href)}):(n=s(t),r=p.bind(null,n),o=function(){a(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else o()}}function c(e,t,n,r){var o=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=_(t,o);else{var i=document.createTextNode(o),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i)}}function p(e,t){var n=t.css,r=t.media;if(r&&e.setAttribute("media",r),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function f(e,t){var n=t.css,r=t.sourceMap;r&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var o=new Blob([n],{type:"text/css"}),i=e.href;e.href=URL.createObjectURL(o),i&&URL.revokeObjectURL(i)}var h={},d=function(e){var t;return function(){return"undefined"==typeof t&&(t=e.apply(this,arguments)),t}},m=d(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),y=d(function(){return document.head||document.getElementsByTagName("head")[0]}),g=null,v=0,b=[];e.exports=function(e,t){t=t||{},"undefined"==typeof t.singleton&&(t.singleton=m()),"undefined"==typeof t.insertAt&&(t.insertAt="bottom");var n=o(e);return r(n,t),function(e){for(var i=[],a=0;a<n.length;a++){var s=n[a],u=h[s.id];u.refs--,i.push(u)}if(e){var l=o(e);r(l,t)}for(var a=0;a<i.length;a++){var u=i[a];if(0===u.refs){for(var c=0;c<u.parts.length;c++)u.parts[c]();delete h[u.id]}}}};var _=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()},function(e,t,n){var r=n(181);"string"==typeof r&&(r=[[e.id,r,""]]);n(316)(r,{});r.locals&&(e.exports=r.locals)},function(e,t,n){(function(t){"use strict";e.exports=n(319)(t||window||this)}).call(t,function(){return this}())},function(e,t){"use strict";e.exports=function(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}},function(e,t,n){!function(e,n){n(t)}(this,function(e){"use strict";function t(){}function n(e){if(!e)return t;var n,r,o=e.scale[0],i=e.scale[1],a=e.translate[0],s=e.translate[1];return function(e,t){t||(n=r=0),e[0]=(n+=e[0])*o+a,e[1]=(r+=e[1])*i+s}}function r(e){if(!e)return t;var n,r,o=e.scale[0],i=e.scale[1],a=e.translate[0],s=e.translate[1];return function(e,t){t||(n=r=0);var u=Math.round((e[0]-a)/o),l=Math.round((e[1]-s)/i);e[0]=u-n,e[1]=l-r,n=u,r=l}}function o(e,t){for(var n,r=e.length,o=r-t;o<--r;)n=e[o],e[o++]=e[r],e[r]=n}function i(e,t){for(var n=0,r=e.length;r>n;){var o=n+r>>>1;e[o]<t?n=o+1:r=o}return n}function a(e,t){return"GeometryCollection"===t.type?{type:"FeatureCollection",features:t.geometries.map(function(t){return s(e,t)})}:s(e,t)}function s(e,t){var n={type:"Feature",id:t.id,properties:t.properties||{},geometry:u(e,t)};return null==t.id&&delete n.id,n}function u(e,t){function r(e,t){t.length&&t.pop();for(var n,r=p[0>e?~e:e],i=0,a=r.length;a>i;++i)t.push(n=r[i].slice()),c(n,i);0>e&&o(t,a)}function i(e){return e=e.slice(),c(e,0),e}function a(e){for(var t=[],n=0,o=e.length;o>n;++n)r(e[n],t);return t.length<2&&t.push(t[0].slice()),t}function s(e){for(var t=a(e);t.length<4;)t.push(t[0].slice());return t}function u(e){return e.map(s)}function l(e){var t=e.type;return"GeometryCollection"===t?{type:t,geometries:e.geometries.map(l)}:t in f?{type:t,coordinates:f[t](e)}:null}var c=n(e.transform),p=e.arcs,f={Point:function(e){return i(e.coordinates)},MultiPoint:function(e){return e.coordinates.map(i)},LineString:function(e){return a(e.arcs)},MultiLineString:function(e){return e.arcs.map(a)},Polygon:function(e){return u(e.arcs)},MultiPolygon:function(e){return e.arcs.map(u)}};return l(t)}function l(e,t){function n(t){var n,r=e.arcs[0>t?~t:t],o=r[0];return e.transform?(n=[0,0],r.forEach(function(e){n[0]+=e[0],n[1]+=e[1]})):n=r[r.length-1],0>t?[n,o]:[o,n]}function r(e,t){for(var n in e){var r=e[n];delete t[r.start],delete r.start,delete r.end,r.forEach(function(e){o[0>e?~e:e]=1}),s.push(r)}}var o={},i={},a={},s=[],u=-1;return t.forEach(function(n,r){var o,i=e.arcs[0>n?~n:n];i.length<3&&!i[1][0]&&!i[1][1]&&(o=t[++u],t[u]=n,t[r]=o)}),t.forEach(function(e){var t,r,o=n(e),s=o[0],u=o[1];if(t=a[s])if(delete a[t.end],t.push(e),t.end=u,r=i[u]){delete i[r.start];var l=r===t?t:t.concat(r);i[l.start=t.start]=a[l.end=r.end]=l}else i[t.start]=a[t.end]=t;else if(t=i[u])if(delete i[t.start],t.unshift(e),t.start=s,r=a[s]){delete a[r.end];var c=r===t?t:r.concat(t);i[c.start=r.start]=a[c.end=t.end]=c}else i[t.start]=a[t.end]=t;else t=[e],i[t.start=s]=a[t.end=u]=t}),r(a,i),r(i,a),t.forEach(function(e){o[0>e?~e:e]||s.push([e])}),s}function c(e){return u(e,p.apply(this,arguments))}function p(e,t,n){function r(e){var t=0>e?~e:e;(c[t]||(c[t]=[])).push({i:e,g:u})}function o(e){e.forEach(r)}function i(e){e.forEach(o)}function a(e){"GeometryCollection"===e.type?e.geometries.forEach(a):e.type in p&&(u=e,p[e.type](e.arcs))}var s=[];if(arguments.length>1){var u,c=[],p={LineString:o,MultiLineString:i,Polygon:i,MultiPolygon:function(e){e.forEach(i)}};a(t),c.forEach(arguments.length<3?function(e){s.push(e[0].i)}:function(e){n(e[0].g,e[e.length-1].g)&&s.push(e[0].i)})}else for(var f=0,h=e.arcs.length;h>f;++f)s.push(f);return{type:"MultiLineString",arcs:l(e,s)}}function f(e){var t=e[0],n=e[1],r=e[2];return Math.abs((t[0]-r[0])*(n[1]-t[1])-(t[0]-n[0])*(r[1]-t[1]))}function h(e){for(var t,n=-1,r=e.length,o=e[r-1],i=0;++n<r;)t=o,o=e[n],i+=t[0]*o[1]-t[1]*o[0];return i/2}function d(e){return u(e,m.apply(this,arguments))}function m(e,t){function n(e){e.forEach(function(t){t.forEach(function(t){(o[t=0>t?~t:t]||(o[t]=[])).push(e)})}),i.push(e)}function r(t){return Math.abs(h(u(e,{type:"Polygon",arcs:[t]}).coordinates[0]))}var o={},i=[],a=[];return t.forEach(function(e){"Polygon"===e.type?n(e.arcs):"MultiPolygon"===e.type&&e.arcs.forEach(n)}),i.forEach(function(e){if(!e._){var t=[],n=[e];for(e._=1,a.push(t);e=n.pop();)t.push(e),e.forEach(function(e){e.forEach(function(e){o[0>e?~e:e].forEach(function(e){e._||(e._=1,n.push(e))})})})}}),i.forEach(function(e){delete e._}),{type:"MultiPolygon",arcs:a.map(function(t){var n,i=[];if(t.forEach(function(e){e.forEach(function(e){e.forEach(function(e){o[0>e?~e:e].length<2&&i.push(e)})})}),i=l(e,i),(n=i.length)>1)for(var a,s,u=1,c=r(i[0]);n>u;++u)(a=r(i[u]))>c&&(s=i[0],i[0]=i[u],i[u]=s,c=a);return i})}}function y(e){function t(e,t){e.forEach(function(e){0>e&&(e=~e);var n=o[e];n?n.push(t):o[e]=[t]})}function n(e,n){e.forEach(function(e){t(e,n)})}function r(e,t){"GeometryCollection"===e.type?e.geometries.forEach(function(e){r(e,t)}):e.type in s&&s[e.type](e.arcs,t)}var o={},a=e.map(function(){return[]}),s={LineString:t,MultiLineString:n,Polygon:n,MultiPolygon:function(e,t){e.forEach(function(e){n(e,t)})}};e.forEach(r);for(var u in o)for(var l=o[u],c=l.length,p=0;c>p;++p)for(var f=p+1;c>f;++f){var h,d=l[p],m=l[f];(h=a[d])[u=i(h,m)]!==m&&h.splice(u,0,m),(h=a[m])[u=i(h,d)]!==d&&h.splice(u,0,d)}return a}function g(e,t){return e[1][2]-t[1][2]}function v(){function e(e,t){for(;t>0;){var n=(t+1>>1)-1,o=r[n];if(g(e,o)>=0)break;r[o._=t]=o,r[e._=t=n]=e}}function t(e,t){for(;;){var n=t+1<<1,i=n-1,a=t,s=r[a];if(o>i&&g(r[i],s)<0&&(s=r[a=i]),o>n&&g(r[n],s)<0&&(s=r[a=n]),a===t)break;r[s._=t]=s,r[e._=t=a]=e}}var n={},r=[],o=0;return n.push=function(t){return e(r[t._=o]=t,o++),o},n.pop=function(){if(!(0>=o)){var e,n=r[0];return--o>0&&(e=r[o],t(r[e._=0]=e,0)),n}},n.remove=function(n){var i,a=n._;if(r[a]===n)return a!==--o&&(i=r[o],(g(i,n)<0?e:t)(r[i._=a]=i,a)),a},n}function b(e,t){function o(e){s.remove(e),e[1][2]=t(e),s.push(e)}var i=n(e.transform),a=r(e.transform),s=v();return t||(t=f),e.arcs.forEach(function(e){var n,r,u,l,c=[],p=0;for(r=0,u=e.length;u>r;++r)l=e[r],i(e[r]=[l[0],l[1],1/0],r);for(r=1,u=e.length-1;u>r;++r)n=e.slice(r-1,r+2),n[1][2]=t(n),c.push(n),s.push(n);for(r=0,u=c.length;u>r;++r)n=c[r],n.previous=c[r-1],n.next=c[r+1];
for(;n=s.pop();){var f=n.previous,h=n.next;n[1][2]<p?n[1][2]=p:p=n[1][2],f&&(f.next=h,f[2]=n[2],o(f)),h&&(h.previous=f,h[0]=n[0],o(h))}e.forEach(a)}),e}var _="1.6.26";e.version=_,e.mesh=c,e.meshArcs=p,e.merge=d,e.mergeArcs=m,e.feature=a,e.neighbors=y,e.presimplify=b})},function(e,t,n){e.exports=n.p+"3f43b118316445ef671e62f74c7c5212.jpg"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAtCAYAAADV2ImkAAAABGdBTUEAALGPC/xhBQAAAa1JREFUWAnV2U1OhDAUAODyo2IykrgZYBauiKKH8AT+nWnWzJ5wCo/gKQzqbE1UdqiLgZkgZfJYDDb8tfQNm5dQSD6ato/XErInVxAE95SqYPdSaKapvr7euIqizHWsYID+Gpr94lkTM1kR9y0m6MC70C/bLPvUTOIyogGzoLsjQDq4LRTg0sBdodLAfaGjg4dCRwPzggoH84YKA4uCcgeLhnIDjwUdDB4b2hssC9oZLBvaGowF2gjGBmWCsUJrYOzQCrwv0Aqc5/ljdGWR97NTuIc6qkUl+uA9fy6vn5Y/048ENZbiqjI/DMO7lUIWmaHbkTedQPGH5Qvc15hWzfMKDDCscCYYK7wRjA3eGowF3hn8P9wqJucJNAmNvcGgKicnyf3s+MCJir0v0fDB4Brc0J3o0hYG5wYGeJHibzNVoeu4EDh3sGi4MLAouHAwb/hoYF7w0cE1OF0OL4qfLGe7ww7trCgNDCC6qqx11U+P9FkbuHRwDX6ozcoExOhxNGCAF5nzJlXJImXA0YGb4GjBLLj5XZ7T1SsOeAFLhKGiZZtzehKKxdXooHD60B95WYXB4n3gYwAAAABJRU5ErkJggg=="},function(e,t,n){e.exports=n.p+"403999fb25052f66a08776c4e38093c7.png"},function(e,t,n){e.exports=n.p+"ed7cd94383de37291ae4bd5f49e2e994.png"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAmwAAABdCAYAAAAYLDoEAAAACXBIWXMAACE3AAAhNwEzWJ96AAAK1UlEQVR42u3dQY/bxhXA8Tdbp0CcHKJTewzU3htAXyAF5I+gr7D9CPQxR+1HUC/peX3OSXto72sgPRUoqkXQQ9CgreTYXiO76132UMqe0BQ15LzhDMn/DxC8sCVz+ObN8EmrGZrbr7/5SjAKD/+8/kJuHj4TEclf330rtw8viMowvfn3289vXt5/LiLy9ib/7u7Nw3dEZZiur28/+88P11+IiNzf5y9evbz5lqgM10buvtz/vJOHPxOR0fiTuf36m5w4jKRg+9uPkr+8IxAj8Or7O3n1PX09Bq9f3crm7/8lECNxKTcEYZx+f0IMAAAA0kbBBgAAQMEGAAAACjYAAAAKNgAAAFCwAQAAgIINAACAgg0AAAAUbAAAABRsAAAAoGADAAAABRsAAAAFGwAAACjYAAAAQMEGAABAwQYAAAAKNgAAAAo2AAAAULABAACAgg0AAICCDQAAABRsAAAAFGwAAACgYAMAAAAFGwAAAAUbAAAAKNgAAABAwQYAAEDBBgAAAAo2AAAACjYAAABQsAEAAICCDQAAgIINAAAAFGwAAAAUbAAAAKBgAwAAAAUbAAAABRsAAAAo2AAAAEDBBgAAQMEGAAAACjYAAAAKNgAAAFCwAQAAgIINAACAgg0AAAAUbAAAABRsAAAAoGADAAAABRsAAAAFGwAAADr2SET+QhhG4pcnvzWfPPpERCT/6X4j9/lrgjJM5hfm1x89PvmViMjD2/yH+9v8X0RloH1t5NOPH3/0GxGRh4f8+uant/8gKsP1WMzv9j+/kfyvRGQ0Xpg8zwkDAABAwviVKAAAAAUbAAAAKNgAAAAo2I4zxkyMMZkxZm2MyYvH1hhzboyZhzwJ69jb/bG7br/1+o312pUxZup4/Gnxmo0xZpJaovjGOGZ++La/1OZjj6yPOaLQvyoxUsipvIjP0jWuY5kDNOMVYzxrtX8M4zlSTnQ+B7Q4z35fn/M8936IyExENiKS1zzORWSicbzSsTMR2ZaP12X7RWQiIpcHXrcVkZlDG1bF80+1YxQ7xjHzQ6n9x9puP7K+5YjSGPKOUcPjLavaXPFYMgfoxivGeFZu/6DHc8Qx1Okc0OA8B3N91irW7E7fFBeArBi0dnDWip2wqEuQLttvPe9d54vI1EqSTd3kJSJz7fikEuNY+aGcI3bb10cep33JEa34aMWowbFWpbbax7xsenEY+hygGa8Y4zlAfw9yPMeMaddzQMNzHcz1WaNytSf81YGT3WpX1sW7g3cTgxXUJsWEd/uLCWz/b/MDHV1bmVuJM0usYPOKccz8UMyRqW/bUs0Rjfhoxahhu0/tNh9oT/miMx3rHKAVr1jjWbm/BzueY8U0xhwwpr7SLNgy64QvHZ+3Uf50YFFR4eddtd+66G2OdPb5kYGzSvBXoV4xjpkfijliD+qFZ2GUVI5oxEcrRm3mnoZvFpZjngM04hV5vtfq78GO51gx7WIOKArCrGkxOLTrs28QNy4VavHcrWaHVn2E2eJi7N3+4h1KXYevDiVMMSC2xWOSYMHmFeOY+aGYI9mhd2gN2pFkjmjERytGAb+7WFtgMAe4xyv2eFbq78GO51gx7WIOsAvCMfdV61WixphZUfWKiOzyPP/jkZc8s372XkWU5/nOc9WIVvv3Pz8/8Lqr4s+q1ShZkRRnvucTaEHKrq/5oZEjFf/fRcuXJpkjIXLOI0Yh2PGeMQe0j1cK49m3v4c+nlOIaYJzwKD66kQhECIiFyE6vqOOjNL+YjlxJiJXeZ6fyfD0PT/Kbel8wPYoR6LFqIEdc4BXvPo2nneM585i2pc5oPd9pVWwPXd4/lXCBVuM9q+KP/8gw9T3/NibNDgHbX3JkZgxcmnXobYxB7jHqw/jeeLQRsazfkxTngMG1VdaG+ceraoT+5hUs/37v58eeedxYVXvi2ICfJZ4XIT8eNd/s9LGj+ti40WXX/cMPUc0YhT7TQNzgHu8Uh3PLu1nPIfJiVTngGH1lceXAO3lvvNQr2nbpq7aLzVfWix9UXdZsfJmWvpS5bm8/7Jup3vVaMc4xfxouejAZRPItdQs+e5TjojfPnWtYxRos0z7i+9T5oD28Up1PDfp7zGO5y5i2sUcIO0XHQyqryjY/Cfrubjt8zIrrabJKpYOVz1WFGzRcmRaDNKs9FhLgx2z+5Qj0m6fOu8Yhd5DkDnAL149KNhc+nt04zl0TLuaAzwKtkH1FQWbQvutxNyWJvF9NX5uJfZWrJ2VS0mzsv7eXiadUbDF+wSp5t1nJh/uFj45srw86RzRik+bGIXYAqCI5ZQ5wC9eKRdsrv09xvEcM6aac0Dbgm1ofRWzYJu5fpSaaME2c7xX2aXVyftbZJxWJNO65pYamxEWbLMmH7fHKEgOvPtqc+/BZHJEOz4uMVLu36k47rTPHOAer4THs3N/j3E8h8wJ5TlgLu73IW2UO0PqK58OsD/uXDhW2h8ENWLBptL+incSGysRsrr7kcnPb+exOLATfVIbkjYo2NTim3LBVnFfvrXDu81kcyREfI7FSKt/KybmFXOATrxSHM9N+3uM4zlkTijPAcEKtiH11SOltQvTBivJyp4msPbCp/37xRs7ETkrHlWWFed7bAXORen4fV1R6hvfp4mf3/MDfUqOuMXIu3+NMZP9l5qt4z1lDggSr+jjWaG/Gc/dxvRYXJ+LyJMj+bSP55MWiysH0Vc+BduFdULThoP8wgpkrE3pVNrvOBCyokPP8jy3O35ixeGqKsmMMT2t0fTi24NNJq8UJsuh58hVzWR65hm7qgvNE4fdyUc5B7SMVzLj2aO/Gc/xYnpsDtjVjSk7JtpbbfSpr3z2YbNPbNHwHVcKm+t10v5iIGTy/72LhnhHg6HmRxMTn8l+JDniFaNAF5rRzQEe8UpiPHdUWIxqPHcU02BzgMK596avWhdsRZW779BJsdlcXVDsf38W+8Q7bH/d/ch2pWNUHfeD5/ZB3/Ojoaa37RljjvjGSP1CM7Y5wCdeKYznDguL0YznDmMaZA5Q0K+51/NLhPbS1kvf50XYQypo+4tBcPA11r+7fKlx2qdFBynmR6BVonYfNv7yaWo5ImEWZXjFyPHL0e9We6U0h6XSvxrxijmetfp7bOM5hZgqxXUecF7qzfVZeyfklcNy3nlCBVvQ9sv7lVXzmufsV62sa1bVXKZQrLUo2JLKj5YFZ93u3ovS+S09VlsnkSMt3/QEjVHIC80Y5gDF4jbKeFYuzkc1njsaQ13ENUTB1rvrs8ZJL+TDTfH2Ox2fl/5tmdqnJ6Hab/2/5w2Onx14l7roY8GWWn403JZkVprMlla7l9ZA9vnEIrkcaVjQBo+R455Kl8Xke+xxOrY5QDteXY9nrfaPdTyHzomu5gDtgq2v12fNjTG3Ur8/yjK1YiJU++X9/cicdoiWn+9PU34kc5cDj6I4ifxoWLBl4r73z7LlpJlcjnj8yjvvon8bHtM5TkOdA0LEq8vxrNX+sY7n0DnR1RygWbD1+fqsvTvyqlRRb4q/m6ZaTIRov1Tcj8yxqLHf9ZxLIpvlKhXF0fOj5b1E9/fEK1+g1sd+FdDHHJF29xINEqMuC7ahzgEBC9xOxrNycTG68dxFTnQxBygXbL29PpuiMQAAAEjUCSEAAACgYAMAAAAFGwAAAAUbAAAAKNgAAABAwQYAAEDBBgAAAAo2AAAACjYAAACk5H+0uyvOC+i8yAAAAABJRU5ErkJggg=="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAtCAYAAADV2ImkAAAABGdBTUEAALGPC/xhBQAAAgFJREFUWAnV2U1OwkAUAOCp8hMjdWOoxuCKCgs36gn0BOop4AC4ljuIgQouJK4NnkEugCTEAK6MCZSNEUhIhOJMzZgqaUtLZ/qYZPKStjP98vLy0h+E8CgUCqckLsMQFEW51DQtOw6stoMTLZNOpx8hw1cI7jURRfWDHXm4HrzPlYotyBnXwQStbm+gp+O9yDNw+C+YoMlQt0TQ8BnwDxsu3BQMFW4LtoLjDnNGz/OKc4MpyFjj/bVgmXQVnnDHYCO8eiKLpKvwhAcowG0kGcdTlLp9MdHolq+KihrSUCaVSlXc7mm1bmEw3ZzCoxieZAj3DEzhPZxxPEVWcM/BrOHMwKzgzMFW8MBYu8BPhxVBEKb0Orvouq3ZbWx2ntS43g4PY/FhJHx3fVtq5vP58+l0KpitMR7nDqY31+HHslgjT4cO4L6BzeC50k3LKuO+g//D60e7eqmYwcGAKVyVIqiKS8UMrr/TteTNbDsh0TWgoqQOUKLR6YdHXyrpKtzamtsskIyrkizG3j7E/dr7A3iw1PlEyZfuIDSadHC/zoAFG6HGzw/gwGZQWlJgwHZQMOB5ob6DnUJ9A7uFcgcvCuUG9grKHOw1lBmYFdRzMGuoZ2Be0IXBvKGuwX5BHYP9hs4NhgK1BUODmoKhQmfA0KF/wPFmDy3Ln1AdDvnPJ80sjd91Jfjzm5NOdwAAAABJRU5ErkJggg=="},function(e,t,n){e.exports=n.p+"643250cae5df95b05007d1f74be29284.jpg"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAABGdBTUEAALGPC/xhBQAAASZJREFUSA291s0RgjAQhuGQsQA70hpsx4sX27EG7cgO0HfxJ0ASdhNIZnAg2XzLIxzo9qfrvXf9wTUcnese3nl/adhzaPXu2XHWUo32eTsfvdxCS/Wnl4hbqb9a+g1iOWvwrIN/9ifeWh1qx+Kt1YGWViMxE1u84VMtff7PmCvG5M6GycrfSOZMTIs11TEtPeZimV3xDY9oaREVs7CGOqUlPy6WlRXUCS3xSTGLNeqcluy0WFYr1Bkt0VkxBSXqJS25ebFUFKgXtMQuiimyqDVaMpfFUmVQK7REqsQUatRaLXk6sVQq1EotcWoxxTm1RUuWXizVGbVBS5RJzIaY2qolxyaWHRG1UUuMWcymUF2iJcMull2BukBLRPFAzVEasCvdWPtt9gIe2XIY1IWZvQAAAABJRU5ErkJggg=="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAABGdBTUEAALGPC/xhBQAAARpJREFUSA211l0OgjAQRtGpcV/iztyZuiIivFtTpB8F+jMzbU1IjXHmegwPEClf8zwO7lKO01U7SJYe6+yg3iEddNLpM1p3adUXaXT5/qalQC5aJQ47obV08xX3XqMWh6PC8B/wv6hwisJHrd+tUYvCUS3quMv9J9mTHU5p/Xapmh3OalHnq1nhkhZdwR3OCrO0qPPUxTBXiy5TXQyLtKiX1dmwVIsuQ50Nq7So59XJsFaLbkGdDFdpUU+ro+FaLboZdTTcRIt6XH0Kt9Kim1Cfwk21qJ/Vu3BrLboR9S7cRYv6Xo1wLy26BzXCXbWob+ol3FuLbqD+ixVPiX6Z+FxbZtF+6SleUDFgLnQ38zS+wgf0in3sUWPo/QPvnMktwd/OggAAAABJRU5ErkJggg=="}]);